var PIXI=function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=r(function(e,r){!function(e){var t=e.Promise,i=t&&"resolve"in t&&"reject"in t&&"all"in t&&"race"in t&&function(){var e;return new t(function(t){e=t}),"function"==typeof e}();r?(r.Promise=i?t:S,r.Polyfill=S):i||(e.Promise=S);var n="pending",o="sealed",s="fulfilled",a="rejected",u=function(){};function l(e){return"[object Array]"===Object.prototype.toString.call(e)}var c,h="undefined"!=typeof setImmediate?setImmediate:setTimeout,f=[];function d(){for(var e=0;e<f.length;e++)f[e][0](f[e][1]);f=[],c=!1}function p(e,t){f.push([e,t]),c||(c=!0,h(d,0))}function _(e){var t=e.owner,r=t.state_,i=t.data_,n=e[r],o=e.then;if("function"==typeof n){r=s;try{i=n(i)}catch(e){y(o,e)}}m(o,i)||(r===s&&b(o,i),r===a&&y(o,i))}function m(e,t){var r;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var i=t.then;if("function"==typeof i)return i.call(t,function(i){r||(r=!0,t!==i?b(e,i):g(e,i))},function(t){r||(r=!0,y(e,t))}),!0}}catch(t){return r||y(e,t),!0}return!1}function b(e,t){e!==t&&m(e,t)||g(e,t)}function g(e,t){e.state_===n&&(e.state_=o,e.data_=t,p(x,e))}function y(e,t){e.state_===n&&(e.state_=o,e.data_=t,p(w,e))}function v(e){var t=e.then_;e.then_=void 0;for(var r=0;r<t.length;r++)_(t[r])}function x(e){e.state_=s,v(e)}function w(e){e.state_=a,v(e)}function S(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof S==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function r(e){y(t,e)}try{e(function(e){b(t,e)},r)}catch(e){r(e)}}(e,this)}S.prototype={constructor:S,state_:n,then_:null,data_:void 0,then:function(e,t){var r={owner:this,then:new this.constructor(u),fulfilled:e,rejected:t};return this.state_===s||this.state_===a?p(_,r):this.then_.push(r),r.then},catch:function(e){return this.then(null,e)}},S.all=function(e){if(!l(e))throw new TypeError("You must pass an array to Promise.all().");return new this(function(t,r){var i=[],n=0;function o(e){return n++,function(r){i[e]=r,--n||t(i)}}for(var s,a=0;a<e.length;a++)(s=e[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||t(i)})},S.race=function(e){if(!l(e))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,r){for(var i,n=0;n<e.length;n++)(i=e[n])&&"function"==typeof i.then?i.then(t,r):t(i)})},S.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},S.reject=function(e){return new this(function(t,r){r(e)})}}("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:t)}),n=(i.Promise,i.Polyfill),o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;var u=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,i,n=arguments,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in r=Object(n[l]))s.call(r,c)&&(u[c]=r[c]);if(o){i=o(r);for(var h=0;h<i.length;h++)a.call(r,i[h])&&(u[i[h]]=r[i[h]])}}return u};window.Promise||(window.Promise=n),Object.assign||(Object.assign=u);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var l=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-l}}for(var c=Date.now(),h=["ms","moz","webkit","o"],f=0;f<h.length&&!window.requestAnimationFrame;++f){var d=h[f];window.requestAnimationFrame=window[d+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d+"CancelAnimationFrame"]||window[d+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=16+c-t;return r<0&&(r=0),c=t,window.setTimeout(function(){c=Date.now(),e(performance.now())},r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var p=/iPhone/i,_=/iPod/i,m=/iPad/i,b=/\biOS-universal(?:.+)Mac\b/i,g=/\bAndroid(?:.+)Mobile\b/i,y=/Android/i,v=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,x=/Silk/i,w=/Windows Phone/i,S=/\bWindows(?:.+)ARM\b/i,E=/BlackBerry/i,A=/BB10/i,T=/Opera Mini/i,P=/\b(CriOS|Chrome)(?:.+)Mobile/i,C=/Mobile(?:.+)Firefox\b/i,M=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};var F=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=function(e){return function(t){return t.test(e)}}(r),o={apple:{phone:n(p)&&!n(w),ipod:n(_),tablet:!n(p)&&(n(m)||M(t))&&!n(w),universal:n(b),device:(n(p)||n(_)||n(m)||n(b)||M(t))&&!n(w)},amazon:{phone:n(v),tablet:!n(v)&&n(x),device:n(v)||n(x)},android:{phone:!n(w)&&n(v)||!n(w)&&n(g),tablet:!n(w)&&!n(v)&&!n(g)&&(n(x)||n(y)),device:!n(w)&&(n(v)||n(x)||n(g)||n(y))||n(/\bokhttp\b/i)},windows:{phone:n(w),tablet:n(S),device:n(w)||n(S)},other:{blackberry:n(E),blackberry10:n(A),opera:n(T),firefox:n(C),chrome:n(P),device:n(E)||n(A)||n(T)||n(C)||n(P)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var I={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(F.tablet||F.phone){var r;F.apple.device&&(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(r[1],10)<11&&(t=!1),F.android.device&&(r=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(r[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:F.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!F.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},O=r(function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,i,n,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new function(e,t,r){this.fn=e,this.context=t,this.once=r||!1}(i,n||e,o),a=r?r+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},s.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,n,o,s){var a=arguments,u=r?r+e:e;if(!this._events[u])return!1;var l,c,h=this._events[u],f=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,i),!0;case 4:return h.fn.call(h.context,t,i,n),!0;case 5:return h.fn.call(h.context,t,i,n,o),!0;case 6:return h.fn.call(h.context,t,i,n,o,s),!0}for(c=1,l=new Array(f-1);c<f;c++)l[c-1]=a[c];h.fn.apply(h.context,l)}else{var d,p=h.length;for(c=0;c<p;c++)switch(h[c].once&&this.removeListener(e,h[c].fn,void 0,!0),f){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,t);break;case 3:h[c].fn.call(h[c].context,t,i);break;case 4:h[c].fn.call(h[c].context,t,i,n);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=a[d];h[c].fn.apply(h[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==t||n&&!a[u].once||i&&a[u].context!==i)&&l.push(a[u]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}),D=R,k=R;function R(e,t,r){r=r||2;var i,n,o,s,a,u,l,c=t&&t.length,h=c?t[0]*r:e.length,f=B(e,0,h,r,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(e,t,r,i){var n,o,s,a,u,l=[];for(n=0,o=t.length;n<o;n++)s=t[n]*i,a=n<o-1?t[n+1]*i:e.length,(u=B(e,s,a,i,!1))===u.next&&(u.steiner=!0),l.push(V(u));for(l.sort(J),n=0;n<l.length;n++)X(l[n],r),r=N(r,r.next);return r}(e,t,f,r)),e.length>80*r){i=o=e[0],n=s=e[1];for(var p=r;p<h;p+=r)a=e[p],u=e[p+1],a<i&&(i=a),u<n&&(n=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-i,s-n))?1/l:0}return L(f,d,r,i,n,l),d}function B(e,t,r,i,n){var o,s;if(n===se(e,t,r,i)>0)for(o=t;o<r;o+=i)s=ie(o,e[o],e[o+1],s);else for(o=r-i;o>=t;o-=i)s=ie(o,e[o],e[o+1],s);return s&&Z(s,s.next)&&(ne(s),s=s.next),s}function N(e,t){if(!e)return e;t||(t=e);var r,i=e;do{if(r=!1,i.steiner||!Z(i,i.next)&&0!==K(i.prev,i,i.next))i=i.next;else{if(ne(i),(i=t=i.prev)===i.next)break;r=!0}}while(r||i!==t);return t}function L(e,t,r,i,n,o,s){if(e){!s&&o&&function(e,t,r,i){var n=e;do{null===n.z&&(n.z=W(n.x,n.y,t,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,r,i,n,o,s,a,u,l=1;do{for(r=e,e=null,o=null,s=0;r;){for(s++,i=r,a=0,t=0;t<l&&(a++,i=i.nextZ);t++);for(u=l;a>0||u>0&&i;)0!==a&&(0===u||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,u--),o?o.nextZ=n:e=n,n.prevZ=o,o=n;r=i}o.nextZ=null,l*=2}while(s>1)}(n)}(e,i,n,o);for(var a,u,l=e;e.prev!==e.next;)if(a=e.prev,u=e.next,o?U(e,i,n,o):G(e))t.push(a.i/r),t.push(e.i/r),t.push(u.i/r),ne(e),e=u.next,l=u.next;else if((e=u)===l){s?1===s?L(e=z(N(e),t,r),t,r,i,n,o,2):2===s&&j(e,t,r,i,n,o):L(N(e),t,r,i,n,o,1);break}}}function G(e){var t=e.prev,r=e,i=e.next;if(K(t,r,i)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(Y(t.x,t.y,r.x,r.y,i.x,i.y,n.x,n.y)&&K(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function U(e,t,r,i){var n=e.prev,o=e,s=e.next;if(K(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,u=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,l=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,c=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,h=W(a,u,t,r,i),f=W(l,c,t,r,i),d=e.prevZ,p=e.nextZ;d&&d.z>=h&&p&&p.z<=f;){if(d!==e.prev&&d!==e.next&&Y(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&K(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Y(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&K(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&Y(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&K(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&Y(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&K(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function z(e,t,r){var i=e;do{var n=i.prev,o=i.next.next;!Z(n,o)&&Q(n,i,i.next,o)&&te(n,o)&&te(o,n)&&(t.push(n.i/r),t.push(i.i/r),t.push(o.i/r),ne(i),ne(i.next),i=e=o),i=i.next}while(i!==e);return N(i)}function j(e,t,r,i,n,o){var s=e;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&q(s,a)){var u=re(s,a);return s=N(s,s.next),u=N(u,u.next),L(s,t,r,i,n,o),void L(u,t,r,i,n,o)}a=a.next}s=s.next}while(s!==e)}function J(e,t){return e.x-t.x}function X(e,t){if(t=function(e,t){var r,i=t,n=e.x,o=e.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!r)return null;if(n===s)return r;var u,l=r,c=r.x,h=r.y,f=1/0;i=r;do{n>=i.x&&i.x>=c&&n!==i.x&&Y(o<h?n:s,o,c,h,o<h?s:n,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(n-i.x),te(i,e)&&(u<f||u===f&&(i.x>r.x||i.x===r.x&&H(r,i)))&&(r=i,f=u)),i=i.next}while(i!==l);return r}(e,t)){var r=re(t,e);N(t,t.next),N(r,r.next)}}function H(e,t){return K(e.prev,e,t.prev)<0&&K(t.next,e,e.next)<0}function W(e,t,r,i,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function V(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function Y(e,t,r,i,n,o,s,a){return(n-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(i-a)-(r-s)*(t-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function q(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Q(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(te(e,t)&&te(t,e)&&function(e,t){var r=e,i=!1,n=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==e);return i}(e,t)&&(K(e.prev,e,t.prev)||K(e,t.prev,t))||Z(e,t)&&K(e.prev,e,e.next)>0&&K(t.prev,t,t.next)>0)}function K(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Z(e,t){return e.x===t.x&&e.y===t.y}function Q(e,t,r,i){var n=ee(K(e,t,r)),o=ee(K(e,t,i)),s=ee(K(r,i,e)),a=ee(K(r,i,t));return n!==o&&s!==a||(!(0!==n||!$(e,r,t))||(!(0!==o||!$(e,i,t))||(!(0!==s||!$(r,e,i))||!(0!==a||!$(r,t,i)))))}function $(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function ee(e){return e>0?1:e<0?-1:0}function te(e,t){return K(e.prev,e,e.next)<0?K(e,t,e.next)>=0&&K(e,e.prev,t)>=0:K(e,t,e.prev)<0||K(e,e.next,t)<0}function re(e,t){var r=new oe(e.i,e.x,e.y),i=new oe(t.i,t.x,t.y),n=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function ie(e,t,r,i){var n=new oe(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function ne(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function oe(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function se(e,t,r,i){for(var n=0,o=t,s=r-i;o<r;o+=i)n+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return n}R.deviation=function(e,t,r,i){var n=t&&t.length,o=n?t[0]*r:e.length,s=Math.abs(se(e,0,o,r));if(n)for(var a=0,u=t.length;a<u;a++){var l=t[a]*r,c=a<u-1?t[a+1]*r:e.length;s-=Math.abs(se(e,l,c,r))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*r,d=i[a+1]*r,p=i[a+2]*r;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},R.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},i=0,n=0;n<e.length;n++){for(var o=0;o<e[n].length;o++)for(var s=0;s<t;s++)r.vertices.push(e[n][o][s]);n>0&&(i+=e[n-1].length,r.holes.push(i))}return r},D.default=k;var ae=r(function(e,r){!function(i){var n=r&&!r.nodeType&&r,o=e&&!e.nodeType&&e,s="object"==typeof t&&t;s.global!==s&&s.window!==s&&s.self!==s||(i=s);var a,u,l=2147483647,c=36,h=1,f=26,d=38,p=700,_=72,m=128,b="-",g=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-h,S=Math.floor,E=String.fromCharCode;function A(e){throw RangeError(x[e])}function T(e,t){for(var r=e.length,i=[];r--;)i[r]=t(e[r]);return i}function P(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+T((e=e.replace(v,".")).split("."),t).join(".")}function C(e){for(var t,r,i=[],n=0,o=e.length;n<o;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o?56320==(64512&(r=e.charCodeAt(n++)))?i.push(((1023&t)<<10)+(1023&r)+65536):(i.push(t),n--):i.push(t);return i}function M(e){return T(e,function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join("")}function F(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,r){var i=0;for(e=r?S(e/p):e>>1,e+=S(e/t);e>w*f>>1;i+=c)e=S(e/w);return S(i+(w+1)*e/(e+d))}function O(e){var t,r,i,n,o,s,a,u,d,p,g,y=[],v=e.length,x=0,w=m,E=_;for((r=e.lastIndexOf(b))<0&&(r=0),i=0;i<r;++i)e.charCodeAt(i)>=128&&A("not-basic"),y.push(e.charCodeAt(i));for(n=r>0?r+1:0;n<v;){for(o=x,s=1,a=c;n>=v&&A("invalid-input"),((u=(g=e.charCodeAt(n++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:c)>=c||u>S((l-x)/s))&&A("overflow"),x+=u*s,!(u<(d=a<=E?h:a>=E+f?f:a-E));a+=c)s>S(l/(p=c-d))&&A("overflow"),s*=p;E=I(x-o,t=y.length+1,0==o),S(x/t)>l-w&&A("overflow"),w+=S(x/t),x%=t,y.splice(x++,0,w)}return M(y)}function D(e){var t,r,i,n,o,s,a,u,d,p,g,y,v,x,w,T=[];for(y=(e=C(e)).length,t=m,r=0,o=_,s=0;s<y;++s)(g=e[s])<128&&T.push(E(g));for(i=n=T.length,n&&T.push(b);i<y;){for(a=l,s=0;s<y;++s)(g=e[s])>=t&&g<a&&(a=g);for(a-t>S((l-r)/(v=i+1))&&A("overflow"),r+=(a-t)*v,t=a,s=0;s<y;++s)if((g=e[s])<t&&++r>l&&A("overflow"),g==t){for(u=r,d=c;!(u<(p=d<=o?h:d>=o+f?f:d-o));d+=c)w=u-p,x=c-p,T.push(E(F(p+w%x,0))),u=S(w/x);T.push(E(F(u,0))),o=I(r,v,i==n),r=0,++i}++r,++t}return T.join("")}if(a={version:"1.3.2",ucs2:{decode:C,encode:M},decode:O,encode:D,toASCII:function(e){return P(e,function(e){return y.test(e)?"xn--"+D(e):e})},toUnicode:function(e){return P(e,function(e){return g.test(e)?O(e.slice(4).toLowerCase()):e})}},n&&o)if(e.exports==n)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(n[u]=a[u]);else i.punycode=a}(t)}),ue={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}};ue.isString,ue.isObject,ue.isNull,ue.isNullOrUndefined;function le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ce=function(e,t,r,i){t=t||"&",r=r||"=";var n={};if("string"!=typeof e||0===e.length)return n;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var l,c,h,f,d=e[u].replace(o,"%20"),p=d.indexOf(r);p>=0?(l=d.substr(0,p),c=d.substr(p+1)):(l=d,c=""),h=decodeURIComponent(l),f=decodeURIComponent(c),le(n,h)?Array.isArray(n[h])?n[h].push(f):n[h]=[n[h],f]:n[h]=f}return n},he=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},fe=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var n=encodeURIComponent(he(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return n+encodeURIComponent(he(e))}).join(t):n+encodeURIComponent(he(e[i]))}).join(t):i?encodeURIComponent(he(i))+r+encodeURIComponent(he(e)):""},de=r(function(e,t){t.decode=t.parse=ce,t.encode=t.stringify=fe}),pe=(de.decode,de.parse,de.encode,de.stringify,Oe),_e=function(e,t){return Oe(e,!1,!0).resolve(t)},me=function(e,t){if(!e)return t;return Oe(e,!1,!0).resolveObject(t)},be=function(e){ue.isString(e)&&(e=Oe(e));if(!(e instanceof ye))return ye.prototype.format.call(e);return e.format()},ge=ye;function ye(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ve=/^([a-z0-9.+-]+:)/i,xe=/:[0-9]*$/,we=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Se=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Ee=["'"].concat(Se),Ae=["%","/","?",";","#"].concat(Ee),Te=["/","?","#"],Pe=/^[+a-z0-9A-Z_-]{0,63}$/,Ce=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Me={javascript:!0,"javascript:":!0},Fe={javascript:!0,"javascript:":!0},Ie={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Oe(e,t,r){if(e&&ue.isObject(e)&&e instanceof ye)return e;var i=new ye;return i.parse(e,t,r),i}ye.prototype.parse=function(e,t,r){if(!ue.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),n=-1!==i&&i<e.indexOf("#")?"?":"#",o=e.split(n);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(n);if(s=s.trim(),!r&&1===e.split("#").length){var a=we.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?de.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=ve.exec(s);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||u&&Fe[u]||(s=s.substr(2),this.slashes=!0)}if(!Fe[u]&&(c||u&&!Ie[u])){for(var h,f,d=-1,p=0;p<Te.length;p++){-1!==(_=s.indexOf(Te[p]))&&(-1===d||_<d)&&(d=_)}-1!==(f=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(h=s.slice(0,f),s=s.slice(f+1),this.auth=decodeURIComponent(h)),d=-1;for(p=0;p<Ae.length;p++){var _;-1!==(_=s.indexOf(Ae[p]))&&(-1===d||_<d)&&(d=_)}-1===d&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var b=this.hostname.split(/\./),g=(p=0,b.length);p<g;p++){var y=b[p];if(y&&!y.match(Pe)){for(var v="",x=0,w=y.length;x<w;x++)y.charCodeAt(x)>127?v+="x":v+=y[x];if(!v.match(Pe)){var S=b.slice(0,p),E=b.slice(p+1),A=y.match(Ce);A&&(S.push(A[1]),E.unshift(A[2])),E.length&&(s="/"+E.join(".")+s),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=ae.toASCII(this.hostname));var T=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+T,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!Me[l])for(p=0,g=Ee.length;p<g;p++){var C=Ee[p];if(-1!==s.indexOf(C)){var M=encodeURIComponent(C);M===C&&(M=escape(C)),s=s.split(C).join(M)}}var F=s.indexOf("#");-1!==F&&(this.hash=s.substr(F),s=s.slice(0,F));var I=s.indexOf("?");if(-1!==I?(this.search=s.substr(I),this.query=s.substr(I+1),t&&(this.query=de.parse(this.query)),s=s.slice(0,I)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Ie[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){T=this.pathname||"";var O=this.search||"";this.path=T+O}return this.href=this.format(),this},ye.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&ue.isObject(this.query)&&Object.keys(this.query).length&&(o=de.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Ie[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+n+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},ye.prototype.resolve=function(e){return this.resolveObject(Oe(e,!1,!0)).format()},ye.prototype.resolveObject=function(e){if(ue.isString(e)){var t=new ye;t.parse(e,!1,!0),e=t}for(var r=new ye,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(r[u]=e[u])}return Ie[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Ie[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Fe[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=m||_||r.host&&e.pathname,g=b,y=r.pathname&&r.pathname.split("/")||[],v=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Ie[r.protocol]);if(v&&(r.hostname="",r.port=null,r.host&&(""===y[0]?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===y[0])),m)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=f;else if(f.length)y||(y=[]),y.pop(),y=y.concat(f),r.search=e.search,r.query=e.query;else if(!ue.isNullOrUndefined(e.search)){if(v)r.hostname=r.host=y.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift());return r.search=e.search,r.query=e.query,ue.isNull(r.pathname)&&ue.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var x=y.slice(-1)[0],w=(r.host||e.host||y.length>1)&&("."===x||".."===x)||""===x,S=0,E=y.length;E>=0;E--)"."===(x=y[E])?y.splice(E,1):".."===x?(y.splice(E,1),S++):S&&(y.splice(E,1),S--);if(!b&&!g)for(;S--;S)y.unshift("..");!b||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),w&&"/"!==y.join("/").substr(-1)&&y.push("");var A,T=""===y[0]||y[0]&&"/"===y[0].charAt(0);v&&(r.hostname=r.host=T?"":y.length?y.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift()));return(b=b||r.host&&y.length)&&!T&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),ue.isNull(r.pathname)&&ue.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},ye.prototype.parseHost=function(){var e=this.host,t=xe.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var De={parse:pe,resolve:_e,resolveObject:me,format:be,Url:ge};!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(e.ENV||(e.ENV={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(e.RENDERER_TYPE||(e.RENDERER_TYPE={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(e.BUFFER_BITS||(e.BUFFER_BITS={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(e.BLEND_MODES||(e.BLEND_MODES={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(e.DRAW_MODES||(e.DRAW_MODES={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(e.FORMATS||(e.FORMATS={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(e.TARGETS||(e.TARGETS={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(e.TYPES||(e.TYPES={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(e.SCALE_MODES||(e.SCALE_MODES={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(e.WRAP_MODES||(e.WRAP_MODES={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(e.MIPMAP_MODES||(e.MIPMAP_MODES={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(e.ALPHA_MODES||(e.ALPHA_MODES={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(e.CLEAR_MODES||(e.CLEAR_MODES={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(e.GC_MODES||(e.GC_MODES={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(e.PRECISION||(e.PRECISION={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(e.MASK_TYPES||(e.MASK_TYPES={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(e.MSAA_QUALITY||(e.MSAA_QUALITY={})),I.RETINA_PREFIX=/@([0-9\.]+)x/,I.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var ke,Re=!1,Be="5.3.10";function Ne(e){var t;if(!Re){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+Be+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,r)}else window.console&&window.console.log("PixiJS "+Be+" - "+e+" - http://www.pixijs.com/");Re=!0}}function Le(){return void 0===ke&&(ke=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:I.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(e){return!1}}()),ke}function Ge(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function Ue(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function ze(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}var je=function(){for(var t=[],r=[],i=0;i<32;i++)t[i]=i,r[i]=i;t[e.BLEND_MODES.NORMAL_NPM]=e.BLEND_MODES.NORMAL,t[e.BLEND_MODES.ADD_NPM]=e.BLEND_MODES.ADD,t[e.BLEND_MODES.SCREEN_NPM]=e.BLEND_MODES.SCREEN,r[e.BLEND_MODES.NORMAL]=e.BLEND_MODES.NORMAL_NPM,r[e.BLEND_MODES.ADD]=e.BLEND_MODES.ADD_NPM,r[e.BLEND_MODES.SCREEN]=e.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}();function Je(e,t){return je[t?1:0][e]}function Xe(e,t,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function He(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,i=e>>8&255,n=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(n=n*t+.5|0)}function We(e,t,r,i){return(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(i||void 0===i)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function Ve(e,t){void 0===t&&(t=null);var r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)t[i+0]=n+0,t[i+1]=n+1,t[i+2]=n+2,t[i+3]=n+0,t[i+4]=n+2,t[i+5]=n+3;return t}function Ye(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var qe={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Ke(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function Ze(e){return!(e&e-1||!e)}function Qe(e){var t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,t|=r=((e>>>=r)>15?1:0)<<2,(t|=r=((e>>>=r)>3?1:0)<<1)|(e>>>=r)>>1}function $e(e,t,r){var i,n=e.length;if(!(t>=n||0===r)){var o=n-(r=t+r>n?n-t:r);for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function et(e){return 0===e?0:e<0?-1:1}var tt=0;function rt(){return++tt}var it={};function nt(e,t,r){if(void 0===r&&(r=3),!it[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(i))),it[t]=!0}}var ot={},st=Object.create(null),at=Object.create(null);var ut=function(){function e(e,t,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||I.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),e}();function lt(e){var t,r,i,n=e.width,o=e.height,s=e.getContext("2d"),a=s.getImageData(0,0,n,o).data,u=a.length,l={top:null,left:null,right:null,bottom:null},c=null;for(t=0;t<u;t+=4)0!==a[t+3]&&(r=t/4%n,i=~~(t/4/n),null===l.top&&(l.top=i),null===l.left?l.left=r:r<l.left&&(l.left=r),null===l.right?l.right=r+1:l.right<r&&(l.right=r+1),null===l.bottom?l.bottom=i:l.bottom<i&&(l.bottom=i));return null!==l.top&&(n=l.right-l.left,o=l.bottom-l.top+1,c=s.getImageData(l.left,l.top,n,o)),{height:o,width:n,data:c}}var ct,ht=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ft(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,ct||(ct=document.createElement("a")),ct.href=e;var r=pe(ct.href),i=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&i&&r.protocol===t.protocol?"":"anonymous"}function dt(e,t){var r=I.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):void 0!==t?t:1}var pt,_t={BaseTextureCache:at,CanvasRenderTarget:ut,DATA_URI:ht,ProgramCache:ot,TextureCache:st,clearTextureCache:function(){var e;for(e in st)delete st[e];for(e in at)delete at[e]},correctBlendMode:Je,createIndicesForQuads:Ve,decomposeDataUri:function(e){var t=ht.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},deprecation:nt,destroyTextureCache:function(){var e;for(e in st)st[e].destroy();for(e in at)at[e].destroy()},determineCrossOrigin:ft,getBufferType:Ye,getResolutionOfUrl:dt,hex2rgb:Ge,hex2string:Ue,interleaveTypedArrays:function(e,t){for(var r=0,i=0,n={},o=0;o<e.length;o++)i+=t[o],r+=e[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<e.length;o++){var l=t[o],c=e[o],h=Ye(c);n[h]||(n[h]=new qe[h](s)),a=n[h];for(var f=0;f<c.length;f++)a[(f/l|0)*i+u+f%l]=c[f];u+=l}return new Float32Array(s)},isPow2:Ze,isWebGLSupported:Le,log2:Qe,nextPow2:Ke,premultiplyBlendMode:je,premultiplyRgba:Xe,premultiplyTint:He,premultiplyTintToRgba:We,removeItems:$e,rgb2hex:function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},sayHello:Ne,sign:et,skipHello:function(){Re=!0},string2hex:ze,trimCanvas:lt,uid:rt,isMobile:F,EventEmitter:O,earcut:D,url:De},mt=2*Math.PI,bt=180/Math.PI,gt=Math.PI/180;(pt=e.SHAPES||(e.SHAPES={}))[pt.POLY=0]="POLY",pt[pt.RECT=1]="RECT",pt[pt.CIRC=2]="CIRC",pt[pt.ELIP=3]="ELIP",pt[pt.RREC=4]="RREC";var yt=function(){function t(t,r,i,n){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=e.SHAPES.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},t.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},t.prototype.fit=function(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(n-i,0),this},t.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=n-i,this},t}(),vt=function(){function t(t,r,i){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=r,this.radius=i,this.type=e.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-e,n=this.y-t;return(i*=i)+(n*=n)<=r},t.prototype.getBounds=function(){return new yt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),xt=function(){function t(t,r,i,n){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=r,this.width=i,this.height=n,this.type=e.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,i=(t-this.y)/this.height;return(r*=r)+(i*=i)<=1},t.prototype.getBounds=function(){return new yt(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),wt=function(){function t(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];var n=Array.isArray(r[0])?r[0]:r;if("number"!=typeof n[0]){for(var o=[],s=0,a=n.length;s<a;s++)o.push(n[s].x,n[s].y);n=o}this.points=n,this.type=e.SHAPES.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(e,t){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],u=this.points[2*o],l=this.points[2*o+1];a>t!=l>t&&e<(t-a)/(l-a)*(u-s)+s&&(r=!r)}return r},t}(),St=function(){function t(t,r,i,n,o){void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=t,this.y=r,this.width=i,this.height=n,this.radius=o,this.type=e.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),i=t-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=e-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=t-(this.y+this.height-this.radius))*i<=n)return!0;if((r=e-(this.x+this.radius))*r+i*i<=n)return!0}return!1},t}(),Et=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),At=function(){function e(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=e,this.scope=t}return e.prototype.clone=function(t,r){return void 0===t&&(t=this.cb),void 0===r&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Tt=function(){function e(e,t,r,i,n,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,i,n,o){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new Et;var r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Et;var r=1/(this.a*this.d+this.c*-this.b),i=e.x,n=e.y;return t.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),i=this.a,n=this.c,o=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,i=this.c,n=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,r,i,n,o,s,a,u){return this.a=Math.cos(s+u)*n,this.b=Math.sin(s+u)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,t),a=Math.abs(o+s);return a<1e-5||Math.abs(mt-a)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=s),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+n*n),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,i=this.d,n=this.tx,o=e*i-t*r;return this.a=i/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(e*this.ty-t*n)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Pt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ct=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Mt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ft=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],It=[],Ot=[],Dt=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];It.push(t);for(var r=0;r<16;r++)for(var i=Dt(Pt[e]*Pt[r]+Mt[e]*Ct[r]),n=Dt(Ct[e]*Pt[r]+Ft[e]*Ct[r]),o=Dt(Pt[e]*Mt[r]+Mt[e]*Ft[r]),s=Dt(Ct[e]*Mt[r]+Ft[e]*Ft[r]),a=0;a<16;a++)if(Pt[a]===i&&Ct[a]===n&&Mt[a]===o&&Ft[a]===s){t.push(a);break}}for(e=0;e<16;e++){var u=new Tt;u.set(Pt[e],Ct[e],Mt[e],Ft[e],0,0),Ot.push(u)}}();var kt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Pt[e]},uY:function(e){return Ct[e]},vX:function(e){return Mt[e]},vY:function(e){return Ft[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return It[e][t]},sub:function(e,t){return It[e][kt.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?kt.S:kt.N:2*Math.abs(t)<=Math.abs(e)?e>0?kt.E:kt.W:t>0?e>0?kt.SE:kt.SW:e>0?kt.NE:kt.NW},matrixAppendRotationInv:function(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=Ot[kt.inv(t)];n.tx=r,n.ty=i,e.append(n)}},Rt=function(){function e(){this.worldTransform=new Tt,this.localTransform=new Tt,this.position=new At(this.onChange,this,0,0),this.scale=new At(this.onChange,this,1,1),this.pivot=new At(this.onChange,this,0,0),this.skew=new At(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,i=this.worldTransform;i.a=t.a*r.a+t.b*r.c,i.b=t.a*r.b+t.b*r.d,i.c=t.c*r.a+t.d*r.c,i.d=t.c*r.b+t.d*r.d,i.tx=t.tx*r.a+t.ty*r.c+r.tx,i.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();I.SORTABLE_CHILDREN=!1;var Bt=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?yt.EMPTY:((e=e||new yt(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=e[0],s=e[1];t=o<t?o:t,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,o=e[2],s=e[3],t=o<t?o:t,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,o=e[4],s=e[5],t=o<t?o:t,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,o=e[6],s=e[7],t=o<t?o:t,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=t,this.minY=r,this.maxX=i,this.maxY=n},e.prototype.addFrame=function(e,t,r,i,n){this.addFrameMatrix(e.worldTransform,t,r,i,n)},e.prototype.addFrameMatrix=function(e,t,r,i,n){var o=e.a,s=e.b,a=e.c,u=e.d,l=e.tx,c=e.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,_=o*t+a*r+l,m=s*t+u*r+c;h=_<h?_:h,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p,m=s*i+u*r+c,h=(_=o*i+a*r+l)<h?_:h,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p,m=s*t+u*n+c,h=(_=o*t+a*n+l)<h?_:h,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p,m=s*i+u*n+c,h=(_=o*i+a*n+l)<h?_:h,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p,this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},e.prototype.addVertexData=function(e,t,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=t;a<r;a+=2){var u=e[a],l=e[a+1];i=u<i?u:i,n=l<n?l:n,o=u>o?u:o,s=l>s?l:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},e.prototype.addVertices=function(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)},e.prototype.addVerticesMatrix=function(e,t,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=e.a,a=e.b,u=e.c,l=e.d,c=e.tx,h=e.ty,f=this.minX,d=this.minY,p=this.maxX,_=this.maxY,m=r;m<i;m+=2){var b=t[m],g=t[m+1],y=s*b+u*g+c,v=l*g+a*b+h;f=Math.min(f,y-n),p=Math.max(p,y+n),d=Math.min(d,v-o),_=Math.max(_,v+o)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=_},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>l?o:l}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,u=this.maxX,l=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>u?n:u,this.maxY=o>l?o:l}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,r,i,n,o){e-=n,t-=o,r+=n,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i},e}(),Nt=function(e,t){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Lt(e,t){function r(){this.constructor=e}Nt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Gt=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Rt,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Bt,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return Lt(t,e),t.mixin=function(e){for(var r=Object.keys(e),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e,n))}},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new yt),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new yt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bt);var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},t.prototype.toGlobal=function(e,t,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,r,i,n,o,s,a,u){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ut),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*bt},set:function(e){this.transform.rotation=e*gt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask&&((t=this._mask.maskObject||this._mask).renderable=!0,t.isMask=!1);(this._mask=e,this._mask)&&((t=this._mask.maskObject||this._mask).renderable=!1,t.isMask=!0)},enumerable:!1,configurable:!0}),t}(O),Ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return Lt(t,e),t}(Gt);function zt(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}Gt.prototype.displayObjectUpdateTransform=Gt.prototype.updateTransform;var jt=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=I.SORTABLE_CHILDREN,t.sortDirty=!1,t}return Lt(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var i=0;i<t.length;i++)this.addChild(t[i]);else{var n=t[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);this.children[r]=t,this.children[i]=e,this.onChildrenChange(r<i?r:i)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);$e(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var i=0;i<t.length;i++)this.removeChild(t[i]);else{var n=t[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,$e(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,$e(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r,i=e,n=t-i;if(n>0&&n<=t){r=this.children.splice(i,n);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,r=this.children.length;t<r;++t){var i=this.children[t];i._lastSortedIndex=t,e||0===i.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(zt),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var r=t._mask.maskObject||t._mask;r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,r){void 0===r&&(r=!1);var i=e.prototype.getLocalBounds.call(this,t);if(!r)for(var n=0,o=this.children.length;n<o;++n){var s=this.children[n];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<t.length;i++)t[i].enabled&&this._enabledFilters.push(t[i]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}r&&e.mask.push(this,this._mask),this._render(e);i=0;for(var n=this.children.length;i<n;i++)this.children[i].render(e);e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(Gt);jt.prototype.containerUpdateTransform=jt.prototype.updateTransform;var Jt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Gt.mixin(Jt);var Xt,Ht=100,Wt=0,Vt=0,Yt=2,qt=function(){function e(e){this._hookDiv=null,(F.tablet||F.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Ht+"px",t.style.height=Ht+"px",t.style.position="absolute",t.style.top=Wt+"px",t.style.left=Vt+"px",t.style.zIndex=Yt.toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){var e=performance.now();if(!(F.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=t.width/this.renderer.width*r,n=t.height/this.renderer.height*r,o=this.div;o.style.left=t.left+"px",o.style.top=t.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a=this.children[s];if(a.renderId!==this.renderId)a._accessibleActive=!1,$e(this.children,s,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,s--;else{o=a._accessibleDiv;var u=a.hitArea,l=a.worldTransform;a.hitArea?(o.style.left=(l.tx+u.x*l.a)*i+"px",o.style.top=(l.ty+u.y*l.d)*n+"px",o.style.width=u.width*l.a*i+"px",o.style.height=u.height*l.d*n+"px"):(u=a.getBounds(),this.capHitArea(u),o.style.left=u.x*i+"px",o.style.top=u.y*n+"px",o.style.width=u.width*i+"px",o.style.height=u.height*n+"px",o.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(o.title=a.accessibleTitle),o.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&o.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===o.title&&a.tabIndex===o.tabIndex||(o.title=a.accessibleTitle,o.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=Ht+"px",t.style.height=Ht+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Yt.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();I.TARGET_FPMS=.06,(Xt=e.UPDATE_PRIORITY||(e.UPDATE_PRIORITY={}))[Xt.INTERACTION=50]="INTERACTION",Xt[Xt.HIGH=25]="HIGH",Xt[Xt.NORMAL=0]="NORMAL",Xt[Xt.LOW=-25]="LOW",Xt[Xt.UTILITY=-50]="UTILITY";var Kt=function(){function e(e,t,r,i){void 0===t&&(t=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=e,this.context=t,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Zt=function(){function t(){var e=this;this._head=new Kt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/I.TARGET_FPMS,this.elapsedMS=1/I.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,r,i){return void 0===i&&(i=e.UPDATE_PRIORITY.NORMAL),this._addListener(new Kt(t,r,i))},t.prototype.addOnce=function(t,r,i){return void 0===i&&(i=e.UPDATE_PRIORITY.NORMAL),this._addListener(new Kt(t,r,i,!0))},t.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*I.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,I.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Qt=function(){function t(){}return t.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,e.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Zt.shared:new Zt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t}(),$t=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Et,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),er=function(e,t){return(er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var tr=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),rr=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!=(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!=(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!=(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),ir=function(){function e(){this._tempPoint=new Et}return e.prototype.recursiveFindHit=function(e,t,r,i,n){if(!t||!t.visible)return!1;var o=e.data.global,s=!1,a=n=t.interactive||n,u=!0;if(t.hitArea?(i&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,u=!1)),a=!1):t._mask&&i&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(i=!1)),u&&t.interactiveChildren&&t.children)for(var l=t.children,c=l.length-1;c>=0;c--){var h=l[c],f=this.recursiveFindHit(e,h,r,i,a);if(f){if(!h.parent)continue;a=!1,f&&(e.target&&(i=!1),s=!0)}}return n&&(i&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(s=!0),t.interactive&&(s&&!e.target&&(e.target=t),r&&r(e,t,!!s))),s},e.prototype.findHit=function(e,t,r,i){this.recursiveFindHit(e,t,r,i,!1)},e}(),nr={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Gt.mixin(nr);var or=1,sr={target:null,data:{global:null}},ar=function(t){function r(e,r){var i=t.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new $t,i.mouse.identifier=or,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[or]=i.mouse,i.interactionDataPool=[],i.eventData=new tr,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new ir,i._tempDisplayObject=new Ut,i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(e,t){function r(){this.constructor=e}er(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(r,t),Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,t){return sr.target=null,sr.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(sr,t,null,!0),sr.target},r.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Zt.system.add(this.tickerUpdate,this,e.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){this.tickerAdded&&(Zt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},r.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,t,r){r.stopPropagationHint&&e!==r.stopsPropagatingAt||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},r.prototype.delayDispatchEvent=function(e,t,r){this.delayedEvents.push({displayObject:e,eventString:t,eventData:r})},r.prototype.mapPositionToPoint=function(e,t,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;e.x=(t-i.left)*(this.interactionDOMElement.width/i.width)*n,e.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},r.prototype.processInteractive=function(e,t,r,i){var n=this.search.findHit(e,t,r,i),o=this.delayedEvents;if(!o.length)return n;e.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var u=o[a],l=u.displayObject,c=u.eventString,h=u.eventData;h.stopsPropagatingAt===l&&(h.stopPropagationHint=!0),this.dispatchEvent(l,c,h)}return n},r.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var r=t.length,i=0;i<r;i++){var n=t[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=e,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,t,r){var i=e.data,n=e.data.identifier;if(r)if(t.trackedPointers[n]||(t.trackedPointers[n]=new rr(n)),this.dispatchEvent(t,"pointerdown",e),"touch"===i.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?t.trackedPointers[n].rightDown=!0:t.trackedPointers[n].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},r.prototype.onPointerComplete=function(e,t,r){for(var i=this.normalizeToPointerData(e),n=i.length,o=e.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],u=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,r,t||!o),this.emit(t?"pointercancel":"pointerup"+o,l),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,l)}else"touch"===a.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(a.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,t){var r=e.data,i=e.data.identifier;void 0!==t.trackedPointers[i]&&(delete t.trackedPointers[i],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,t,r){var i=e.data,n=e.data.identifier,o=t.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,u=!1;if(a){var l=2===i.button,c=rr.FLAGS,h=l?c.RIGHT_DOWN:c.LEFT_DOWN,f=void 0!==o&&o.flags&h;r?(this.dispatchEvent(t,l?"rightup":"mouseup",e),f&&(this.dispatchEvent(t,l?"rightclick":"click",e),u=!0)):f&&this.dispatchEvent(t,l?"rightupoutside":"mouseupoutside",e),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),s&&this.dispatchEvent(t,"touchend",e),o&&(a&&!u||this.dispatchEvent(t,"pointertap",e),s&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),s&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[n]},r.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=t.length,i=0;i<r;i++){var n=t[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=e,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,t,r){var i=e.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(e,t,r),this.moveWhenInside&&!r||(this.dispatchEvent(t,"pointermove",e),n&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(t),i=this.configureInteractionEventForDOMEvent(this.eventData,t,r);i.data.originalEvent=t,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},r.prototype.processPointerOverOut=function(e,t,r){var i=e.data,n=e.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=t.trackedPointers[n];r&&!s&&(s=t.trackedPointers[n]=new rr(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):s.over&&(s.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),s.none&&delete t.trackedPointers[n]))},r.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],r=this.getInteractionDataForPointerId(t),i=this.configureInteractionEventForDOMEvent(this.eventData,t,r);i.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",i)},r.prototype.getInteractionDataForPointerId=function(e){var t,r=e.pointerId;return r===or||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[r]?t=this.activeInteractionData[r]:((t=this.interactionDataPool.pop()||new $t).identifier=r,this.activeInteractionData[r]=t),t.copyEvent(e),t},r.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},r.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,i=e.changedTouches.length;r<i;r++){var n=e.changedTouches[r];void 0===n.button&&(n.button=e.touches.length?1:0),void 0===n.buttons&&(n.buttons=e.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,t.push(n)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)t.push(e);else{var o=e;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=or),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,t.push(o)}return t},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(O),ur=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var u=this.name,l=this.items;this._aliasCount++;for(var c=0,h=l.length;c<h;c++)l[c][u](e,t,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(ur.prototype,{dispatch:{value:ur.prototype.emit},run:{value:ur.prototype.emit}}),I.PREFER_ENV=F.any?e.ENV.WEBGL:e.ENV.WEBGL2,I.STRICT_TEXTURE_CACHE=!1;var lr=[];function cr(e,t){if(!e)return null;var r="";if("string"==typeof e){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);i&&(r=i[1].toLowerCase())}for(var n=lr.length-1;n>=0;--n){var o=lr[n];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var hr=function(e,t){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function fr(e,t){function r(){this.constructor=e}hr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var dr=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new ur("setRealSize"),this.onUpdate=new ur("update"),this.onError=new ur("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),pr=function(t){function r(e,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=t.call(this,o,s)||this).data=e,i}return fr(r,t),r.prototype.upload=function(t,r,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===e.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,i.internalFormat,r.width,r.height,0,r.format,i.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(dr),_r={scaleMode:e.SCALE_MODES.NEAREST,format:e.FORMATS.RGBA,alphaMode:e.ALPHA_MODES.NPM},mr=function(t){function r(r,i){void 0===r&&(r=null),void 0===i&&(i=null);var n=t.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,u=i.scaleMode,l=i.width,c=i.height,h=i.wrapMode,f=i.format,d=i.type,p=i.target,_=i.resolution,m=i.resourceOptions;return!r||r instanceof dr||((r=cr(r,m)).internal=!0),n.width=l||0,n.height=c||0,n.resolution=_||I.RESOLUTION,n.mipmap=void 0!==s?s:I.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==a?a:I.ANISOTROPIC_LEVEL,n.wrapMode=h||I.WRAP_MODE,n.scaleMode=void 0!==u?u:I.SCALE_MODE,n.format=f||e.FORMATS.RGBA,n.type=d||e.TYPES.UNSIGNED_BYTE,n.target=p||e.TARGETS.TEXTURE_2D,n.alphaMode=void 0!==o?o:e.ALPHA_MODES.UNPACK,void 0!==i.premultiplyAlpha&&(n.premultiplyAlpha=i.premultiplyAlpha),n.uid=rt(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=l>0&&c>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(r),n}return fr(r,t),Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},r.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=Ze(this.realWidth)&&Ze(this.realHeight)},r.prototype.setResolution=function(e){var t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete at[this.cacheId],delete st[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,t,i){void 0===i&&(i=I.STRICT_TEXTURE_CACHE);var n="string"==typeof e,o=null;n?o=e:(e._pixiId||(e._pixiId="pixiid_"+rt()),o=e._pixiId);var s=at[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new r(e,t)).cacheId=o,r.addToCache(s,o)),s},r.fromBuffer=function(t,i,n,o){t=t||new Float32Array(i*n*4);var s=new pr(t,{width:i,height:n}),a=t instanceof Float32Array?e.TYPES.FLOAT:e.TYPES.UNSIGNED_BYTE;return new r(s,Object.assign(_r,o||{width:i,height:n,type:a}))},r.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),at[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),at[t]=e)},r.removeFromCache=function(e){if("string"==typeof e){var t=at[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete at[e],t}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)delete at[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(O),br=function(e){function t(t,r){var i=this,n=r||{},o=n.width,s=n.height;(i=e.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<t;a++){var u=new mr;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}return fr(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof dr?this.addResourceAt(e[r],r):this.addResourceAt(cr(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()});return this._load=Promise.all(t).then(function(){var t=e.items[0],r=t.realWidth,i=t.realHeight;return e.resize(r,i),Promise.resolve(e)}),this._load},t}(dr),gr=function(t){function r(e,r){var i,n,o=this,s=r||{},a=s.width,u=s.height;return Array.isArray(e)?(i=e,n=e.length):n=e,o=t.call(this,n,{width:a,height:u})||this,i&&o.initFromArray(i,r),o}return fr(r,t),r.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},r.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=e.TARGETS.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,t,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=e.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,i,0,t.format,t.type,null);for(var a=0;a<i;a++){var u=o[a];n[a]<u.dirtyId&&(n[a]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,u.resource.width,u.resource.height,1,t.format,t.type,u.resource.source))}return!0},r}(br),yr=function(t){function r(e){var r=this,i=e,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=t.call(this,n,o)||this).source=e,r.noSubImage=!1,r}return fr(r,t),r.crossOrigin=function(e,t,r){void 0===r&&0!==t.indexOf("data:")?e.crossOrigin=ft(t):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},r.prototype.upload=function(t,r,i,n){var o=t.gl,s=r.realWidth,a=r.realHeight;return n=n||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===e.ALPHA_MODES.UNPACK),this.noSubImage||r.target!==o.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,o.texImage2D(r.target,0,r.format,r.format,r.type,n)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,r.type,n),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(dr),vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fr(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(yr),xr=function(t){function r(i,n){var o=this,s=n||{},a=s.width,u=s.height,l=s.autoLoad,c=s.linkBaseTexture;if(i&&i.length!==r.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");o=t.call(this,6,{width:a,height:u})||this;for(var h=0;h<r.SIDES;h++)o.items[h].target=e.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+h;return o.linkBaseTexture=!1!==c,i&&o.initFromArray(i,n),!1!==l&&o.load(),o}return fr(r,t),r.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=e.TARGETS.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(t,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,r)}else t.target=e.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+r,t.parentTextureArray=this.baseTexture,this.items[r]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[r]=t,this},r.prototype.upload=function(e,t,i){for(var n=this.itemDirtyIds,o=0;o<r.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(e,s,i),n[o]=s.dirtyId):n[o]<-1&&(e.gl.texImage2D(s.target,0,i.internalFormat,t.realWidth,t.realHeight,0,t.format,i.type,null),n[o]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(br),wr=function(t){function r(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var n=new Image;yr.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:I.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return fr(r,t),r.prototype.load=function(e){var t=this;return this._load?this._load:(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,r){var i=t.source;t.url=i.src;var n=function(){t.destroyed||(i.onload=null,i.onerror=null,t.resize(i.width,i.height),t._load=null,t.createBitmap?e(t.process()):e(t))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(e){r(e),t.onError.emit(e)})}),this._load)},r.prototype.process=function(){var t=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===e.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},r.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},r}(yr),Sr=function(e){function t(t,r){var i=this;return r=r||{},(i=e.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return fr(t,e),t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,t=new Image;yr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var r=t.width,i=t.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*e.scale,o=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*r,o=e._overrideHeight||e._overrideWidth/r*i),n=Math.round(n),o=Math.round(o);var s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+rt(),s.getContext("2d").drawImage(t,0,0,r,i,0,0,n,o),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(yr),Er=function(e){function t(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];yr.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var u=document.createElement("source"),l=r[a],c=l.src,h=l.mime,f=(c=c||r[a]).split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);h=h||t.MIME_TYPES[d]||"video/"+d,u.src=c,u.type=h,o.appendChild(u)}r=o}return(n=e.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return fr(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var r=Zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,t.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&Zt.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(yr),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fr(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(yr);lr.push(wr,Ar,vr,Er,Sr,pr,xr,gr);var Tr={Resource:dr,BaseImageResource:yr,INSTALLED:lr,autoDetectResource:cr,AbstractMultiResource:br,ArrayResource:gr,BufferResource:pr,CanvasResource:vr,CubeResource:xr,ImageResource:wr,SVGResource:Sr,VideoResource:Er,ImageBitmapResource:Ar},Pr=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),Cr=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return fr(r,t),r.prototype.upload=function(t,r,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===e.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,1===t.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},r}(pr),Mr=function(){function t(t,r){this.width=Math.ceil(t||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ur("disposeFramebuffer"),this.multisample=e.MSAA_QUALITY.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,r){return void 0===t&&(t=0),this.colorTextures[t]=r||new mr(null,{scaleMode:e.SCALE_MODES.NEAREST,resolution:1,mipmap:e.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new mr(new Cr(null,{width:this.width,height:this.height}),{scaleMode:e.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:e.MIPMAP_MODES.OFF,format:e.FORMATS.DEPTH_COMPONENT,type:e.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),Fr=function(e){function t(t){var r=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});r=e.call(this,null,t)||this;var i=t||{},n=i.width,o=i.height;return r.mipmap=0,r.width=Math.ceil(n)||100,r.height=Math.ceil(o)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Mr(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return fr(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(mr),Ir=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var i=t.width,n=t.height;if(r){var o=e.width/2/i,s=e.height/2/n,a=e.x/i+o,u=e.y/n+s;r=kt.add(r,kt.NW),this.x0=a+o*kt.uX(r),this.y0=u+s*kt.uY(r),r=kt.add(r,2),this.x1=a+o*kt.uX(r),this.y1=u+s*kt.uY(r),r=kt.add(r,2),this.x2=a+o*kt.uX(r),this.y2=u+s*kt.uY(r),r=kt.add(r,2),this.x3=a+o*kt.uX(r),this.y3=u+s*kt.uY(r)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}(),Or=new Ir,Dr=function(e){function t(r,i,n,o,s,a){var u=e.call(this)||this;if(u.noFrame=!1,i||(u.noFrame=!0,i=new yt(0,0,1,1)),r instanceof t&&(r=r.baseTexture),u.baseTexture=r,u._frame=i,u.trim=o,u.valid=!1,u._uvs=Or,u.uvMatrix=null,u.orig=n||i,u._rotate=Number(s||0),!0===s)u._rotate=2;else if(u._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=a?new Et(a.x,a.y):new Et(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=i:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return fr(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture;r&&r.url&&st[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===Or&&(this._uvs=new Ir),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,i){void 0===r&&(r={}),void 0===i&&(i=I.STRICT_TEXTURE_CACHE);var n="string"==typeof e,o=null;n?o=e:(e._pixiId||(e._pixiId="pixiid_"+rt()),o=e._pixiId);var s=st[o];if(n&&i&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||(r.resolution||(r.resolution=dt(e)),(s=new t(new mr(e,r))).baseTexture.cacheId=o,mr.addToCache(s.baseTexture,o),t.addToCache(s,o)),s},t.fromURL=function(e,r){var i=Object.assign({autoLoad:!1},null===r||void 0===r?void 0:r.resourceOptions),n=t.from(e,Object.assign({resourceOptions:i},r),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then(function(){return Promise.resolve(n)})},t.fromBuffer=function(e,r,i,n){return new t(mr.fromBuffer(e,r,i,n))},t.fromLoader=function(e,r,i){var n=new wr(e);n.url=r;var o=new t(new mr(n,{scaleMode:I.SCALE_MODE,resolution:dt(r)}));return i||(i=r),mr.addToCache(o.baseTexture,i),t.addToCache(o,i),i!==r&&(mr.addToCache(o.baseTexture,r),t.addToCache(o,r)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),st[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),st[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=st[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete st[e],t}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)st[e.textureCacheIds[i]]===e&&delete st[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,i=e.width,n=e.height,o=t+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+t+" + "+i+" = "+(t+i)+" > "+this.baseTexture.width,l="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+l)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(O);function kr(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Dr.EMPTY=new Dr(new mr),kr(Dr.EMPTY),kr(Dr.EMPTY.baseTexture),Dr.WHITE=function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Dr(new mr(new vr(e)))}(),kr(Dr.WHITE),kr(Dr.WHITE.baseTexture);var Rr=function(e){function t(t,r){var i=this,n=null;if(!(t instanceof Fr)){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,t=new Fr({width:o,height:s,scaleMode:a,resolution:u})}return(i=e.call(this,t,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return fr(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new Fr(e))},t}(Dr),Br=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var r=new Fr(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new Rr(r)},e.prototype.getOptimalTexture=function(t,r,i){void 0===i&&(i=1);var n=e.SCREEN_KEY;t*=i,r*=i,this.enableFullScreen&&t===this._pixelsWidth&&r===this._pixelsHeight||(n=(65535&(t=Ke(t)))<<16|65535&(r=Ke(r))),this.texturePool[n]||(this.texturePool[n]=[]);var o=this.texturePool[n].pop();return o||(o=this.createTexture(t,r)),o.filterPoolKey=n,o.setResolution(i),o},e.prototype.getFilterTexture=function(e,t){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var r=e.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}(),Nr=function(){function e(e,t,r,i,n,o,s){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,i,n,o){return new e(t,r,i,n,o)},e}(),Lr=0,Gr=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Lr++,this.disposeRunner=new ur("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}();function Ur(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var zr={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var jr={5126:4,5123:2,5121:1},Jr=0,Xr={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Hr=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Jr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ur("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Gr||(t instanceof Array&&(t=new Float32Array(t)),t=new Gr(t));var u=e.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],t,r,i,n);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new Nr(c,r,i,n,o,s,a),this.instanced=this.instanced||a,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof Gr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Gr(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],r=[],i=new Gr;for(e in this.attributes){var n=this.attributes[e],o=this.buffers[n.buffer];t.push(o.data),r.push(n.size*jr[n.type]/4),n.buffer=0}for(i.data=function(e,t){for(var r=0,i=0,n={},o=0;o<e.length;o++)i+=t[o],r+=e[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<e.length;o++){var l=t[o],c=e[o],h=Ur(c);n[h]||(n[h]=new zr[h](s)),a=n[h];for(var f=0;f<c.length;f++)a[(f/l|0)*i+u+f%l]=c[f];u+=l}return new Float32Array(s)}(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new Gr(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Nr(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var r,i=new e,n=[],o=[],s=[],a=0;a<t.length;a++){r=t[a];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,s[u]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(Xr[Ur(r.buffers[a].data)])(o[a]),i.buffers[a]=new Gr(n[a]);for(a=0;a<t.length;a++){r=t[a];for(u=0;u<r.buffers.length;u++)n[u].set(r.buffers[u].data,s[u]),s[u]+=r.buffers[u].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var l=0,c=0,h=0,f=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){f=a;break}for(var a in r.attributes){var d=r.attributes[a];(0|d.buffer)===f&&(c+=d.size*jr[d.type]/4)}for(a=0;a<t.length;a++){var p=t[a].indexBuffer.data;for(u=0;u<p.length;u++)i.indexBuffer.data[u+h]+=l;l+=r.buffers[f].data.length/c,h+=p.length}}return i},e}(),Wr=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return fr(t,e),t}(Hr),Vr=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Gr(t.vertices),t.uvBuffer=new Gr(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return fr(t,e),t.prototype.map=function(e,t){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Hr),Yr=0,qr=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Yr++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,r,i){this.uniforms[t]=new e(r,i)},e.from=function(t,r){return new e(t,r)},e}(),Kr=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new yt,this.destinationFrame=new yt,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Zr=function(t){function r(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new Br,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Wr,r.quadUv=new Vr,r.tempRect=new yt,r.activeState={},r.globalUniforms=new qr({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return fr(r,t),r.prototype.push=function(e,t){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Kr,o=t[0].resolution,s=t[0].padding,a=t[0].autoFit,u=t[0].legacy,l=1;l<t.length;l++){var c=t[l];o=Math.min(o,c.resolution),s=this.useMaxPadding?Math.max(s,c.padding):s+c.padding,a=a&&c.autoFit,u=u||c.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=u,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var h=this.tempRect;h.width=n.sourceFrame.width,h.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,h),r.renderTexture.clear()},r.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),i=r.filters;this.activeState=r;var n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;var o=n.inputSize,s=n.inputPixel,a=n.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*r.resolution,s[1]=o[1]*r.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=r.sourceFrame.width*o[2]-.5*s[2],a[3]=r.sourceFrame.height*o[3]-.5*s[3],r.legacy){var u=n.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,r.renderTexture,l.renderTexture,e.CLEAR_MODES.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var c=r.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,r.resolution);h.filterFrame=c.filterFrame;var f=0;for(f=0;f<i.length-1;++f){i[f].apply(this,c,h,e.CLEAR_MODES.CLEAR,r);var d=c;c=h,h=d}i[f].apply(this,c,l.renderTexture,e.CLEAR_MODES.BLEND,r),this.returnFilterTexture(c),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)},r.prototype.bindAndClear=function(t,r){if(void 0===r&&(r=e.CLEAR_MODES.CLEAR),t&&t.filterFrame){var i=this.tempRect;i.width=t.filterFrame.width,i.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,i)}else this.renderer.renderTexture.bind(t);"boolean"==typeof r&&(r=r?e.CLEAR_MODES.CLEAR:e.CLEAR_MODES.BLEND,nt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(r===e.CLEAR_MODES.CLEAR||r===e.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},r.prototype.applyFilter=function(t,r,i,n){var o=this.renderer;this.bindAndClear(i,n),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.state.set(t.state),o.shader.bind(t),t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(e.DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(e.DRAW_MODES.TRIANGLE_STRIP))},r.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=t._texture.orig,s=e.set(n.width,0,0,n.height,i.x,i.y),a=t.worldTransform.copyTo(Tt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(t.anchor.x,t.anchor.y),s},r.prototype.destroy=function(){this.texturePool.clear(!1)},r.prototype.getOptimalFilterTexture=function(e,t,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(e,t,r)},r.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return i.filterFrame=e.filterFrame,i},r.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},r.prototype.emptyPool=function(){this.texturePool.clear(!0)},r.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},r}(Pr),Qr=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),$r=function(e){function t(t){var r=e.call(this,t)||this;return r.emptyRenderer=new Qr(t),r.currentRenderer=r.emptyRenderer,r}return fr(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,t,r,i){for(var n=e.elements,o=e.ids,s=e.count,a=0,u=0;u<s;u++){var l=n[u],c=l._batchLocation;if(c>=0&&c<i&&t[c]===l)o[u]=c;else for(;a<i;){var h=t[a];if(!h||h._batchEnabled!==r||h._batchLocation!==a){o[u]=a,l._batchLocation=a,t[a]=l;break}a++}}},t}(Pr),ei=0,ti=function(t){function r(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return fr(r,t),Object.defineProperty(r.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),r.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ei++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},r.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ei++,this.renderer.runners.contextChange.emit(e)},r.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},r.prototype.createContext=function(t,r){var i;if(I.PREFER_ENV>=e.ENV.WEBGL2&&(i=t.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",r)||t.getContext("experimental-webgl",r)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},r.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},r.prototype.handleContextLost=function(e){e.preventDefault()},r.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},r.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},r.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},r.prototype.validateContext=function(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},r}(Pr),ri=function(){return function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=e.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}}(),ii=new yt,ni=function(t){function r(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new Mr(10,10),r.msaaSamples=null,r}return fr(r,t),r.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new yt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;I.PREFER_ENV===e.ENV.WEBGL_LEGACY&&(r=null,i=null),r?t.drawBuffers=function(e){return r.drawBuffersWEBGL(e)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},r.prototype.bind=function(e,t){var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var n=0;n<e.colorTextures.length;n++){var o=e.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},r.prototype.setViewport=function(e,t,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===e&&n.y===t||(n.x=e,n.y=t,n.width=r,n.height=i,this.gl.viewport(e,t,r,i))},Object.defineProperty(r.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),r.prototype.clear=function(t,r,i,n,o){void 0===o&&(o=e.BUFFER_BITS.COLOR|e.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(t,r,i,n),s.clear(o)},r.prototype.initFramebuffer=function(e){var t=this.gl,r=new ri(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},r.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var i=e.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},r.prototype.updateFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures.length;t.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=e.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(t.COLOR_ATTACHMENT0+o)}if((n.length>1&&t.drawBuffers(n),e.depthTexture)&&this.writeDepthTexture){var u=e.depthTexture;this.renderer.texture.bind(u,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!e.stencil&&!e.depth||(r.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r.stencil))},r.prototype.detectSamples=function(t){var r=this.msaaSamples,i=e.MSAA_QUALITY.NONE;if(t<=1||null===r)return i;for(var n=0;n<r.length;n++)if(r[n]<=t){i=r[n];break}return 1===i&&(i=e.MSAA_QUALITY.NONE),i},r.prototype.blit=function(e,t,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var a=i.glFramebuffers[s];if(a){if(!e){if(a.multisample<=1)return;a.blitFramebuffer||(a.blitFramebuffer=new Mr(i.width,i.height),a.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=a.blitFramebuffer).width=i.width,e.height=i.height}t||((t=ii).width=i.width,t.height=i.height),r||(r=t);var u=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(t.x,t.y,t.width,t.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}}},r.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},r.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},r.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var r=e.width,i=e.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),t.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},r.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new yt},r}(Pr),oi=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),si={5126:4,5123:2,5121:1},ai=function(t){function r(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return fr(r,t),r.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;I.PREFER_ENV===e.ENV.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(e){return i.bindVertexArrayOES(e)},t.deleteVertexArray=function(e){return i.deleteVertexArrayOES(e)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==r.webGLVersion){var n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=function(e,t){return n.vertexAttribDivisorANGLE(e,t)},t.drawElementsInstanced=function(e,t,r,i,o){return n.drawElementsInstancedANGLE(e,t,r,i,o)},t.drawArraysInstanced=function(e,t,r,i){return n.drawArraysInstancedANGLE(e,t,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},r.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[t.program.id]||this.initGeometryVao(e,t.program,n);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},r.prototype.reset=function(){this.unbind()},r.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,r=0;r<e.buffers.length;r++){var i=e.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)t.bufferSubData(o,0,i.data);else{var s=i.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,t.bufferData(o,i.data,s)}}}},r.prototype.checkCompatibility=function(e,t){var r=e.attributes,i=t.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},r.prototype.getSignature=function(e,t){var r=e.attributes,i=t.attributeData,n=["g",e.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},r.prototype.initGeometryVao=function(e,t,r){void 0===r&&(r=!0),this.checkCompatibility(e,t);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(e,t),s=e.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[t.id]=a,a;var u=e.buffers,l=e.attributes,c={},h={};for(var f in u)c[f]=0,h[f]=0;for(var f in l)!l[f].size&&t.attributeData[f]?l[f].size=t.attributeData[f].size:l[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[l[f].buffer]+=l[f].size*si[l[f].type];for(var f in l){var d=l[f],p=d.size;void 0===d.stride&&(c[d.buffer]===p*si[d.type]?d.stride=0:d.stride=c[d.buffer]),void 0===d.start&&(d.start=h[d.buffer],h[d.buffer]+=p*si[d.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var _=0;_<u.length;_++){var m=u[_];m._glBuffers[n]||(m._glBuffers[n]=new oi(i.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),r&&m._glBuffers[n].refCount++}return this.activateVao(e,t),this._activeVao=a,s[t.id]=a,s[o]=a,a},r.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},r.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=e.buffers;if(e.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||t||this.disposeBuffer(n[o],t)}if(!t)for(var a in r)if("g"===a[0]){var u=r[a];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},r.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e);t=Object.keys(this.managedBuffers);for(r=0;r<t.length;r++)this.disposeBuffer(this.managedBuffers[t[r]],e)},r.prototype.activateVao=function(e,t){var r=this.gl,i=this.CONTEXT_UID,n=e.buffers,o=e.attributes;e.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var u=o[a],l=n[u.buffer]._glBuffers[i];if(t.attributeData[a]){s!==l&&(r.bindBuffer(r.ARRAY_BUFFER,l.buffer),s=l);var c=t.attributeData[a].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},r.prototype.draw=function(e,t,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(e,t||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(e,t||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(e,r,t||o.getSize(),i||1):n.drawArrays(e,r,t||o.getSize());return this},r.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},r}(Pr),ui=function(){function t(t){void 0===t&&(t=null),this.type=e.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=e.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function li(e,t,r){var i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function ci(e,t,r,i){var n=li(e,e.VERTEX_SHADER,t),o=li(e,e.FRAGMENT_SHADER,r),s=e.createProgram();if(e.attachShader(s,n),e.attachShader(s,o),i)for(var a in i)e.bindAttribLocation(s,i[a],a);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(n))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(r),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(n),e.deleteShader(o),s}function hi(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function fi(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return hi(2*t);case"bvec3":return hi(3*t);case"bvec4":return hi(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var di,pi={},_i=pi;function mi(){if(_i===pi||_i&&_i.isContextLost()){var t=document.createElement("canvas"),r=void 0;I.PREFER_ENV>=e.ENV.WEBGL2&&(r=t.getContext("webgl2",{})),r||((r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?r.getExtension("WEBGL_draw_buffers"):r=null),_i=r}return _i}function bi(t,r,i){if("precision"!==t.substring(0,9)){var n=r;return r===e.PRECISION.HIGH&&i!==e.PRECISION.HIGH&&(n=e.PRECISION.MEDIUM),"precision "+n+" float;\n"+t}return i!==e.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var gi={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function yi(e){return gi[e]}var vi=null,xi={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function wi(e,t){if(!vi){var r=Object.keys(xi);vi={};for(var i=0;i<r.length;++i){var n=r[i];vi[e[n]]=xi[n]}}return vi[t]}var Si=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Ei={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ai={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Ti,Pi=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ci(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}function Mi(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var i=Pi.replace(/%forloop%/gi,Ci(e));if(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}var Fi=0,Ii={},Oi=function(){function t(r,i,n){void 0===n&&(n="pixi-shader"),this.id=Fi++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Ii[n]?(Ii[n]++,n+="-"+Ii[n]):Ii[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=bi(this.vertexSrc,I.PRECISION_VERTEX,e.PRECISION.HIGH),this.fragmentSrc=bi(this.fragmentSrc,I.PRECISION_FRAGMENT,function(){if(!di){di=e.PRECISION.MEDIUM;var t=mi();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);di=r.precision?e.PRECISION.HIGH:e.PRECISION.MEDIUM}}return di}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(e,t){var r=mi();if(r){var i=ci(r,e,t);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(e,t){for(var r={},i=[],n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=t.getActiveAttrib(e,o),a=wi(t,s.type),u={type:a,name:s.name,size:yi(a),location:0};r[s.name]=u,i.push(u)}i.sort(function(e,t){return e.name>t.name?1:-1});for(o=0;o<i.length;o++)i[o].location=o;return r},t.prototype.getUniformData=function(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),u=wi(t,o.type);r[s]={type:u,size:o.size,isArray:a,value:fi(u,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,i){var n=e+r,o=ot[n];return o||(ot[n]=o=new t(e,r,i)),o},t}(),Di=function(){function e(e,t){for(var r in this.program=e,this.uniformGroup=t?t instanceof qr?t:new qr(t):new qr({}),e.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var i=t.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,i){return new e(Oi.from(t,r),i)},e}(),ki=function(){function t(){this.data=0,this.blendMode=e.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==e.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Ri=function(e){function t(r,i,n){var o=this,s=Oi.from(r||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=e.call(this,s,n)||this).padding=0,o.resolution=I.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new ki,o}return fr(t,e),t.prototype.apply=function(e,t,r,i,n){e.applyFilter(this,t,r,i)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Di),Bi="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Ni="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Li=new Tt,Gi=function(){function e(e,t){this._texture=e,this.mapCoord=new Tt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,i=0;i<e.length;i+=2){var n=e[i],o=e[i+1];t[i]=n*r.a+o*r.c+r.tx,t[i+1]=n*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=t.orig,n=t.trim;n&&(Li.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Li));var o=t.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(t._frame.x+a+u)/o.width,s[1]=(t._frame.y+a+u)/o.height,s[2]=(t._frame.x+t._frame.width-a+u)/o.width,s[3]=(t._frame.y+t._frame.height-a+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}(),Ui=function(e){function t(t){var r=this,i=new Tt;return r=e.call(this,Bi,Ni)||this,t.renderable=!1,r.maskSprite=t,r.maskMatrix=i,r}return fr(t,e),t.prototype.apply=function(e,t,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Gi(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))},t}(Ri),zi=function(t){function r(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return fr(r,t),r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(t,r){var i=r;if(!i.isMaskData){var n=this.maskDataPool.pop()||new ui;n.pooled=!0,n.maskObject=r,i=n}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=t,i.type){case e.MASK_TYPES.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case e.MASK_TYPES.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case e.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},r.prototype.pop=function(t){var r=this.maskStack.pop();if(r&&r._target===t){switch(r.type){case e.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case e.MASK_TYPES.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case e.MASK_TYPES.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},r.prototype.detect=function(t){var r=t.maskObject;if(r.isSprite)t.type=e.MASK_TYPES.SPRITE;else if(t.type=e.MASK_TYPES.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var i=r.worldTransform,n=Math.atan2(i.b,i.a),o=Math.atan2(i.d,i.c);n=Math.round(n*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===o&&(t.type=e.MASK_TYPES.SCISSOR)}},r.prototype.pushSpriteMask=function(e){var t=e.maskObject,r=e._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Ui(t)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=t;var n=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(Pr),ji=function(e){function t(t){var r=e.call(this,t)||this;return r.maskStack=[],r.glConst=0,r}return fr(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==r&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}(Pr),Ji=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return fr(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var r=e._scissorRect,i=t.getBounds(!0),n=this.renderer.gl;t.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=i,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=t?t.resolution:this.renderer.resolution,a=(e.x-n.x)*s+o.x,u=(e.y-n.y)*s+o.y,l=e.width*s,c=e.height*s;i&&(a+=i.tx*s,u+=i.ty*s),t||(u=this.renderer.height-c-u),this.renderer.gl.scissor(a,u,l,c)},t}(ji),Xi=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return fr(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(ji),Hi=function(e){function t(t){var r=e.call(this,t)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new Tt,r.transform=null,r}return fr(t,e),t.prototype.update=function(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=o*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-o-t.y*n.d},t.prototype.setTransform=function(e){},t}(Pr),Wi=new yt,Vi=new yt,Yi=new yt,qi=function(e){function t(t){var r=e.call(this,t)||this;return r.clearColor=t._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new yt,r.destinationFrame=new yt,r}return fr(t,e),t.prototype.bind=function(e,t,r){void 0===e&&(e=null);var i,n,o,s=this.renderer;this.current=e,e?(o=(i=e.baseTexture).resolution,t||(Wi.width=e.frame.width,Wi.height=e.frame.height,t=Wi),r||(Vi.x=e.frame.x,Vi.y=e.frame.y,Vi.width=t.width,Vi.height=t.height,r=Vi),n=i.framebuffer):(o=s.resolution,t||(Wi.width=s.screen.width,Wi.height=s.screen.height,t=Wi),r||((r=Wi).width=t.width,r.height=t.height)),Yi.x=r.x*o,Yi.y=r.y*o,Yi.width=r.width*o,Yi.height=r.height*o,this.renderer.framebuffer.bind(n,Yi),this.renderer.projection.update(r,t,o,!n),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(Pr),Ki=function(){return function(){}}(),Zi=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}(),Qi=0,$i={textureCount:0},en=function(e){function t(t){var r=e.call(this,t)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Qi++,r}return fr(t,e),t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Ti)return Ti;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Ti=!0===e({a:"b"},"a","b")}catch(e){Ti=!1}return Ti}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||($i.textureCount=0,this.syncUniformGroup(e.uniformGroup,$i)),i},t.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var r=this.getglProgram();e.static&&e.dirtyId===r.uniformGroups[e.id]||(r.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},t.prototype.syncUniforms=function(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=function(e,t){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in e.uniforms){var n=t[i];if(n){for(var o=e.uniforms[i],s=!1,a=0;a<Si.length;a++)if(Si[a].test(n,o)){r.push(Si[a].code(i,o)),s=!0;break}if(!s){var u=(1===n.size?Ei:Ai)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+u+";")}}else e.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var r=e.uniforms,i=[];for(var n in r)i.push(n),t[n]&&i.push(t[n].type);return i.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,r=e.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=ci(t,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:t.getUniformLocation(o,n),value:fi(a.type,a.size)}}var u=new Zi(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(Pr);var tn=0,rn=1,nn=2,on=3,sn=4,an=function(t){function r(r){var i=t.call(this,r)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=e.BLEND_MODES.NONE,i._blendEq=!1,i.map=[],i.map[tn]=i.setBlend,i.map[rn]=i.setOffset,i.map[nn]=i.setCullFace,i.map[on]=i.setDepthTest,i.map[sn]=i.setFrontFace,i.checks=[],i.defaultState=new ki,i.defaultState.blend=!0,i}return fr(r,t),r.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,r){return void 0===r&&(r=[]),r[e.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.ADD]=[t.ONE,t.ONE],r[e.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.NONE]=[0,0],r[e.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[e.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[e.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[e.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[e.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[e.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[e.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[e.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}(t),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)},r.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},r.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},r}(Pr),un=function(t){function r(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=I.GC_MAX_IDLE,r.checkCountMax=I.GC_MAX_CHECK_COUNT,r.mode=I.GC_MODE,r}return fr(r,t),r.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==e.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},r.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,i=0;i<t.length;i++){var n=t[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,r=!0)}if(r){var o=0;for(i=0;i<t.length;i++)null!==t[i]&&(t[o++]=t[i]);t.length=o}},r.prototype.unload=function(e){var t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},r}(Pr),ln=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}(),cn=function(t){function r(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new mr,r}return fr(r,t),r.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new ln(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ln(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},r.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},r.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},r.prototype.unbind=function(e){var t=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)},r.prototype.initTexture=function(e){var t=new ln(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},r.prototype.initTextureType=function(t,r){if(r.internalFormat=t.format,r.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(r.internalFormat=i.RGBA32F),t.type===e.TYPES.HALF_FLOAT&&(r.type=i.HALF_FLOAT),r.type===i.HALF_FLOAT&&t.format===i.RGBA&&(r.internalFormat=i.RGBA16F)}},r.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t));else{var i=e.realWidth,n=e.realHeight,o=r.gl;(t.width!==i||t.height!==n||t.dirtyId<0)&&(t.width=i,t.height=n,o.texImage2D(e.target,0,t.internalFormat,i,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},r.prototype.destroyTexture=function(e,t){var r=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var i=this.managedTextures.indexOf(e);-1!==i&&$e(this.managedTextures,i,1)}},r.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];r&&(t.mipmap!==e.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?r.mipmap=t.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?r.wrapMode=t.wrapMode:r.wrapMode=e.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},r.prototype.setStyle=function(t,r){var i=this.gl;if(r.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===e.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===e.SCALE_MODES.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===e.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===e.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},r}(Pr),hn={FilterSystem:Zr,BatchSystem:$r,ContextSystem:ti,FramebufferSystem:ni,GeometrySystem:ai,MaskSystem:zi,ScissorSystem:Ji,StencilSystem:Xi,ProjectionSystem:Hi,RenderTextureSystem:qi,ShaderSystem:en,StateSystem:an,TextureGCSystem:un,TextureSystem:cn},fn=new Tt,dn=function(t){function r(r,i){void 0===r&&(r=e.RENDERER_TYPE.UNKNOWN);var n=t.call(this)||this;return(i=Object.assign({},I.RENDER_OPTIONS,i)).roundPixels&&(I.ROUND_PIXELS=i.roundPixels,nt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),n.options=i,n.type=r,n.screen=new yt(0,0,i.width,i.height),n.view=i.view||document.createElement("canvas"),n.resolution=i.resolution||I.RESOLUTION,n.transparent=i.transparent,n.autoDensity=i.autoDensity||i.autoResize||!1,n.preserveDrawingBuffer=i.preserveDrawingBuffer,n.clearBeforeRender=i.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=i.backgroundColor||n._backgroundColor,n._lastObjectRendered=null,n.plugins={},n}return fr(r,t),r.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},r.prototype.generateTexture=function(e,t,r,i){0===(i=i||e.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=Rr.create({width:0|i.width,height:0|i.height,scaleMode:t,resolution:r});return fn.tx=-i.x,fn.ty=-i.y,this.render(e,n,!1,fn,!!e.parent),n},r.prototype.destroy=function(t){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=e.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Ue(e),Ge(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),r}(O),pn=function(t){function r(i){var n=t.call(this,e.RENDERER_TYPE.WEBGL,i)||this;return i=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new ur("destroy"),contextChange:new ur("contextChange"),reset:new ur("reset"),update:new ur("update"),postrender:new ur("postrender"),prerender:new ur("prerender"),resize:new ur("resize")},n.globalUniforms=new qr({projectionMatrix:new Tt},!0),n.addSystem(zi,"mask").addSystem(ti,"context").addSystem(an,"state").addSystem(en,"shader").addSystem(cn,"texture").addSystem(ai,"geometry").addSystem(ni,"framebuffer").addSystem(Ji,"scissor").addSystem(Xi,"stencil").addSystem(Hi,"projection").addSystem(un,"textureGC").addSystem(Zr,"filter").addSystem(qi,"renderTexture").addSystem($r,"batch"),n.initPlugins(r.__plugins),i.context?n.context.initFromContext(i.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:i.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Ne(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return fr(r,t),r.create=function(e){if(Le())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.addSystem=function(e,t){t||(t=e.name);var r=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var i in this[t]=r,this.runners)this.runners[i].add(r);return this},r.prototype.render=function(e,t,r,i,n){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(t||(this._lastObjectRendered=e),!n){var o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},r.registerPlugin=function(e,t){r.__plugins=r.__plugins||{},r.__plugins[e]=t},r}(dn);function _n(e){return pn.create(e)}var mn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",bn="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",gn=function(){return function(){this.texArray=null,this.blend=0,this.type=e.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}(),yn=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),vn=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),xn=function(t){function r(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=ki.for2d(),r.size=4*I.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return fr(r,t),r.prototype.contextChange=function(){var t=this.renderer.gl;I.PREFER_ENV===e.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),I.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Mi(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,t=r._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new gn);for(;t.length<n;)t.push(new yn);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,t=this.MAX_TEXTURES,i=r._textureArrayPool,n=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++mr._globalBatch,u=0,l=i[0],c=0;n.copyBoundTextures(o,t);for(var h=0;h<this._bufferSize;++h){var f=e[h];e[h]=null,f._batchEnabled!==a&&(l.count>=t&&(n.boundArray(l,o,a,t),this.buildDrawCalls(l,c,h),c=h,l=i[++u],++a),f._batchEnabled=a,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(n.boundArray(l,o,a,t),this.buildDrawCalls(l,c,this._bufferSize),++u,++a);for(h=0;h<o.length;h++)o[h]=null;mr._globalBatch=a},r.prototype.buildDrawCalls=function(e,t,i){var n=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,a=this.vertexSize,u=r._drawCallPool,l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=u[l];f.start=this._iIndex,f.texArray=e;for(var d=t;d<i;++d){var p=n[d],_=p._texture.baseTexture,m=je[_.alphaMode?1:0][p.blendMode];n[d]=null,t<d&&f.blend!==m&&(f.size=h-f.start,t=d,(f=u[++l]).texArray=e,f.start=h),this.packInterleavedGeometry(p,o,s,c,h),c+=p.vertexData.length/2*a,h+=p.indices.length,f.blend=m}t<i&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h},r.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this._packedGeometries,t=this._attributeBuffer,r=this._indexBuffer;I.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,t=this.renderer,i=t.gl,n=t.state,o=r._drawCallPool,s=null,a=0;a<e;a++){var u=o[a],l=u.texArray,c=u.type,h=u.size,f=u.start,d=u.blend;s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=d,n.set(this.state),i.drawElements(c,h,i.UNSIGNED_SHORT,2*f)}},r.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),I.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var t=Ke(Math.ceil(e/8)),r=Qe(t),i=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new vn(i*this.vertexSize*4)),n},r.prototype.getIndexBuffer=function(e){var t=Ke(Math.ceil(e/12)),r=Qe(t),i=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},r.prototype.packInterleavedGeometry=function(e,t,r,i,n){for(var o=t.uint32View,s=t.float32View,a=i/this.vertexSize,u=e.uvs,l=e.indices,c=e.vertexData,h=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),d=f<1&&e._texture.baseTexture.alphaMode?He(e._tintRGB,f):e._tintRGB+(255*f<<24),p=0;p<c.length;p+=2)s[i++]=c[p],s[i++]=c[p+1],s[i++]=u[p],s[i++]=u[p+1],o[i++]=d,s[i++]=h;for(p=0;p<l.length;p++)r[n++]=a+l[p]},r._drawCallPool=[],r._textureArrayPool=[],r}(Qr),wn=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=qr.from({uSamplers:t},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Oi(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Tt,default:this.defaultGroupCache[e]};return new Di(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),Sn=function(t){function r(r){void 0===r&&(r=!1);var i=t.call(this)||this;return i._buffer=new Gr(null,r,!1),i._indexBuffer=new Gr(null,r,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,e.TYPES.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,e.TYPES.FLOAT).addAttribute("aColor",i._buffer,4,!0,e.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,e.TYPES.FLOAT).addIndex(i._indexBuffer),i}return fr(r,t),r}(Hr),En="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",An="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Tn=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:En,fragment:An,geometryClass:Sn,vertexSize:6},e),r=t.vertex,i=t.fragment,n=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var s=e.call(this,t)||this;return s.shaderGenerator=new wn(r,i),s.geometryClass=o,s.vertexSize=n,s}return fr(t,e),t}(xn)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return En},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return An},enumerable:!1,configurable:!0}),e}(),Pn=Tn.create(),Cn=function(){function e(t){var r=this;t=Object.assign({forceCanvas:!1},t),this.renderer=_n(t),this.stage=new jt,e._plugins.forEach(function(e){e.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var i=this,n=e._plugins.slice(0);n.reverse(),n.forEach(function(e){e.destroy.call(i)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e}();Cn._plugins=[];var Mn=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,r;if(t.cancelResize(),t._resizeTo===window)e=window.innerWidth,r=window.innerHeight;else{var i=t._resizeTo;e=i.clientWidth,r=i.clientHeight}t.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();Cn.registerPlugin(Mn);var Fn=new yt,In=function(){function e(e){this.renderer=e,e.extract=this}return e.prototype.image=function(e,t,r){var i=new Image;return i.src=this.base64(e,t,r),i},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(t){var r,i,n,o=this.renderer,s=!1,a=!1;t&&(t instanceof Rr?n=t:(n=this.renderer.generateTexture(t),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,s=!1,o.renderTexture.bind(n)):(r=this.renderer.resolution,s=!0,(i=Fn).width=this.renderer.width,i.height=this.renderer.height,o.renderTexture.bind(null));var u=Math.floor(i.width*r+1e-4),l=Math.floor(i.height*r+1e-4),c=new ut(u,l,1),h=new Uint8Array(4*u*l),f=o.gl;f.readPixels(i.x*r,i.y*r,u,l,f.RGBA,f.UNSIGNED_BYTE,h);var d=c.context.getImageData(0,0,u,l);if(e.arrayPostDivide(h,d.data),c.context.putImageData(d,0,0),s){var p=new ut(c.width,c.height,1);p.context.scale(1,-1),p.context.drawImage(c.canvas,0,-l),c.destroy(),c=p}return a&&n.destroy(!0),c.canvas},e.prototype.pixels=function(t){var r,i,n,o=this.renderer,s=!1;t&&(t instanceof Rr?n=t:(n=this.renderer.generateTexture(t),s=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o.renderTexture.bind(n)):(r=o.resolution,(i=Fn).width=o.width,i.height=o.height,o.renderTexture.bind(null));var a=i.width*r,u=i.height*r,l=new Uint8Array(4*a*u),c=o.gl;return c.readPixels(i.x*r,i.y*r,a,u,c.RGBA,c.UNSIGNED_BYTE,l),s&&n.destroy(!0),e.arrayPostDivide(l,l),l},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(e,t){for(var r=0;r<e.length;r+=4){var i=t[r+3]=e[r+3];0!==i?(t[r]=Math.round(Math.min(255*e[r]/i,255)),t[r+1]=Math.round(Math.min(255*e[r+1]/i,255)),t[r+2]=Math.round(Math.min(255*e[r+2]/i,255))):(t[r]=e[r],t[r+1]=e[r+1],t[r+2]=e[r+2])}},e}();var On=function(e,t){if(e){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[t.strictMode?"strict":"loose"].exec(e),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,i){t&&(n[r.q.name][t]=i)}),n}},Dn=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(t,r,n){void 0===r&&(r=!1),i(this,e),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function o(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var s=function(){function e(){i(this,e),this._head=this._tail=void 0}return r(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:"has",value:function(e){if(!(e instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=arguments,t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,e),t=t._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=n,t.default=s,e.exports=t.default}));function kn(){}function Rn(e,t,r,i){var n=0,o=e.length;!function s(a){a||n===o?r&&r(a):i?setTimeout(function(){t(e[n++],s)},1):t(e[n++],s)}()}function Bn(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function Nn(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:t,saturated:kn,unsaturated:kn,buffer:t/4,empty:kn,drain:kn,error:kn,started:!1,paused:!1,push:function(e,t){n(e,!1,t)},kill:function(){r=0,i.drain=kn,i.started=!1,i._tasks=[]},unshift:function(e,t){n(e,!0,t)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var t=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),e(t.data,Bn(o(t)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var e=1;e<=i.concurrency;e++)i.process()}}};function n(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==e&&i.idle())setTimeout(function(){return i.drain()},1);else{var n={data:e,callback:"function"==typeof r?r:kn};t?i._tasks.unshift(n):i._tasks.push(n),setTimeout(function(){return i.process()},1)}}function o(e){return function(){r-=1,e.callback.apply(e,arguments),null!=arguments[0]&&i.error(arguments[0],e.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var Ln={};function Gn(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Un(e,t,r){return t&&Gn(e.prototype,t),r&&Gn(e,r),e}var zn=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),jn=null;function Jn(){}var Xn=function(){function e(t,r,i){if("string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Jn,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Dn,this.onProgress=new Dn,this.onComplete=new Dn,this.onAfterMiddleware=new Dn}e.setExtensionLoadType=function(t,r){Hn(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){Hn(e._xhrTypeMap,t,r)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var r=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(r)},1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:zn&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(e){return 0!=(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var i=document.createElement("source");return i.src=t,i.type=r,i},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(Wn(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(Wn(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(Wn(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,r="",i=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(r=t.responseText),0===i&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||r;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,jn||(jn=document.createElement("a")),jn.href=e;var r=!(e=On(jn.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,i=e.protocol?e.protocol+":":"";return e.host===t.hostname&&r&&i===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?"),n=e.indexOf("#"),o=Math.min(i>-1?i:e.length,n>-1?n:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Un(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function Hn(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function Wn(e){return e.toString().replace("object ","")}Xn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Xn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Xn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Xn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Xn._loadTypeMap={gif:Xn.LOAD_TYPE.IMAGE,png:Xn.LOAD_TYPE.IMAGE,bmp:Xn.LOAD_TYPE.IMAGE,jpg:Xn.LOAD_TYPE.IMAGE,jpeg:Xn.LOAD_TYPE.IMAGE,tif:Xn.LOAD_TYPE.IMAGE,tiff:Xn.LOAD_TYPE.IMAGE,webp:Xn.LOAD_TYPE.IMAGE,tga:Xn.LOAD_TYPE.IMAGE,svg:Xn.LOAD_TYPE.IMAGE,"svg+xml":Xn.LOAD_TYPE.IMAGE,mp3:Xn.LOAD_TYPE.AUDIO,ogg:Xn.LOAD_TYPE.AUDIO,wav:Xn.LOAD_TYPE.AUDIO,mp4:Xn.LOAD_TYPE.VIDEO,webm:Xn.LOAD_TYPE.VIDEO},Xn._xhrTypeMap={xhtml:Xn.XHR_RESPONSE_TYPE.DOCUMENT,html:Xn.XHR_RESPONSE_TYPE.DOCUMENT,htm:Xn.XHR_RESPONSE_TYPE.DOCUMENT,xml:Xn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Xn.XHR_RESPONSE_TYPE.DOCUMENT,svg:Xn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Xn.XHR_RESPONSE_TYPE.DOCUMENT,gif:Xn.XHR_RESPONSE_TYPE.BLOB,png:Xn.XHR_RESPONSE_TYPE.BLOB,bmp:Xn.XHR_RESPONSE_TYPE.BLOB,jpg:Xn.XHR_RESPONSE_TYPE.BLOB,jpeg:Xn.XHR_RESPONSE_TYPE.BLOB,tif:Xn.XHR_RESPONSE_TYPE.BLOB,tiff:Xn.XHR_RESPONSE_TYPE.BLOB,webp:Xn.XHR_RESPONSE_TYPE.BLOB,tga:Xn.XHR_RESPONSE_TYPE.BLOB,json:Xn.XHR_RESPONSE_TYPE.JSON,text:Xn.XHR_RESPONSE_TYPE.TEXT,txt:Xn.XHR_RESPONSE_TYPE.TEXT,ttf:Xn.XHR_RESPONSE_TYPE.BUFFER,otf:Xn.XHR_RESPONSE_TYPE.BUFFER},Xn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Yn=window.URL||window.webkitURL;var qn={caching:function(e,t){var r=this;Ln[e.url]?(e.data=Ln[e.url],e.complete()):e.onComplete.once(function(){return Ln[r.url]=r.data}),t()},parsing:function(e,t){if(e.data){if(e.xhr&&e.xhrType===Xn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var r=Yn.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=Xn.TYPE.IMAGE,void(e.data.onload=function(){Yn.revokeObjectURL(r),e.data.onload=null,t()})}}else{var i=e.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return e.data=new Image,e.data.src="data:"+i+";base64,"+function(e){for(var t="",r=0;r<e.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<e.length?i[o]=255&e.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(e.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)t+=Vn.charAt(n[s])}return t}(e.xhr.responseText),e.type=Xn.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}},Kn=/(#[\w-]+)?$/,Zn=function(){function e(t,r){var i=this;void 0===t&&(t=""),void 0===r&&(r=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return i._loadResource(e,t)},this._queue=Nn(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Dn,this.onError=new Dn,this.onLoad=new Dn,this.onStart=new Dn,this.onComplete=new Dn;for(var n=0;n<e._defaultBeforeMiddleware.length;++n)this.pre(e._defaultBeforeMiddleware[n]);for(var o=0;o<e._defaultAfterMiddleware.length;++o)this.use(e._defaultAfterMiddleware[o])}var t=e.prototype;return t.add=function(e,t,r,i){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(i=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(i=r,r=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new Xn(e,t,r),"function"==typeof i&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[e]),o.progressChunk=u;for(var l=0;l<s.length;++l)s[l].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t,r=On(e,{strictMode:!0});if(t=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var i=Kn.exec(t)[0];-1!==(t=t.substr(0,t.length-i.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=i}return t},t._loadResource=function(e,t){var r=this;e._dequeue=t,Rn(this._beforeMiddleware,function(t,i){t.call(r,e,function(){i(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Rn(this._afterMiddleware,function(r,i){r.call(t,e,i)},function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()},!0)},Un(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();Zn._defaultBeforeMiddleware=[],Zn._defaultAfterMiddleware=[],Zn.pre=function(e){return Zn._defaultBeforeMiddleware.push(e),Zn},Zn.use=function(e){return Zn._defaultAfterMiddleware.push(e),Zn};var Qn=Xn,$n=function(e,t){return($n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var eo=function(){function e(){}return e.use=function(e,t){e.data&&e.type===Xn.TYPE.IMAGE&&(e.texture=Dr.fromLoader(e.data,e.url,e.name)),t()},e}(),to=function(e){function t(r,i){for(var n=e.call(this,r,i)||this,o=0;o<t._plugins.length;++o){var s=t._plugins[o],a=s.pre,u=s.use;a&&n.pre(a),u&&n.use(u)}return n._protected=!1,n}return function(e,t){function r(){this.constructor=e}$n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(Zn);to.registerPlugin({use:qn.parsing}),to.registerPlugin(eo);var ro=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?to.shared:new to},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),io=function(e,t){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function no(e,t){function r(){this.constructor=e}io(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var oo,so,ao=function(t){function r(r,i,n,o){void 0===r&&(r=1500),void 0===n&&(n=16384),void 0===o&&(o=!1);var s=t.call(this)||this;return n>16384&&(n=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=r,s._batchSize=n,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=e.BLEND_MODES.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return no(r,t),r.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Ge(e,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(jt),uo=function(){function t(t,r,i){this.geometry=new Hr,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var o=t[n];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||e.TYPES.FLOAT,offset:o.offset},r[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new Gr(Ve(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){(a=this.dynamicProperties[i]).offset=r,r+=a.size,this.dynamicStride+=a.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Gr(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(i=0;i<this.staticProperties.length;++i){(a=this.staticProperties[i]).offset=o,o+=a.size,this.staticStride+=a.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Gr(this.staticData,!0,!1);for(i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===e.TYPES.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(i=0;i<this.staticProperties.length;++i){a=this.staticProperties[i];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===e.TYPES.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},t.prototype.uploadDynamic=function(t,r,i){for(var n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(t,r,i,o.type===e.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,r,i){for(var n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(t,r,i,o.type===e.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),lo="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",co="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",ho=function(t){function r(r){var i=t.call(this,r)||this;return i.shader=null,i.properties=null,i.tempMatrix=new Tt,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:e.TYPES.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=Di.from(co,lo,{}),i.state=ki.for2d(),i}return no(r,t),r.prototype.render=function(e){var t=e.children,r=e._maxSize,i=e._batchSize,n=this.renderer,o=t.length;if(0!==o){o>r&&!e.autoResize&&(o=r);var s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));var a=t[0]._texture.baseTexture;this.state.blendMode=Je(e.blendMode,a.alphaMode),n.state.set(this.state);var u=n.gl,l=e.worldTransform.copyTo(this.tempMatrix);l.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=Xe(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,h=0,f=0;h<o;h+=i,f+=1){var d=o-h;d>i&&(d=i),f>=s.length&&s.push(this._generateOneMoreBuffer(e));var p=s[f];p.uploadDynamic(t,h,d);var _=e._bufferUpdateIDs[f]||0;(c=c||p._updateID<_)&&(p._updateID=e._updateID,p.uploadStatic(t,h,d)),n.geometry.bind(p.geometry),u.drawElements(u.TRIANGLES,6*d,u.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var t=[],r=e._maxSize,i=e._batchSize,n=e._properties,o=0;o<r;o+=i)t.push(new uo(this.properties,n,i));return t},r.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,r=e._properties;return new uo(this.properties,r,t)},r.prototype.uploadVertices=function(e,t,r,i,n,o){for(var s=0,a=0,u=0,l=0,c=0;c<r;++c){var h=e[t+c],f=h._texture,d=h.scale.x,p=h.scale.y,_=f.trim,m=f.orig;_?(s=(a=_.x-h.anchor.x*m.width)+_.width,u=(l=_.y-h.anchor.y*m.height)+_.height):(s=m.width*(1-h.anchor.x),a=m.width*-h.anchor.x,u=m.height*(1-h.anchor.y),l=m.height*-h.anchor.y),i[o]=a*d,i[o+1]=l*p,i[o+n]=s*d,i[o+n+1]=l*p,i[o+2*n]=s*d,i[o+2*n+1]=u*p,i[o+3*n]=a*d,i[o+3*n+1]=u*p,o+=4*n}},r.prototype.uploadPosition=function(e,t,r,i,n,o){for(var s=0;s<r;s++){var a=e[t+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},r.prototype.uploadRotation=function(e,t,r,i,n,o){for(var s=0;s<r;s++){var a=e[t+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},r.prototype.uploadUvs=function(e,t,r,i,n,o){for(var s=0;s<r;++s){var a=e[t+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},r.prototype.uploadTint=function(e,t,r,i,n,o){for(var s=0;s<r;++s){var a=e[t+s],u=a._texture.baseTexture.alphaMode>0,l=a.alpha,c=l<1&&u?He(a._tintRGB,l):a._tintRGB+(255*l<<24);i[o]=c,i[o+n]=c,i[o+2*n]=c,i[o+3*n]=c,o+=4*n}},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(Qr);(oo=e.LINE_JOIN||(e.LINE_JOIN={})).MITER="miter",oo.BEVEL="bevel",oo.ROUND="round",(so=e.LINE_CAP||(e.LINE_CAP={})).BUTT="butt",so.ROUND="round",so.SQUARE="square";var fo={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},po=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Dr.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Dr.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),_o=function(e,t){return(_o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function mo(e,t){function r(){this.constructor=e}_o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var bo={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,i=e.holes,n=t.points,o=t.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var u=i[a];s.push(r.length/2),r=r.concat(u.points)}var l=D(r,s,2);if(!l)return;var c=n.length/2;for(a=0;a<l.length;a+=3)o.push(l[a]+c),o.push(l[a+1]+c),o.push(l[a+2]+c);for(a=0;a<r.length;a++)n.push(r[a])}}},go={build:function(t){var r,i,n=t.shape,o=t.points,s=n.x,a=n.y;if(o.length=0,t.type===e.SHAPES.CIRC)r=n.radius,i=n.radius;else{var u=t.shape;r=u.width,i=u.height}if(0!==r&&0!==i){var l=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(r+i));l/=2.3;for(var c=2*Math.PI/l,h=0;h<l-.5;h++)o.push(s+Math.sin(-c*h)*r,a+Math.cos(-c*h)*i);o.push(o[0],o[1])}},triangulate:function(e,t){var r=e.points,i=t.points,n=t.indices,o=i.length/2,s=o,a=e.shape,u=e.matrix,l=a.x,c=a.y;i.push(e.matrix?u.a*l+u.c*c+u.tx:l,e.matrix?u.b*l+u.d*c+u.ty:c);for(var h=0;h<r.length;h+=2)i.push(r[h],r[h+1]),n.push(o++,s,o)}},yo={build:function(e){var t=e.shape,r=t.x,i=t.y,n=t.width,o=t.height,s=e.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(e,t){var r=e.points,i=t.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function vo(e,t,r){return e+(t-e)*r}function xo(e,t,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0;p<=20;++p)u=vo(e,r,_=p/20),l=vo(t,i,_),c=vo(r,n,_),h=vo(i,o,_),f=vo(u,c,_),d=vo(l,h,_),a.push(f,d);return a}var wo={build:function(e){var t=e.shape,r=e.points,i=t.x,n=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));r.length=0,a?(xo(i,n+a,i,n,i+a,n,r),xo(i+o-a,n,i+o,n,i+o,n+a,r),xo(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),xo(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(e,t){for(var r=e.points,i=t.points,n=t.indices,o=i.length/2,s=D(r,null,2),a=0,u=s.length;a<u;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,u=r.length;a<u;a++)i.push(r[a],r[++a])}};function So(e,t,r,i,n,o,s,a){var u,l;s?(u=i,l=-r):(u=-i,l=r);var c=e-r*n+u,h=t-i*n+l,f=e+r*o+u,d=t+i*o+l;return a.push(c,h),a.push(f,d),2}function Eo(e,t,r,i,n,o,s,a){var u=r-e,l=i-t,c=Math.atan2(u,l),h=Math.atan2(n-e,o-t);a&&c<h?c+=2*Math.PI:!a&&c>h&&(h+=2*Math.PI);var f=c,d=h-c,p=Math.abs(d),_=Math.sqrt(u*u+l*l),m=1+(15*p*Math.sqrt(_)/Math.PI>>0),b=d/m;if(f+=b,a){s.push(e,t),s.push(r,i);for(var g=1,y=f;g<m;g++,y+=b)s.push(e,t),s.push(e+Math.sin(y)*_,t+Math.cos(y)*_);s.push(e,t),s.push(n,o)}else{s.push(r,i),s.push(e,t);for(g=1,y=f;g<m;g++,y+=b)s.push(e+Math.sin(y)*_,t+Math.cos(y)*_),s.push(e,t);s.push(n,o),s.push(e,t)}return 2*m}function Ao(t,r){t.lineStyle.native?function(t,r){var i=0,n=t.shape,o=t.points||n.points,s=n.type!==e.SHAPES.POLY||n.closeStroke;if(0!==o.length){var a=r.points,u=r.indices,l=o.length/2,c=a.length/2,h=c;for(a.push(o[0],o[1]),i=1;i<l;i++)a.push(o[2*i],o[2*i+1]),u.push(h,h+1),h++;s&&u.push(h,c)}}(t,r):function(t,r){var i=t.shape,n=t.points||i.points.slice(),o=r.closePointEps;if(0!==n.length){var s=t.lineStyle,a=new Et(n[0],n[1]),u=new Et(n[n.length-2],n[n.length-1]),l=i.type!==e.SHAPES.POLY||i.closeStroke,c=Math.abs(a.x-u.x)<o&&Math.abs(a.y-u.y)<o;if(l){n=n.slice(),c&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));var h=.5*(a.x+u.x),f=.5*(u.y+a.y);n.unshift(h,f),n.push(h,f)}var d=r.points,p=n.length/2,_=n.length,m=d.length/2,b=s.width/2,g=b*b,y=s.miterLimit*s.miterLimit,v=n[0],x=n[1],w=n[2],S=n[3],E=0,A=0,T=-(x-S),P=v-w,C=0,M=0,F=Math.sqrt(T*T+P*P);T/=F,P/=F,T*=b,P*=b;var I=s.alignment,O=2*(1-I),D=2*I;l||(s.cap===e.LINE_CAP.ROUND?_+=Eo(v-T*(O-D)*.5,x-P*(O-D)*.5,v-T*O,x-P*O,v+T*D,x+P*D,d,!0)+2:s.cap===e.LINE_CAP.SQUARE&&(_+=So(v,x,T,P,O,D,!0,d))),d.push(v-T*O,x-P*O),d.push(v+T*D,x+P*D);for(var k=1;k<p-1;++k){v=n[2*(k-1)],x=n[2*(k-1)+1],w=n[2*k],S=n[2*k+1],E=n[2*(k+1)],A=n[2*(k+1)+1],T=-(x-S),P=v-w,T/=F=Math.sqrt(T*T+P*P),P/=F,T*=b,P*=b,C=-(S-A),M=w-E,C/=F=Math.sqrt(C*C+M*M),M/=F,C*=b,M*=b;var R=w-v,B=x-S,N=w-E,L=A-S,G=B*N-L*R,U=G<0;if(Math.abs(G)<.1)d.push(w-T*O,S-P*O),d.push(w+T*D,S+P*D);else{var z=(-T+v)*(-P+S)-(-T+w)*(-P+x),j=(-C+E)*(-M+S)-(-C+w)*(-M+A),J=(R*j-N*z)/G,X=(L*z-B*j)/G,H=(J-w)*(J-w)+(X-S)*(X-S),W=w+(J-w)*O,V=S+(X-S)*O,Y=w-(J-w)*D,q=S-(X-S)*D,K=Math.min(R*R+B*B,N*N+L*L),Z=U?O:D;H<=K+Z*Z*g?s.join===e.LINE_JOIN.BEVEL||H/g>y?(U?(d.push(W,V),d.push(w+T*D,S+P*D),d.push(W,V),d.push(w+C*D,S+M*D)):(d.push(w-T*O,S-P*O),d.push(Y,q),d.push(w-C*O,S-M*O),d.push(Y,q)),_+=2):s.join===e.LINE_JOIN.ROUND?U?(d.push(W,V),d.push(w+T*D,S+P*D),_+=Eo(w,S,w+T*D,S+P*D,w+C*D,S+M*D,d,!0)+4,d.push(W,V),d.push(w+C*D,S+M*D)):(d.push(w-T*O,S-P*O),d.push(Y,q),_+=Eo(w,S,w-T*O,S-P*O,w-C*O,S-M*O,d,!1)+4,d.push(w-C*O,S-M*O),d.push(Y,q)):(d.push(W,V),d.push(Y,q)):(d.push(w-T*O,S-P*O),d.push(w+T*D,S+P*D),s.join===e.LINE_JOIN.BEVEL||H/g>y||(s.join===e.LINE_JOIN.ROUND?_+=U?Eo(w,S,w+T*D,S+P*D,w+C*D,S+M*D,d,!0)+2:Eo(w,S,w-T*O,S-P*O,w-C*O,S-M*O,d,!1)+2:(U?(d.push(Y,q),d.push(Y,q)):(d.push(W,V),d.push(W,V)),_+=2)),d.push(w-C*O,S-M*O),d.push(w+C*D,S+M*D),_+=2)}}v=n[2*(p-2)],x=n[2*(p-2)+1],w=n[2*(p-1)],T=-(x-(S=n[2*(p-1)+1])),P=v-w,T/=F=Math.sqrt(T*T+P*P),P/=F,T*=b,P*=b,d.push(w-T*O,S-P*O),d.push(w+T*D,S+P*D),l||(s.cap===e.LINE_CAP.ROUND?_+=Eo(w-T*(O-D)*.5,S-P*(O-D)*.5,w-T*O,S-P*O,w+T*D,S+P*D,d,!1)+2:s.cap===e.LINE_CAP.SQUARE&&(_+=So(w,S,T,P,O,D,!1,d)));var Q=r.indices,$=fo.epsilon*fo.epsilon;for(k=m;k<_+m-2;++k)v=d[2*k],x=d[2*k+1],w=d[2*(k+1)],S=d[2*(k+1)+1],E=d[2*(k+2)],A=d[2*(k+2)+1],Math.abs(v*(S-A)+w*(A-x)+E*(x-S))<$||Q.push(k,k+1,k+2)}}(t,r)}var To,Po=function(e){function t(t,r,i,n,o,s){void 0===s&&(s=0);o=o||n/2;for(var a=-1*Math.PI/2+s,u=2*i,l=mt/u,c=[],h=0;h<u;h++){var f=h%2?o:n,d=h*l+a;c.push(t+f*Math.cos(d),r+f*Math.sin(d))}return e.call(this,c)||this}return mo(t,e),t}(wt),Co=function(){function e(){}return e.curveTo=function(e,t,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-t,u=s-e,l=i-t,c=r-e,h=Math.abs(a*c-u*l);if(h<1e-8||0===n)return o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null;var f=a*a+u*u,d=l*l+c*c,p=a*l+u*c,_=n*Math.sqrt(f)/h,m=n*Math.sqrt(d)/h,b=_*p/f,g=m*p/d,y=_*c+m*u,v=_*l+m*a,x=u*(m+b),w=a*(m+b),S=c*(_+g),E=l*(_+g);return{cx:y+e,cy:v+t,radius:n,startAngle:Math.atan2(w-v,x-y),endAngle:Math.atan2(E-v,S-y),anticlockwise:u*l>c*a}},e.arc=function(e,t,r,i,n,o,s,a,u){for(var l=s-o,c=fo._segmentsCount(Math.abs(l)*n,40*Math.ceil(Math.abs(l)/mt)),h=l/(2*c),f=2*h,d=Math.cos(h),p=Math.sin(h),_=c-1,m=_%1/_,b=0;b<=_;++b){var g=h+o+f*(b+m*b),y=Math.cos(g),v=-Math.sin(g);u.push((d*y+p*v)*n+r,(d*-v+p*y)*n+i)}},e}(),Mo=function(){function e(){}return e.curveLength=function(e,t,r,i,n,o,s,a){for(var u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=e,v=t,x=1;x<=10;++x)b=y-(_=(p=(d=(f=1-(l=x/10))*f)*f)*e+3*d*l*r+3*f*(c=l*l)*n+(h=c*l)*s),g=v-(m=p*t+3*d*l*i+3*f*c*o+h*a),y=_,v=m,u+=Math.sqrt(b*b+g*g);return u},e.curveTo=function(t,r,i,n,o,s,a){var u=a[a.length-2],l=a[a.length-1];a.length-=2;var c=fo._segmentsCount(e.curveLength(u,l,t,r,i,n,o,s)),h=0,f=0,d=0,p=0,_=0;a.push(u,l);for(var m=1,b=0;m<=c;++m)d=(f=(h=1-(b=m/c))*h)*h,_=(p=b*b)*b,a.push(d*u+3*f*b*t+3*h*p*i+_*o,d*l+3*f*b*r+3*h*p*n+_*s)},e}(),Fo=function(){function e(){}return e.curveLength=function(e,t,r,i,n,o){var s=e-2*r+n,a=t-2*i+o,u=2*r-2*e,l=2*i-2*t,c=4*(s*s+a*a),h=4*(s*u+a*l),f=u*u+l*l,d=2*Math.sqrt(c+h+f),p=Math.sqrt(c),_=2*c*p,m=2*Math.sqrt(f),b=h/p;return(_*d+p*h*(d-m)+(4*f*c-h*h)*Math.log((2*p+b+d)/(b+m)))/(4*_)},e.curveTo=function(t,r,i,n,o){for(var s=o[o.length-2],a=o[o.length-1],u=fo._segmentsCount(e.curveLength(s,a,t,r,i,n)),l=0,c=0,h=1;h<=u;++h){var f=h/u;l=s+(t-s)*f,c=a+(r-a)*f,o.push(l+(t+(i-t)*f-l)*f,c+(r+(n-r)*f-c)*f)}},e}(),Io=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Oo=((To={})[e.SHAPES.POLY]=bo,To[e.SHAPES.CIRC]=go,To[e.SHAPES.ELIP]=go,To[e.SHAPES.RECT]=yo,To[e.SHAPES.RREC]=wo,To),Do=[],ko=[],Ro={buildPoly:bo,buildCircle:go,buildRectangle:yo,buildRoundedRectangle:wo,FILL_COMMANDS:Oo,BATCH_POOL:Do,DRAW_CALL_POOL:ko,buildLine:Ao,Star:Po,ArcUtils:Co,BezierUtils:Mo,QuadraticUtils:Fo,BatchPart:Io},Bo=function(){function e(e,t,r,i){void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=i,this.type=e.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),No=new Et,Lo=new Bt,Go=function(t){function r(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Bt,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return mo(r,t),Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ko.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),Do.push(t)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(e,t,r,i){void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new Bo(e,t,r,i);return this.graphicsData.push(n),this.dirty++,this},r.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var r=new Bo(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},r.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(e){for(var t=this.graphicsData,r=0;r<t.length;++r){var i=t[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(e,No):No.copyFrom(e),i.shape.contains(No.x,No.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(No.x,No.y)){n=!0;break}}if(!n)return!0}}return!1},r.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,i=this.graphicsData,n=null,o=null;this.batches.length>0&&(o=(n=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var a=i[s],u=a.fillStyle,l=a.lineStyle;Oo[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var c=0;c<2;c++){var h=0===c?u:l;if(h.visible){var f=h.texture.baseTexture,d=this.indices.length,p=this.points.length/2;f.wrapMode=e.WRAP_MODES.REPEAT,0===c?this.processFill(a):this.processLine(a);var _=this.points.length/2-p;0!==_&&(n&&!this._compareStyles(o,h)&&(n.end(d,p),n=null),n||((n=Do.pop()||new Io).begin(h,d,p),this.batches.push(n),o=h),this.addUvs(this.points,r,h.texture,p,_,h.matrix))}}}var m=this.indices.length,b=this.points.length/2;if(n&&n.end(m,b),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=b>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},r.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native))},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var r=this.graphicsData[e],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,r=e.length;t<r;t++)for(var i=e[t],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*r.BATCHABLE_SIZE},r.prototype.buildDrawCalls=function(){for(var t=++mr._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),ko.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,n=this.textureIds,o=ko.pop();o||((o=new gn).texArray=new yn),o.texArray.count=0,o.start=0,o.size=0,o.type=e.DRAW_MODES.TRIANGLES;var s=0,a=null,u=0,l=!1,c=e.DRAW_MODES.TRIANGLES,h=0;this.drawCalls.push(o);for(r=0;r<this.batches.length;r++){var f=this.batches[r],d=f.style,p=d.texture.baseTexture;l!==!!d.native&&(c=(l=!!d.native)?e.DRAW_MODES.LINES:e.DRAW_MODES.TRIANGLES,a=null,s=8,t++),a!==p&&(a=p,p._batchEnabled!==t&&(8===s&&(t++,s=0,o.size>0&&((o=ko.pop())||((o=new gn).texArray=new yn),this.drawCalls.push(o)),o.start=h,o.size=0,o.texArray.count=0,o.type=c),p.touched=1,p._batchEnabled=t,p._batchLocation=s,p.wrapMode=10497,o.texArray.elements[o.texArray.count++]=p,s++)),o.size+=f.size,h+=f.size,u=p._batchLocation,this.addColors(i,d.color,d.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,u,f.attribSize,f.attribStart)}mr._globalBatch=t,this.packAttributes()},r.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*e.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,u=0;u<e.length/2;u++)o[a++]=e[2*u],o[a++]=e[2*u+1],o[a++]=t[2*u],o[a++]=t[2*u+1],s[a++]=r[u],o[a++]=i[u];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),bo.triangulate(e,this)):Oo[e.type].triangulate(e,this)},r.prototype.processLine=function(e){Ao(e,this);for(var t=0;t<e.holes.length;t++)Ao(e.holes[t],this)},r.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var r=e[t];Oo[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},r.prototype.calculateBounds=function(){var t=this._bounds,r=Lo,i=Tt.IDENTITY;this._bounds.clear(),r.clear();for(var n=0;n<this.graphicsData.length;n++){var o=this.graphicsData[n],s=o.shape,a=o.type,u=o.lineStyle,l=o.matrix||Tt.IDENTITY,c=0;if(u&&u.visible){var h=u.alignment;c=u.width,a===e.SHAPES.POLY?c*=.5+Math.abs(.5-h):c*=Math.max(0,h)}if(i!==l&&(r.isEmpty()||(t.addBoundsMatrix(r,i),r.clear()),i=l),a===e.SHAPES.RECT||a===e.SHAPES.RREC){var f=s;r.addFramePad(f.x,f.y,f.x+f.width,f.y+f.height,c,c)}else if(a===e.SHAPES.CIRC){var d=s;r.addFramePad(d.x,d.y,d.x,d.y,d.radius+c,d.radius+c)}else if(a===e.SHAPES.ELIP){var p=s;r.addFramePad(p.x,p.y,p.x,p.y,p.width+c,p.height+c)}else{var _=s;t.addVerticesMatrix(i,_.points,0,_.points.length,c,c)}}r.isEmpty()||t.addBoundsMatrix(r,i),t.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(e,t){for(var r=0;r<e.length/2;r++){var i=e[2*r],n=e[2*r+1];e[2*r]=t.a*i+t.c*n+t.tx,e[2*r+1]=t.b*i+t.d*n+t.ty}},r.prototype.addColors=function(e,t,r,i,n){void 0===n&&(n=0);var o=He((t>>16)+(65280&t)+((255&t)<<16),r);e.length=Math.max(e.length,n+i);for(var s=0;s<i;s++)e[n+s]=o},r.prototype.addTextureIds=function(e,t,r,i){void 0===i&&(i=0),e.length=Math.max(e.length,i+r);for(var n=0;n<r;n++)e[i+n]=t},r.prototype.addUvs=function(e,t,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=t.length,u=r.frame;s<n;){var l=e[2*(i+s)],c=e[2*(i+s)+1];if(o){var h=o.a*l+o.c*c+o.tx;c=o.b*l+o.d*c+o.ty,l=h}s++,t.push(l/u.width,c/u.height)}var f=r.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(t,r,a,n)},r.prototype.adjustUvs=function(e,t,r,i){for(var n=t.baseTexture,o=r+2*i,s=t.frame,a=s.width/n.width,u=s.height/n.height,l=s.x/s.width,c=s.y/s.height,h=Math.floor(e[r]+1e-6),f=Math.floor(e[r+1]+1e-6),d=r+2;d<o;d+=2)h=Math.min(h,Math.floor(e[d]+1e-6)),f=Math.min(f,Math.floor(e[d+1]+1e-6));l-=h,c-=f;for(d=r;d<o;d+=2)e[d]=(e[d]+l)*a,e[d+1]=(e[d+1]+c)*u},r.BATCHABLE_SIZE=100,r}(Sn),Uo=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=e.LINE_CAP.BUTT,r.join=e.LINE_JOIN.MITER,r.miterLimit=10,r}return mo(r,t),r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},r.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(po),zo=new Float32Array(3),jo={},Jo=function(t){function r(r){void 0===r&&(r=null);var i=t.call(this)||this;return i._geometry=r||new Go,i._geometry.refCount++,i.shader=null,i.state=ki.for2d(),i._fillStyle=new po,i._lineStyle=new Uo,i._matrix=null,i._holeMode=!1,i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i.pluginName="batch",i._transformID=-1,i.tint=16777215,i.blendMode=e.BLEND_MODES.NORMAL,i}return mo(r,t),Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0!==t[2]?t[2]:1,alignment:void 0!==t[3]?t[3]:.5,native:!!t[4]}}return this.lineTextureStyle(e)},r.prototype.lineTextureStyle=function(t){if("number"==typeof t){nt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var r=arguments,i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5],l=r[6];t={width:i,texture:n,color:o,alpha:s,matrix:a,alignment:u,native:l},Object.keys(t).forEach(function(e){return void 0===t[e]&&delete t[e]})}t=Object.assign({width:0,texture:Dr.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:e.LINE_CAP.BUTT,join:e.LINE_JOIN.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var c=t.width>0&&t.alpha>0;return c?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:c},t)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new wt,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new wt,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},r.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===e&&n===t||r.push(e,t),this},r.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},r.prototype.quadraticCurveTo=function(e,t,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Fo.curveTo(e,t,r,i,n),this},r.prototype.bezierCurveTo=function(e,t,r,i,n,o){return this._initCurve(),Mo.curveTo(e,t,r,i,n,o,this.currentPath.points),this},r.prototype.arcTo=function(e,t,r,i,n){this._initCurve(e,t);var o=this.currentPath.points,s=Co.curveTo(e,t,r,i,n,o);if(s){var a=s.cx,u=s.cy,l=s.radius,c=s.startAngle,h=s.endAngle,f=s.anticlockwise;this.arc(a,u,l,c,h,f)}return this},r.prototype.arc=function(e,t,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=mt:o&&i<=n&&(i+=mt),0===n-i)return this;var s=e+Math.cos(i)*r,a=t+Math.sin(i)*r,u=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var c=Math.abs(l[l.length-2]-s),h=Math.abs(l[l.length-1]-a);c<u&&h<u||l.push(s,a)}else this.moveTo(s,a),l=this.currentPath.points;return Co.arc(s,a,e,t,r,i,n,o,l),this},r.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Dr.WHITE,color:e,alpha:t})},r.prototype.beginTextureFill=function(e){if(e instanceof Dr){nt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments,r=t[0],i=t[1],n=t[2],o=t[3];e={texture:r,color:i,alpha:n,matrix:o},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})}e=Object.assign({texture:Dr.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var s=e.alpha>0;return s?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:s},e)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(e,t,r,i){return this.drawShape(new yt(e,t,r,i))},r.prototype.drawRoundedRect=function(e,t,r,i,n){return this.drawShape(new St(e,t,r,i,n))},r.prototype.drawCircle=function(e,t,r){return this.drawShape(new vt(e,t,r))},r.prototype.drawEllipse=function(e,t,r,i){return this.drawShape(new xt(e,t,r,i))},r.prototype.drawPolygon=function(){for(var e,t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];var n=!0,o=r[0];o.points?(n=o.closeStroke,e=o.points):e=Array.isArray(r[0])?r[0]:r;var s=new wt(e);return s.closeStroke=n,this.drawShape(s),this},r.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.drawStar=function(e,t,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Po(e,t,r,i,n,o))},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===e.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},r.prototype._render=function(e){this.finishPoly();var t=this._geometry,r=e.context.supports.uint32Indices;t.updateBatches(r),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},r.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var i=0;i<r;i++){var n=e.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),u={vertexData:s,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:Ge(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=u}},r.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,r=this.batches.length;t<r;t++){var i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}},r.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),r=this._geometry,i=this.tint,n=this.worldAlpha,o=t.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(var a=0,u=s.length;a<u;a++)this._renderDrawCallDirect(e,r.drawCalls[a])},r.prototype._renderDrawCallDirect=function(e,t){for(var r=t.texArray,i=t.type,n=t.size,o=t.start,s=r.count,a=0;a<s;a++)e.texture.bind(r.elements[a],a);e.geometry.draw(i,n,o)},r.prototype._resolveDirectShader=function(e){var t=this.shader,r=this.pluginName;if(!t){if(!jo[r]){for(var i=e.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Tt,default:qr.from({uSamplers:n},!0)},a=e.plugins[r]._shader.program;jo[r]=new Di(a,s)}t=jo[r]}return t},r.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,r=t.minX,i=t.minY,n=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,r,i,n,o)}},r.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Ge(this.tint,zo),t=0;t<this.batches.length;t++){var r=this.batches[t],i=r._batchRGB,n=(e[0]*i[0]*255<<16)+(e[1]*i[1]*255<<8)+(0|e[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},r.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,r=t.a,i=t.b,n=t.c,o=t.d,s=t.tx,a=t.ty,u=this._geometry.points,l=this.vertexData,c=0,h=0;h<u.length;h+=2){var f=u[h],d=u[h+1];l[c++]=r*f+n*d+s,l[c++]=o*d+i*f+a}}},r.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},r.prototype.setMatrix=function(e){return this._matrix=e,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},r._TEMP_POINT=new Et,r}(jt),Xo=function(e,t){return(Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Ho,Wo=new Et,Vo=new Uint16Array([0,1,2,0,2,3]),Yo=function(t){function r(r){var i=t.call(this)||this;return i._anchor=new At(i._onAnchorUpdate,i,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=e.BLEND_MODES.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=r||Dr.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=Vo,i.pluginName="batch",i.isSprite=!0,i._roundPixels=I.ROUND_PIXELS,i}return function(e,t){function r(){this.constructor=e}Xo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(r,t),r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=et(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=et(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,r=t.a,i=t.b,n=t.c,o=t.d,s=t.tx,a=t.ty,u=this.vertexData,l=e.trim,c=e.orig,h=this._anchor,f=0,d=0,p=0,_=0;if(l?(f=(d=l.x-h._x*c.width)+l.width,p=(_=l.y-h._y*c.height)+l.height):(f=(d=-h._x*c.width)+c.width,p=(_=-h._y*c.height)+c.height),u[0]=r*d+n*_+s,u[1]=o*_+i*d+a,u[2]=r*f+n*_+s,u[3]=o*_+i*f+a,u[4]=r*f+n*p+s,u[5]=o*p+i*f+a,u[6]=r*d+n*p+s,u[7]=o*p+i*d+a,this._roundPixels)for(var m=I.RESOLUTION,b=0;b<u.length;++b)u[b]=Math.round((u[b]*m|0)/m)}},r.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,u=n.d,l=n.tx,c=n.ty,h=-i._x*r.width,f=h+r.width,d=-i._y*r.height,p=d+r.height;t[0]=o*h+a*d+l,t[1]=u*d+s*h+c,t[2]=o*f+a*d+l,t[3]=u*d+s*f+c,t[4]=o*f+a*p+l,t[5]=u*p+s*f+c,t[6]=o*h+a*p+l,t[7]=u*p+s*h+c},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new yt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Wo);var t=this._texture.orig.width,r=this._texture.orig.height,i=-t*this.anchor.x,n=0;return Wo.x>=i&&Wo.x<i+t&&(n=-r*this.anchor.y,Wo.y>=n&&Wo.y<n+r)},r.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},r.from=function(e,t){return new r(e instanceof Dr?e:Dr.from(e,t))},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=et(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=et(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Dr.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(jt),qo=function(e,t){return(qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};(Ho=e.TEXT_GRADIENT||(e.TEXT_GRADIENT={}))[Ho.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",Ho[Ho.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL";var Ko={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:e.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Zo=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Qo=function(){function e(e){this.styleID=0,this.reset(),ts(this,e,e)}return e.prototype.clone=function(){var t={};return ts(t,this,Ko),new e(t)},e.prototype.reset=function(){ts(this,Ko,Ko)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=es(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=es(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=es(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1;r>=0;r--){var i=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Zo.indexOf(i)<0&&(i='"'+i+'"'),t[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function $o(e){return"number"==typeof e?Ue(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function es(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=$o(e[t]);return e}return $o(e)}function ts(e,t,r){for(var i in r)Array.isArray(t[i])?e[i]=t[i].slice():e[i]=t[i]}var rs=function(){function e(e,t,r,i,n,o,s,a,u){this.text=e,this.style=t,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}return e.measureText=function(t,r,i,n){void 0===n&&(n=e._canvas),i=void 0===i||null===i?r.wordWrap:i;var o=r.toFontString(),s=e.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=n.getContext("2d");a.font=o;for(var u=(i?e.wordWrap(t,r,n):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=a.measureText(u[h]).width+(u[h].length-1)*r.letterSpacing;l[h]=f,c=Math.max(c,f)}var d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,_=Math.max(p,s.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new e(t,r,d,_,u,l,p+r.leading,c,s)},e.wordWrap=function(t,r,i){void 0===i&&(i=e._canvas);for(var n=i.getContext("2d"),o=0,s="",a="",u=Object.create(null),l=r.letterSpacing,c=r.whiteSpace,h=e.collapseSpaces(c),f=e.collapseNewlines(c),d=!h,p=r.wordWrapWidth+l,_=e.tokenize(t),m=0;m<_.length;m++){var b=_[m];if(e.isNewline(b)){if(!f){a+=e.addLine(s),d=!h,s="",o=0;continue}b=" "}if(h){var g=e.isBreakingSpace(b),y=e.isBreakingSpace(s[s.length-1]);if(g&&y)continue}var v=e.getFromCache(b,l,u,n);if(v>p)if(""!==s&&(a+=e.addLine(s),s="",o=0),e.canBreakWords(b,r.breakWords))for(var x=e.wordWrapSplit(b),w=0;w<x.length;w++){for(var S=x[w],E=1;x[w+E];){var A=x[w+E],T=S[S.length-1];if(e.canBreakChars(T,A,b,w,r.breakWords))break;S+=A,E++}w+=S.length-1;var P=e.getFromCache(S,l,u,n);P+o>p&&(a+=e.addLine(s),d=!1,s="",o=0),s+=S,o+=P}else{s.length>0&&(a+=e.addLine(s),s="",o=0);var C=m===_.length-1;a+=e.addLine(b,!C),d=!1,s="",o=0}else v+o>p&&(d=!1,a+=e.addLine(s),s="",o=0),(s.length>0||!e.isBreakingSpace(b)||d)&&(s+=b,o+=v)}return a+=e.addLine(s,!1)},e.addLine=function(t,r){return void 0===r&&(r=!0),t=e.trimRight(t),t=r?t+"\n":t},e.getFromCache=function(e,t,r,i){var n=r[e];if("number"!=typeof n){var o=e.length*t;n=i.measureText(e).width+o,r[e]=n}return n},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var r=t.length-1;r>=0;r--){var i=t[r];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],i="";if("string"!=typeof t)return r;for(var n=0;n<t.length;n++){var o=t[n];e.isBreakingSpace(o)||e.isNewline(o)?(""!==i&&(r.push(i),i=""),r.push(o)):i+=o}return""!==i&&r.push(i),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,r,i,n){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},i=e._canvas,n=e._context;n.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(e.BASELINE_SYMBOL).width),u=2*a;a=a*e.BASELINE_MULTIPLIER|0,i.width=s,i.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var l=n.getImageData(0,0,s,u).data,c=l.length,h=4*s,f=0,d=0,p=!1;for(f=0;f<a;++f){for(var _=0;_<h;_+=4)if(255!==l[d+_]){p=!0;break}if(p)break;d+=h}for(r.ascent=a-f,d=c-h,p=!1,f=u;f>a;--f){for(_=0;_<h;_+=4)if(255!==l[d+_]){p=!0;break}if(p)break;d-=h}return r.descent=f-a,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),is=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();is.width=is.height=10,rs._canvas=is,rs._context=is.getContext("2d"),rs._fonts={},rs.METRICS_STRING="|ÉqÅ",rs.BASELINE_SYMBOL="M",rs.BASELINE_MULTIPLIER=1.4,rs._newlines=[10,13],rs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var ns={texture:!0,children:!1,baseTexture:!0},os=function(t){function r(e,r,i){var n=this,o=!1;i||(i=document.createElement("canvas"),o=!0),i.width=3,i.height=3;var s=Dr.from(i);return s.orig=new yt,s.trim=new yt,(n=t.call(this,s)||this)._ownCanvas=o,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=I.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=e,n.style=r,n.localStyleID=-1,n}return function(e,t){function r(){this.constructor=e}qo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(r,t),r.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r,i,n=this.context,o=rs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,u=o.lines,l=o.lineHeight,c=o.lineWidths,h=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*t.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;for(var d=t.dropShadow?2:1,p=0;p<d;++p){var _=t.dropShadow&&0===p,m=_?Math.ceil(Math.max(1,a)+2*t.padding):0,b=m*this._resolution;if(_){n.fillStyle="black",n.strokeStyle="black";var g=t.dropShadowColor,y=Ge("number"==typeof g?g:ze(g));n.shadowColor="rgba("+255*y[0]+","+255*y[1]+","+255*y[2]+","+t.dropShadowAlpha+")",n.shadowBlur=t.dropShadowBlur,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*t.dropShadowDistance+b}else n.fillStyle=this._generateFillStyle(t,u,o),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var v=0;v<u.length;v++)r=t.strokeThickness/2,i=t.strokeThickness/2+v*l+f.ascent,"right"===t.align?r+=h-c[v]:"center"===t.align&&(r+=(h-c[v])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(u[v],r+t.padding,i+t.padding-m,!0),t.fill&&this.drawLetterSpacing(u[v],r+t.padding,i+t.padding-m)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(e,t,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=t,s=Array.from?Array.from(e):e.split(""),a=this.context.measureText(e).width,u=0,l=0;l<s.length;++l){var c=s[l];i?this.context.strokeText(c,o,r):this.context.fillText(c,o,r),o+=a-(u=this.context.measureText(e.substring(l+1)).width)+n,a=u}else i?this.context.strokeText(e,t,r):this.context.fillText(e,t,r)},r.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=lt(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(e.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(e.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},r.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(t,r,i){var n,o=t.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,u=Math.ceil(this.canvas.width/this._resolution)-s-2*a,l=Math.ceil(this.canvas.height/this._resolution)-s-2*a,c=o.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var f=c.length+1,d=1;d<f;++d)h.push(d/f);if(c.unshift(o[0]),h.unshift(0),c.push(o[o.length-1]),h.push(1),t.fillGradientType===e.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(u/2,a,u/2,l+a);var p=0,_=(i.fontProperties.fontSize+t.strokeThickness)/l;for(d=0;d<r.length;d++)for(var m=i.lineHeight*d,b=0;b<c.length;b++){var g=m/l+("number"==typeof h[b]?h[b]:b/c.length)*_,y=Math.max(p,g);y=Math.min(y,1),n.addColorStop(y,c[b]),p=y}}else{n=this.context.createLinearGradient(a,l/2,u+a,l/2);var v=c.length+1,x=1;for(d=0;d<c.length;d++){var w=void 0;w="number"==typeof h[d]?h[d]:x/v,n.addColorStop(w,c[d]),x++}}return n},r.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},ns,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=et(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=et(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof Qo?e:new Qo(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r}(Yo);I.UPLOADS_PER_FRAME=4;var ss=function(e,t){return(ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var as=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function us(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var i=0;i<e._textures.length;i++)if(e._textures[i]instanceof Dr){var n=e._textures[i].baseTexture;-1===t.indexOf(n)&&(t.push(n),r=!0)}return r}function ls(e,t){if(e.baseTexture instanceof mr){var r=e.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function cs(e,t){if(e._texture&&e._texture instanceof Dr){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function hs(e,t){return t instanceof os&&(t.updateText(!0),!0)}function fs(e,t){if(t instanceof Qo){var r=t.toFontString();return rs.measureFont(r),!0}return!1}function ds(e,t){if(e instanceof os){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function ps(e,t){return e instanceof Qo&&(-1===t.indexOf(e)&&t.push(e),!0)}var _s=function(){function t(e){var t=this;this.limiter=new as(I.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(ds),this.registerFindHook(ps),this.registerFindHook(us),this.registerFindHook(ls),this.registerFindHook(cs),this.registerUploadHook(hs),this.registerUploadHook(fs)}return t.prototype.upload=function(t,r){"function"==typeof t&&(r=t,t=null),t&&this.add(t),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,Zt.system.addOnce(this.tick,this,e.UPDATE_PRIORITY.UTILITY))):r&&r()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}r||this.queue.shift()}if(this.queue.length)Zt.system.addOnce(this.tick,this,e.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(i=0,n=o.length;i<n;i++)o[i]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof jt)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},t.prototype.destroy=function(){this.ticking&&Zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function ms(e,t){return t instanceof mr&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function bs(e,t){if(!(t instanceof Jo))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&ms(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function gs(e,t){return e instanceof Jo&&(t.push(e),!0)}var ys=function(e){function t(t){var r=e.call(this,t)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(gs),r.registerUploadHook(ms),r.registerUploadHook(bs),r}return function(e,t){function r(){this.constructor=e}ss(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(_s),vs=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),xs=function(){function e(e,t,r){void 0===r&&(r=null),this._texture=e instanceof Dr?e:null,this.baseTexture=e instanceof mr?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,r=dt(e,null);return null===r&&(r=void 0!==t?parseFloat(t):1),1!==r&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,i=e.BATCH_SIZE;r-t<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],o=this._frames[n],s=o.frame;if(s){var a=null,u=null,l=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new yt(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a=o.rotated?new yt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new yt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(u=new yt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Dr(this.baseTexture,a,c,u,o.rotated?2:0,o.anchor),Dr.addToCache(this.textures[n],n)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var i=e[t][r];this.animations[t].push(this.textures[i])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(e){var t;for(var r in void 0===e&&(e=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),ws=function(){function e(){}return e.use=function(t,r){var i=t.name+"_image";if(t.data&&t.type===Qn.TYPE.JSON&&t.data.frames&&!this.resources[i]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},o=e.getResourcePath(t,this.baseUrl);this.add(i,o,n,function(e){if(e.error)r(e.error);else{var i=new xs(e.texture,t.data,t.url);i.parse(function(){t.spritesheet=i,t.textures=i.textures,r()})}})}else r()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:De.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),Ss=function(e,t){return(Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Es(e,t){function r(){this.constructor=e}Ss(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var As=new Et,Ts=function(e){function t(t,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=e.call(this,t)||this;return n.tileTransform=new Rt,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new Gi(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return Es(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,i)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new yt),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,As);var t=this._width,r=this._height,i=-t*this.anchor._x;if(As.x>=i&&As.x<i+t){var n=-r*this.anchor._y;if(As.y>=n&&As.y<n+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,r){return"number"==typeof r&&(nt("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new t(Dr.from(e,r),r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Yo),Ps="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Cs="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",Ms="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",Fs=new Tt,Is=function(t){function r(e){var r=t.call(this,e)||this,i={globals:r.renderer.globalUniforms};return r.shader=Di.from(Ps,Cs,i),r.simpleShader=Di.from(Ps,Ms,i),r.quad=new Vr,r.state=ki.for2d(),r}return Es(r,t),r.prototype.render=function(t){var r=this.renderer,i=this.quad,n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=i.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),i.invalidate();var o=t._texture,s=o.baseTexture,a=t.tileTransform.localTransform,u=t.uvMatrix,l=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;l&&(s._glTextures[r.CONTEXT_UID]?l=s.wrapMode!==e.WRAP_MODES.CLAMP:s.wrapMode===e.WRAP_MODES.CLAMP&&(s.wrapMode=e.WRAP_MODES.REPEAT));var c=l?this.simpleShader:this.shader,h=o.width,f=o.height,d=t._width,p=t._height;Fs.set(a.a*h/d,a.b*h/p,a.c*f/d,a.d*f/p,a.tx/d,a.ty/p),Fs.invert(),l?Fs.prepend(u.mapCoord):(c.uniforms.uMapCoord=u.mapCoord.toArray(!0),c.uniforms.uClampFrame=u.uClampFrame,c.uniforms.uClampOffset=u.uClampOffset),c.uniforms.uTransform=Fs.toArray(!0),c.uniforms.uColor=We(t.tint,t.worldAlpha,c.uniforms.uColor,s.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=o,r.shader.bind(c),r.geometry.bind(i),this.state.blendMode=Je(t.blendMode,s.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(Qr),Os=function(e,t){return(Os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Ds(e,t){function r(){this.constructor=e}Os(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ks=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),Rs=new Et,Bs=new wt,Ns=function(t){function r(r,i,n,o){void 0===o&&(o=e.DRAW_MODES.TRIANGLES);var s=t.call(this)||this;return s.geometry=r,r.refCount++,s.shader=i,s.state=n||ki.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=0,s._transformID=-1,s._roundPixels=I.ROUND_PIXELS,s.batchUvs=null,s}return Ds(r,t),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),r.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===e.DRAW_MODES.TRIANGLES&&i.length<2*r.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},r.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)},r.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,l=this.vertexData,c=0;c<l.length/2;c++){var h=t[2*c],f=t[2*c+1];l[2*c]=i*h+o*f+a,l[2*c+1]=n*h+s*f+u}if(this._roundPixels){var d=I.RESOLUTION;for(c=0;c<l.length;++c)l[c]=Math.round((l[c]*d|0)/d)}this.vertexDirty=e.vertexDirtyId}},r.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new ks(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Rs);for(var t=this.geometry.getBuffer("aVertexPosition").data,r=Bs.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],u=2*i[s+1],l=2*i[s+2];if(r[0]=t[a],r[1]=t[a+1],r[2]=t[u],r[3]=t[u+1],r[4]=t[l],r[5]=t[l+1],Bs.contains(Rs.x,Rs.y))return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(jt),Ls="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Gs="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",Us=function(e){function t(t,r){var i=this,n={uSampler:t,alpha:1,uTextureMatrix:Tt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=e.call(this,r.program||Oi.from(Gs,Ls),n)||this)._colorDirty=!1,i.uvMatrix=new Gi(t),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return Ds(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;We(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Di),zs=function(t){function r(r,i,n){var o=t.call(this)||this,s=new Gr(r),a=new Gr(i,!0),u=new Gr(n,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,e.TYPES.FLOAT).addAttribute("aTextureCoord",a,2,!1,e.TYPES.FLOAT).addIndex(u),o._updateId=-1,o}return Ds(r,t),Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(Hr),js=function(e,t){return(js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Js=function(){return function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}}(),Xs=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in t){var n=t[i].match(/^[a-z]+/gm)[0],o=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var u=o[a].split("="),l=u[0],c=u[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;s[l]=f}r[n].push(s)}var d=new Js;return r.info.forEach(function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})}),r.common.forEach(function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})}),r.page.forEach(function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})}),r.char.forEach(function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),r.kerning.forEach(function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),d},e}(),Hs=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new Js,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),a=0;a<r.length;a++)t.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)t.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)t.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var u=o[a];t.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)t.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return t},e}(),Ws=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return Hs.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return Hs.parse(t)},e}(),Vs=[Xs,Hs,Ws];function Ys(e){for(var t=0;t<Vs.length;t++)if(Vs[t].test(e))return Vs[t];return null}function qs(t,r,i,n,o,s){var a,u=i.fill;if(!Array.isArray(u))return u;if(1===u.length)return u[0];var l=i.dropShadow?i.dropShadowDistance:0,c=i.padding||0,h=Math.ceil(t.width/n)-l-2*c,f=Math.ceil(t.height/n)-l-2*c,d=u.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var _=d.length+1,m=1;m<_;++m)p.push(m/_);if(d.unshift(u[0]),p.unshift(0),d.push(u[u.length-1]),p.push(1),i.fillGradientType===e.TEXT_GRADIENT.LINEAR_VERTICAL){a=r.createLinearGradient(h/2,c,h/2,f+c);var b=0,g=(s.fontProperties.fontSize+i.strokeThickness)/f;for(m=0;m<o.length;m++)for(var y=s.lineHeight*m,v=0;v<d.length;v++){var x=y/f+("number"==typeof p[v]?p[v]:v/d.length)*g,w=Math.max(b,x);w=Math.min(w,1),a.addColorStop(w,d[v]),b=w}}else{a=r.createLinearGradient(c,f/2,h+c,f/2);var S=d.length+1,E=1;for(m=0;m<d.length;m++){var A=void 0;A="number"==typeof p[m]?p[m]:E/S,a.addColorStop(A,d[m]),E++}}return a}function Ks(e,t,r,i,n,o,s){var a=r.text,u=r.fontProperties;t.translate(i,n),t.scale(o,o);var l=s.strokeThickness/2,c=-s.strokeThickness/2;t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=qs(e,t,s,o,[a],r),t.strokeStyle=s.stroke,t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=qs(e,t,s,o,[a],r),t.strokeStyle=s.stroke;var h=s.dropShadowColor,f=Ge("number"==typeof h?h:ze(h));s.dropShadow?(t.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+s.dropShadowAlpha+")",t.shadowBlur=s.dropShadowBlur,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),s.stroke&&s.strokeThickness&&t.strokeText(a,l,c+r.lineHeight-u.descent),s.fill&&t.fillText(a,l,c+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}var Zs=function(){function e(e,t,r){var i=e.info[0],n=e.common[0],o=dt(e.page[0].file),s={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<e.page.length;a++){var u=e.page[a],l=u.id,c=u.file;s[l]=t instanceof Array?t[a]:t[c]}for(a=0;a<e.char.length;a++){var h=e.char[a],f=(l=h.id,h.page),d=e.char[a],p=d.x,_=d.y,m=d.width,b=d.height,g=d.xoffset,y=d.yoffset,v=d.xadvance;_/=o,m/=o,b/=o,g/=o,y/=o,v/=o;var x=new yt((p/=o)+s[f].frame.x/o,_+s[f].frame.y/o,m,b);this.chars[l]={xOffset:g,yOffset:y,xAdvance:v,kerning:{},texture:new Dr(s[f].baseTexture,x),page:f}}for(a=0;a<e.kerning.length;a++){var w=e.kerning[a],S=w.first,E=w.second,A=w.amount;S/=o,E/=o,A/=o,this.chars[E]&&(this.chars[E].kerning[S]=A)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,i){var n;if(t instanceof Js)n=t;else{var o=Ys(t);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(t)}r instanceof Dr&&(r=[r]);var s=new e(n,r,i);return e.available[s.font]=s,s},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},e.defaultOptions,i),o=n.chars,s=n.padding,a=n.resolution,u=n.textureWidth,l=n.textureHeight,c=function(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,u=s;a<=u;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,n.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),h=r instanceof Qo?r:new Qo(r),f=u,d=new Js;d.info[0]={face:h.fontFamily,size:h.fontSize},d.common[0]={lineHeight:h.fontSize};for(var p,_,m,b=0,g=0,y=0,v=[],x=0;x<c.length;x++){p||((p=document.createElement("canvas")).width=u,p.height=l,_=p.getContext("2d"),m=new mr(p,{resolution:a}),v.push(new Dr(m)),d.page.push({id:v.length-1,file:""}));var w=rs.measureText(c[x],h,!1,p),S=w.width,E=Math.ceil(w.height),A=Math.ceil(("italic"===h.fontStyle?2:1)*S);if(g>=l-E*a){if(0===g)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+h.fontSize+"px fonts");--x,p=null,_=null,m=null,g=0,b=0,y=0}else if(y=Math.max(E+w.fontProperties.descent,y),A*a+b>=f)--x,g+=y*a,g=Math.ceil(g),b=0,y=0;else{Ks(p,_,w,b,g,a,h);var T=w.text.charCodeAt(0);d.char.push({id:T,page:v.length-1,x:b/a,y:g/a,width:A,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(S-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),b+=(A+2*s)*a,b=Math.ceil(b)}}var P=new e(d,v,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=P,P},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),Qs=[],$s=[],ea=function(e){function t(r,i){void 0===i&&(i={});var n=e.call(this)||this;n._tint=16777215,i.font&&(nt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(i));var o=Object.assign({},t.styleDefaults,i),s=o.align,a=o.tint,u=o.maxWidth,l=o.letterSpacing,c=o.fontName,h=o.fontSize;if(!Zs.available[c])throw new Error('Missing BitmapFont "'+c+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=s,n._tint=a,n._fontName=c,n._fontSize=h||Zs.available[c].size,n._text=r,n._maxWidth=u,n._maxLineHeight=0,n._letterSpacing=l,n._anchor=new At(function(){n.dirty=!0},n,0,0),n._roundPixels=I.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}return function(e,t){function r(){this.constructor=e}js(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.updateText=function(){for(var e,t=Zs.available[this._fontName],r=this._fontSize/t.size,i=new Et,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,u=this._maxWidth*t.size/this._fontSize,l=null,c=0,h=0,f=0,d=-1,p=0,_=0,m=0,b=0;b<a;b++){var g=s.charCodeAt(b),y=s.charAt(b);if(/(?:\s)/.test(y)&&(d=b,p=c),"\r"!==y&&"\n"!==y){var v=t.chars[g];if(v){l&&v.kerning[l]&&(i.x+=v.kerning[l]);var x=$s.pop()||{texture:Dr.EMPTY,line:0,charCode:0,position:new Et};x.texture=v.texture,x.line=f,x.charCode=g,x.position.x=i.x+v.xOffset+this._letterSpacing/2,x.position.y=i.y+v.yOffset,n.push(x),i.x+=v.xAdvance+this._letterSpacing,c=i.x,m=Math.max(m,v.yOffset+v.texture.height),l=g,-1!==d&&u>0&&i.x>u&&($e(n,1+d-++_,1+b-d),b=d,d=-1,o.push(p),h=Math.max(h,p),f++,i.x=0,i.y+=t.lineHeight,l=null)}}else o.push(c),h=Math.max(h,c),++f,++_,i.x=0,i.y+=t.lineHeight,l=null}var w=s.charAt(s.length-1);"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(c=p),o.push(c),h=Math.max(h,c));var S=[];for(b=0;b<=f;b++){var E=0;"right"===this._align?E=h-o[b]:"center"===this._align&&(E=(h-o[b])/2),S.push(E)}var A=n.length,T={},P=[],C=this._activePagesMeshData;for(b=0;b<C.length;b++)Qs.push(C[b]);for(b=0;b<A;b++){var M=(L=n[b].texture).baseTexture.uid;if(!T[M]){if(!(H=Qs.pop())){var F=new zs,I=new Us(Dr.EMPTY);H={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Ns(F,I),vertices:null,uvs:null,indices:null}}H.index=0,H.indexCount=0,H.vertexCount=0,H.uvsCount=0,H.total=0;var O=this._textureCache;O[M]=O[M]||new Dr(L.baseTexture),H.mesh.texture=O[M],H.mesh.tint=this._tint,P.push(H),T[M]=H}T[M].total++}for(b=0;b<C.length;b++)-1===P.indexOf(C[b])&&this.removeChild(C[b].mesh);for(b=0;b<P.length;b++)P[b].mesh.parent!==this&&this.addChild(P[b].mesh);for(var b in this._activePagesMeshData=P,T){var D=(H=T[b]).total;if(!((null===(e=H.indices)||void 0===e?void 0:e.length)>6*D)||H.vertices.length<2*Ns.BATCHABLE_SIZE)H.vertices=new Float32Array(8*D),H.uvs=new Float32Array(8*D),H.indices=new Uint16Array(6*D);else for(var k=H.total,R=H.vertices,B=4*k*2;B<R.length;B++)R[B]=0;H.mesh.size=6*D}for(b=0;b<A;b++){var N=(y=n[b]).position.x+S[y.line];this._roundPixels&&(N=Math.round(N));var L,G=N*r,U=y.position.y*r,z=T[(L=y.texture).baseTexture.uid],j=L.frame,J=L._uvs,X=z.index++;z.indices[6*X+0]=0+4*X,z.indices[6*X+1]=1+4*X,z.indices[6*X+2]=2+4*X,z.indices[6*X+3]=0+4*X,z.indices[6*X+4]=2+4*X,z.indices[6*X+5]=3+4*X,z.vertices[8*X+0]=G,z.vertices[8*X+1]=U,z.vertices[8*X+2]=G+j.width*r,z.vertices[8*X+3]=U,z.vertices[8*X+4]=G+j.width*r,z.vertices[8*X+5]=U+j.height*r,z.vertices[8*X+6]=G,z.vertices[8*X+7]=U+j.height*r,z.uvs[8*X+0]=J.x0,z.uvs[8*X+1]=J.y0,z.uvs[8*X+2]=J.x1,z.uvs[8*X+3]=J.y1,z.uvs[8*X+4]=J.x2,z.uvs[8*X+5]=J.y2,z.uvs[8*X+6]=J.x3,z.uvs[8*X+7]=J.y3}for(var b in this._textWidth=h*r,this._textHeight=(i.y+t.lineHeight)*r,T){var H=T[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var W=0,V=this._textWidth*this.anchor.x,Y=this._textHeight*this.anchor.y,q=0;q<H.total;q++)H.vertices[W++]-=V,H.vertices[W++]-=Y,H.vertices[W++]-=V,H.vertices[W++]-=Y,H.vertices[W++]-=V,H.vertices[W++]-=Y,H.vertices[W++]-=V,H.vertices[W++]-=Y;this._maxLineHeight=m*r;var K=H.mesh.geometry.getBuffer("aVertexPosition"),Z=H.mesh.geometry.getBuffer("aTextureCoord"),Q=H.mesh.geometry.getIndex();K.data=H.vertices,Z.data=H.uvs,Q.data=H.indices,K.update(),Z.update(),Q.update()}for(b=0;b<n.length;b++)$s.push(n[b])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Zs.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.prototype.destroy=function(t){var r=this._textureCache;for(var i in r){r[i].destroy(),delete r[i]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.registerFont=function(e,t){return nt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Zs.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return nt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Zs.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(jt),ta=function(){function e(){}return e.add=function(){Qn.setExtensionXhrType("fnt",Qn.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var i=Ys(t.data);if(i)for(var n=e.getBaseUrl(this,t),o=i.parse(t.data),s={},a=function(e){s[e.metadata.pageFile]=e.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=Zs.install(o,s,!0),r())},u=0;u<o.page.length;++u){var l=o.page[u].file,c=n+l,h=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===c){d.metadata.pageFile=l,d.texture?a(d):d.onAfterMiddleware.add(a),h=!0;break}}if(!h){var p={crossOrigin:t.crossOrigin,loadType:Qn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(c,p,a)}}else r()},e.getBaseUrl=function(t,r){var i=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),ra=function(e,t){return(ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var ia="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",na=function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,mn,ia,{uAlpha:1})||this;return r.alpha=t,r}return function(e,t){function r(){this.constructor=e}ra(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Ri),oa=function(e,t){return(oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function sa(e,t){function r(){this.constructor=e}oa(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var aa="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var ua,la,ca,ha,fa,da,pa,_a,ma,ba,ga,ya,va,xa,wa,Sa,Ea,Aa={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ta=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ua||(ua={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(la||(la={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(ca||(ca={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(ha||(ha={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(fa||(fa={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(da||(da={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(pa||(pa={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(_a||(_a={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(ma||(ma={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(ba||(ba={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(ga||(ga={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(ya||(ya={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(va||(va={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(xa||(xa={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(wa||(wa={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Sa||(Sa={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Ea||(Ea={}));var Pa=function(e){function t(t,r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=I.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(e,t){var r,i=Math.ceil(e/2),n=aa,o="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",e.toString())}(o,t),u=function(e){for(var t,r=Aa[e],i=r.length,n=Ta,o="",s=0;s<e;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());t=s,s>=i&&(t=e-s-1),o+=a=a.replace("%value%",r[t].toString()),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",e.toString())}(o);return(s=e.call(this,a,u)||this).horizontal=t,s.resolution=n,s._quality=0,s.quality=i,s.blur=r,s}return sa(t,e),t.prototype.apply=function(e,t,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,i);else{var n=e.getFilterTexture(),o=e.renderer,s=t,a=n;this.state.blend=!1,e.applyFilter(this,s,a,va.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(s,va.BLIT),this.uniforms.uSampler=a;var l=a;a=s,s=l,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,a,r,i),e.returnFilterTexture(n)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Ri),Ca=function(e){function t(t,r,i,n){void 0===t&&(t=8),void 0===r&&(r=4),void 0===i&&(i=I.FILTER_RESOLUTION),void 0===n&&(n=5);var o=e.call(this)||this;return o.blurXFilter=new Pa(!0,t,r,i,n),o.blurYFilter=new Pa(!1,t,r,i,n),o.resolution=i,o.quality=r,o.blur=t,o.repeatEdgePixels=!1,o}return sa(t,e),t.prototype.apply=function(e,t,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=e.getFilterTexture();this.blurXFilter.apply(e,t,s,va.CLEAR),this.blurYFilter.apply(e,s,r,i),e.returnFilterTexture(s)}else o?this.blurYFilter.apply(e,t,r,i):this.blurXFilter.apply(e,t,r,i)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Ri),Ma=function(e,t){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Fa="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",Ia=function(e){function t(){var t=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,bn,Fa,r)||this).alpha=1,t}return function(e,t){function r(){this.constructor=e}Ma(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.greyscale=function(e,t){var r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),i=Math.sin(e),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var r=2*e/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,i,n){e=e||.2,t=t||.15;var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((i=i||3375104)>>16&255)/255,l=(i>>8&255)/255,c=(255&i)/255,h=[.3,.59,.11,0,0,o,s,a,e,0,u,l,c,t,0,o-u,s-l,a-c,0,0];this._loadMatrix(h,n)},t.prototype.night=function(e,t){var r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){var r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Ri);Ia.prototype.grayscale=Ia.prototype.greyscale;var Oa=function(e,t){return(Oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Da="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",ka="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",Ra=function(e){function t(t,r){var i=this,n=new Tt;return t.renderable=!1,(i=e.call(this,ka,Da,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,i.maskMatrix=n,null!==r&&void 0!==r||(r=20),i.scale=new Et(r,r),i}return function(e,t){function r(){this.constructor=e}Oa(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.apply=function(e,t,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),e.applyFilter(this,t,r,i)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(Ri),Ba=function(e,t){return(Ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var Na="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",La='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Ga=function(e){function t(){return e.call(this,Na,La)||this}return function(e,t){function r(){this.constructor=e}Ba(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Ri),Ua=function(e,t){return(Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var za="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",ja=function(e){function t(t,r){void 0===t&&(t=.5),void 0===r&&(r=Math.random());var i=e.call(this,bn,za,{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=r,i}return function(e,t){function r(){this.constructor=e}Ua(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(Ri),Ja=new Tt;Gt.prototype._cacheAsBitmap=!1,Gt.prototype._cacheData=null;var Xa=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}();Object.defineProperties(Gt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Xa),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Gt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},Gt.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(I.RESOLUTION);var n=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,u=Rr.create({width:r.width,height:r.height}),l="cacheAsBitmap_"+rt();this._cacheData.textureCacheId=l,mr.addToCache(u.baseTexture,l),Dr.addToCache(u,l);var c=this.transform.localTransform.copyTo(Ja).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,u,!0,c,!1),e.projection.transform=a,e.renderTexture.bind(n,o,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Yo(u);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-r.x/r.width,h.anchor.y=-r.y/r.height,h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)}},Gt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},Gt.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.context,n=e._projTransform;t.ceil(I.RESOLUTION);var o=Rr.create({width:t.width,height:t.height}),s="cacheAsBitmap_"+rt();this._cacheData.textureCacheId=s,mr.addToCache(o.baseTexture,s),Dr.addToCache(o,s);var a=Ja;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=t.x,a.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,o,!0,a,!1),e.context=i,e._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new Yo(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-t.x/t.width,u.anchor.y=-t.y/t.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},Gt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Gt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Gt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,mr.removeFromCache(this._cacheData.textureCacheId),Dr.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Gt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},Gt.prototype.name=null,jt.prototype.getChildByName=function(e,t){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(t)for(r=0,i=this.children.length;r<i;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(e,!0);if(n)return n}}return null},Gt.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Et),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Ha=function(e,t){return(Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function Wa(e,t){function r(){this.constructor=e}Ha(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Va="5.0.0";var Ya=function(e,t){return(Ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function qa(e,t){function r(){this.constructor=e}Ya(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Ka=function(e){function t(t,r,i,n){void 0===t&&(t=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var o=e.call(this)||this;return o.segWidth=i,o.segHeight=n,o.width=t,o.height=r,o.build(),o}return qa(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,u=0;u<e;u++){var l=u%this.segWidth,c=u/this.segWidth|0;t.push(l*s,c*a),r.push(l/n,c/o)}var h=n*o;for(u=0;u<h;u++){var f=u%n,d=u/n|0,p=d*this.segWidth+f,_=d*this.segWidth+f+1,m=(d+1)*this.segWidth+f,b=(d+1)*this.segWidth+f+1;i.push(p,_,m,_,b,m)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(zs),Za=function(e){function t(t,r,i){void 0===t&&(t=200),void 0===i&&(i=0);var n=e.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=t,n.textureScale=i,n.build(),n}return qa(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),i.data=new Uint16Array(6*(e.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=e[0],u=this._width*this.textureScale,l=e.length,c=0;c<l;c++){var h=4*c;if(this.textureScale>0){var f=a.x-e[c].x,d=a.y-e[c].y,p=Math.sqrt(f*f+d*d);a=e[c],s+=p/u}else s=c/(l-1);n[h]=s,n[h+1]=0,n[h+2]=s,n[h+3]=1}var _=0;for(c=0;c<l-1;c++){h=2*c;o[_++]=h,o[_++]=h+1,o[_++]=h+2,o[_++]=h+2,o[_++]=h+1,o[_++]=h+3}r.update(),i.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,r=e[0],i=0,n=0,o=this.buffers[0].data,s=e.length,a=0;a<s;a++){var u=e[a],l=4*a;n=-((t=a<e.length-1?e[a+1]:u).x-r.x),i=t.y-r.y;var c=Math.sqrt(i*i+n*n),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=c,n/=c,i*=h,n*=h,o[l]=u.x+i,o[l+1]=u.y+n,o[l+2]=u.x-i,o[l+3]=u.y-n,r=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(zs),Qa=function(t){function r(r,i,n){void 0===n&&(n=0);var o=this,s=new Za(r.height,i,n),a=new Us(r);return n>0&&(r.baseTexture.wrapMode=e.WRAP_MODES.REPEAT),(o=t.call(this,s,a)||this).autoUpdate=!0,o}return qa(r,t),r.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},r}(Ns),$a=function(e){function t(t,r,i){var n=this,o=new Ka(t.width,t.height,r,i),s=new Us(Dr.WHITE);return(n=e.call(this,o,s)||this).texture=t,n}return qa(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(Ns),eu=function(e){function t(t,r,i,n,o){void 0===t&&(t=Dr.EMPTY);var s=this,a=new zs(r,i,n);a.getBuffer("aVertexPosition").static=!1;var u=new Us(t);return(s=e.call(this,a,u,null,o)||this).autoUpdate=!0,s}return qa(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Ns),tu=10,ru=function(e){function t(t,r,i,n,o){void 0===r&&(r=tu),void 0===i&&(i=tu),void 0===n&&(n=tu),void 0===o&&(o=tu);var s=e.call(this,Dr.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=n,s._topHeight=i,s._bottomHeight=o,s.texture=t,s}return qa(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(t,i)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}($a),iu=function(e,t){return(iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var nu=function(t){function r(e,r){void 0===r&&(r=!0);var i=t.call(this,e[0]instanceof Dr?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return function(e,t){function r(){this.constructor=e}iu(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(r,t),r.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zt.shared.add(this.update,this,e.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var t=[],i=0;i<e.length;++i)t.push(Dr.from(e[i]));return new r(t)},r.fromImages=function(e){for(var t=[],i=0;i<e.length;++i)t.push(Dr.from(e[i]));return new r(t)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Dr)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r}(Yo);pn.registerPlugin("accessibility",qt),pn.registerPlugin("extract",In),pn.registerPlugin("interaction",ar),pn.registerPlugin("particle",ho),pn.registerPlugin("prepare",ys),pn.registerPlugin("batch",Pn),pn.registerPlugin("tilingSprite",Is),to.registerPlugin(ta),to.registerPlugin(ws),Cn.registerPlugin(Qt),Cn.registerPlugin(ro);var ou={AlphaFilter:na,BlurFilter:Ca,BlurFilterPass:Pa,ColorMatrixFilter:Ia,DisplacementFilter:Ra,FXAAFilter:Ga,NoiseFilter:ja};return e.AbstractBatchRenderer=xn,e.AbstractRenderer=dn,e.AccessibilityManager=qt,e.AnimatedSprite=nu,e.AppLoaderPlugin=ro,e.Application=Cn,e.Attribute=Nr,e.BasePrepare=_s,e.BaseRenderTexture=Fr,e.BaseTexture=mr,e.BatchDrawCall=gn,e.BatchGeometry=Sn,e.BatchPluginFactory=Tn,e.BatchRenderer=Pn,e.BatchShaderGenerator=wn,e.BatchTextureArray=yn,e.BitmapFont=Zs,e.BitmapFontData=Js,e.BitmapFontLoader=ta,e.BitmapText=ea,e.Bounds=Bt,e.Buffer=Gr,e.Circle=vt,e.Container=jt,e.CountLimiter=as,e.DEG_TO_RAD=gt,e.DisplayObject=Gt,e.Ellipse=xt,e.Extract=In,e.FillStyle=po,e.Filter=Ri,e.FilterState=Kr,e.Framebuffer=Mr,e.GLFramebuffer=ri,e.GLProgram=Zi,e.GLTexture=ln,e.GRAPHICS_CURVES=fo,e.Geometry=Hr,e.Graphics=Jo,e.GraphicsData=Bo,e.GraphicsGeometry=Go,e.IGLUniformData=Ki,e.InteractionData=$t,e.InteractionEvent=tr,e.InteractionManager=ar,e.InteractionTrackingData=rr,e.LineStyle=Uo,e.Loader=to,e.LoaderResource=Qn,e.MaskData=ui,e.Matrix=Tt,e.Mesh=Ns,e.MeshBatchUvs=ks,e.MeshGeometry=zs,e.MeshMaterial=Us,e.NineSlicePlane=ru,e.ObjectRenderer=Qr,e.ObservablePoint=At,e.PI_2=mt,e.ParticleContainer=ao,e.ParticleRenderer=ho,e.PlaneGeometry=Ka,e.Point=Et,e.Polygon=wt,e.Prepare=ys,e.Program=Oi,e.Quad=Wr,e.QuadUv=Vr,e.RAD_TO_DEG=bt,e.Rectangle=yt,e.RenderTexture=Rr,e.RenderTexturePool=Br,e.Renderer=pn,e.RopeGeometry=Za,e.RoundedRectangle=St,e.Runner=ur,e.Shader=Di,e.SimpleMesh=eu,e.SimplePlane=$a,e.SimpleRope=Qa,e.Sprite=Yo,e.SpriteMaskFilter=Ui,e.Spritesheet=xs,e.SpritesheetLoader=ws,e.State=ki,e.System=Pr,e.TemporaryDisplayObject=Ut,e.Text=os,e.TextMetrics=rs,e.TextStyle=Qo,e.Texture=Dr,e.TextureLoader=eo,e.TextureMatrix=Gi,e.TextureUvs=Ir,e.Ticker=Zt,e.TickerPlugin=Qt,e.TilingSprite=Ts,e.TilingSpriteRenderer=Is,e.TimeLimiter=vs,e.Transform=Rt,e.UniformGroup=qr,e.VERSION="5.3.10",e.ViewableBuffer=vn,e.accessibleTarget=Jt,e.autoDetectRenderer=_n,e.checkMaxIfStatementsInShader=Mi,e.defaultFilterVertex=bn,e.defaultVertex=mn,e.filters=ou,e.graphicsUtils=Ro,e.groupD8=kt,e.interactiveTarget=nr,e.isMobile=F,e.resources=Tr,e.settings=I,e.systems=hn,e.uniformParsers=Si,e.useDeprecated=function(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return nt(Va,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return nt(Va,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return nt(Va,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return nt(Va,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return nt(Va,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return nt(Va,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return nt(Va,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return nt(Va,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return nt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return nt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return nt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return nt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return nt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return nt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return nt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return nt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return nt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return nt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return nt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return nt(Va,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return nt(Va,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return nt(Va,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return nt(Va,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(t,r,i){return nt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(t,{width:r,height:i})},e.TilingSprite.fromImage=function(t,r,i,n){return void 0===n&&(n={}),nt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),n.width=r,n.height=i,e.TilingSprite.from(t,n)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return nt(Va,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return nt(Va,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return nt(Va,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return nt(Va,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return nt(Va,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return nt(Va,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return nt(Va,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return nt(Va,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return nt(Va,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return nt(Va,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return nt(Va,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return nt(Va,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return nt(Va,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return nt(Va,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return nt(Va,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){nt(Va,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return nt(Va,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return nt(Va,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return nt(Va,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})};var t=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(e.Loader.prototype,{on:function(e){var r=t(e);nt(Va,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+r+".add")},once:function(e){var r=t(e);nt(Va,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+r+".once")},off:function(e){var r=t(e);nt(Va,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+r+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return nt(Va,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return nt(Va,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){nt(Va,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){nt(Va,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){nt(Va,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){nt(Va,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return nt(Va,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){nt(Va,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var r=e.BaseTexture;r.prototype.loadSource=function(t){nt(Va,"PIXI.BaseTexture.loadSource method has been deprecated");var r=e.resources.autoDetectResource(t);r.internal=!0,this.setResource(r),this.update()};var i=!1;Object.defineProperties(r.prototype,{hasLoaded:{get:function(){return nt(Va,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return nt(Va,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(e=this.resource)||void 0===e?void 0:e.url},set:function(e){nt(Va,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return nt(Va,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){nt(Va,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return nt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){nt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return i||(nt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),i=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),r.fromImage=function(e,t,i,n){nt(Va,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:t};return r.from(e,{scaleMode:i,resourceOptions:o})},r.fromCanvas=function(e,t){return nt(Va,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),r.from(e,{scaleMode:t})},r.fromSVG=function(e,t,i,n){nt(Va,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:t};return r.from(e,{scaleMode:i,resourceOptions:o})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return nt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){nt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return nt(Va,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return nt(Va,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return nt(Va,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return nt(Va,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return nt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return nt(Va,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,t)},returnRenderTarget:function(e){nt(Va,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){nt(Va,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return t.translate(i.x/n.width,i.y/n.height),t.scale(n.width,n.height),t},calculateNormalizedScreenSpaceMatrix:function(e){nt(Va,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,r=t.sourceFrame,i=t.destinationFrame,n=e.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return nt(Va,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return nt(Va,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var n=function(e){function t(t,r,i,n){return nt(Va,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,r,i,n)||this}return Wa(t,e),t}(e.filters.BlurFilterPass),o=function(e){function t(t,r,i,n){return nt(Va,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,r,i,n)||this}return Wa(t,e),t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:n,BlurYFilter:o});var s=e.Sprite,a=e.Texture,u=e.Graphics;function l(e,t,r,i){return nt(Va,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),s.from(t,{resourceOptions:{scale:i,crossorigin:r}})}function c(e,t,r,i){return nt(Va,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),a.from(t,{resourceOptions:{scale:i,crossorigin:r}})}u.prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){nt(Va,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return nt(Va,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),s.fromImage=l.bind(null,"fromImage"),s.fromSVG=l.bind(null,"fromSVG"),s.fromCanvas=l.bind(null,"fromCanvas"),s.fromVideo=l.bind(null,"fromVideo"),s.fromFrame=l.bind(null,"fromFrame"),a.fromImage=c.bind(null,"fromImage"),a.fromSVG=c.bind(null,"fromSVG"),a.fromCanvas=c.bind(null,"fromCanvas"),a.fromVideo=c.bind(null,"fromVideo"),a.fromFrame=c.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return nt(Va,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){nt(Va,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return nt(Va,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){nt(Va,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){nt(Va,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){nt(Va,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return nt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){if(nt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t){var r={font:t};this._upgradeStyle(r),r.fontSize=r.fontSize||e.BitmapFont.available[r.fontName].size,this._fontName=r.fontName,this._fontSize=r.fontSize,this.dirty=!0}}})},e.utils=_t,e}({});PIXI.useDeprecated(),function(e){e.PIXI.default=PIXI,e.liquidfunReady=!1,e.Module=e.Module||{},e.Module.onRuntimeInitialized=function(){e.liquidfunReady=!0}}(window),this.PIXI=this.PIXI||{},this.PIXI.sound=function(e,t,r,i){"use strict";var n=function(){function e(e,t){this._output=t,this._input=e}return Object.defineProperty(e.prototype,"destination",{get:function(){return this._input},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(e){var t=this;if(this._filters&&(this._filters.forEach(function(e){e&&e.disconnect()}),this._filters=null,this._input.connect(this._output)),e&&e.length){this._filters=e.slice(0),this._input.disconnect();var r=null;e.forEach(function(e){null===r?t._input.connect(e.destination):r.connect(e.destination),r=e}),r.connect(this._output)}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},e}(),o=function(){function e(e,t){this.init(e,t)}return e.prototype.init=function(e,t){this.destination=e,this.source=t||e},e.prototype.connect=function(e){this.source.connect(e)},e.prototype.disconnect=function(){this.source.disconnect()},e.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},e}(),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function a(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u,l=function(){return(l=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function c(){return u}var h,f,d,p,_=function(){function e(){}return e.setParamValue=function(e,t){if(e.setValueAtTime){var r=c().context;e.setValueAtTime(t,r.audioContext.currentTime)}else e.value=t;return t},e}(),m=0,b=function(e){function r(t){var r=e.call(this)||this;return r.id=m++,r._media=null,r._paused=!1,r._muted=!1,r._elapsed=0,r.init(t),r}return a(r,e),r.prototype.set=function(e,t){if(void 0===this[e])throw new Error("Property with name "+e+" does not exist.");return this[e]=t,this},r.prototype.stop=function(){this._source&&(this._internalStop(),this.emit("stop"))},Object.defineProperty(r.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed=e,this.refresh(),this._update(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"volume",{get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"muted",{get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){if(this._source){var e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;var r=e.volume*(e.muted?0:1),i=t.volume*(t.muted?0:1),n=this._volume*(this._muted?0:1);_.setParamValue(this._gain.gain,n*i*r),_.setParamValue(this._source.playbackRate,this._speed*t.speed*e.speed)}},r.prototype.refreshPaused=function(){var e=this._media.context,t=this._media.parent,r=this._paused||t.paused||e.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",r))},r.prototype.play=function(e){var t=e.start,r=e.end,i=e.speed,n=e.loop,o=e.volume,s=e.muted;this._paused=!1;var a=this._media.nodes.cloneBufferSource(),u=a.source,l=a.gain;this._source=u,this._gain=l,this._speed=i,this._volume=o,this._loop=!!n,this._muted=s,this.refresh();var c=this._source.buffer.duration;this._duration=c,this._end=r,this._lastUpdate=this._now(),this._elapsed=t,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=r,this._source.loopStart=t,this._source.start(0,t)):r?this._source.start(0,t,r-t):this._source.start(0,t),this.emit("start"),this._update(!0),this._enabled=!0},r.prototype._toSec=function(e){return e>10&&(e/=1e3),e||0},Object.defineProperty(r.prototype,"_enabled",{set:function(e){t.Ticker.shared.remove(this._updateListener,this),e&&t.Ticker.shared.add(this._updateListener,this)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paused",{get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()},enumerable:!0,configurable:!0}),r.prototype.destroy=function(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},r.prototype.toString=function(){return"[WebAudioInstance id="+this.id+"]"},r.prototype._now=function(){return this._media.context.audioContext.currentTime},r.prototype._updateListener=function(){this._update()},r.prototype._update=function(e){if(void 0===e&&(e=!1),this._source){var t=this._now(),r=t-this._lastUpdate;if(r>0||e){var i=this._source.playbackRate.value;this._elapsed+=r*i,this._lastUpdate=t;var n=this._duration,o=void 0;if(this._source.loopStart){var s=this._source.loopEnd-this._source.loopStart;o=(this._source.loopStart+this._elapsed%s)/n}else o=this._elapsed%n/n;this._progress=o,this.emit("progress",this._progress,n)}}},r.prototype.init=function(e){this._media=e,e.context.events.on("refresh",this.refresh,this),e.context.events.on("refreshPaused",this.refreshPaused,this)},r.prototype._internalStop=function(){this._source&&(this._enabled=!1,this._source.onended=null,this._source.stop(0),this._source.disconnect(),this._source=null)},r.prototype._onComplete=function(){this._source&&(this._enabled=!1,this._source.onended=null,this._source.disconnect()),this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)},r}(r.EventEmitter),g=function(e){function t(t){var r=this,i=t.audioContext,n=i.createBufferSource(),o=i.createGain(),s=i.createAnalyser();return n.connect(s),s.connect(o),o.connect(t.destination),(r=e.call(this,s,o)||this).context=t,r.bufferSource=n,r.gain=o,r.analyser=s,r}return a(t,e),Object.defineProperty(t.prototype,"script",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(t.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},t.prototype.cloneBufferSource=function(){var e=this.bufferSource,t=this.context.audioContext.createBufferSource();t.buffer=e.buffer,_.setParamValue(t.playbackRate,e.playbackRate.value),t.loop=e.loop;var r=this.context.audioContext.createGain();return t.connect(r),r.connect(this.destination),{source:t,gain:r}},Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this.script.bufferSize},enumerable:!0,configurable:!0}),t.BUFFER_SIZE=0,t}(n),y=function(){function e(){}return e.prototype.init=function(e){this.parent=e,this._nodes=new g(this.context),this._source=this._nodes.bufferSource,this.source=e.options.source},e.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null,this._source=null,this.source=null},e.prototype.create=function(){return new b(this)},Object.defineProperty(e.prototype,"context",{get:function(){return this.parent.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayable",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._nodes.filters},set:function(e){this._nodes.filters=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._source.buffer.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._source.buffer},set:function(e){this._source.buffer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),e.prototype.load=function(e){this.source?this._decode(this.source,e):this.parent.url?this._loadUrl(e):e&&e(new Error("sound.url or sound.source must be set"))},e.prototype._loadUrl=function(e){var t=this,r=new XMLHttpRequest,i=this.parent.url;r.open("GET",i,!0),r.responseType="arraybuffer",r.onload=function(){t.source=r.response,t._decode(r.response,e)},r.send()},e.prototype._decode=function(e,t){var r=this;this.parent.context.decode(e,function(e,i){if(e)t&&t(e);else{r.parent.isLoaded=!0,r.buffer=i;var n=r.parent.autoPlayStart();t&&t(null,r.parent,n)}})},e}(),v=function(e){function t(){var i=this,n=window,o=new t.AudioContext,s=o.createDynamicsCompressor(),a=o.createAnalyser();return a.connect(s),s.connect(o.destination),(i=e.call(this,a,s)||this)._ctx=o,i._offlineCtx=new t.OfflineAudioContext(1,2,n.OfflineAudioContext?o.sampleRate:44100),i._unlocked=!1,i.compressor=s,i.analyser=a,i.events=new r.EventEmitter,i.volume=1,i.speed=1,i.muted=!1,i.paused=!1,"running"!==o.state&&(i._unlock(),i._unlock=i._unlock.bind(i),document.addEventListener("mousedown",i._unlock,!0),document.addEventListener("touchstart",i._unlock,!0),document.addEventListener("touchend",i._unlock,!0)),i}return a(t,e),t.prototype._unlock=function(){this._unlocked||(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._unlocked=!0))},t.prototype.playEmptySound=function(){var e=this._ctx.createBufferSource();e.buffer=this._ctx.createBuffer(1,1,22050),e.connect(this._ctx.destination),e.start(0,0,0),"suspended"===e.context.state&&e.context.resume()},Object.defineProperty(t,"AudioContext",{get:function(){var e=window;return e.AudioContext||e.webkitAudioContext||null},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OfflineAudioContext",{get:function(){var e=window;return e.OfflineAudioContext||e.webkitOfflineAudioContext||null},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){e.prototype.destroy.call(this);var t=this._ctx;void 0!==t.close&&t.close(),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(t.prototype,"audioContext",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offlineContext",{get:function(){return this._offlineCtx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(e){e&&"running"===this._ctx.state?this._ctx.suspend():e||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=e},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){this.events.emit("refresh")},t.prototype.refreshPaused=function(){this.events.emit("refreshPaused")},t.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},t.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},t.prototype.decode=function(e,t){this._offlineCtx.decodeAudioData(e,function(e){t(null,e)},function(e){t(new Error(e.message||"Unable to decode file"))})},t}(n),x={WebAudioMedia:y,WebAudioInstance:b,WebAudioNodes:g,WebAudioContext:v,WebAudioUtils:_},w={Filter:o,EqualizerFilter:function(e){function t(r,i,n,o,s,a,u,l,h,f){void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),void 0===l&&(l=0),void 0===h&&(h=0),void 0===f&&(f=0);var d=this;if(!c().useLegacy){var p=[{f:t.F32,type:"lowshelf",gain:r},{f:t.F64,type:"peaking",gain:i},{f:t.F125,type:"peaking",gain:n},{f:t.F250,type:"peaking",gain:o},{f:t.F500,type:"peaking",gain:s},{f:t.F1K,type:"peaking",gain:a},{f:t.F2K,type:"peaking",gain:u},{f:t.F4K,type:"peaking",gain:l},{f:t.F8K,type:"peaking",gain:h},{f:t.F16K,type:"highshelf",gain:f}].map(function(e){var t=c().context.audioContext.createBiquadFilter();return t.type=e.type,_.setParamValue(t.Q,1),t.frequency.value=e.f,_.setParamValue(t.gain,e.gain),t});(d=e.call(this,p[0],p[p.length-1])||this).bands=p,d.bandsMap={};for(var m=0;m<d.bands.length;m++){var b=d.bands[m];m>0&&d.bands[m-1].connect(b),d.bandsMap[b.frequency.value]=b}return d}d=e.call(this,null)||this}return a(t,e),t.prototype.setGain=function(e,t){if(void 0===t&&(t=0),!this.bandsMap[e])throw new Error("No band found for frequency "+e);_.setParamValue(this.bandsMap[e].gain,t)},t.prototype.getGain=function(e){if(!this.bandsMap[e])throw new Error("No band found for frequency "+e);return this.bandsMap[e].gain.value},Object.defineProperty(t.prototype,"f32",{get:function(){return this.getGain(t.F32)},set:function(e){this.setGain(t.F32,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f64",{get:function(){return this.getGain(t.F64)},set:function(e){this.setGain(t.F64,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f125",{get:function(){return this.getGain(t.F125)},set:function(e){this.setGain(t.F125,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f250",{get:function(){return this.getGain(t.F250)},set:function(e){this.setGain(t.F250,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f500",{get:function(){return this.getGain(t.F500)},set:function(e){this.setGain(t.F500,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f1k",{get:function(){return this.getGain(t.F1K)},set:function(e){this.setGain(t.F1K,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f2k",{get:function(){return this.getGain(t.F2K)},set:function(e){this.setGain(t.F2K,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f4k",{get:function(){return this.getGain(t.F4K)},set:function(e){this.setGain(t.F4K,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f8k",{get:function(){return this.getGain(t.F8K)},set:function(e){this.setGain(t.F8K,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"f16k",{get:function(){return this.getGain(t.F16K)},set:function(e){this.setGain(t.F16K,e)},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.bands.forEach(function(e){_.setParamValue(e.gain,0)})},t.prototype.destroy=function(){this.bands.forEach(function(e){e.disconnect()}),this.bands=null,this.bandsMap=null},t.F32=32,t.F64=64,t.F125=125,t.F250=250,t.F500=500,t.F1K=1e3,t.F2K=2e3,t.F4K=4e3,t.F8K=8e3,t.F16K=16e3,t}(o),DistortionFilter:function(e){function t(t){void 0===t&&(t=0);var r=this;if(!c().useLegacy){var i=c().context.audioContext.createWaveShaper();return(r=e.call(this,i)||this)._distortion=i,r.amount=t,r}r=e.call(this,null)||this}return a(t,e),Object.defineProperty(t.prototype,"amount",{get:function(){return this._amount},set:function(e){e*=1e3,this._amount=e;for(var t,r=new Float32Array(44100),i=Math.PI/180,n=0;n<44100;++n)t=2*n/44100-1,r[n]=(3+e)*t*20*i/(Math.PI+e*Math.abs(t));this._distortion.curve=r,this._distortion.oversample="4x"},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._distortion=null,e.prototype.destroy.call(this)},t}(o),StereoFilter:function(e){function t(t){void 0===t&&(t=0);var r=this;if(!c().useLegacy){var i,n,o,s=c().context.audioContext;return s.createStereoPanner?o=i=s.createStereoPanner():((n=s.createPanner()).panningModel="equalpower",o=n),(r=e.call(this,o)||this)._stereo=i,r._panner=n,r.pan=t,r}r=e.call(this,null)||this}return a(t,e),Object.defineProperty(t.prototype,"pan",{get:function(){return this._pan},set:function(e){this._pan=e,this._stereo?_.setParamValue(this._stereo.pan,e):this._panner.setPosition(e,0,1-Math.abs(e))},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){e.prototype.destroy.call(this),this._stereo=null,this._panner=null},t}(o),ReverbFilter:function(e){function t(t,r,i){void 0===t&&(t=3),void 0===r&&(r=2),void 0===i&&(i=!1);var n=this;if(!c().useLegacy)return(n=e.call(this,null)||this)._seconds=n._clamp(t,1,50),n._decay=n._clamp(r,0,100),n._reverse=i,n._rebuild(),n;n=e.call(this,null)||this}return a(t,e),t.prototype._clamp=function(e,t,r){return Math.min(r,Math.max(t,e))},Object.defineProperty(t.prototype,"seconds",{get:function(){return this._seconds},set:function(e){this._seconds=this._clamp(e,1,50),this._rebuild()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decay",{get:function(){return this._decay},set:function(e){this._decay=this._clamp(e,0,100),this._rebuild()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverse",{get:function(){return this._reverse},set:function(e){this._reverse=e,this._rebuild()},enumerable:!0,configurable:!0}),t.prototype._rebuild=function(){for(var e,t=c().context.audioContext,r=t.sampleRate,i=r*this._seconds,n=t.createBuffer(2,i,r),o=n.getChannelData(0),s=n.getChannelData(1),a=0;a<i;a++)e=this._reverse?i-a:a,o[a]=(2*Math.random()-1)*Math.pow(1-e/i,this._decay),s[a]=(2*Math.random()-1)*Math.pow(1-e/i,this._decay);var u=c().context.audioContext.createConvolver();u.buffer=n,this.init(u)},t}(o),MonoFilter:function(e){function t(){var t=this;if(!c().useLegacy){var r=c().context.audioContext,i=r.createChannelSplitter(),n=r.createChannelMerger();return n.connect(i),(t=e.call(this,n,i)||this)._merger=n,t}t=e.call(this,null)||this}return a(t,e),t.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,e.prototype.destroy.call(this)},t}(o),TelephoneFilter:function(e){function t(){if(!c().useLegacy){var t=c().context.audioContext,r=t.createBiquadFilter(),i=t.createBiquadFilter(),n=t.createBiquadFilter(),o=t.createBiquadFilter();return r.type="lowpass",_.setParamValue(r.frequency,2e3),i.type="lowpass",_.setParamValue(i.frequency,2e3),n.type="highpass",_.setParamValue(n.frequency,500),o.type="highpass",_.setParamValue(o.frequency,500),r.connect(i),i.connect(n),n.connect(o),e.call(this,r,o)||this}e.call(this,null)}return a(t,e),t}(o)},S=0,E=function(e){function r(t){var r=e.call(this)||this;return r.id=S++,r.init(t),r}return a(r,e),r.prototype.set=function(e,t){if(void 0===this[e])throw new Error("Property with name "+e+" does not exist.");return this[e]=t,this},Object.defineProperty(r.prototype,"progress",{get:function(){return this._source.currentTime/this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paused",{get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()},enumerable:!0,configurable:!0}),r.prototype._onPlay=function(){this._playing=!0},r.prototype._onPause=function(){this._playing=!1},r.prototype.init=function(e){this._playing=!1,this._duration=e.source.duration;var t=this._source=e.source.cloneNode(!1);t.src=e.parent.url,t.onplay=this._onPlay.bind(this),t.onpause=this._onPause.bind(this),e.context.on("refresh",this.refresh,this),e.context.on("refreshPaused",this.refreshPaused,this),this._media=e},r.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},r.prototype.stop=function(){this._internalStop(),this._source&&this.emit("stop")},Object.defineProperty(r.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"volume",{get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"muted",{get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()},enumerable:!0,configurable:!0}),r.prototype.refresh=function(){var e=this._media.context,t=this._media.parent;this._source.loop=this._loop||t.loop;var r=e.volume*(e.muted?0:1),i=t.volume*(t.muted?0:1),n=this._volume*(this._muted?0:1);this._source.volume=n*r*i,this._source.playbackRate=this._speed*e.speed*t.speed},r.prototype.refreshPaused=function(){var e=this._media.context,t=this._media.parent,r=this._paused||t.paused||e.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",r))},r.prototype.play=function(e){var i=this,n=e.start,o=e.end,s=e.speed,a=e.loop,u=e.volume,l=e.muted;this._speed=s,this._volume=u,this._loop=!!a,this._muted=l,this.refresh(),this.loop&&null!==o&&(this.loop=!1),this._start=n,this._end=o||this._duration,this._start=Math.max(0,this._start-r.PADDING),this._end=Math.min(this._end+r.PADDING,this._duration),this._source.onloadedmetadata=function(){i._source&&(i._source.currentTime=n,i._source.onloadedmetadata=null,i.emit("progress",n,i._duration),t.Ticker.shared.add(i._onUpdate,i))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")},r.prototype._onUpdate=function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},r.prototype._onComplete=function(){t.Ticker.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)},r.prototype.destroy=function(){t.Ticker.shared.remove(this._onUpdate,this),this.removeAllListeners();var e=this._source;e&&(e.onended=null,e.onplay=null,e.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)},r.prototype.toString=function(){return"[HTMLAudioInstance id="+this.id+"]"},r.PADDING=.1,r}(r.EventEmitter),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.init=function(e){this.parent=e,this._source=e.options.source||new Audio,e.url&&(this._source.src=e.url)},t.prototype.create=function(){return new E(this)},Object.defineProperty(t.prototype,"isPlayable",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._source.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.parent.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)},Object.defineProperty(t.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),t.prototype.load=function(e){var t=this._source,r=this.parent;if(4!==t.readyState){if(!r.url)return e(new Error("sound.url or sound.source must be set"));t.src=r.url;var i=function(){t.removeEventListener("canplaythrough",n),t.removeEventListener("load",n),t.removeEventListener("abort",o),t.removeEventListener("error",s)},n=function(){i(),r.isLoaded=!0;var t=r.autoPlayStart();e&&e(null,r,t)},o=function(){i(),e&&e(new Error("Sound loading has been aborted"))},s=function(){i();var r="Failed to load audio element (code: "+t.error.code+")";e&&e(new Error(r))};t.addEventListener("canplaythrough",n,!1),t.addEventListener("load",n,!1),t.addEventListener("abort",o,!1),t.addEventListener("error",s,!1),t.load()}else{r.isLoaded=!0;var a=r.autoPlayStart();e&&setTimeout(function(){e(null,r,a)},0)}},t}(r.EventEmitter),T=function(e){function t(){var t=e.call(this)||this;return t.speed=1,t.volume=1,t.muted=!1,t.paused=!1,t}return a(t,e),t.prototype.refresh=function(){this.emit("refresh")},t.prototype.refreshPaused=function(){this.emit("refreshPaused")},Object.defineProperty(t.prototype,"filters",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioContext",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},t.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},t.prototype.destroy=function(){this.removeAllListeners()},t}(r.EventEmitter),P={HTMLAudioMedia:A,HTMLAudioInstance:E,HTMLAudioContext:T},C=["mp3","ogg","oga","opus","mpeg","wav","m4a","aiff","wma","mid","flac"],M=(h={m4a:"mp4",oga:"ogg"},f=document.createElement("audio"),d={},p=/^no$/,C.forEach(function(e){var t=h[e]||e,r=f.canPlayType("audio/"+e).replace(p,""),i=f.canPlayType("audio/"+t).replace(p,"");d[e]=!!r||!!i}),Object.freeze(d)),F=/\.(\{([^\}]+)\})(\?.*)?$/;function I(e){var t=F,r="string"==typeof e?e:e.url;if(t.test(r)){for(var i=t.exec(r),n=i[2].split(","),o=n[n.length-1],s=0,a=n.length;s<a;s++){var u=n[s];if(M[u]){o=u;break}}var l=r.replace(i[1],o);return"string"!=typeof e&&(e.extension=o,e.url=l),l}return r}var O=function(){function t(){}return t.add=function(){t.legacy=c().useLegacy},Object.defineProperty(t,"legacy",{set:function(t){var r=C;t?r.forEach(function(t){e.LoaderResource.setExtensionXhrType(t,e.LoaderResource.XHR_RESPONSE_TYPE.DEFAULT),e.LoaderResource.setExtensionLoadType(t,e.LoaderResource.LOAD_TYPE.AUDIO)}):r.forEach(function(t){e.LoaderResource.setExtensionXhrType(t,e.LoaderResource.XHR_RESPONSE_TYPE.BUFFER),e.LoaderResource.setExtensionLoadType(t,e.LoaderResource.LOAD_TYPE.XHR)})},enumerable:!0,configurable:!0}),t.pre=function(e,t){I(e),t()},t.use=function(e,t){e.data&&C.indexOf(e.extension)>-1?e.sound=c().add(e.name,{loaded:t,preload:!0,url:e.url,source:e.data}):t()},t}(),D=function(){function e(e,t){this.parent=e,Object.assign(this,t),this.duration=this.end-this.start}return e.prototype.play=function(e){return this.parent.play({complete:e,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},e.prototype.destroy=function(){this.parent=null},e}(),k=function(){function e(e,t){this.media=e,this.options=t,this._instances=[],this._sprites={},this.media.init(this);var r=t.complete;this._autoPlayOptions=r?{complete:r}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=t.autoPlay,this.singleInstance=t.singleInstance,this.preload=t.preload||this.autoPlay,this.url=t.url,this.speed=t.speed,this.volume=t.volume,this.loop=t.loop,t.sprites&&this.addSprites(t.sprites),this.preload&&this._preload(t.loaded)}return e.from=function(t){var r={};return"string"==typeof t?r.url=t:t instanceof ArrayBuffer||t instanceof HTMLAudioElement?r.source=t:r=t,(r=l({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},r)).url&&(r.url=I(r.url)),Object.freeze(r),new e(c().useLegacy?new A:new y,r)},Object.defineProperty(e.prototype,"context",{get:function(){return c().context},enumerable:!0,configurable:!0}),e.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},e.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(e){this._paused=e,this.refreshPaused()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this.media.filters},set:function(e){this.media.filters=e},enumerable:!0,configurable:!0}),e.prototype.addSprites=function(e,t){if("object"==typeof e){var r={};for(var i in e)r[i]=this.addSprites(i,e[i]);return r}if("string"==typeof e){var n=new D(this,t);return this._sprites[e]=n,n}},e.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},e.prototype.removeSprites=function(e){if(e){var t=this._sprites[e];void 0!==t&&(t.destroy(),delete this._sprites[e])}else for(var r in this._sprites)this.removeSprites(r);return this},Object.defineProperty(e.prototype,"isPlayable",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!0,configurable:!0}),e.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var e=this._instances.length-1;e>=0;e--)this._instances[e].stop();return this},e.prototype.play=function(e,t){var r,i=this;if("string"==typeof e?r={sprite:o=e,loop:this.loop,complete:t}:"function"==typeof e?(r={}).complete=e:r=e,(r=l({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},r||{})).sprite){var n=r.sprite,o=this._sprites[n];r.start=o.start,r.end=o.end,r.speed=o.speed||1,r.loop=o.loop||r.loop,delete r.sprite}if(r.offset&&(r.start=r.offset),!this.isLoaded)return new Promise(function(e,t){i.autoPlay=!0,i._autoPlayOptions=r,i._preload(function(i,n,o){i?t(i):(r.loaded&&r.loaded(i,n,o),e(o))})});this.singleInstance&&this._removeInstances();var s=this._createInstance();return this._instances.push(s),this.isPlaying=!0,s.once("end",function(){r.complete&&r.complete(i),i._onComplete(s)}),s.once("stop",function(){i._onComplete(s)}),s.play(r),s},e.prototype.refresh=function(){for(var e=this._instances.length,t=0;t<e;t++)this._instances[t].refresh()},e.prototype.refreshPaused=function(){for(var e=this._instances.length,t=0;t<e;t++)this._instances[t].refreshPaused()},Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(e){this._volume=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(e){this._muted=e,this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,this.refresh()},enumerable:!0,configurable:!0}),e.prototype._preload=function(e){this.media.load(e)},Object.defineProperty(e.prototype,"instances",{get:function(){return this._instances},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprites",{get:function(){return this._sprites},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.media.duration},enumerable:!0,configurable:!0}),e.prototype.autoPlayStart=function(){var e;return this.autoPlay&&(e=this.play(this._autoPlayOptions)),e},e.prototype._removeInstances=function(){for(var e=this._instances.length-1;e>=0;e--)this._poolInstance(this._instances[e]);this._instances.length=0},e.prototype._onComplete=function(e){if(this._instances){var t=this._instances.indexOf(e);t>-1&&this._instances.splice(t,1),this.isPlaying=this._instances.length>0}this._poolInstance(e)},e.prototype._createInstance=function(){if(e._pool.length>0){var t=e._pool.pop();return t.init(this.media),t}return this.media.create()},e.prototype._poolInstance=function(t){t.destroy(),e._pool.indexOf(t)<0&&e._pool.push(t)},e._pool=[],e}(),R=function(){function e(){this.init()}return e.prototype.init=function(){return this.supported&&(this._webAudioContext=new v),this._htmlAudioContext=new T,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filtersAll",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(e){this.useLegacy||(this._context.filters=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supported",{get:function(){return null!==v.AudioContext},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){if("object"==typeof e){var r={};for(var i in e){var n=this._getOptions(e[i],t);r[i]=this.add(i,n)}return r}if("string"==typeof e){if(t instanceof k)return this._sounds[e]=t,t;n=this._getOptions(t);var o=k.from(n);return this._sounds[e]=o,o}},e.prototype._getOptions=function(e,t){var r;return r="string"==typeof e?{url:e}:e instanceof ArrayBuffer||e instanceof HTMLAudioElement?{source:e}:e,l({},r,t||{})},Object.defineProperty(e.prototype,"useLegacy",{get:function(){return this._useLegacy},set:function(e){O.legacy=e,this._useLegacy=e,this._context=!e&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){return this.exists(e,!0),this._sounds[e].destroy(),delete this._sounds[e],this},Object.defineProperty(e.prototype,"volumeAll",{get:function(){return this._context.volume},set:function(e){this._context.volume=e,this._context.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speedAll",{get:function(){return this._context.speed},set:function(e){this._context.speed=e,this._context.refresh()},enumerable:!0,configurable:!0}),e.prototype.togglePauseAll=function(){return this._context.togglePause()},e.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},e.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},e.prototype.toggleMuteAll=function(){return this._context.toggleMute()},e.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},e.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},e.prototype.removeAll=function(){for(var e in this._sounds)this._sounds[e].destroy(),delete this._sounds[e];return this},e.prototype.stopAll=function(){for(var e in this._sounds)this._sounds[e].stop();return this},e.prototype.exists=function(e,t){return void 0===t&&(t=!1),!!this._sounds[e]},e.prototype.find=function(e){return this.exists(e,!0),this._sounds[e]},e.prototype.play=function(e,t){return this.find(e).play(t)},e.prototype.stop=function(e){return this.find(e).stop()},e.prototype.pause=function(e){return this.find(e).pause()},e.prototype.resume=function(e){return this.find(e).resume()},e.prototype.volume=function(e,t){var r=this.find(e);return void 0!==t&&(r.volume=t),r.volume},e.prototype.speed=function(e,t){var r=this.find(e);return void 0!==t&&(r.speed=t),r.speed},e.prototype.duration=function(e){return this.find(e).duration},e.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},e}(),B=0,N={get PLAY_ID(){return B},playOnce:function(e,t){var r="alias"+B++;return c().add(r,{url:e,preload:!0,autoPlay:!0,loaded:function(e){e&&(c().remove(r),t&&t(e))},complete:function(){c().remove(r),t&&t(null)}}),r},render:function(e,t){var r=document.createElement("canvas");t=l({width:512,height:128,fill:"black"},t||{}),r.width=t.width,r.height=t.height;var n=i.BaseTexture.from(r);if(!(e.media instanceof y))return n;var o=e.media,s=r.getContext("2d");s.fillStyle=t.fill;for(var a=o.buffer.getChannelData(0),u=Math.ceil(a.length/t.width),c=t.height/2,h=0;h<t.width;h++){for(var f=1,d=-1,p=0;p<u;p++){var _=a[h*u+p];_<f&&(f=_),_>d&&(d=_)}s.fillRect(h,(1+f)*c,1,Math.max(1,(d-f)*c))}return n},resolveUrl:I,sineTone:function(e,t){void 0===e&&(e=200),void 0===t&&(t=1);var r=k.from({singleInstance:!0});if(!(r.media instanceof y))return r;for(var i=r.media,n=r.context.audioContext.createBuffer(1,48e3*t,48e3),o=n.getChannelData(0),s=0;s<o.length;s++){var a=e*(s/n.sampleRate)*Math.PI;o[s]=2*Math.sin(a)}return i.buffer=n,r.isLoaded=!0,r},extensions:C,supported:M},L=function(e){return u=e,e}(new R);return e.Loader.registerPlugin(O),Object.defineProperties(L,{Filterable:{get:function(){return n}},filters:{get:function(){return w}},htmlaudio:{get:function(){return P}},Sound:{get:function(){return k}},SoundLibrary:{get:function(){return R}},SoundSprite:{get:function(){return D}},utils:{get:function(){return N}},webaudio:{get:function(){return x}},sound:{get:function(){return L}}}),L}(PIXI,PIXI,PIXI.utils,PIXI);var __filters=function(e,t,r,i,n,o,s,a){"use strict";var u="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",l="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float gamma;\nuniform float contrast;\nuniform float saturation;\nuniform float brightness;\nuniform float red;\nuniform float green;\nuniform float blue;\nuniform float alpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (c.a > 0.0) {\n        c.rgb /= c.a;\n\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\n        rgb.r *= red;\n        rgb.g *= green;\n        rgb.b *= blue;\n        c.rgb = rgb * brightness;\n\n        c.rgb *= c.a;\n    }\n\n    gl_FragColor = c * alpha;\n}\n",c=function(e){function t(t){e.call(this,u,l),Object.assign(this,{gamma:1,saturation:1,contrast:1,brightness:1,red:1,green:1,blue:1,alpha:1},t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e,t,r,i){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,r,i)},t}(t.Filter),h=u,f="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}",d="\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n",p=function(e){function t(t,i,n){void 0===t&&(t=4),void 0===i&&(i=3),void 0===n&&(n=!1),e.call(this,h,n?d:f),this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new r.Point,this.pixelSize=1,this._clamp=n,this._kernels=null,Array.isArray(t)?this.kernels=t:(this._blur=t,this.quality=i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={kernels:{configurable:!0},clamp:{configurable:!0},pixelSize:{configurable:!0},quality:{configurable:!0},blur:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){var n,o=this._pixelSize.x/t._frame.width,s=this._pixelSize.y/t._frame.height;if(1===this._quality||0===this._blur)n=this._kernels[0]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*s,e.applyFilter(this,t,r,i);else{for(var a,u=e.getFilterTexture(),l=t,c=u,h=this._quality-1,f=0;f<h;f++)n=this._kernels[f]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*s,e.applyFilter(this,l,c,1),a=l,l=c,c=a;n=this._kernels[h]+.5,this.uniforms.uOffset[0]=n*o,this.uniforms.uOffset[1]=n*s,e.applyFilter(this,l,r,i),e.returnFilterTexture(u)}},t.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce(function(e,t){return e+t+.5},0))},t.prototype._generateKernels=function(){var e=this._blur,t=this._quality,r=[e];if(e>0)for(var i=e,n=e/t,o=1;o<t;o++)i-=n,r.push(i);this._kernels=r,this._updatePadding()},i.kernels.get=function(){return this._kernels},i.kernels.set=function(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max.apply(Math,e)):(this._kernels=[0],this._quality=1)},i.clamp.get=function(){return this._clamp},i.pixelSize.set=function(e){"number"==typeof e?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof r.Point?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)},i.pixelSize.get=function(){return this._pixelSize},i.quality.get=function(){return this._quality},i.quality.set=function(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()},i.blur.get=function(){return this._blur},i.blur.set=function(e){this._blur=e,this._generateKernels()},Object.defineProperties(t.prototype,i),t}(t.Filter),_=u,m="\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n",b=function(e){function t(t){void 0===t&&(t=.5),e.call(this,_,m),this.threshold=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={threshold:{configurable:!0}};return r.threshold.get=function(){return this.uniforms.threshold},r.threshold.set=function(e){this.uniforms.threshold=e},Object.defineProperties(t.prototype,r),t}(t.Filter),g="uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n",y=function(e){function t(t){e.call(this,_,g),"number"==typeof t&&(t={threshold:t}),t=Object.assign({threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:i.settings.FILTER_RESOLUTION},t),this.bloomScale=t.bloomScale,this.brightness=t.brightness;var r=t.kernels,n=t.blur,o=t.quality,s=t.pixelSize,a=t.resolution;this._extractFilter=new b(t.threshold),this._extractFilter.resolution=a,this._blurFilter=r?new p(r):new p(n,o),this.pixelSize=s,this.resolution=a}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={resolution:{configurable:!0},threshold:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return t.prototype.apply=function(e,t,r,i,n){var o=e.getFilterTexture();this._extractFilter.apply(e,t,o,1,n);var s=e.getFilterTexture();this._blurFilter.apply(e,o,s,1,n),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=s,e.applyFilter(this,t,r,i),e.returnFilterTexture(s),e.returnFilterTexture(o)},r.resolution.get=function(){return this._resolution},r.resolution.set=function(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},r.threshold.get=function(){return this._extractFilter.threshold},r.threshold.set=function(e){this._extractFilter.threshold=e},r.kernels.get=function(){return this._blurFilter.kernels},r.kernels.set=function(e){this._blurFilter.kernels=e},r.blur.get=function(){return this._blurFilter.blur},r.blur.set=function(e){this._blurFilter.blur=e},r.quality.get=function(){return this._blurFilter.quality},r.quality.set=function(e){this._blurFilter.quality=e},r.pixelSize.get=function(){return this._blurFilter.pixelSize},r.pixelSize.set=function(e){this._blurFilter.pixelSize=e},Object.defineProperties(t.prototype,r),t}(t.Filter),v=u,x="varying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n\n    if (clamp(p.x, 0.0, 4.0) == p.x)\n    {\n        if (clamp(p.y, 0.0, 4.0) == p.y)\n        {\n            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n        }\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}\n",w=function(e){function t(t){void 0===t&&(t=8),e.call(this,v,x),this.size=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={size:{configurable:!0}};return r.size.get=function(){return this.uniforms.pixelSize},r.size.set=function(e){this.uniforms.pixelSize=e},Object.defineProperties(t.prototype,r),t}(t.Filter),S=u,E="precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float transformX;\nuniform float transformY;\nuniform vec3 lightColor;\nuniform float lightAlpha;\nuniform vec3 shadowColor;\nuniform float shadowAlpha;\n\nvoid main(void) {\n    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float light = texture2D(uSampler, vTextureCoord - transform).a;\n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;\n\n    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));\n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));\n    gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n",A=function(e){function t(t){void 0===t&&(t={}),e.call(this,S,E),this.uniforms.lightColor=new Float32Array(3),this.uniforms.shadowColor=new Float32Array(3),t=Object.assign({rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},t),this.rotation=t.rotation,this.thickness=t.thickness,this.lightColor=t.lightColor,this.lightAlpha=t.lightAlpha,this.shadowColor=t.shadowColor,this.shadowAlpha=t.shadowAlpha,this.padding=1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={rotation:{configurable:!0},thickness:{configurable:!0},lightColor:{configurable:!0},lightAlpha:{configurable:!0},shadowColor:{configurable:!0},shadowAlpha:{configurable:!0}};return t.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},i.rotation.get=function(){return this._angle/r.DEG_TO_RAD},i.rotation.set=function(e){this._angle=e*r.DEG_TO_RAD,this._updateTransform()},i.thickness.get=function(){return this._thickness},i.thickness.set=function(e){this._thickness=e,this._updateTransform()},i.lightColor.get=function(){return n.rgb2hex(this.uniforms.lightColor)},i.lightColor.set=function(e){n.hex2rgb(e,this.uniforms.lightColor)},i.lightAlpha.get=function(){return this.uniforms.lightAlpha},i.lightAlpha.set=function(e){this.uniforms.lightAlpha=e},i.shadowColor.get=function(){return n.rgb2hex(this.uniforms.shadowColor)},i.shadowColor.set=function(e){n.hex2rgb(e,this.uniforms.shadowColor)},i.shadowAlpha.get=function(){return this.uniforms.shadowAlpha},i.shadowAlpha.set=function(e){this.uniforms.shadowAlpha=e},Object.defineProperties(t.prototype,i),t}(t.Filter),T=function(e){function t(t,n,u,l){var c,h;void 0===t&&(t=2),void 0===n&&(n=4),void 0===u&&(u=i.settings.FILTER_RESOLUTION),void 0===l&&(l=5),e.call(this),"number"==typeof t?(c=t,h=t):t instanceof r.Point?(c=t.x,h=t.y):Array.isArray(t)&&(c=t[0],h=t[1]),this.blurXFilter=new a.BlurFilterPass(!0,c,n,u,l),this.blurYFilter=new a.BlurFilterPass(!1,h,n,u,l),this.blurYFilter.blendMode=o.BLEND_MODES.SCREEN,this.defaultFilter=new s.AlphaFilter}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blur:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){var n=e.getFilterTexture();this.defaultFilter.apply(e,t,r,i),this.blurXFilter.apply(e,t,n),this.blurYFilter.apply(e,n,r,0),e.returnFilterTexture(n)},n.blur.get=function(){return this.blurXFilter.blur},n.blur.set=function(e){this.blurXFilter.blur=this.blurYFilter.blur=e},n.blurX.get=function(){return this.blurXFilter.blur},n.blurX.set=function(e){this.blurXFilter.blur=e},n.blurY.get=function(){return this.blurYFilter.blur},n.blurY.set=function(e){this.blurYFilter.blur=e},Object.defineProperties(t.prototype,n),t}(t.Filter),P=u,C="uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n",M=function(e){function t(t){if(e.call(this,P,C),"object"!=typeof t){var r=arguments[0],i=arguments[1],n=arguments[2];t={},void 0!==r&&(t.center=r),void 0!==i&&(t.radius=i),void 0!==n&&(t.strength=n)}this.uniforms.dimensions=new Float32Array(2),Object.assign(this,{center:[.5,.5],radius:100,strength:1},t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={radius:{configurable:!0},strength:{configurable:!0},center:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.dimensions[0]=t.filterFrame.width,this.uniforms.dimensions[1]=t.filterFrame.height,e.applyFilter(this,t,r,i)},r.radius.get=function(){return this.uniforms.radius},r.radius.set=function(e){this.uniforms.radius=e},r.strength.get=function(){return this.uniforms.strength},r.strength.set=function(e){this.uniforms.strength=e},r.center.get=function(){return this.uniforms.center},r.center.set=function(e){this.uniforms.center=e},Object.defineProperties(t.prototype,r),t}(t.Filter),F=u,I="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D colorMap;\nuniform float _mix;\nuniform float _size;\nuniform float _sliceSize;\nuniform float _slicePixelSize;\nuniform float _sliceInnerSize;\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\n\n    vec4 adjusted;\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n        float innerWidth = _size - 1.0;\n        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);\n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);\n        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\n        float s0 = xOffset + (zSlice0 * _sliceSize);\n        float s1 = xOffset + (zSlice1 * _sliceSize);\n        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);\n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));\n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));\n        float zOffset = fract(color.b * innerWidth);\n        adjusted = mix(slice0Color, slice1Color, zOffset);\n\n        color.rgb *= color.a;\n    }\n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);\n\n}",O=function(e){function r(t,r,i){void 0===r&&(r=!1),void 0===i&&(i=1),e.call(this,F,I),this._size=0,this._sliceSize=0,this._slicePixelSize=0,this._sliceInnerSize=0,this._scaleMode=null,this._nearest=!1,this.nearest=r,this.mix=i,this.colorMap=t}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var i={colorSize:{configurable:!0},colorMap:{configurable:!0},nearest:{configurable:!0}};return r.prototype.apply=function(e,t,r,i){this.uniforms._mix=this.mix,e.applyFilter(this,t,r,i)},i.colorSize.get=function(){return this._size},i.colorMap.get=function(){return this._colorMap},i.colorMap.set=function(e){e instanceof t.Texture||(e=t.Texture.from(e)),e&&e.baseTexture&&(e.baseTexture.scaleMode=this._scaleMode,e.baseTexture.mipmap=!1,this._size=e.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=e),this._colorMap=e},i.nearest.get=function(){return this._nearest},i.nearest.set=function(e){this._nearest=e,this._scaleMode=e?o.SCALE_MODES.NEAREST:o.SCALE_MODES.LINEAR;var t=this._colorMap;t&&t.baseTexture&&(t.baseTexture._glTextures={},t.baseTexture.scaleMode=this._scaleMode,t.baseTexture.mipmap=!1,t._updateID++,t.baseTexture.emit("update",t.baseTexture))},r.prototype.updateColorMap=function(){var e=this._colorMap;e&&e.baseTexture&&(e._updateID++,e.baseTexture.emit("update",e.baseTexture),this.colorMap=e)},r.prototype.destroy=function(t){this._colorMap&&this._colorMap.destroy(t),e.prototype.destroy.call(this)},Object.defineProperties(r.prototype,i),r}(t.Filter),D=u,k="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 color;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorOverlay = color * currentColor.a;\n    gl_FragColor = vec4(colorOverlay.r, colorOverlay.g, colorOverlay.b, currentColor.a);\n}\n",R=function(e){function t(t){void 0===t&&(t=0),e.call(this,D,k),this.uniforms.color=new Float32Array(3),this.color=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={color:{configurable:!0}};return r.color.set=function(e){var t=this.uniforms.color;"number"==typeof e?(n.hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._color=n.rgb2hex(t))},r.color.get=function(){return this._color},Object.defineProperties(t.prototype,r),t}(t.Filter),B=u,N="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n",L=function(e){function t(t,r,i){void 0===t&&(t=16711680),void 0===r&&(r=0),void 0===i&&(i=.4),e.call(this,B,N),this.uniforms.originalColor=new Float32Array(3),this.uniforms.newColor=new Float32Array(3),this.originalColor=t,this.newColor=r,this.epsilon=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return r.originalColor.set=function(e){var t=this.uniforms.originalColor;"number"==typeof e?(n.hex2rgb(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=n.rgb2hex(t))},r.originalColor.get=function(){return this._originalColor},r.newColor.set=function(e){var t=this.uniforms.newColor;"number"==typeof e?(n.hex2rgb(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=n.rgb2hex(t))},r.newColor.get=function(){return this._newColor},r.epsilon.set=function(e){this.uniforms.epsilon=e},r.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(t.prototype,r),t}(t.Filter),G=u,U="precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",z=function(e){function t(t,r,i){void 0===r&&(r=200),void 0===i&&(i=200),e.call(this,G,U),this.uniforms.texelSize=new Float32Array(2),this.uniforms.matrix=new Float32Array(9),void 0!==t&&(this.matrix=t),this.width=r,this.height=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={matrix:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return r.matrix.get=function(){return this.uniforms.matrix},r.matrix.set=function(e){var t=this;e.forEach(function(e,r){return t.uniforms.matrix[r]=e})},r.width.get=function(){return 1/this.uniforms.texelSize[0]},r.width.set=function(e){this.uniforms.texelSize[0]=1/e},r.height.get=function(){return 1/this.uniforms.texelSize[1]},r.height.set=function(e){this.uniforms.texelSize[1]=1/e},Object.defineProperties(t.prototype,r),t}(t.Filter),j=u,J="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n",X=function(e){function t(){e.call(this,j,J)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(t.Filter),H=u,W="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nconst float SQRT_2 = 1.414213;\n\nconst float light = 1.0;\n\nuniform float curvature;\nuniform float lineWidth;\nuniform float lineContrast;\nuniform bool verticalLine;\nuniform float noise;\nuniform float noiseSize;\n\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\n\nuniform float seed;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 dir = vec2(vTextureCoord.xy - vec2(0.5, 0.5)) * filterArea.xy / dimensions;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 rgb = gl_FragColor.rgb;\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        rgb += _noise * noise;\n    }\n\n    if (lineWidth > 0.0)\n    {\n        float _c = curvature > 0. ? curvature : 1.;\n        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\n        vec2 uv = dir * k;\n\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\n        rgb *= j;\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\n        rgb *= 0.99 + ceil(segment) * 0.015;\n    }\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    gl_FragColor.rgb = rgb;\n}\n",V=function(e){function t(t){e.call(this,H,W),this.uniforms.dimensions=new Float32Array(2),this.time=0,this.seed=0,Object.assign(this,{curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={curvature:{configurable:!0},lineWidth:{configurable:!0},lineContrast:{configurable:!0},verticalLine:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},vignetting:{configurable:!0},vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.dimensions[0]=t.filterFrame.width,this.uniforms.dimensions[1]=t.filterFrame.height,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,t,r,i)},r.curvature.set=function(e){this.uniforms.curvature=e},r.curvature.get=function(){return this.uniforms.curvature},r.lineWidth.set=function(e){this.uniforms.lineWidth=e},r.lineWidth.get=function(){return this.uniforms.lineWidth},r.lineContrast.set=function(e){this.uniforms.lineContrast=e},r.lineContrast.get=function(){return this.uniforms.lineContrast},r.verticalLine.set=function(e){this.uniforms.verticalLine=e},r.verticalLine.get=function(){return this.uniforms.verticalLine},r.noise.set=function(e){this.uniforms.noise=e},r.noise.get=function(){return this.uniforms.noise},r.noiseSize.set=function(e){this.uniforms.noiseSize=e},r.noiseSize.get=function(){return this.uniforms.noiseSize},r.vignetting.set=function(e){this.uniforms.vignetting=e},r.vignetting.get=function(){return this.uniforms.vignetting},r.vignettingAlpha.set=function(e){this.uniforms.vignettingAlpha=e},r.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha},r.vignettingBlur.set=function(e){this.uniforms.vignettingBlur=e},r.vignettingBlur.get=function(){return this.uniforms.vignettingBlur},Object.defineProperties(t.prototype,r),t}(t.Filter),Y=u,q="precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",K=function(e){function t(t,r){void 0===t&&(t=1),void 0===r&&(r=5),e.call(this,Y,q),this.scale=t,this.angle=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={scale:{configurable:!0},angle:{configurable:!0}};return r.scale.get=function(){return this.uniforms.scale},r.scale.set=function(e){this.uniforms.scale=e},r.angle.get=function(){return this.uniforms.angle},r.angle.set=function(e){this.uniforms.angle=e},Object.defineProperties(t.prototype,r),t}(t.Filter),Z=u,Q="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\n\nuniform vec2 shift;\nuniform vec4 inputSize;\n\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\n\n    // Premultiply alpha\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}",$=function(e){function t(t){t&&t.constructor!==Object&&(console.warn("DropShadowFilter now uses options instead of (rotation, distance, blur, color, alpha)"),t={rotation:t},void 0!==arguments[1]&&(t.distance=arguments[1]),void 0!==arguments[2]&&(t.blur=arguments[2]),void 0!==arguments[3]&&(t.color=arguments[3]),void 0!==arguments[4]&&(t.alpha=arguments[4])),t=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:i.settings.FILTER_RESOLUTION},t),e.call(this);var n=t.kernels,o=t.blur,s=t.quality,a=t.pixelSize,u=t.resolution;this._tintFilter=new e(Z,Q),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new r.Point,this._tintFilter.resolution=u,this._blurFilter=n?new p(n):new p(o,s),this.pixelSize=a,this.resolution=u;var l=t.shadowOnly,c=t.rotation,h=t.distance,f=t.alpha,d=t.color;this.shadowOnly=l,this.rotation=c,this.distance=h,this.alpha=f,this.color=d,this._updatePadding()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={resolution:{configurable:!0},distance:{configurable:!0},rotation:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){var n=e.getFilterTexture();this._tintFilter.apply(e,t,n,1),this._blurFilter.apply(e,n,r,i),!0!==this.shadowOnly&&e.applyFilter(this,t,r,0),e.returnFilterTexture(n)},t.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},t.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},o.resolution.get=function(){return this._resolution},o.resolution.set=function(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)},o.distance.get=function(){return this._distance},o.distance.set=function(e){this._distance=e,this._updatePadding(),this._updateShift()},o.rotation.get=function(){return this.angle/r.DEG_TO_RAD},o.rotation.set=function(e){this.angle=e*r.DEG_TO_RAD,this._updateShift()},o.alpha.get=function(){return this._tintFilter.uniforms.alpha},o.alpha.set=function(e){this._tintFilter.uniforms.alpha=e},o.color.get=function(){return n.rgb2hex(this._tintFilter.uniforms.color)},o.color.set=function(e){n.hex2rgb(e,this._tintFilter.uniforms.color)},o.kernels.get=function(){return this._blurFilter.kernels},o.kernels.set=function(e){this._blurFilter.kernels=e},o.blur.get=function(){return this._blurFilter.blur},o.blur.set=function(e){this._blurFilter.blur=e,this._updatePadding()},o.quality.get=function(){return this._blurFilter.quality},o.quality.set=function(e){this._blurFilter.quality=e},o.pixelSize.get=function(){return this._blurFilter.pixelSize},o.pixelSize.set=function(e){this._blurFilter.pixelSize=e},Object.defineProperties(t.prototype,o),t}(t.Filter),ee=u,te="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n",re=function(e){function t(t){void 0===t&&(t=5),e.call(this,ee,te),this.strength=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={strength:{configurable:!0}};return r.strength.get=function(){return this.uniforms.strength},r.strength.set=function(e){this.uniforms.strength=e},Object.defineProperties(t.prototype,r),t}(t.Filter),ie=u,ne="// precision highp float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\nuniform float aspect;\n\nuniform sampler2D displacementMap;\nuniform float offset;\nuniform float sinDir;\nuniform float cosDir;\nuniform int fillMode;\n\nuniform float seed;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nconst int TRANSPARENT = 0;\nconst int ORIGINAL = 1;\nconst int LOOP = 2;\nconst int CLAMP = 3;\nconst int MIRROR = 4;\n\nvoid main(void)\n{\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\n\n    if (coord.x > 1.0 || coord.y > 1.0) {\n        return;\n    }\n\n    float cx = coord.x - 0.5;\n    float cy = (coord.y - 0.5) * aspect;\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\n\n    // displacementMap: repeat\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\n\n    // displacementMap: mirror\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\n\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\n\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\n\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\n\n    if (fillMode == CLAMP) {\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    } else {\n        if( coord.x > filterClamp.z ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.x -= filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x = filterClamp.z * 2.0 - coord.x;\n            }\n        } else if( coord.x < filterClamp.x ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.x += filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x *= -filterClamp.z;\n            }\n        }\n\n        if( coord.y > filterClamp.w ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.y -= filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y = filterClamp.w * 2.0 - coord.y;\n            }\n        } else if( coord.y < filterClamp.y ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.y += filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y *= -filterClamp.w;\n            }\n        }\n    }\n\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\n    gl_FragColor.a = texture2D(uSampler, coord).a;\n}\n",oe=function(e){function i(r){void 0===r&&(r={}),e.call(this,ie,ne),this.uniforms.dimensions=new Float32Array(2),r=Object.assign({slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},r),this.direction=r.direction,this.red=r.red,this.green=r.green,this.blue=r.blue,this.offset=r.offset,this.fillMode=r.fillMode,this.average=r.average,this.seed=r.seed,this.minSize=r.minSize,this.sampleSize=r.sampleSize,this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=t.Texture.from(this._canvas,{scaleMode:o.SCALE_MODES.NEAREST}),this._slices=0,this.slices=r.slices}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var n={sizes:{configurable:!0},offsets:{configurable:!0},slices:{configurable:!0},direction:{configurable:!0},red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return i.prototype.apply=function(e,t,r,i){var n=t.filterFrame.width,o=t.filterFrame.height;this.uniforms.dimensions[0]=n,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/n,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,t,r,i)},i.prototype._randomizeSizes=function(){var e=this._sizes,t=this._slices-1,r=this.sampleSize,i=Math.min(this.minSize/r,.9/this._slices);if(this.average){for(var n=this._slices,o=1,s=0;s<t;s++){var a=o/(n-s),u=Math.max(a*(1-.6*Math.random()),i);e[s]=u,o-=u}e[t]=o}else{for(var l=1,c=Math.sqrt(1/this._slices),h=0;h<t;h++){var f=Math.max(c*l*Math.random(),i);e[h]=f,l-=f}e[t]=l}this.shuffle()},i.prototype.shuffle=function(){for(var e=this._sizes,t=this._slices-1;t>0;t--){var r=Math.random()*t>>0,i=e[t];e[t]=e[r],e[r]=i}},i.prototype._randomizeOffsets=function(){for(var e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)},i.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},i.prototype.redraw=function(){var e,t=this.sampleSize,r=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,t);for(var n=0,o=0;o<this._slices;o++){e=Math.floor(256*this._offsets[o]);var s=this._sizes[o]*t,a=e>0?e:0,u=e<0?-e:0;i.fillStyle="rgba("+a+", "+u+", 0, 1)",i.fillRect(0,n>>0,t,s+1>>0),n+=s}r.baseTexture.update(),this.uniforms.displacementMap=r},n.sizes.set=function(e){for(var t=Math.min(this._slices,e.length),r=0;r<t;r++)this._sizes[r]=e[r]},n.sizes.get=function(){return this._sizes},n.offsets.set=function(e){for(var t=Math.min(this._slices,e.length),r=0;r<t;r++)this._offsets[r]=e[r]},n.offsets.get=function(){return this._offsets},n.slices.get=function(){return this._slices},n.slices.set=function(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())},n.direction.get=function(){return this._direction},n.direction.set=function(e){if(this._direction!==e){this._direction=e;var t=e*r.DEG_TO_RAD;this.uniforms.sinDir=Math.sin(t),this.uniforms.cosDir=Math.cos(t)}},n.red.get=function(){return this.uniforms.red},n.red.set=function(e){this.uniforms.red=e},n.green.get=function(){return this.uniforms.green},n.green.set=function(e){this.uniforms.green=e},n.blue.get=function(){return this.uniforms.blue},n.blue.set=function(e){this.uniforms.blue=e},i.prototype.destroy=function(){this.texture.destroy(!0),this.texture=null,this._canvas=null,this.red=null,this.green=null,this.blue=null,this._sizes=null,this._offsets=null},Object.defineProperties(i.prototype,n),i}(t.Filter);oe.TRANSPARENT=0,oe.ORIGINAL=1,oe.LOOP=2,oe.CLAMP=3,oe.MIRROR=4;var se=u,ae="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float outerStrength;\nuniform float innerStrength;\n\nuniform vec4 glowColor;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform bool knockout;\n\nconst float PI = 3.14159265358979323846264;\n\nconst float DIST = __DIST__;\nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);\nconst float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);\n\nconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\n    float totalAlpha = 0.0;\n\n    vec2 direction;\n    vec2 displaced;\n    vec4 curColor;\n\n    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {\n       direction = vec2(cos(angle), sin(angle)) * px;\n\n       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {\n           displaced = clamp(vTextureCoord + direction * \n                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);\n\n           curColor = texture2D(uSampler, displaced);\n\n           totalAlpha += (DIST - curDistance) * curColor.a;\n       }\n    }\n    \n    curColor = texture2D(uSampler, vTextureCoord);\n\n    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);\n\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\n    \n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);\n\n    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\n\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\n    \n    if (knockout) {\n      float resultAlpha = outerGlowAlpha + innerGlowAlpha;\n      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else {\n      gl_FragColor = innerColor + outerGlowColor;\n    }\n}\n",ue=function(e){function t(r){var i=Object.assign({},t.defaults,r),n=i.distance,o=i.outerStrength,s=i.innerStrength,a=i.color,u=i.knockout,l=i.quality;n=Math.round(n),e.call(this,se,ae.replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/n).toFixed(7)).replace(/__DIST__/gi,n.toFixed(0)+".0")),this.uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(this,{color:a,outerStrength:o,innerStrength:s,padding:n,knockout:u})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={color:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0},knockout:{configurable:!0}};return r.color.get=function(){return n.rgb2hex(this.uniforms.glowColor)},r.color.set=function(e){n.hex2rgb(e,this.uniforms.glowColor)},r.outerStrength.get=function(){return this.uniforms.outerStrength},r.outerStrength.set=function(e){this.uniforms.outerStrength=e},r.innerStrength.get=function(){return this.uniforms.innerStrength},r.innerStrength.set=function(e){this.uniforms.innerStrength=e},r.knockout.get=function(){return this.uniforms.knockout},r.knockout.set=function(e){this.uniforms.knockout=e},Object.defineProperties(t.prototype,r),t}(t.Filter);ue.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1};var le=u,ce="vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n",he="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 light;\nuniform bool parallel;\nuniform float aspect;\n\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\nuniform float alpha;\n\n${perlin}\n\nvoid main(void) {\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float d;\n\n    if (parallel) {\n        float _cos = light.x;\n        float _sin = light.y;\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\n    } else {\n        float dx = coord.x - light.x / dimensions.x;\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\n        d = dy / dis;\n    }\n\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n    // apply user alpha\n    mist *= alpha;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\n\n}\n",fe=function(e){function t(t){e.call(this,le,he.replace("${perlin}",ce)),this.uniforms.dimensions=new Float32Array(2),"number"==typeof t&&(console.warn("GodrayFilter now uses options instead of (angle, gain, lacunarity, time)"),t={angle:t},void 0!==arguments[1]&&(t.gain=arguments[1]),void 0!==arguments[2]&&(t.lacunarity=arguments[2]),void 0!==arguments[3]&&(t.time=arguments[3]),void 0!==arguments[4]&&(t.alpha=arguments[4])),t=Object.assign({angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},t),this._angleLight=new r.Point,this.angle=t.angle,this.gain=t.gain,this.lacunarity=t.lacunarity,this.alpha=t.alpha,this.parallel=t.parallel,this.center=t.center,this.time=t.time}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={angle:{configurable:!0},gain:{configurable:!0},lacunarity:{configurable:!0},alpha:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){var n=t.filterFrame,o=n.width,s=n.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/o,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,r,i)},i.angle.get=function(){return this._angle},i.angle.set=function(e){this._angle=e;var t=e*r.DEG_TO_RAD;this._angleLight.x=Math.cos(t),this._angleLight.y=Math.sin(t)},i.gain.get=function(){return this.uniforms.gain},i.gain.set=function(e){this.uniforms.gain=e},i.lacunarity.get=function(){return this.uniforms.lacunarity},i.lacunarity.set=function(e){this.uniforms.lacunarity=e},i.alpha.get=function(){return this.uniforms.alpha},i.alpha.set=function(e){this.uniforms.alpha=e},Object.defineProperties(t.prototype,i),t}(t.Filter),de=u,pe="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uVelocity;\nuniform int uKernelSize;\nuniform float uOffset;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\n// Notice:\n// the perfect way:\n//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);\n// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.\n// So use uKernelSize directly.\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    vec2 velocity = uVelocity / filterArea.xy;\n    float offset = -uOffset / length(uVelocity) - 0.5;\n    int k = uKernelSize - 1;\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n        vec2 bias = velocity * (float(i) / float(k) + offset);\n        color += texture2D(uSampler, vTextureCoord + bias);\n    }\n    gl_FragColor = color / float(uKernelSize);\n}\n",_e=function(e){function t(t,i,n){void 0===t&&(t=[0,0]),void 0===i&&(i=5),void 0===n&&(n=0),e.call(this,de,pe),this.uniforms.uVelocity=new Float32Array(2),this._velocity=new r.ObservablePoint(this.velocityChanged,this),this.velocity=t,this.kernelSize=i,this.offset=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={velocity:{configurable:!0},offset:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){var n=this.velocity,o=n.x,s=n.y;this.uniforms.uKernelSize=0!==o||0!==s?this.kernelSize:0,e.applyFilter(this,t,r,i)},i.velocity.set=function(e){Array.isArray(e)?this._velocity.set(e[0],e[1]):(e instanceof r.Point||e instanceof r.ObservablePoint)&&this._velocity.copyFrom(e)},i.velocity.get=function(){return this._velocity},t.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y},i.offset.set=function(e){this.uniforms.uOffset=e},i.offset.get=function(){return this.uniforms.uOffset},Object.defineProperties(t.prototype,i),t}(t.Filter),me=u,be="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n",ge=function(e){function t(t,r,i){void 0===r&&(r=.05),void 0===i&&(i=null),i=i||t.length,e.call(this,me,be.replace(/%maxColors%/g,i)),this.epsilon=r,this._maxColors=i,this._replacements=null,this.uniforms.originalColors=new Float32Array(3*i),this.uniforms.targetColors=new Float32Array(3*i),this.replacements=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={replacements:{configurable:!0},maxColors:{configurable:!0},epsilon:{configurable:!0}};return r.replacements.set=function(e){var t=this.uniforms.originalColors,r=this.uniforms.targetColors,i=e.length;if(i>this._maxColors)throw"Length of replacements ("+i+") exceeds the maximum colors length ("+this._maxColors+")";t[3*i]=-1;for(var o=0;o<i;o++){var s=e[o],a=s[0];"number"==typeof a?a=n.hex2rgb(a):s[0]=n.rgb2hex(a),t[3*o]=a[0],t[3*o+1]=a[1],t[3*o+2]=a[2];var u=s[1];"number"==typeof u?u=n.hex2rgb(u):s[1]=n.rgb2hex(u),r[3*o]=u[0],r[3*o+1]=u[1],r[3*o+2]=u[2]}this._replacements=e},r.replacements.get=function(){return this._replacements},t.prototype.refresh=function(){this.replacements=this._replacements},r.maxColors.get=function(){return this._maxColors},r.epsilon.set=function(e){this.uniforms.epsilon=e},r.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(t.prototype,r),t}(t.Filter),ye=u,ve="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n",xe=function(e){function t(t,r){void 0===r&&(r=0),e.call(this,ye,ve),this.uniforms.dimensions=new Float32Array(2),"number"==typeof t?(this.seed=t,t=null):this.seed=r,Object.assign(this,{sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={sepia:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},scratch:{configurable:!0},scratchDensity:{configurable:!0},scratchWidth:{configurable:!0},vignetting:{configurable:!0},vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.dimensions[0]=t.filterFrame.width,this.uniforms.dimensions[1]=t.filterFrame.height,this.uniforms.seed=this.seed,e.applyFilter(this,t,r,i)},r.sepia.set=function(e){this.uniforms.sepia=e},r.sepia.get=function(){return this.uniforms.sepia},r.noise.set=function(e){this.uniforms.noise=e},r.noise.get=function(){return this.uniforms.noise},r.noiseSize.set=function(e){this.uniforms.noiseSize=e},r.noiseSize.get=function(){return this.uniforms.noiseSize},r.scratch.set=function(e){this.uniforms.scratch=e},r.scratch.get=function(){return this.uniforms.scratch},r.scratchDensity.set=function(e){this.uniforms.scratchDensity=e},r.scratchDensity.get=function(){return this.uniforms.scratchDensity},r.scratchWidth.set=function(e){this.uniforms.scratchWidth=e},r.scratchWidth.get=function(){return this.uniforms.scratchWidth},r.vignetting.set=function(e){this.uniforms.vignetting=e},r.vignetting.get=function(){return this.uniforms.vignetting},r.vignettingAlpha.set=function(e){this.uniforms.vignettingAlpha=e},r.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha},r.vignettingBlur.set=function(e){this.uniforms.vignettingBlur=e},r.vignettingBlur.get=function(){return this.uniforms.vignettingBlur},Object.defineProperties(t.prototype,r),t}(t.Filter),we=u,Se="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterClamp;\n\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\n\nvoid main(void) {\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ${angleStep}) {\n        displaced.x = vTextureCoord.x + thickness.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n",Ee=function(e){function t(r,i,n){void 0===r&&(r=1),void 0===i&&(i=0),void 0===n&&(n=.1);var o=Math.max(n*t.MAX_SAMPLES,t.MIN_SAMPLES),s=(2*Math.PI/o).toFixed(7);e.call(this,we,Se.replace(/\$\{angleStep\}/,s)),this.uniforms.thickness=new Float32Array([0,0]),this.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(this,{thickness:r,color:i,quality:n})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={color:{configurable:!0},thickness:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.thickness[0]=this._thickness/t._frame.width,this.uniforms.thickness[1]=this._thickness/t._frame.height,e.applyFilter(this,t,r,i)},r.color.get=function(){return n.rgb2hex(this.uniforms.outlineColor)},r.color.set=function(e){n.hex2rgb(e,this.uniforms.outlineColor)},r.thickness.get=function(){return this._thickness},r.thickness.set=function(e){this._thickness=e,this.padding=e},Object.defineProperties(t.prototype,r),t}(t.Filter);Ee.MIN_SAMPLES=1,Ee.MAX_SAMPLES=100;var Ae=u,Te="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n",Pe=function(e){function t(t){void 0===t&&(t=10),e.call(this,Ae,Te),this.size=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={size:{configurable:!0}};return r.size.get=function(){return this.uniforms.size},r.size.set=function(e){"number"==typeof e&&(e=[e,e]),this.uniforms.size=e},Object.defineProperties(t.prototype,r),t}(t.Filter),Ce=u,Me="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float uRadian;\nuniform vec2 uCenter;\nuniform float uRadius;\nuniform int uKernelSize;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    float aspect = filterArea.y / filterArea.x;\n    vec2 center = uCenter.xy / filterArea.xy;\n    float gradient = uRadius / filterArea.x * 0.3;\n    float radius = uRadius / filterArea.x - gradient * 0.5;\n    int k = uKernelSize - 1;\n\n    vec2 coord = vTextureCoord;\n    vec2 dir = vec2(center - coord);\n    float dist = length(vec2(dir.x, dir.y * aspect));\n\n    float radianStep = uRadian;\n    if (radius >= 0.0 && dist > radius) {\n        float delta = dist - radius;\n        float gap = gradient;\n        float scale = 1.0 - abs(delta / gap);\n        if (scale <= 0.0) {\n            gl_FragColor = color;\n            return;\n        }\n        radianStep *= scale;\n    }\n    radianStep /= float(k);\n\n    float s = sin(radianStep);\n    float c = cos(radianStep);\n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n\n        coord -= center;\n        coord.y *= aspect;\n        coord = rotationMatrix * coord;\n        coord.y /= aspect;\n        coord += center;\n\n        vec4 sample = texture2D(uSampler, coord);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample;\n    }\n\n    gl_FragColor = color / float(uKernelSize);\n}\n",Fe=function(e){function t(t,r,i,n){void 0===t&&(t=0),void 0===r&&(r=[0,0]),void 0===i&&(i=5),void 0===n&&(n=-1),e.call(this,Ce,Me),this._angle=0,this.angle=t,this.center=r,this.kernelSize=i,this.radius=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={angle:{configurable:!0},center:{configurable:!0},radius:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.uKernelSize=0!==this._angle?this.kernelSize:0,e.applyFilter(this,t,r,i)},r.angle.set=function(e){this._angle=e,this.uniforms.uRadian=e*Math.PI/180},r.angle.get=function(){return this._angle},r.center.get=function(){return this.uniforms.uCenter},r.center.set=function(e){this.uniforms.uCenter=e},r.radius.get=function(){return this.uniforms.uRadius},r.radius.set=function(e){(e<0||e===1/0)&&(e=-1),this.uniforms.uRadius=e},Object.defineProperties(t.prototype,r),t}(t.Filter),Ie=u,Oe="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nuniform bool mirror;\nuniform float boundary;\nuniform vec2 amplitude;\nuniform vec2 waveLength;\nuniform vec2 alpha;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    if (coord.y < boundary) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\n    float areaY = boundary * dimensions.y / filterArea.y;\n    float v = areaY + areaY - vTextureCoord.y;\n    float y = mirror ? v : vTextureCoord.y;\n\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\n\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\n    x = clamp(x, filterClamp.x, filterClamp.z);\n\n    vec4 color = texture2D(uSampler, vec2(x, y));\n\n    gl_FragColor = color * _alpha;\n}\n",De=function(e){function t(t){e.call(this,Ie,Oe),this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,{mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0},t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={mirror:{configurable:!0},boundary:{configurable:!0},amplitude:{configurable:!0},waveLength:{configurable:!0},alpha:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.dimensions[0]=t.filterFrame.width,this.uniforms.dimensions[1]=t.filterFrame.height,this.uniforms.time=this.time,e.applyFilter(this,t,r,i)},r.mirror.set=function(e){this.uniforms.mirror=e},r.mirror.get=function(){return this.uniforms.mirror},r.boundary.set=function(e){this.uniforms.boundary=e},r.boundary.get=function(){return this.uniforms.boundary},r.amplitude.set=function(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]},r.amplitude.get=function(){return this.uniforms.amplitude},r.waveLength.set=function(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]},r.waveLength.get=function(){return this.uniforms.waveLength},r.alpha.set=function(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]},r.alpha.get=function(){return this.uniforms.alpha},Object.defineProperties(t.prototype,r),t}(t.Filter),ke=u,Re="precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",Be=function(e){function t(t,r,i){void 0===t&&(t=[-10,0]),void 0===r&&(r=[0,10]),void 0===i&&(i=[0,0]),e.call(this,ke,Re),this.red=t,this.green=r,this.blue=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={red:{configurable:!0},green:{configurable:!0},blue:{configurable:!0}};return r.red.get=function(){return this.uniforms.red},r.red.set=function(e){this.uniforms.red=e},r.green.get=function(){return this.uniforms.green},r.green.set=function(e){this.uniforms.green=e},r.blue.get=function(){return this.uniforms.blue},r.blue.set=function(e){this.uniforms.blue=e},Object.defineProperties(t.prototype,r),t}(t.Filter),Ne=u,Le="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n\n    gl_FragColor = color;\n}\n",Ge=function(e){function t(t,r,i){void 0===t&&(t=[0,0]),void 0===r&&(r={}),void 0===i&&(i=0),e.call(this,Ne,Le),this.center=t,Array.isArray(r)&&(console.warn("Deprecated Warning: ShockwaveFilter params Array has been changed to options Object."),r={}),r=Object.assign({amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1},r),this.amplitude=r.amplitude,this.wavelength=r.wavelength,this.brightness=r.brightness,this.speed=r.speed,this.radius=r.radius,this.time=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={center:{configurable:!0},amplitude:{configurable:!0},wavelength:{configurable:!0},brightness:{configurable:!0},speed:{configurable:!0},radius:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.time=this.time,e.applyFilter(this,t,r,i)},r.center.get=function(){return this.uniforms.center},r.center.set=function(e){this.uniforms.center=e},r.amplitude.get=function(){return this.uniforms.amplitude},r.amplitude.set=function(e){this.uniforms.amplitude=e},r.wavelength.get=function(){return this.uniforms.wavelength},r.wavelength.set=function(e){this.uniforms.wavelength=e},r.brightness.get=function(){return this.uniforms.brightness},r.brightness.set=function(e){this.uniforms.brightness=e},r.speed.get=function(){return this.uniforms.speed},r.speed.set=function(e){this.uniforms.speed=e},r.radius.get=function(){return this.uniforms.radius},r.radius.set=function(e){this.uniforms.radius=e},Object.defineProperties(t.prototype,r),t}(t.Filter),Ue=u,ze="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uLightmap;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\nuniform vec4 ambientColor;\nvoid main() {\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\n    vec4 light = texture2D(uLightmap, lightCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\n}\n",je=function(e){function t(t,r,i){void 0===r&&(r=0),void 0===i&&(i=1),e.call(this,Ue,ze),this.uniforms.dimensions=new Float32Array(2),this.uniforms.ambientColor=new Float32Array([0,0,0,i]),this.texture=t,this.color=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={texture:{configurable:!0},color:{configurable:!0},alpha:{configurable:!0}};return t.prototype.apply=function(e,t,r,i){this.uniforms.dimensions[0]=t.filterFrame.width,this.uniforms.dimensions[1]=t.filterFrame.height,e.applyFilter(this,t,r,i)},r.texture.get=function(){return this.uniforms.uLightmap},r.texture.set=function(e){this.uniforms.uLightmap=e},r.color.set=function(e){var t=this.uniforms.ambientColor;"number"==typeof e?(n.hex2rgb(e,t),this._color=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this._color=n.rgb2hex(t))},r.color.get=function(){return this._color},r.alpha.get=function(){return this.uniforms.ambientColor[3]},r.alpha.set=function(e){this.uniforms.ambientColor[3]=e},Object.defineProperties(t.prototype,r),t}(t.Filter),Je=u,Xe="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    color /= total;\n    color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n",He=function(e){function t(t,i,n,o){void 0===t&&(t=100),void 0===i&&(i=600),void 0===n&&(n=null),void 0===o&&(o=null),e.call(this,Je,Xe),this.uniforms.blur=t,this.uniforms.gradientBlur=i,this.uniforms.start=n||new r.Point(0,window.innerHeight/2),this.uniforms.end=o||new r.Point(600,window.innerHeight/2),this.uniforms.delta=new r.Point(30,30),this.uniforms.texSize=new r.Point(window.innerWidth,window.innerHeight),this.updateDelta()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return t.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},i.blur.get=function(){return this.uniforms.blur},i.blur.set=function(e){this.uniforms.blur=e},i.gradientBlur.get=function(){return this.uniforms.gradientBlur},i.gradientBlur.set=function(e){this.uniforms.gradientBlur=e},i.start.get=function(){return this.uniforms.start},i.start.set=function(e){this.uniforms.start=e,this.updateDelta()},i.end.get=function(){return this.uniforms.end},i.end.set=function(e){this.uniforms.end=e,this.updateDelta()},Object.defineProperties(t.prototype,i),t}(t.Filter),We=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,r=Math.sqrt(e*e+t*t);this.uniforms.delta.x=e/r,this.uniforms.delta.y=t/r},t}(He),Ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.updateDelta=function(){var e=this.uniforms.end.x-this.uniforms.start.x,t=this.uniforms.end.y-this.uniforms.start.y,r=Math.sqrt(e*e+t*t);this.uniforms.delta.x=-t/r,this.uniforms.delta.y=e/r},t}(He),Ye=function(e){function t(t,r,i,n){void 0===t&&(t=100),void 0===r&&(r=600),void 0===i&&(i=null),void 0===n&&(n=null),e.call(this),this.tiltShiftXFilter=new We(t,r,i,n),this.tiltShiftYFilter=new Ve(t,r,i,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={blur:{configurable:!0},gradientBlur:{configurable:!0},start:{configurable:!0},end:{configurable:!0}};return t.prototype.apply=function(e,t,r){var i=e.getFilterTexture();this.tiltShiftXFilter.apply(e,t,i,1),this.tiltShiftYFilter.apply(e,i,r),e.returnFilterTexture(i)},r.blur.get=function(){return this.tiltShiftXFilter.blur},r.blur.set=function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e},r.gradientBlur.get=function(){return this.tiltShiftXFilter.gradientBlur},r.gradientBlur.set=function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e},r.start.get=function(){return this.tiltShiftXFilter.start},r.start.set=function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e},r.end.get=function(){return this.tiltShiftXFilter.end},r.end.set=function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e},Object.defineProperties(t.prototype,r),t}(t.Filter),qe=u,Ke="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n",Ze=function(e){function t(t){e.call(this,qe,Ke),"number"==typeof t&&(t={radius:t},void 0!==arguments[1]&&(t.angle=arguments[1]),void 0!==arguments[2]&&(t.padding=arguments[2])),Object.assign(this,{radius:200,angle:4,padding:20,offset:new r.Point},t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={offset:{configurable:!0},radius:{configurable:!0},angle:{configurable:!0}};return i.offset.get=function(){return this.uniforms.offset},i.offset.set=function(e){this.uniforms.offset=e},i.radius.get=function(){return this.uniforms.radius},i.radius.set=function(e){this.uniforms.radius=e},i.angle.get=function(){return this.uniforms.angle},i.angle.set=function(e){this.uniforms.angle=e},Object.defineProperties(t.prototype,i),t}(t.Filter),Qe=u,$e="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = ${maxKernelSize};\n\n// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand(vec2 co, float seed) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);\n    return fract(sin(sn) * c + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = rand(vTextureCoord, 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    color /= total;\n    // switch back from pre-multiplied alpha\n    // color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n",et=function(e){function t(t){if("object"!=typeof t){var r=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3];t={},void 0!==r&&(t.strength=r),void 0!==i&&(t.center=i),void 0!==n&&(t.innerRadius=n),void 0!==o&&(t.radius=o)}t=Object.assign({strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32},t),e.call(this,Qe,$e.replace("${maxKernelSize}",t.maxKernelSize.toFixed(1))),this.strength=t.strength,this.center=t.center,this.innerRadius=t.innerRadius,this.radius=t.radius}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={center:{configurable:!0},strength:{configurable:!0},innerRadius:{configurable:!0},radius:{configurable:!0}};return r.center.get=function(){return this.uniforms.uCenter},r.center.set=function(e){this.uniforms.uCenter=e},r.strength.get=function(){return this.uniforms.uStrength},r.strength.set=function(e){this.uniforms.uStrength=e},r.innerRadius.get=function(){return this.uniforms.uInnerRadius},r.innerRadius.set=function(e){this.uniforms.uInnerRadius=e},r.radius.get=function(){return this.uniforms.uRadius},r.radius.set=function(e){(e<0||e===1/0)&&(e=-1),this.uniforms.uRadius=e},Object.defineProperties(t.prototype,r),t}(t.Filter);return e.AdjustmentFilter=c,e.AdvancedBloomFilter=y,e.AsciiFilter=w,e.BevelFilter=A,e.BloomFilter=T,e.BulgePinchFilter=M,e.CRTFilter=V,e.ColorMapFilter=O,e.ColorOverlayFilter=R,e.ColorReplaceFilter=L,e.ConvolutionFilter=z,e.CrossHatchFilter=X,e.DotFilter=K,e.DropShadowFilter=$,e.EmbossFilter=re,e.GlitchFilter=oe,e.GlowFilter=ue,e.GodrayFilter=fe,e.KawaseBlurFilter=p,e.MotionBlurFilter=_e,e.MultiColorReplaceFilter=ge,e.OldFilmFilter=xe,e.OutlineFilter=Ee,e.PixelateFilter=Pe,e.RGBSplitFilter=Be,e.RadialBlurFilter=Fe,e.ReflectionFilter=De,e.ShockwaveFilter=Ge,e.SimpleLightmapFilter=je,e.TiltShiftAxisFilter=He,e.TiltShiftFilter=Ye,e.TiltShiftXFilter=We,e.TiltShiftYFilter=Ve,e.TwistFilter=Ze,e.ZoomBlurFilter=et,e}({},PIXI,PIXI,PIXI,PIXI.utils,PIXI,PIXI.filters,PIXI.filters),Module;Object.assign(PIXI.filters,__filters),Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(e,t){e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return r||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),r=nodeFS.readFileSync(e)),r&&!t&&(r=r.toString()),r},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"==typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,r){return r||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,t),Module["dynCall_"+e].apply(null,r)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var r=Runtime.funcWrappers[t];return r[e]||(r[e]=function(){return Runtime.dynCall(t,e,arguments)}),r[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+e|0)+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if((DYNAMICTOP=(DYNAMICTOP=DYNAMICTOP+e|0)+15&-16)>=TOTAL_MEMORY&&!enlargeMemory())return DYNAMICTOP=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,r){return r?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: "+t)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,r,i){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+r)}}function getValue(e,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}!function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&writeStringToMemory(e,t=Runtime.stackAlloc(1+(e.length<<2))),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,r,i,n){var o=getCFunc(e),s=[],a=0;if(i)for(var u=0;u<i.length;u++){var l=toC[r[u]];l?(0===a&&(a=Runtime.stackSave()),s[u]=l(i[u])):s[u]=i[u]}var c=o.apply(null,s);if("string"===t&&(c=Pointer_stringify(c)),0!==a){if(n&&n.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(a)});Runtime.stackRestore(a)}return c};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,r,i){var n,o;"number"==typeof e?(n=!0,o=e):(n=!1,o=e.length);var s,a="string"==typeof t?t:null;if(s=r==ALLOC_NONE?i:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(o,a?1:t.length)),n){var u;i=s;for(assert(0==(3&s)),u=s+(-4&o);i<u;i+=4)HEAP32[i>>2]=0;for(u=s+o;i<u;)HEAP8[i++>>0]=0;return s}if("i8"===a)return e.subarray||e.slice?HEAPU8.set(e,s):HEAPU8.set(new Uint8Array(e),s),s;for(var l,c,h,f=0;f<o;){var d=e[f];"function"==typeof d&&(d=Runtime.getFunctionIndex(d)),0!==(l=a||t[f])?("i64"==l&&(l="i32"),setValue(s+f,d,l),h!==l&&(c=Runtime.getNativeTypeSize(l),h=l),f+=c):f++}return s}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var r,i=0,n=0;i|=r=HEAPU8[e+n>>0],(0!=r||t)&&(n++,!t||n!=t););t||(t=n);var o="";if(i<128){for(var s;t>0;)s=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),o=o?o+s:s,e+=1024,t-=1024;return o}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var r=HEAP8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var r,i,n,o,s,a="";;){if(!(r=e[t++]))return a;if(128&r)if(i=63&e[t++],192!=(224&r))if(n=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|n:(o=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|n<<6|o:(s=63&e[t++],r=248==(252&r)?(3&r)<<24|i<<18|n<<12|o<<6|s:(1&r)<<30|i<<24|n<<18|o<<12|s<<6|63&e[t++])),r<65536)a+=String.fromCharCode(r);else{var u=r-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}else a+=String.fromCharCode((31&r)<<6|i);else a+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,r,i){if(!(i>0))return 0;for(var n=r,o=r+i-1,s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s)),a<=127){if(r>=o)break;t[r++]=a}else if(a<=2047){if(r+1>=o)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else if(a<=2097151){if(r+3>=o)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}else if(a<=67108863){if(r+4>=o)break;t[r++]=248|a>>24,t[r++]=128|a>>18&63,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+5>=o)break;t[r++]=252|a>>30,t[r++]=128|a>>24&63,t[r++]=128|a>>18&63,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}}return t[r]=0,r-n}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++r)),i<=127?++t:t+=i<=2047?2:i<=65535?3:i<=2097151?4:i<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,r="";;){var i=HEAP16[e+2*t>>1];if(0==i)return r;++t,r+=String.fromCharCode(i)}}function stringToUTF16(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var i=t,n=(r-=2)<2*e.length?r/2:e.length,o=0;o<n;++o){var s=e.charCodeAt(o);HEAP16[t>>1]=s,t+=2}return HEAP16[t>>1]=0,t-i}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,r="";;){var i=HEAP32[e+4*t>>2];if(0==i)return r;if(++t,i>=65536){var n=i-65536;r+=String.fromCharCode(55296|n>>10,56320|1023&n)}else r+=String.fromCharCode(i)}}function stringToUTF32(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var i=t,n=i+r-4,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o);if(HEAP32[t>>2]=s,(t+=4)+4>n)break}return HEAP32[t>>2]=0,t-i}function lengthBytesUTF32(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=55296&&i<=57343&&++r,t+=4}return t}function demangle(e){var t=!!Module.___cxa_demangle;if(t)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var i=_malloc(4),n=Module.___cxa_demangle(r,0,0,i);if(0===getValue(i,"i32")&&n)return Pointer_stringify(n)}catch(e){}finally{r&&_free(r),i&&_free(i),n&&_free(n)}var o=3,s={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},a=[],u=!0;var l=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}l=function t(r,i,n){i=i||1/0;var l,c="",h=[];if("N"===e[o]){if(l=function(){"K"===e[++o]&&o++;for(var t=[];"E"!==e[o];)if("S"!==e[o])if("C"!==e[o]){var r=parseInt(e.substr(o)),i=r.toString().length;if(!r||!i){o--;break}var n=e.substr(o+i,r);t.push(n),a.push(n),o+=i+r}else t.push(t[t.length-1]),o+=2;else{o++;var s=e.indexOf("_",o),u=e.substring(o,s)||0;t.push(a[u]||"?"),o=s+1}return o++,t}().join("::"),0==--i)return r?[l]:l}else if(("K"===e[o]||u&&"L"===e[o])&&o++,_=parseInt(e.substr(o))){var f=_.toString().length;l=e.substr(o+f,_),o+=f+_}if(u=!1,"I"===e[o]){o++;var d=t(!0);c+=t(!0,1,!0)[0]+" "+l+"<"+d.join(", ")+">"}else c=l;e:for(;o<e.length&&i-- >0;){var p=e[o++];if(p in s)h.push(s[p]);else switch(p){case"P":h.push(t(!0,1,!0)[0]+"*");break;case"R":h.push(t(!0,1,!0)[0]+"&");break;case"L":o++;var _=e.indexOf("E",o)-o;h.push(e.substr(o,_)),o+=_+2;break;case"A":if(_=parseInt(e.substr(o)),o+=_.toString().length,"_"!==e[o])throw"?";o++,h.push(t(!0,1,!0)[0]+" ["+_+"]");break;case"E":break e;default:c+="?"+p;break e}}return n||1!==h.length||"void"!==h[0]||(h=[]),r?(c&&h.push(c+"?"),h):c+"("+h.join(", ")+")"}()}catch(e){l+="?"}return l.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),l}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||33554432,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[t.arg]):r(void 0===t.arg?null:t.arg)}else t()}}totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,r){var i=r>0?r:lengthBytesUTF8(e)+1,n=new Array(i),o=stringToUTF8Array(e,n,0,n.length);return t&&(n.length=o),n}function intArrayToString(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i>255&&(i&=255),t.push(String.fromCharCode(i))}return t.join("")}function writeStringToMemory(e,t,r){for(var i=intArrayFromString(e,r),n=0;n<i.length;){var o=i[n];HEAP8[t+n>>0]=o,n+=1}}function writeArrayToMemory(e,t){for(var r=0;r<e.length;r++)HEAP8[t++>>0]=e[r]}function writeAsciiToMemory(e,t,r){for(var i=0;i<e.length;++i)HEAP8[t++>>0]=e.charCodeAt(i);r||(HEAP8[t>>0]=0)}function unSign(e,t,r){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,r){if(e<=0)return e;var i=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=i&&(t<=32||e>i)&&(e=-2*i+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var r=65535&e,i=65535&t;return r*i+((e>>>16)*i+r*(t>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,STATICTOP=STATIC_BASE+10768,__ATINIT__.push({func:function(){__GLOBAL__sub_I_jsBindings_cpp()}}),memoryInitializer=getCGResourceUrl("base-plugins-v15/lf_core.js.mem");var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}assert(tempDoublePtr%8==0);var _cosf=Math_cos;Module._i64Subtract=_i64Subtract;var _floorf=Math_floor;function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){if(EXCEPTIONS.infos[t].adjusted===e)return t}return e},addRef:function(e){e&&EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(EXCEPTIONS.infos[e].refcount=0)}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],r=t.type;if(!r)return 0|(asm.setTempRet0(0),e);var i=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(r);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var n=0;n<i.length;n++)if(i[n]&&Module.___cxa_can_catch(i[n],r,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm.setTempRet0(i[n]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(r),e)}function ___cxa_throw(e,t,r){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:r,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}Module._memset=_memset;var _BDtoILow=!0;function _b2WorldRayCastCallback(e,t,r,i,n,o){return b2World.RayCast(e,t,r,i,n,o)}var _FtoIHigh=!0;function _abort(){Module.abort()}function _b2WorldBeginContactBody(e){b2World.BeginContactBody(e)}function _pthread_once(e,t){_pthread_once.seen||(_pthread_once.seen={}),e in _pthread_once.seen||(Runtime.dynCall("v",t),_pthread_once.seen[e]=1)}Module._bitshift64Shl=_bitshift64Shl;var _sqrtf=Math_sqrt;function ___unlock(){}var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}var PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,t){return 0==e?ERRNO_CODES.EINVAL:(HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}function ___lock(){}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,i,n){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0,s=0;s<i;s++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===a&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===a||void 0===a)break;o++,t[r+s]=a}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,i,n){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0;o<i;o++)try{e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var r,i=new Buffer(256),n=process.stdin.fd,o=!1;try{n=fs.openSync("/dev/stdin","r"),o=!0}catch(e){}r=fs.readSync(n,i,0,256,null),o&&fs.closeSync(n),t=r>0?i.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,r,i){if(FS.isBlkdev(r)||FS.isFIFO(r))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var n=FS.createNode(e,t,r,i);return FS.isDir(n.mode)?(n.node_ops=MEMFS.ops_table.dir.node,n.stream_ops=MEMFS.ops_table.dir.stream,n.contents={}):FS.isFile(n.mode)?(n.node_ops=MEMFS.ops_table.file.node,n.stream_ops=MEMFS.ops_table.file.stream,n.usedBytes=0,n.contents=null):FS.isLink(n.mode)?(n.node_ops=MEMFS.ops_table.link.node,n.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(n.mode)&&(n.node_ops=MEMFS.ops_table.chrdev.node,n.stream_ops=MEMFS.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[t]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.buffer.byteLength:0;if(r>=t)return;t=Math.max(t,r*(r<1048576?2:1.125)|0),0!=r&&(t=Math.max(t,256));var i=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,r,i){return MEMFS.createNode(e,t,r,i)},rename:function(e,t,r){if(FS.isDir(e.mode)){var i;try{i=FS.lookupNode(t,r)}catch(e){}if(i)for(var n in i.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=FS.lookupNode(e,t);for(var i in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var i=MEMFS.createNode(e,t,41471,0);return i.link=r,i},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,i,n){var o=e.node.contents;if(n>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-n,i);if(assert(s>=0),s>8&&o.subarray)t.set(o.subarray(n,n+s),r);else for(var a=0;a<s;a++)t[r+a]=o[n+a];return s},write:function(e,t,r,i,n,o){if(!i)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(o)return s.contents=t.subarray(r,r+i),s.usedBytes=i,i;if(0===s.usedBytes&&0===n)return s.contents=new Uint8Array(t.subarray(r,r+i)),s.usedBytes=i,i;if(n+i<=s.usedBytes)return s.contents.set(t.subarray(r,r+i),n),i}if(MEMFS.expandFileStorage(s,n+i),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+i),n);else for(var a=0;a<i;a++)s.contents[n+a]=t[r+a];return s.usedBytes=Math.max(s.usedBytes,n+i),i},llseek:function(e,t,r){var i=t;if(1===r?i+=e.position:2===r&&FS.isFile(e.node.mode)&&(i+=e.node.usedBytes),i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return i},allocate:function(e,t,r){MEMFS.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,i,n,o,s){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var a,u,l=e.node.contents;if(2&s||l.buffer!==t&&l.buffer!==t.buffer){if((n>0||n+i<e.node.usedBytes)&&(l=l.subarray?l.subarray(n,n+i):Array.prototype.slice.call(l,n,n+i)),u=!0,!(a=_malloc(i)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(l,a)}else u=!1,a=l.byteOffset;return{ptr:a,allocated:u}},msync:function(e,t,r,i,n){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&n)return 0;MEMFS.stream_ops.write(e,t,0,i,r,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,r){IDBFS.getLocalSet(e,function(i,n){if(i)return r(i);IDBFS.getRemoteSet(e,function(e,i){if(e)return r(e);var o=t?i:n,s=t?n:i;IDBFS.reconcile(o,s,r)})})},getDB:function(e,t){var r,i=IDBFS.dbs[e];if(i)return t(null,i);try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}r.onupgradeneeded=function(e){var t,r=e.target.result,i=e.target.transaction;(t=r.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?i.objectStore(IDBFS.DB_STORE_NAME):r.createObjectStore(IDBFS.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){i=r.result,IDBFS.dbs[e]=i,t(null,i)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){var r={};function i(e){return"."!==e&&".."!==e}function n(e){return function(t){return PATH.join2(e,t)}}for(var o=FS.readdir(e.mountpoint).filter(i).map(n(e.mountpoint));o.length;){var s,a=o.pop();try{s=FS.stat(a)}catch(e){return t(e)}FS.isDir(s.mode)&&o.push.apply(o,FS.readdir(a).filter(i).map(n(a))),r[a]={timestamp:s.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var r={};IDBFS.getDB(e.mountpoint,function(e,i){if(e)return t(e);var n=i.transaction([IDBFS.DB_STORE_NAME],"readonly");n.onerror=function(e){t(this.error),e.preventDefault()},n.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t(null,{type:"remote",db:i,entries:r});r[n.primaryKey]={timestamp:n.key},n.continue()}})},loadLocalEntry:function(e,t){var r,i;try{i=FS.lookupPath(e).node,r=FS.stat(e)}catch(e){return t(e)}return FS.isDir(r.mode)?t(null,{timestamp:r.mtime,mode:r.mode}):FS.isFile(r.mode)?(i.contents=MEMFS.getFileDataAsTypedArray(i),t(null,{timestamp:r.mtime,mode:r.mode,contents:i.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,r){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return r(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,t){try{FS.lookupPath(e);var r=FS.stat(e);FS.isDir(r.mode)?FS.rmdir(e):FS.isFile(r.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var i=e.get(t);i.onsuccess=function(e){r(null,e.target.result)},i.onerror=function(e){r(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,r,i){var n=e.put(r,t);n.onsuccess=function(){i(null)},n.onerror=function(e){i(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,r){var i=e.delete(t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},reconcile:function(e,t,r){var i=0,n=[];Object.keys(e.entries).forEach(function(r){var o=e.entries[r],s=t.entries[r];(!s||o.timestamp>s.timestamp)&&(n.push(r),i++)});var o=[];if(Object.keys(t.entries).forEach(function(r){t.entries[r];e.entries[r]||(o.push(r),i++)}),!i)return r(null);var s=0,a=("remote"===e.type?e.db:t.db).transaction([IDBFS.DB_STORE_NAME],"readwrite"),u=a.objectStore(IDBFS.DB_STORE_NAME);function l(e){return e?l.errored?void 0:(l.errored=!0,r(e)):++s>=i?r(null):void 0}a.onerror=function(e){l(this.error),e.preventDefault()},n.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(u,e,function(t,r){if(t)return l(t);IDBFS.storeLocalEntry(e,r,l)}):IDBFS.loadLocalEntry(e,function(t,r){if(t)return l(t);IDBFS.storeRemoteEntry(u,e,r,l)})}),o.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,l):IDBFS.removeRemoteEntry(u,e,l)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,r,i){if(!FS.isDir(r)&&!FS.isFile(r)&&!FS.isLink(r))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=FS.createNode(e,t,r);return n.node_ops=NODEFS.node_ops,n.stream_ops=NODEFS.stream_ops,n},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if((e&=-32769)in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,r=NODEFS.realPath(e);try{t=fs.lstatSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var r=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(r,t.mode),e.mode=t.mode),void 0!==t.timestamp){var i=new Date(t.timestamp);fs.utimesSync(r,i,i)}void 0!==t.size&&fs.truncateSync(r,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t),i=NODEFS.getMode(r);return NODEFS.createNode(e,t,i)},mknod:function(e,t,r,i){var n=NODEFS.createNode(e,t,r,i),o=NODEFS.realPath(n);try{FS.isDir(n.mode)?fs.mkdirSync(o,n.mode):fs.writeFileSync(o,"",{mode:n.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return n},rename:function(e,t,r){var i=NODEFS.realPath(e),n=PATH.join2(NODEFS.realPath(t),r);try{fs.renameSync(i,n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,r){var i=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(r,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,r,i,n){if(0===i)return 0;var o,s=new Buffer(i);try{o=fs.readSync(e.nfd,s,0,i,n)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(o>0)for(var a=0;a<o;a++)t[r+a]=s[a];return o},write:function(e,t,r,i,n){var o,s=new Buffer(t.subarray(r,r+i));try{o=fs.writeSync(e.nfd,s,0,i,n)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return o},llseek:function(e,t,r){var i=t;if(1===r)i+=e.position;else if(2===r&&FS.isFile(e.node.mode))try{i+=fs.fstatSync(e.nfd).size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return i}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var t=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),r={};function i(e){for(var i=e.split("/"),n=t,o=0;o<i.length-1;o++){var s=i.slice(0,o+1).join("/");r[s]||(r[s]=WORKERFS.createNode(n,s,WORKERFS.DIR_MODE,0)),n=r[s]}return n}function n(e){var t=e.split("/");return t[t.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(i(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(i(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var r=t.filename.substr(1);WORKERFS.createNode(i(r),n(r),WORKERFS.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),t},createNode:function(e,t,r,i,n,o){var s=FS.createNode(e,t,r);return s.mode=r,s.node_ops=WORKERFS.node_ops,s.stream_ops=WORKERFS.stream_ops,s.timestamp=(o||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),r===WORKERFS.FILE_MODE?(s.size=n.size,s.contents=n):(s.size=4096,s.contents={}),e&&(e.contents[t]=s),s},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,r,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,t,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,r,i,n){if(n>=e.node.size)return 0;var o=e.node.contents.slice(n,n+i),s=WORKERFS.reader.readAsArrayBuffer(o);return t.set(new Uint8Array(s),r),o.size},write:function(e,t,r,i,n){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,r){var i=t;if(1===r?i+=e.position:2===r&&FS.isFile(e.node.mode)&&(i+=e.node.size),i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return i}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(e=PATH.resolve(FS.cwd(),e),t=t||{},!e)return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var i in r)void 0===t[i]&&(t[i]=r[i]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var n=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=FS.root,s="/",a=0;a<n.length;a++){var u=a===n.length-1;if(u&&t.parent)break;if(o=FS.lookupNode(o,n[a]),s=PATH.join2(s,n[a]),FS.isMountpoint(o)&&(!u||u&&t.follow_mount)&&(o=o.mounted.root),!u||t.follow)for(var l=0;FS.isLink(o.mode);){var c=FS.readlink(s);if(s=PATH.resolve(PATH.dirname(s),c),o=FS.lookupPath(s,{recurse_count:t.recurse_count}).node,l++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:s,node:o}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)|0;return(e+r>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var r=FS.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=FS.mayLookup(e);if(r)throw new FS.ErrnoError(r,e);for(var i=FS.hashName(e.id,t),n=FS.nameTable[i];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===t)return n}return FS.lookup(e,t)},createNode:function(e,t,r,i){if(!FS.FSNode){FS.FSNode=function(e,t,r,i){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=i},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var n=new FS.FSNode(e,t,r,i);return FS.hashAddNode(n),n},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var i;try{i=FS.lookupNode(e,t)}catch(e){return e.errno}var n=FS.nodePermissions(e,"wx");if(n)return n;if(r){if(!FS.isDir(i.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(i)||FS.getPath(i)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(i.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!FS.streams[r])return r;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,r){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var i=new FS.FSStream;for(var n in e)i[n]=e[n];e=i;var o=FS.nextfd(t,r);return e.fd=o,FS.streams[o]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var i=r.pop();t.push(i),r.push.apply(r,i.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1);var r=FS.getMounts(FS.root.mount),i=0;function n(e){if(e)return n.errored?void 0:(n.errored=!0,t(e));++i>=r.length&&t(null)}r.forEach(function(t){if(!t.type.syncfs)return n(null);t.type.syncfs(t,e,n)})},mount:function(e,t,r){var i,n="/"===r,o=!r;if(n&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!n&&!o){var s=FS.lookupPath(r,{follow_mount:!1});if(r=s.path,i=s.node,FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(i.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var a={type:e,opts:t,mountpoint:r,mounts:[]},u=e.mount(a);return u.mount=a,a.root=u,n?FS.root=u:i&&(i.mounted=a,i.mount&&i.mount.mounts.push(a)),u},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=t.node,i=r.mounted,n=FS.getMounts(i);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var r=t.name_next;-1!==n.indexOf(t.mount)&&FS.destroyNode(t),t=r}}),r.mounted=null;var o=r.mount.mounts.indexOf(i);assert(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var i=FS.lookupPath(e,{parent:!0}).node,n=PATH.basename(e);if(!n||"."===n||".."===n)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=FS.mayCreate(i,n);if(o)throw new FS.ErrnoError(o);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,n,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,FS.mknod(e,t,r)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var r=FS.lookupPath(t,{parent:!0}).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=PATH.basename(t),n=FS.mayCreate(r,i);if(n)throw new FS.ErrnoError(n);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var r,i,n=PATH.dirname(e),o=PATH.dirname(t),s=PATH.basename(e),a=PATH.basename(t);try{r=FS.lookupPath(e,{parent:!0}).node,i=FS.lookupPath(t,{parent:!0}).node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==i.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var u,l=FS.lookupNode(r,s),c=PATH.relative(e,o);if("."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if("."!==(c=PATH.relative(t,n)).charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{u=FS.lookupNode(i,a)}catch(e){}if(l!==u){var h=FS.isDir(l.mode),f=FS.mayDelete(r,s,h);if(f)throw new FS.ErrnoError(f);if(f=u?FS.mayDelete(i,a,h):FS.mayCreate(i,a))throw new FS.ErrnoError(f);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(l)||u&&FS.isMountpoint(u))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(i!==r&&(f=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(f);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}FS.hashRemoveNode(l);try{r.node_ops.rename(l,i,a)}catch(e){throw e}finally{FS.hashAddNode(l)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),i=FS.lookupNode(t,r),n=FS.mayDelete(t,r,!0);if(n)throw new FS.ErrnoError(n);if(!t.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return t.node_ops.readdir(t)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),i=FS.lookupNode(t,r),n=FS.mayDelete(t,r,!1);if(n)throw n===ERRNO_CODES.EISDIR&&(n=ERRNO_CODES.EPERM),new FS.ErrnoError(n);if(!t.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=FS.lookupPath(e).node;if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!t.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=FS.lookupPath(e,{follow:!t}).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,r){var i;"string"==typeof e?i=FS.lookupPath(e,{follow:!r}).node:i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{mode:4095&t|-4096&i.mode,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(r.node,t)},chown:function(e,t,r,i){var n;"string"==typeof e?n=FS.lookupPath(e,{follow:!i}).node:n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,t,r){FS.chown(e,t,r,!0)},fchown:function(e,t,r){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(i.node,t,r)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r;"string"==typeof e?r=FS.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.nodePermissions(r,"w");if(i)throw new FS.ErrnoError(i);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&r.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(r.node,t)},utime:function(e,t,r){var i=FS.lookupPath(e,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(t,r)})},open:function(e,t,r,i,n){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var o;if(t="string"==typeof t?FS.modeStringToFlags(t):t,r=void 0===r?438:r,r=64&t?4095&r|32768:0,"object"==typeof e)o=e;else{e=PATH.normalize(e);try{o=FS.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(o){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else o=FS.mknod(e,r,0),s=!0;if(!o)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(o.mode)&&(t&=-513),65536&t&&!FS.isDir(o.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!s){var a=FS.mayOpen(o,t);if(a)throw new FS.ErrnoError(a)}512&t&&FS.truncate(o,0),t&=-641;var u=FS.createStream({node:o,path:FS.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},i,n);u.stream_ops.open&&u.stream_ops.open(u),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=FS.tracking.openFlags.READ),0!=(2097155&t)&&(l|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,l)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,r){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,i,n){if(i<0||n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=!0;if(void 0===n)n=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.read(e,t,r,i,n);return o||(e.position+=s),s},write:function(e,t,r,i,n,o){if(i<0||n<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var s=!0;if(void 0===n)n=e.position,s=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var a=e.stream_ops.write(e,t,r,i,n,o);s||(e.position+=a);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return a},allocate:function(e,t,r){if(t<0||r<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,i,n,o,s){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,r,i,n,o,s)},msync:function(e,t,r,i,n){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,i,n):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,i=FS.open(e,t.flags),n=FS.stat(e).size,o=new Uint8Array(n);return FS.read(i,o,0,n,0),"utf8"===t.encoding?r=UTF8ArrayToString(o,0):"binary"===t.encoding&&(r=o),FS.close(i),r},writeFile:function(e,t,r){if((r=r||{}).flags=r.flags||"w",r.encoding=r.encoding||"utf8","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var i=FS.open(e,r.flags,r.mode);if("utf8"===r.encoding){var n=new Uint8Array(lengthBytesUTF8(t)+1),o=stringToUTF8Array(t,n,0,n.length);FS.write(i,n,0,o,0,r.canOwn)}else"binary"===r.encoding&&FS.write(i,t,0,t.length,0,r.canOwn);FS.close(i)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var r=FS.nodePermissions(t.node,"x");if(r)throw new FS.ErrnoError(r);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,r,i,n){return i}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),"undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=+t,i=FS.getStream(r);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return i.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=FS.open("/dev/stderr","w");assert(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,r){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=r||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var r=FS.streams[t];r&&FS.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},joinPath:function(e,t){var r=PATH.join.apply(null,e);return t&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var r=FS.analyzePath(e,t);return r.exists?r.object:(___setErrNo(r.error),null)},analyzePath:function(e,t){try{e=(i=FS.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=PATH.basename(e),i=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot="/"===i.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,r,i){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(r,i);return FS.mkdir(n,o)},createPath:function(e,t,r,i){e="string"==typeof e?e:FS.getPath(e);for(var n=t.split("/").reverse();n.length;){var o=n.pop();if(o){var s=PATH.join2(e,o);try{FS.mkdir(s)}catch(e){}e=s}}return s},createFile:function(e,t,r,i,n){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t),s=FS.getMode(i,n);return FS.create(o,s)},createDataFile:function(e,t,r,i,n,o){var s=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,a=FS.getMode(i,n),u=FS.create(s,a);if(r){if("string"==typeof r){for(var l=new Array(r.length),c=0,h=r.length;c<h;++c)l[c]=r.charCodeAt(c);r=l}FS.chmod(u,146|a);var f=FS.open(u,"w");FS.write(f,r,0,r.length,0,o),FS.close(f),FS.chmod(u,a)}return u},createDevice:function(e,t,r,i){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(!!r,!!i);FS.createDevice.major||(FS.createDevice.major=64);var s=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(s,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,t,i,n,o){for(var s=0,a=0;a<n;a++){var u;try{u=r()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===u&&0===s)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===u||void 0===u)break;s++,t[i+a]=u}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,n,o){for(var s=0;s<n;s++)try{i(t[r+s])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return n&&(e.node.timestamp=Date.now()),s}}),FS.mkdev(n,o,s)},createLink:function(e,t,r,i,n){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(r,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,r,i,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,i=Number(e.getResponseHeader("Content-length")),n=1048576;(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t||(n=i);var o=this;o.setDataGetter(function(e){var t=e*n,s=(e+1)*n-1;if(s=Math.min(s,i-1),void 0===o.chunks[e]&&(o.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>i-1)throw new Error("only "+i+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),i!==n&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):intArrayFromString(o.responseText||"",!0)}(t,s)),void 0===o.chunks[e])throw new Error("doXHR failed!");return o.chunks[e]}),this._length=i,this._chunkSize=n,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperty(s,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(s,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var a={isDevice:!1,contents:s}}else a={isDevice:!1,url:r};var u=FS.createFile(e,t,a,i,n);a.contents?u.contents=a.contents:a.url&&(u.contents=null,u.url=a.url),Object.defineProperty(u,"usedBytes",{get:function(){return this.contents.length}});var l={};return Object.keys(u.stream_ops).forEach(function(e){var t=u.stream_ops[e];l[e]=function(){if(!FS.forceLoadFile(u))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),l.read=function(e,t,r,i,n){if(!FS.forceLoadFile(u))throw new FS.ErrnoError(ERRNO_CODES.EIO);var o=e.node.contents;if(n>=o.length)return 0;var s=Math.min(o.length-n,i);if(assert(s>=0),o.slice)for(var a=0;a<s;a++)t[r+a]=o[n+a];else for(a=0;a<s;a++)t[r+a]=o.get(n+a);return s},u.stream_ops=l,u},createPreloadedFile:function(e,t,r,i,n,o,s,a,u,l){Browser.init();var c=t?PATH.resolve(PATH.join2(e,t)):e,h=getUniqueRunDependency("cp "+c);function f(r){function f(r){l&&l(),a||FS.createDataFile(e,t,r,i,n,u),o&&o(),removeRunDependency(h)}var d=!1;Module.preloadPlugins.forEach(function(e){d||e.canHandle(c)&&(e.handle(r,c,f,function(){s&&s(),removeRunDependency(h)}),d=!0)}),d||f(r)}addRunDependency(h),"string"==typeof r?Browser.asyncLoad(r,function(e){f(e)},s):f(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var i=FS.indexedDB();try{var n=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}n.onupgradeneeded=function(){console.log("creating db"),n.result.createObjectStore(FS.DB_STORE_NAME)},n.onsuccess=function(){var i=n.result.transaction([FS.DB_STORE_NAME],"readwrite"),o=i.objectStore(FS.DB_STORE_NAME),s=0,a=0,u=e.length;function l(){0==a?t():r()}e.forEach(function(e){var t=o.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){++s+a==u&&l()},t.onerror=function(){s+ ++a==u&&l()}}),i.onerror=r},n.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var i=FS.indexedDB();try{var n=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}n.onupgradeneeded=r,n.onsuccess=function(){var i=n.result;try{var o=i.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var s=o.objectStore(FS.DB_STORE_NAME),a=0,u=0,l=e.length;function c(){0==u?t():r()}e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),++a+u==l&&c()},t.onerror=function(){a+ ++u==l&&c()}}),o.onerror=r},n.onerror=r}},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var i=r>=0?arguments[r]:FS.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";e=i+"/"+e,t="/"===i.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var i=r(e.split("/")),n=r(t.split("/")),o=Math.min(i.length,n.length),s=o,a=0;a<o;a++)if(i[a]!==n[a]){s=a;break}var u=[];for(a=s;a<i.length;a++)u.push("..");return(u=u.concat(n.slice(s))).join("/")}};function _emscripten_set_main_loop_timing(e,t){if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=t,!Browser.mainLoop.func)return 1;if(0==e)Browser.mainLoop.scheduler=function(){setTimeout(Browser.mainLoop.runner,t)},Browser.mainLoop.method="timeout";else if(1==e)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(2==e){if(!window.setImmediate){var r=[],i="__emcc";window.addEventListener("message",function(e){e.source===window&&e.data===i&&(e.stopPropagation(),r.shift()())},!0),window.setImmediate=function(e){r.push(e),window.postMessage(i,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_set_main_loop(e,t,r,i,n){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=i;var o=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var t=Date.now(),r=Browser.mainLoop.queue.shift();if(r.func(r.arg),Browser.mainLoop.remainingBlockers){var n=Browser.mainLoop.remainingBlockers,s=n%1==0?n-1:Math.floor(n);r.counted?Browser.mainLoop.remainingBlockers=s:(s+=.5,Browser.mainLoop.remainingBlockers=(8*n+s)/9)}return console.log('main loop blocker "'+r.name+'" took '+(Date.now()-t)+" ms"),Browser.mainLoop.updateStatus(),void setTimeout(Browser.mainLoop.runner,0)}o<Browser.mainLoop.currentlyRunningMainloop||(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,1==Browser.mainLoop.timingMode&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0?Browser.mainLoop.scheduler():("timeout"===Browser.mainLoop.method&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(function(){void 0!==i?Runtime.dynCall("vi",e,[i]):Runtime.dynCall("v",e)}),o<Browser.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())))}},n||(t&&t>0?_emscripten_set_main_loop_timing(0,1e3/t):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),r)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,t=Browser.mainLoop.timingValue,r=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(r,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,t),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,r=Browser.mainLoop.expectedBlockers;t?t<r?Module.setStatus(e+" ("+(r-t)+"/"+r+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(e){if(!ABORT){if(Module.preMainLoop)if(!1===Module.preMainLoop())return;try{e()}catch(e){if(e instanceof ExitStatus)return;throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}Module.postMainLoop&&Module.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||void 0!==Browser.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var e={canHandle:function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,r,i){var n=null;if(Browser.hasBlobConstructor)try{(n=new Blob([e],{type:Browser.getMimetype(t)})).size!==e.length&&(n=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(t)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!n){var o=new Browser.BlobBuilder;o.append(new Uint8Array(e).buffer),n=o.getBlob()}var s=Browser.URLObject.createObjectURL(n),a=new Image;a.onload=function(){assert(a.complete,"Image "+t+" could not be decoded");var i=document.createElement("canvas");i.width=a.width,i.height=a.height,i.getContext("2d").drawImage(a,0,0),Module.preloadedImages[t]=i,Browser.URLObject.revokeObjectURL(s),r&&r(e)},a.onerror=function(e){console.log("Image "+s+" could not be decoded"),i&&i()},a.src=s}};Module.preloadPlugins.push(e);var t={canHandle:function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,r,i){var n=!1;function o(i){n||(n=!0,Module.preloadedAudios[t]=i,r&&r(e))}function s(){n||(n=!0,Module.preloadedAudios[t]=new Audio,i&&i())}if(!Browser.hasBlobConstructor)return s();try{var a=new Blob([e],{type:Browser.getMimetype(t)})}catch(e){return s()}var u=Browser.URLObject.createObjectURL(a),l=new Audio;l.addEventListener("canplaythrough",function(){o(l)},!1),l.onerror=function(r){n||(console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),l.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="",i=0,n=0,o=0;o<e.length;o++)for(i=i<<8|e[o],n+=8;n>=6;){var s=i>>n-6&63;n-=6,r+=t[s]}return 2==n?(r+=t[(3&i)<<4],r+="=="):4==n&&(r+=t[(15&i)<<2],r+="="),r}(e),o(l))},l.src=u,Browser.safeSetTimeout(function(){o(l)},1e4)}};Module.preloadPlugins.push(t);var r=Module.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),Module.elementPointerLock&&r.addEventListener("click",function(e){!Browser.pointerLock&&r.requestPointerLock&&(r.requestPointerLock(),e.preventDefault())},!1))}function i(){Browser.pointerLock=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r||document.msPointerLockElement===r}},createContext:function(e,t,r,i){if(t&&Module.ctx&&e==Module.canvas)return Module.ctx;var n,o;if(t){var s={antialias:!1,alpha:!1};if(i)for(var a in i)s[a]=i[a];(o=GL.createContext(e,s))&&(n=GL.getContext(o).GLctx),e.style.backgroundColor="black"}else n=e.getContext("2d");return n?(r&&(t||assert("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=n,t&&GL.makeContextCurrent(o),Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),n):null},destroyContext:function(e,t,r){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,t,r){Browser.lockPointer=e,Browser.resizeCanvas=t,Browser.vrDevice=r,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1),void 0===Browser.vrDevice&&(Browser.vrDevice=null);var i=Module.canvas;function n(){Browser.isFullScreen=!1;var e=i.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},i.cancelFullScreen=i.cancelFullScreen.bind(document),Browser.lockPointer&&i.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(i)}Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var o=document.createElement("div");i.parentNode.insertBefore(o,i),o.appendChild(i),o.requestFullScreen=o.requestFullScreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),r?o.requestFullScreen({vrDisplay:r}):o.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Browser.nextRAF)Browser.nextRAF=t+1e3/60;else for(;t+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var r=Math.max(Browser.nextRAF-t,0);setTimeout(e,r)},requestAnimationFrame:function(e){"undefined"==typeof window?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var e=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,t){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))},t)},safeSetInterval:function(e,t){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&e()},t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),r=Module.canvas.width,i=Module.canvas.height,n=void 0!==window.scrollX?window.scrollX:window.pageXOffset,o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var s=e.touch;if(void 0===s)return;var a=s.pageX-(n+t.left),u=s.pageY-(o+t.top),l={x:a*=r/t.width,y:u*=i/t.height};if("touchstart"===e.type)Browser.lastTouches[s.identifier]=l,Browser.touches[s.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var c=Browser.touches[s.identifier];c||(c=l),Browser.lastTouches[s.identifier]=c,Browser.touches[s.identifier]=l}return}var h=e.pageX-(n+t.left),f=e.pageY-(o+t.top);h*=r/t.width,f*=i/t.height,Browser.mouseMovementX=h-Browser.mouseX,Browser.mouseMovementY=f-Browser.mouseY,Browser.mouseX=h,Browser.mouseY=f}},xhrLoad:function(e,t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?t(i.response):r()},i.onerror=r,i.send(null)},asyncLoad:function(e,t,r,i){Browser.xhrLoad(e,function(r){assert(r,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(r)),i||removeRunDependency("al "+e)},function(t){if(!r)throw'Loading data file "'+e+'" failed.';r()}),i||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,r){var i=Module.canvas;Browser.updateCanvasDimensions(i,e,t),r||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e|=8388608,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var i=t,n=r;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(i/n<Module.forcedAspectRatio?i=Math.round(n*Module.forcedAspectRatio):n=Math.round(i/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/i,screen.height/n);i=Math.round(i*o),n=Math.round(n*o)}Browser.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=n&&(e.height=n),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),void 0!==e.style&&(i!=t||n!=r?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",n+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,e}};function _pthread_setspecific(e,t){return e in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[e]=t,0):ERRNO_CODES.EINVAL}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function ___cxa_allocate_exception(e){return _malloc(e)}Module._malloc=_malloc;var SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=FS.cwd();else{var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);r=i.path}t=PATH.join2(r,t)}return t},doStat:function(e,t,r){try{var i=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[r>>2]=i.dev,HEAP32[r+4>>2]=0,HEAP32[r+8>>2]=i.ino,HEAP32[r+12>>2]=i.mode,HEAP32[r+16>>2]=i.nlink,HEAP32[r+20>>2]=i.uid,HEAP32[r+24>>2]=i.gid,HEAP32[r+28>>2]=i.rdev,HEAP32[r+32>>2]=0,HEAP32[r+36>>2]=i.size,HEAP32[r+40>>2]=4096,HEAP32[r+44>>2]=i.blocks,HEAP32[r+48>>2]=i.atime.getTime()/1e3|0,HEAP32[r+52>>2]=0,HEAP32[r+56>>2]=i.mtime.getTime()/1e3|0,HEAP32[r+60>>2]=0,HEAP32[r+64>>2]=i.ctime.getTime()/1e3|0,HEAP32[r+68>>2]=0,HEAP32[r+72>>2]=i.ino,0},doMsync:function(e,t,r,i){var n=new Uint8Array(HEAPU8.subarray(e,e+r));FS.msync(t,n,0,r,i)},doMkdir:function(e,t){return"/"===(e=PATH.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-ERRNO_CODES.EINVAL;var i=FS.readlink(e);return writeStringToMemory(i=i.slice(0,Math.max(0,r)),t,!0),i.length},doAccess:function(e,t){if(-8&t)return-ERRNO_CODES.EINVAL;var r;r=FS.lookupPath(e,{follow:!0}).node;var i="";return 4&t&&(i+="r"),2&t&&(i+="w"),1&t&&(i+="x"),i&&FS.nodePermissions(r,i)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,r){var i=FS.getStream(r);return i&&FS.close(i),FS.open(e,t,0,r,r).fd},doReadv:function(e,t,r,i){for(var n=0,o=0;o<r;o++){var s=HEAP32[t+8*o>>2],a=HEAP32[t+(8*o+4)>>2],u=FS.read(e,HEAP8,s,a,i);if(u<0)return-1;if(n+=u,u<a)break}return n},doWritev:function(e,t,r,i){for(var n=0,o=0;o<r;o++){var s=HEAP32[t+8*o>>2],a=HEAP32[t+(8*o+4)>>2],u=FS.write(e,HEAP8,s,a,i);if(u<0)return-1;n+=u}return n},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),r=SYSCALLS.get();if(e&&0===t)return null;var i=__read_sockaddr(t,r);if(i.errno)throw new FS.ErrnoError(i.errno);return i.addr=DNS.lookup_addr(i.addr)||i.addr,i},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall54(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get();switch(i){case 21505:case 21506:return r.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!r.tty)return-ERRNO_CODES.ENOTTY;var n=SYSCALLS.get();return HEAP32[n>>2]=0,0;case 21520:return r.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:n=SYSCALLS.get();return FS.ioctl(r,i,n);default:abort("bad ioctl syscall "+i)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function _b2WorldEndContactBody(e){b2World.EndContactBody(e)}Module._i64Add=_i64Add,Module._bitshift64Lshr=_bitshift64Lshr;var _BDtoIHigh=!0;function _pthread_cleanup_push(e,t){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[t])}),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function _b2WorldPreSolve(e,t){b2World.PreSolve(e,t)}function ___cxa_begin_catch(e){return __ZSt18uncaught_exceptionv.uncaught_exception--,EXCEPTIONS.caught.push(e),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e)),e}var _sinf=Math_sin;function _emscripten_memcpy_big(e,t,r){return HEAPU8.set(HEAPU8.subarray(t,t+r),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _b2WorldQueryAABB(e){return b2World.QueryAABB(e)}function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;if(0!=e&&!t.alloc(e))return-1>>>0;return r}Module._memcpy=_memcpy,Module._memmove=_memmove;var _BItoD=!0;function _b2WorldPostSolve(e,t){b2World.PostSolve(e,t)}var _FtoILow=!0;function _pthread_self(){return 0}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),n=SYSCALLS.get(),o=SYSCALLS.get(),s=SYSCALLS.get(),a=n;return assert(0===i),FS.llseek(r,a,s),HEAP32[o>>2]=r.position,r.getdents&&0===a&&0===s&&(r.getdents=null),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var r=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),n=SYSCALLS.get();return SYSCALLS.doWritev(r,i,n)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}if(Module.requestFullScreen=function(e,t,r){Browser.requestFullScreen(e,t,r)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,t,r){Browser.setCanvasSize(e,t,r)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(e,t,r,i){return Browser.createContext(e,t,r,i)},FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function invoke_diiiiid(e,t,r,i,n,o,s){try{return Module.dynCall_diiiiid(e,t,r,i,n,o,s)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,t,r,i,n,o){try{Module.dynCall_viiiii(e,t,r,i,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_did(e,t,r){try{return Module.dynCall_did(e,t,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_diiiid(e,t,r,i,n,o){try{return Module.dynCall_diiiid(e,t,r,i,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,t,r){try{Module.dynCall_vii(e,t,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiii(e,t,r,i){try{return Module.dynCall_iiii(e,t,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,t,r,i){try{Module.dynCall_viii(e,t,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viid(e,t,r,i){try{Module.dynCall_viid(e,t,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(e,t,r,i,n){try{return Module.dynCall_iiiii(e,t,r,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,t,r,i,n,o,s){try{Module.dynCall_viiiiii(e,t,r,i,n,o,s)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,t,r){try{return Module.dynCall_iii(e,t,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiii(e,t,r,i,n,o){try{return Module.dynCall_iiiiii(e,t,r,i,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,t,r,i,n){try{Module.dynCall_viiii(e,t,r,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_diiiiid:invoke_diiiiid,invoke_ii:invoke_ii,invoke_viiiii:invoke_viiiii,invoke_did:invoke_did,invoke_vi:invoke_vi,invoke_diiiid:invoke_diiiid,invoke_vii:invoke_vii,invoke_iiii:invoke_iiii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_iiiiii:invoke_iiiiii,invoke_viiii:invoke_viiii,_pthread_cleanup_pop:_pthread_cleanup_pop,_cosf:_cosf,_pthread_key_create:_pthread_key_create,_abort:_abort,___setErrNo:___setErrNo,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_find_matching_catch:___cxa_find_matching_catch,_b2WorldBeginContactBody:_b2WorldBeginContactBody,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,_sbrk:_sbrk,___cxa_begin_catch:___cxa_begin_catch,_sinf:_sinf,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_sysconf:_sysconf,_pthread_getspecific:_pthread_getspecific,_sqrtf:_sqrtf,_emscripten_memcpy_big:_emscripten_memcpy_big,_pthread_self:_pthread_self,_pthread_once:_pthread_once,_b2WorldQueryAABB:_b2WorldQueryAABB,_floorf:_floorf,___syscall54:___syscall54,___unlock:___unlock,_emscripten_set_main_loop:_emscripten_set_main_loop,_pthread_setspecific:_pthread_setspecific,___cxa_throw:___cxa_throw,_b2WorldRayCastCallback:_b2WorldRayCastCallback,___lock:___lock,___syscall6:___syscall6,_pthread_cleanup_push:_pthread_cleanup_push,_time:_time,_b2WorldEndContactBody:_b2WorldEndContactBody,___syscall140:___syscall140,_b2WorldPostSolve:_b2WorldPostSolve,___cxa_pure_virtual:___cxa_pure_virtual,___syscall146:___syscall146,_b2WorldPreSolve:_b2WorldPreSolve,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8};var asm=function(e,t,r){"use asm";var i=new e.Int8Array(r);var n=new e.Int16Array(r);var o=new e.Int32Array(r);var s=new e.Uint8Array(r);var a=new e.Uint16Array(r);var u=new e.Uint32Array(r);var l=new e.Float32Array(r);var c=new e.Float64Array(r);var h=t.STACKTOP|0;var f=t.STACK_MAX|0;var d=t.tempDoublePtr|0;var p=t.ABORT|0;var _=t.cttz_i8|0;var m=0;var b=0;var g=0;var y=0;var v=e.NaN,x=e.Infinity;var w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0;var I=0;var O=0;var D=0;var k=0;var R=0;var B=0;var N=0;var L=0;var G=0;var U=0;var z=e.Math.floor;var j=e.Math.abs;var J=e.Math.sqrt;var X=e.Math.pow;var H=e.Math.cos;var W=e.Math.sin;var V=e.Math.tan;var Y=e.Math.acos;var q=e.Math.asin;var K=e.Math.atan;var Z=e.Math.atan2;var Q=e.Math.exp;var $=e.Math.log;var ee=e.Math.ceil;var te=e.Math.imul;var re=e.Math.min;var ie=e.Math.clz32;var ne=t.abort;var oe=t.assert;var se=t.invoke_diiiiid;var ae=t.invoke_ii;var ue=t.invoke_viiiii;var le=t.invoke_did;var ce=t.invoke_vi;var he=t.invoke_diiiid;var fe=t.invoke_vii;var de=t.invoke_iiii;var pe=t.invoke_viii;var _e=t.invoke_v;var me=t.invoke_viid;var be=t.invoke_iiiii;var ge=t.invoke_viiiiii;var ye=t.invoke_iii;var ve=t.invoke_iiiiii;var xe=t.invoke_viiii;var we=t._pthread_cleanup_pop;var Se=t._cosf;var Ee=t._pthread_key_create;var Ae=t._abort;var Te=t.___setErrNo;var Pe=t.___cxa_allocate_exception;var Ce=t.___cxa_find_matching_catch;var Me=t._b2WorldBeginContactBody;var Fe=t._emscripten_set_main_loop_timing;var Ie=t._sbrk;var Oe=t.___cxa_begin_catch;var De=t._sinf;var ke=t.___resumeException;var Re=t.__ZSt18uncaught_exceptionv;var Be=t._sysconf;var Ne=t._pthread_getspecific;var Le=t._sqrtf;var Ge=t._emscripten_memcpy_big;var Ue=t._pthread_self;var ze=t._pthread_once;var je=t._b2WorldQueryAABB;var Je=t._floorf;var Xe=t.___syscall54;var He=t.___unlock;var We=t._emscripten_set_main_loop;var Ve=t._pthread_setspecific;var Ye=t.___cxa_throw;var qe=t._b2WorldRayCastCallback;var Ke=t.___lock;var Ze=t.___syscall6;var Qe=t._pthread_cleanup_push;var $e=t._time;var et=t._b2WorldEndContactBody;var tt=t.___syscall140;var rt=t._b2WorldPostSolve;var it=t.___cxa_pure_virtual;var nt=t.___syscall146;var ot=t._b2WorldPreSolve;var st=0;function at(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,te=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0;r=h;h=h+48|0;n=r+32|0;s=r;a=e+44|0;u=o[a>>2]|0;if(!u){h=r;return}c=o[e+280>>2]|0;if(c){f=e+296|0;d=f;p=+l[t>>2]/+l[e+396>>2]*4294967296;_=f_(~~p>>>0|0,(+j(p)>=1?p>0?~~+re(+z(p/4294967296),4294967295)>>>0:~~+ee((p-+(~~p>>>0))/4294967296)>>>0:0)|0,o[d>>2]|0,o[d+4>>2]|0)|0;d=I;m=f;o[m>>2]=_;o[m+4>>2]=d;m=o[e+288>>2]|0;_=e+304|0;if(i[_>>0]|0){o[n>>2]=c;Rt(m,m+(u<<2)|0,n);i[_>>0]=0}e:do{if((u|0)>0){_=e+88|0;f=u;do{b=f;f=f+-1|0;g=o[m+(f<<2)>>2]|0;y=o[c+(g<<2)>>2]|0;if((d|0)<(y|0)|(y|0)<1)break e;Yf(e,g,o[(o[_>>2]|0)+(g<<2)>>2]|2)}while((b|0)>1)}}while(0)}d=e+8|0;if(o[d>>2]&2)Hf(e);c=e+12|0;if(i[c>>0]|0){o[d>>2]=0;m=o[a>>2]|0;if((m|0)>0){u=o[e+88>>2]|0;_=0;f=0;do{_=o[u+(f<<2)>>2]|_;o[d>>2]=_;f=f+1|0}while((f|0)!=(m|0))}i[c>>0]=0}c=e+20|0;if(i[c>>0]|0){m=e+16|0;o[m>>2]=0;f=o[e+312>>2]|0;if(f){_=0;u=f;do{_=o[u+12>>2]|_;o[m>>2]=_;u=o[u+24>>2]|0}while((u|0)!=0)}i[c>>0]=0}if(i[e>>0]|0){h=r;return}c=e+24|0;o[c>>2]=0;u=t+20|0;_=o[u>>2]|0;if((_|0)<=0){h=r;return}m=e+4|0;f=s+4|0;b=e+116|0;g=e+236|0;y=e+232|0;v=e+220|0;x=e+216|0;w=e+16|0;S=e+21|0;E=e+324|0;A=e+400|0;T=e+104|0;P=e+32|0;C=e+88|0;M=e+96|0;F=e+372|0;O=e+144|0;D=e+132|0;k=e+368|0;R=e+364|0;B=e+36|0;N=e+28|0;L=e+112|0;G=n+4|0;U=_;do{o[m>>2]=(o[m>>2]|0)+1;o[s>>2]=o[t>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];o[s+16>>2]=o[t+16>>2];o[s+20>>2]=o[t+20>>2];o[s+24>>2]=o[t+24>>2];p=+(U|0);X=+l[s>>2]/p;l[s>>2]=X;H=+l[f>>2]*p;l[f>>2]=H;ed(e,0);fd(e);c_(o[b>>2]|0,0,o[a>>2]<<2|0)|0;_=o[g>>2]|0;if((_|0)>0){W=o[y>>2]|0;V=o[b>>2]|0;Y=0;do{q=V+(o[W+(Y*28|0)>>2]<<2)|0;l[q>>2]=+l[W+(Y*28|0)+12>>2]+ +l[q>>2];Y=Y+1|0}while((Y|0)!=(_|0))}_=o[v>>2]|0;if((_|0)>0){Y=o[x>>2]|0;W=o[b>>2]|0;V=0;do{q=o[Y+(V*24|0)+4>>2]|0;p=+l[Y+(V*24|0)+8>>2];K=W+(o[Y+(V*24|0)>>2]<<2)|0;l[K>>2]=p+ +l[K>>2];K=W+(q<<2)|0;l[K>>2]=p+ +l[K>>2];V=V+1|0}while((V|0)!=(_|0))}if(o[w>>2]&16)od(e);_=o[d>>2]|0;if(!(_&4096))Z=_;else{_=o[C>>2]|0;o[n>>2]=2300;o[G>>2]=_;td(e,0,o[a>>2]|0,n);if((o[a>>2]|0)>0){_=o[C>>2]|0;V=0;do{W=_+(V<<2)|0;o[W>>2]=o[W>>2]&-4097;V=V+1|0}while((V|0)<(o[a>>2]|0))}V=o[d>>2]&-4097;o[d>>2]=V;Z=V}if(i[S>>0]|0){p=+l[B>>2]*1.3333333730697632;Q=X*(p*(+l[N>>2]*p));V=o[a>>2]|0;if((V|0)>0){_=o[T>>2]|0;W=o[L>>2]|0;Y=0;do{p=Q*+l[W+(Y<<3)+4>>2];K=_+(Y<<3)|0;l[K>>2]=Q*+l[W+(Y<<3)>>2]+ +l[K>>2];K=_+(Y<<3)+4|0;l[K>>2]=p+ +l[K>>2];Y=Y+1|0}while((Y|0)!=(V|0))}i[S>>0]=0}if(!(Z&32))$=Z;else{ut(e);$=o[d>>2]|0}if(($&8192|0)!=0?(Q=+l[R>>2]*(+l[P>>2]*H),V=o[v>>2]|0,(V|0)>0):0){Y=o[x>>2]|0;_=0;do{do{if(o[Y+(_*24|0)+20>>2]&8192){W=o[Y+(_*24|0)>>2]|0;K=o[Y+(_*24|0)+4>>2]|0;q=o[O>>2]|0;if((o[q+(W<<2)>>2]|0)==(o[q+(K<<2)>>2]|0))break;p=Q*+l[Y+(_*24|0)+8>>2];te=+l[Y+(_*24|0)+12>>2]*p;ie=p*+l[Y+(_*24|0)+16>>2];q=o[T>>2]|0;ne=q+(W<<3)|0;l[ne>>2]=+l[ne>>2]-te;ne=q+(W<<3)+4|0;l[ne>>2]=+l[ne>>2]-ie;ne=q+(K<<3)|0;l[ne>>2]=te+ +l[ne>>2];ne=q+(K<<3)+4|0;l[ne>>2]=ie+ +l[ne>>2]}}while(0);_=_+1|0}while((_|0)!=(V|0))}if(($&64|0)!=0?(Q=+l[k>>2]*(+l[P>>2]*H),V=o[v>>2]|0,(V|0)>0):0){_=o[x>>2]|0;Y=0;do{do{if(o[_+(Y*24|0)+20>>2]&64){ie=+l[_+(Y*24|0)+8>>2];if(!(ie>.25))break;ne=o[_+(Y*24|0)>>2]|0;K=o[_+(Y*24|0)+4>>2]|0;te=Q*(ie+-.25);ie=te*+l[_+(Y*24|0)+12>>2];p=te*+l[_+(Y*24|0)+16>>2];q=o[T>>2]|0;W=q+(ne<<3)|0;l[W>>2]=+l[W>>2]-ie;W=q+(ne<<3)+4|0;l[W>>2]=+l[W>>2]-p;W=q+(K<<3)|0;l[W>>2]=ie+ +l[W>>2];W=q+(K<<3)+4|0;l[W>>2]=p+ +l[W>>2]}}while(0);Y=Y+1|0}while((Y|0)!=(V|0))}if($&128)lt(e,s);if((o[w>>2]&1|0)!=0?(Q=H*+l[F>>2],V=o[v>>2]|0,(V|0)>0):0){Y=o[x>>2]|0;_=o[O>>2]|0;W=0;do{K=o[Y+(W*24|0)>>2]|0;q=o[Y+(W*24|0)+4>>2]|0;if((o[_+(K<<2)>>2]|0)!=(o[_+(q<<2)>>2]|0)){ne=o[D>>2]|0;p=+l[Y+(W*24|0)+8>>2]*(Q*(+l[ne+(K<<2)>>2]+ +l[ne+(q<<2)>>2]));ie=+l[Y+(W*24|0)+12>>2]*p;te=+l[Y+(W*24|0)+16>>2]*p;ne=o[T>>2]|0;oe=ne+(K<<3)|0;l[oe>>2]=+l[oe>>2]-ie;oe=ne+(K<<3)+4|0;l[oe>>2]=+l[oe>>2]-te;oe=ne+(q<<3)|0;l[oe>>2]=ie+ +l[oe>>2];oe=ne+(q<<3)+4|0;l[oe>>2]=te+ +l[oe>>2]}W=W+1|0}while((W|0)!=(V|0))}if(o[d>>2]&256)ct(e);Q=X*+l[E>>2];V=o[A>>2]|0;te=Q*+l[V+102980>>2];ie=Q*+l[V+102984>>2];V=o[a>>2]|0;if((V|0)>0){W=o[T>>2]|0;Y=0;do{_=W+(Y<<3)|0;l[_>>2]=te+ +l[_>>2];_=W+(Y<<3)+4|0;l[_>>2]=ie+ +l[_>>2];Y=Y+1|0}while((Y|0)!=(V|0))}if(o[d>>2]&2048)ht(e,s);ft(e,s);dt(e,s);V=o[d>>2]|0;if(!(V&2048))se=V;else{pt(e);se=o[d>>2]|0}if(!(se&16))ae=se;else{_t(e,s);ae=o[d>>2]|0}if(ae&8)mt(e,s);ie=+l[P>>2]*H;te=ie*ie;V=o[a>>2]|0;if((V|0)>0){Y=o[T>>2]|0;W=0;do{_=Y+(W<<3)|0;ie=+l[_>>2];oe=Y+(W<<3)+4|0;Q=+l[oe>>2];p=ie*ie+Q*Q;if(p>te){ue=+J(+(te/p));l[_>>2]=ie*ue;l[oe>>2]=Q*ue}W=W+1|0}while((W|0)!=(V|0))}if(o[w>>2]&2)bt(e);if(o[d>>2]&1024)_d(e,s);pd(e,s);if(o[w>>2]&2)gt(e,s);V=o[a>>2]|0;do{if(!(o[d>>2]&4))le=96;else{if((V|0)<=0)break;W=o[C>>2]|0;Y=0;do{if(o[W+(Y<<2)>>2]&4){oe=o[T>>2]|0;l[oe+(Y<<3)>>2]=0;l[oe+(Y<<3)+4>>2]=0}Y=Y+1|0}while((Y|0)!=(V|0));le=96}}while(0);do{if((le|0)==96){le=0;if((V|0)<=0)break;Y=o[M>>2]|0;W=o[T>>2]|0;oe=0;do{te=X*+l[W+(oe<<3)+4>>2];_=Y+(oe<<3)|0;l[_>>2]=X*+l[W+(oe<<3)>>2]+ +l[_>>2];_=Y+(oe<<3)+4|0;l[_>>2]=te+ +l[_>>2];oe=oe+1|0}while((oe|0)<(V|0))}}while(0);V=(o[c>>2]|0)+1|0;o[c>>2]=V;U=o[u>>2]|0}while((V|0)<(U|0));h=r;return}function ut(e){e=e|0;var t=0,r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0;t=+l[e+352>>2];r=o[e+236>>2]|0;if((r|0)>0){i=e+96|0;s=e+104|0;a=e+36|0;u=e+28|0;c=o[e+232>>2]|0;h=o[e+88>>2]|0;f=0;do{d=o[c+(f*28|0)>>2]|0;if((o[h+(d<<2)>>2]&32|0)!=0?(p=o[c+(f*28|0)+4>>2]|0,_=o[i>>2]|0,m=+l[_+(d<<3)>>2],b=+l[_+(d<<3)+4>>2],_=p+88|0,g=+l[_>>2],y=p+60|0,v=p+64|0,x=p+80|0,w=p+84|0,S=o[s>>2]|0,E=S+(d<<3)|0,A=+l[E>>2],T=S+(d<<3)+4|0,P=+l[T>>2],C=+l[c+(f*28|0)+12>>2]*(t*+l[c+(f*28|0)+24>>2]),M=C*(+l[x>>2]-g*(b-+l[v>>2])-A),F=C*(g*(m-+l[y>>2])+ +l[w>>2]-P),g=+l[a>>2]*1.3333333730697632,C=g*(+l[u>>2]*g),l[E>>2]=A+M*C,l[T>>2]=P+F*C,C=-M,M=-F,(o[p>>2]|0)==2):0){T=p+4|0;E=n[T>>1]|0;if((E&2)==0?(d=E&65535,(d&2|0)==0):0){S=(d|2)&65535;n[T>>1]=S;l[p+160>>2]=0;I=S}else I=E;if(I&2){F=+l[p+136>>2];l[x>>2]=F*C+ +l[x>>2];l[w>>2]=F*M+ +l[w>>2];l[_>>2]=+l[_>>2]+ +l[p+144>>2]*((m-+l[y>>2])*M-(b-+l[v>>2])*C)}}f=f+1|0}while((f|0)<(r|0))}r=o[e+220>>2]|0;if((r|0)<=0)return;f=o[e+216>>2]|0;I=e+104|0;e=0;do{if(o[f+(e*24|0)+20>>2]&32){u=o[f+(e*24|0)>>2]|0;a=o[f+(e*24|0)+4>>2]|0;c=o[I>>2]|0;s=c+(a<<3)|0;i=c+(u<<3)|0;C=+l[i>>2];h=c+(a<<3)+4|0;a=c+(u<<3)+4|0;b=+l[a>>2];M=t*+l[f+(e*24|0)+8>>2];m=M*(+l[s>>2]-C);F=M*(+l[h>>2]-b);l[i>>2]=C+m;l[a>>2]=b+F;l[s>>2]=+l[s>>2]-m;l[h>>2]=+l[h>>2]-F}e=e+1|0}while((e|0)<(r|0));return}function lt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;r=e+44|0;if((o[r>>2]|0)>0){i=e+128|0;n=0;do{s=2440;a=o[s+4>>2]|0;u=(o[i>>2]|0)+(n<<3)|0;o[u>>2]=o[s>>2];o[u+4>>2]=a;n=n+1|0}while((n|0)<(o[r>>2]|0))}r=e+216|0;n=o[e+220>>2]|0;i=(n|0)>0;if(i){a=e+128|0;u=o[r>>2]|0;s=0;do{if(o[u+(s*24|0)+20>>2]&128){c=o[u+(s*24|0)>>2]|0;h=o[u+(s*24|0)+4>>2]|0;f=+l[u+(s*24|0)+8>>2];d=f*(1-f);f=+l[u+(s*24|0)+12>>2]*d;p=+l[u+(s*24|0)+16>>2]*d;_=o[a>>2]|0;m=_+(c<<3)|0;l[m>>2]=+l[m>>2]-f;m=_+(c<<3)+4|0;l[m>>2]=+l[m>>2]-p;m=_+(h<<3)|0;l[m>>2]=f+ +l[m>>2];m=_+(h<<3)+4|0;l[m>>2]=p+ +l[m>>2]}s=s+1|0}while((s|0)<(n|0))}p=+l[e+32>>2]*+l[t+4>>2];f=+l[e+356>>2]*p;d=p*+l[e+360>>2];b=p*.5;if(!i)return;i=e+116|0;t=e+128|0;s=e+104|0;e=o[r>>2]|0;r=0;do{if(o[e+(r*24|0)+20>>2]&128){a=o[e+(r*24|0)>>2]|0;u=o[e+(r*24|0)+4>>2]|0;p=+l[e+(r*24|0)+12>>2];g=+l[e+(r*24|0)+16>>2];m=o[i>>2]|0;h=o[t>>2]|0;y=f*(+l[m+(a<<2)>>2]+ +l[m+(u<<2)>>2]+-2)+d*(p*(+l[h+(u<<3)>>2]-+l[h+(a<<3)>>2])+g*(+l[h+(u<<3)+4>>2]-+l[h+(a<<3)+4>>2]));v=+l[e+(r*24|0)+8>>2]*(y<b?y:b);y=p*v;p=g*v;h=o[s>>2]|0;m=h+(a<<3)|0;l[m>>2]=+l[m>>2]-y;m=h+(a<<3)+4|0;l[m>>2]=+l[m>>2]-p;m=h+(u<<3)|0;l[m>>2]=+l[m>>2]+y;m=h+(u<<3)+4|0;l[m>>2]=+l[m>>2]+p}r=r+1|0}while((r|0)<(n|0));return}function ct(e){e=e|0;var t=0,r=0,n=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;t=~~(+l[e+388>>2]*128);if(!t)return;r=o[e+220>>2]|0;if((r|0)<=0)return;n=e+136|0;a=s[6076]|0;u=o[e+216>>2]|0;c=o[e+88>>2]|0;e=0;do{h=o[u+(e*24|0)>>2]|0;f=o[u+(e*24|0)+4>>2]|0;if(o[c+(h<<2)>>2]&256&o[c+(f<<2)>>2]){d=o[n>>2]|0;p=d+(f<<2)|0;_=d+(h<<2)|0;m=s[_>>0]|0;b=(te((s[p>>0]|0)-m|0,t)|0)>>a;g=d+(f<<2)+1|0;y=d+(h<<2)+1|0;v=s[y>>0]|0;x=(te((s[g>>0]|0)-v|0,t)|0)>>a;w=d+(f<<2)+2|0;S=d+(h<<2)+2|0;E=s[S>>0]|0;A=(te((s[w>>0]|0)-E|0,t)|0)>>a;T=d+(f<<2)+3|0;f=d+(h<<2)+3|0;h=s[f>>0]|0;d=(te((s[T>>0]|0)-h|0,t)|0)>>a;i[_>>0]=b+m;i[y>>0]=x+v;i[S>>0]=A+E;i[f>>0]=d+h;i[p>>0]=(s[p>>0]|0)-b;i[g>>0]=(s[g>>0]|0)-x;i[w>>0]=(s[w>>0]|0)-A;i[T>>0]=(s[T>>0]|0)-d}e=e+1|0}while((e|0)<(r|0));return}function ht(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;r=e+120|0;i=o[r>>2]|0;if(!i){n=e+48|0;s=o[n>>2]|0;if(!s){Jf(e,256);a=o[n>>2]|0}else a=s;s=Od(o[e+400>>2]|0,a<<2)|0;c_(s|0,0,o[n>>2]<<2|0)|0;u=s}else u=i;o[r>>2]=u;c=+l[e+32>>2]*+l[t+4>>2];h=+l[e+320>>2]*(c*c);c=+l[e+376>>2]*h;f=h*.25;h=+l[e+380>>2];t=e+384|0;if((o[t>>2]|0)<=0)return;u=e+124|0;i=e+44|0;s=e+220|0;n=e+116|0;a=e+88|0;d=e+216|0;e=o[i>>2]|0;p=0;do{c_(o[u>>2]|0,0,e<<2|0)|0;_=o[s>>2]|0;if((_|0)>0){m=o[d>>2]|0;b=0;do{if(o[m+(b*24|0)+20>>2]&2048){g=o[m+(b*24|0)>>2]|0;y=o[m+(b*24|0)+4>>2]|0;v=+l[m+(b*24|0)+8>>2];x=o[r>>2]|0;w=o[u>>2]|0;S=w+(g<<2)|0;l[S>>2]=v*+l[x+(y<<2)>>2]+ +l[S>>2];S=w+(y<<2)|0;l[S>>2]=v*+l[x+(g<<2)>>2]+ +l[S>>2]}b=b+1|0}while((b|0)<(_|0))}e=o[i>>2]|0;if((e|0)>0){_=o[n>>2]|0;b=o[a>>2]|0;m=0;do{v=+l[_+(m<<2)>>2];if(!(o[b+(m<<2)>>2]&2048))l[(o[r>>2]|0)+(m<<2)>>2]=0;else{E=(c*(v+-1)+ +l[(o[u>>2]|0)+(m<<2)>>2])/(h+v);v=E<f?E:f;l[(o[r>>2]|0)+(m<<2)>>2]=v<0?0:v}m=m+1|0}while((m|0)<(e|0))}p=p+1|0}while((p|0)<(o[t>>2]|0));return}function ft(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0;r=e+320|0;i=e+32|0;s=+l[i>>2]*+l[t+4>>2];a=+l[r>>2]*(s*s);s=+l[e+336>>2]*a;u=a*.25;c=o[e+44>>2]|0;h=(c|0)>0;if(h){f=o[e+116>>2]|0;d=o[e+124>>2]|0;p=0;do{a=+l[f+(p<<2)>>2]+-1;_=s*(a<0?0:a);l[d+(p<<2)>>2]=_<u?_:u;p=p+1|0}while((p|0)<(c|0))}p=o[e+8>>2]|0;if(!((p&192|0)==0|h^1)){d=o[e+88>>2]|0;f=e+124|0;m=0;do{if(o[d+(m<<2)>>2]&192)l[(o[f>>2]|0)+(m<<2)>>2]=0;m=m+1|0}while((m|0)<(c|0))}if(!((p&2048|0)==0|h^1)){h=o[e+88>>2]|0;p=e+120|0;m=e+124|0;f=0;do{if(o[h+(f<<2)>>2]&2048){d=(o[m>>2]|0)+(f<<2)|0;l[d>>2]=+l[(o[p>>2]|0)+(f<<2)>>2]+ +l[d>>2]}f=f+1|0}while((f|0)<(c|0))}u=+l[t>>2]/(+l[r>>2]*+l[i>>2]);i=o[e+236>>2]|0;if((i|0)>0){r=o[e+232>>2]|0;t=o[e+96>>2]|0;c=o[e+124>>2]|0;f=o[e+104>>2]|0;_=+l[e+36>>2]*1.3333333730697632;a=_*(+l[e+28>>2]*_);p=0;do{m=o[r+(p*28|0)>>2]|0;h=o[r+(p*28|0)+4>>2]|0;_=+l[r+(p*28|0)+12>>2];b=+l[t+(m<<3)>>2];g=+l[t+(m<<3)+4>>2];y=u*_*+l[r+(p*28|0)+24>>2]*(s*_+ +l[c+(m<<2)>>2]);_=+l[r+(p*28|0)+16>>2]*y;v=+l[r+(p*28|0)+20>>2]*y;d=f+(m<<3)|0;l[d>>2]=+l[d>>2]-_*a;d=f+(m<<3)+4|0;l[d>>2]=+l[d>>2]-v*a;if((o[h>>2]|0)==2){d=h+4|0;m=n[d>>1]|0;if((m&2)==0?(x=m&65535,(x&2|0)==0):0){w=(x|2)&65535;n[d>>1]=w;l[h+160>>2]=0;S=w}else S=m;if(S&2){y=+l[h+136>>2];m=h+80|0;l[m>>2]=_*y+ +l[m>>2];m=h+84|0;l[m>>2]=v*y+ +l[m>>2];m=h+88|0;l[m>>2]=+l[m>>2]+ +l[h+144>>2]*(v*(b-+l[h+60>>2])-_*(g-+l[h+64>>2]))}}p=p+1|0}while((p|0)<(i|0))}i=o[e+220>>2]|0;if((i|0)<=0)return;p=o[e+216>>2]|0;S=o[e+124>>2]|0;f=o[e+104>>2]|0;e=0;do{r=o[p+(e*24|0)>>2]|0;c=o[p+(e*24|0)+4>>2]|0;a=u*+l[p+(e*24|0)+8>>2]*(+l[S+(r<<2)>>2]+ +l[S+(c<<2)>>2]);s=+l[p+(e*24|0)+12>>2]*a;g=+l[p+(e*24|0)+16>>2]*a;t=f+(r<<3)|0;l[t>>2]=+l[t>>2]-s;t=f+(r<<3)+4|0;l[t>>2]=+l[t>>2]-g;t=f+(c<<3)|0;l[t>>2]=s+ +l[t>>2];t=f+(c<<3)+4|0;l[t>>2]=g+ +l[t>>2];e=e+1|0}while((e|0)<(i|0));return}function dt(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0;r=+l[e+340>>2];i=1/(+l[e+32>>2]*+l[t+4>>2]);t=o[e+236>>2]|0;if((t|0)>0){s=e+36|0;a=e+28|0;u=o[e+232>>2]|0;c=o[e+96>>2]|0;h=o[e+104>>2]|0;f=0;do{d=o[u+(f*28|0)>>2]|0;p=o[u+(f*28|0)+4>>2]|0;_=+l[u+(f*28|0)+16>>2];m=+l[u+(f*28|0)+20>>2];b=+l[c+(d<<3)>>2];g=+l[c+(d<<3)+4>>2];y=p+88|0;v=+l[y>>2];x=p+60|0;w=p+64|0;S=p+80|0;E=p+84|0;A=h+(d<<3)|0;T=+l[A>>2];P=h+(d<<3)+4|0;C=+l[P>>2];M=_*(+l[S>>2]-v*(g-+l[w>>2])-T)+m*(v*(b-+l[x>>2])+ +l[E>>2]-C);if(M<0?(v=r*+l[u+(f*28|0)+12>>2],F=i*M,I=F>-.5?-F:.5,F=M*(+l[u+(f*28|0)+24>>2]*(v>I?v:I)),I=_*F,_=m*F,F=+l[s>>2]*1.3333333730697632,m=F*(+l[a>>2]*F),l[A>>2]=T+m*I,l[P>>2]=C+m*_,m=-I,I=-_,(o[p>>2]|0)==2):0){P=p+4|0;A=n[P>>1]|0;if((A&2)==0?(d=A&65535,(d&2|0)==0):0){O=(d|2)&65535;n[P>>1]=O;l[p+160>>2]=0;D=O}else D=A;if(D&2){_=+l[p+136>>2];l[S>>2]=_*m+ +l[S>>2];l[E>>2]=_*I+ +l[E>>2];l[y>>2]=+l[y>>2]+ +l[p+144>>2]*((b-+l[x>>2])*I-(g-+l[w>>2])*m)}}f=f+1|0}while((f|0)<(t|0))}t=o[e+220>>2]|0;if((t|0)<=0)return;f=o[e+216>>2]|0;D=o[e+104>>2]|0;e=0;do{a=o[f+(e*24|0)>>2]|0;s=o[f+(e*24|0)+4>>2]|0;m=+l[f+(e*24|0)+12>>2];g=+l[f+(e*24|0)+16>>2];u=D+(s<<3)|0;h=D+(a<<3)|0;I=+l[h>>2];c=D+(s<<3)+4|0;s=D+(a<<3)+4|0;b=+l[s>>2];_=m*(+l[u>>2]-I)+g*(+l[c>>2]-b);if(_<0){C=r*+l[f+(e*24|0)+8>>2];T=i*_;F=T>-.5?-T:.5;T=_*(C>F?C:F);F=m*T;m=g*T;l[h>>2]=I+F;l[s>>2]=b+m;l[u>>2]=+l[u>>2]-F;l[c>>2]=+l[c>>2]-m}e=e+1|0}while((e|0)<(t|0));return}function pt(e){e=e|0;var t=0,r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0;t=o[e+236>>2]|0;if((t|0)<=0)return;r=e+96|0;i=e+104|0;s=e+36|0;a=e+28|0;u=o[e+232>>2]|0;c=o[e+88>>2]|0;e=0;do{h=o[u+(e*28|0)>>2]|0;if(((o[c+(h<<2)>>2]&2048|0)!=0?(f=o[u+(e*28|0)+4>>2]|0,d=+l[u+(e*28|0)+16>>2],p=+l[u+(e*28|0)+20>>2],_=o[r>>2]|0,m=+l[_+(h<<3)>>2],b=+l[_+(h<<3)+4>>2],_=f+88|0,g=+l[_>>2],y=f+60|0,v=f+64|0,x=f+80|0,w=f+84|0,S=o[i>>2]|0,E=S+(h<<3)|0,A=+l[E>>2],T=S+(h<<3)+4|0,P=+l[T>>2],C=d*(+l[x>>2]-g*(b-+l[v>>2])-A)+p*(g*(m-+l[y>>2])+ +l[w>>2]-P),C<0):0)?(g=C*(+l[u+(e*28|0)+24>>2]*.5),C=d*g,d=p*g,g=+l[s>>2]*1.3333333730697632,p=g*(+l[a>>2]*g),l[E>>2]=A+C*p,l[T>>2]=P+d*p,p=-C,C=-d,(o[f>>2]|0)==2):0){T=f+4|0;E=n[T>>1]|0;if((E&2)==0?(h=E&65535,(h&2|0)==0):0){S=(h|2)&65535;n[T>>1]=S;l[f+160>>2]=0;M=S}else M=E;if(M&2){d=+l[f+136>>2];l[x>>2]=d*p+ +l[x>>2];l[w>>2]=d*C+ +l[w>>2];l[_>>2]=+l[_>>2]+ +l[f+144>>2]*((m-+l[y>>2])*C-(b-+l[v>>2])*p)}}e=e+1|0}while((e|0)<(t|0));return}function _t(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0;r=+l[t+4>>2]*+l[e+344>>2];i=e+268|0;n=o[i>>2]|0;if((n|0)<=0)return;s=e+264|0;a=e+96|0;u=e+104|0;e=n;n=0;while(1){c=o[s>>2]|0;if(!(o[c+(n*60|0)+12>>2]&16))h=e;else{f=o[c+(n*60|0)>>2]|0;p=o[c+(n*60|0)+4>>2]|0;_=o[c+(n*60|0)+8>>2]|0;m=o[a>>2]|0;b=o[u>>2]|0;g=+l[t>>2];y=b+(f<<3)|0;v=+l[y>>2];x=b+(f<<3)+4|0;w=+l[x>>2];S=+l[m+(f<<3)>>2]+g*v;E=+l[m+(f<<3)+4>>2]+g*w;f=b+(p<<3)|0;A=b+(p<<3)+4|0;T=+l[m+(p<<3)>>2]+g*+l[f>>2];P=+l[m+(p<<3)+4>>2]+g*+l[A>>2];p=b+(_<<3)|0;C=b+(_<<3)+4|0;M=+l[m+(_<<3)>>2]+g*+l[p>>2];F=+l[m+(_<<3)+4>>2]+g*+l[C>>2];g=(S+T+M)*.3333333432674408;I=(E+P+F)*.3333333432674408;O=S-g;S=E-I;E=T-g;T=P-I;P=M-g;g=F-I;I=+l[c+(n*60|0)+20>>2];F=+l[c+(n*60|0)+24>>2];_=c+(n*60|0)+28|0;M=+l[_>>2];m=c+(n*60|0)+32|0;D=+l[m>>2];b=c+(n*60|0)+36|0;k=+l[b>>2];R=c+(n*60|0)+40|0;B=+l[R>>2];N=I*S-F*O+(M*T-D*E)+(k*g-P*B);L=I*O+F*S+(M*E+D*T)+(P*k+g*B);B=N*N+L*L;k=(o[d>>2]=1597463007-((l[d>>2]=B,o[d>>2]|0)>>1),+l[d>>2]);D=k*(1.5-k*(B*.5*k));k=N*D;N=L*D;D=r*+l[c+(n*60|0)+16>>2];l[y>>2]=v+D*(I*N-F*k-O);l[x>>2]=w+D*(I*k+F*N-S);S=+l[_>>2];F=+l[m>>2];l[f>>2]=+l[f>>2]+D*(S*N-F*k-E);l[A>>2]=+l[A>>2]+D*(S*k+F*N-T);T=+l[b>>2];F=+l[R>>2];l[p>>2]=+l[p>>2]+D*(T*N-F*k-P);l[C>>2]=+l[C>>2]+D*(T*k+F*N-g);h=o[i>>2]|0}n=n+1|0;if((n|0)>=(h|0))break;else e=h}return}function mt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0;r=+l[t+4>>2]*+l[e+348>>2];i=o[e+252>>2]|0;if((i|0)<=0)return;n=e+96|0;s=e+104|0;a=o[e+248>>2]|0;e=0;do{if(o[a+(e*20|0)+8>>2]&8){u=o[a+(e*20|0)>>2]|0;c=o[a+(e*20|0)+4>>2]|0;h=o[n>>2]|0;f=o[s>>2]|0;d=+l[t>>2];p=f+(u<<3)|0;_=+l[p>>2];m=f+(u<<3)+4|0;b=+l[m>>2];g=f+(c<<3)|0;y=f+(c<<3)+4|0;v=+l[h+(c<<3)>>2]+d*+l[g>>2]-(+l[h+(u<<3)>>2]+d*_);x=+l[h+(c<<3)+4>>2]+d*+l[y>>2]-(+l[h+(u<<3)+4>>2]+d*b);d=+J(+(v*v+x*x));w=(+l[a+(e*20|0)+16>>2]-d)*(r*+l[a+(e*20|0)+12>>2])/d;d=v*w;v=x*w;l[p>>2]=_-d;l[m>>2]=b-v;l[g>>2]=d+ +l[g>>2];l[y>>2]=v+ +l[y>>2]}e=e+1|0}while((e|0)<(i|0));return}function bt(e){e=e|0;var t=0,r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0;t=+l[e+340>>2];r=e+236|0;if((o[r>>2]|0)>0){i=e+232|0;s=e+144|0;a=e+96|0;u=0;do{c=o[i>>2]|0;h=o[c+(u*28|0)>>2]|0;f=o[(o[s>>2]|0)+(h<<2)>>2]|0;if((((f|0)!=0?(o[f+12>>2]&2|0)!=0:0)?(p=o[c+(u*28|0)+4>>2]|0,_=+l[c+(u*28|0)+16>>2],m=+l[c+(u*28|0)+20>>2],b=+l[c+(u*28|0)+12>>2],c=o[a>>2]|0,g=+l[c+(h<<3)>>2],y=+l[c+(h<<3)+4>>2],h=p+88|0,v=+l[h>>2],c=p+60|0,x=p+64|0,w=p+80|0,S=+l[w>>2]-v*(y-+l[x>>2]),E=p+84|0,A=v*(g-+l[c>>2])+ +l[E>>2],Rf(f),T=f+56|0,v=+l[T>>2],P=f+40|0,C=f+44|0,M=f+48|0,F=f+52|0,I=_*(S-(+l[M>>2]-v*(y-+l[C>>2])))+m*(A-(v*(g-+l[P>>2])+ +l[F>>2])),I<0):0)?(Rf(f),v=+l[f+32>>2],Rf(f),A=+l[f+36>>2],Rf(f),S=v>0?1/v:0,v=A>0?1/A:0,A=m*(g-+l[P>>2])-_*(y-+l[C>>2]),O=+l[p+132>>2],D=+l[p+44>>2],k=+l[p+48>>2],R=O*(D*D+k*k),k=+l[p+140>>2]+R-R,R=m*(g-+l[c>>2])-_*(y-+l[x>>2]),D=S+A*(v*A)+(O>0?1/O:0)+R*((k>0?1/k:0)*R),R=t*(b<1?b:1)*(D>0?I/D:0),D=S*R,l[M>>2]=+l[M>>2]+_*D,l[F>>2]=+l[F>>2]+m*D,l[T>>2]=+l[T>>2]+v*(A*R),A=-R,R=_*A,_=m*A,(o[p>>2]|0)==2):0){T=p+4|0;F=n[T>>1]|0;if((F&2)==0?(M=F&65535,(M&2|0)==0):0){C=(M|2)&65535;n[T>>1]=C;l[p+160>>2]=0;B=C}else B=F;if(B&2){A=+l[p+136>>2];l[w>>2]=R*A+ +l[w>>2];l[E>>2]=_*A+ +l[E>>2];l[h>>2]=+l[h>>2]+ +l[p+144>>2]*(_*(g-+l[c>>2])-R*(y-+l[x>>2]))}}u=u+1|0}while((u|0)<(o[r>>2]|0))}r=e+220|0;if((o[r>>2]|0)<=0)return;u=e+216|0;B=e+144|0;a=e+96|0;s=e+104|0;i=e+88|0;x=e+32|0;c=e+320|0;e=0;do{p=o[u>>2]|0;h=o[p+(e*24|0)>>2]|0;E=o[p+(e*24|0)+4>>2]|0;y=+l[p+(e*24|0)+12>>2];R=+l[p+(e*24|0)+16>>2];g=+l[p+(e*24|0)+8>>2];p=o[B>>2]|0;w=o[p+(h<<2)>>2]|0;F=o[p+(E<<2)>>2]|0;p=(w|0)==0;if(p)N=0;else N=(o[w+12>>2]&2|0)!=0;C=(F|0)==0;if(C)L=0;else L=(o[F+12>>2]&2|0)!=0;do{if((w|0)!=(F|0)&(N|L)){T=o[a>>2]|0;_=(+l[T+(h<<3)>>2]+ +l[T+(E<<3)>>2])*.5;A=(+l[T+(h<<3)+4>>2]+ +l[T+(E<<3)+4>>2])*.5;if(!C?(o[F+12>>2]&2|0)!=0:0){Rf(F);m=+l[F+56>>2];T=(l[d>>2]=+l[F+48>>2]-m*(A-+l[F+44>>2]),o[d>>2]|0);G=T;U=(l[d>>2]=m*(_-+l[F+40>>2])+ +l[F+52>>2],o[d>>2]|0)}else{T=o[s>>2]|0;G=o[T+(E<<3)>>2]|0;U=o[T+(E<<3)+4>>2]|0}if(!p?(o[w+12>>2]&2|0)!=0:0){Rf(w);m=+l[w+56>>2];T=(l[d>>2]=+l[w+48>>2]-m*(A-+l[w+44>>2]),o[d>>2]|0);z=T;j=(l[d>>2]=m*(_-+l[w+40>>2])+ +l[w+52>>2],o[d>>2]|0)}else{T=o[s>>2]|0;z=o[T+(h<<3)>>2]|0;j=o[T+(h<<3)+4>>2]|0}m=(o[d>>2]=G,+l[d>>2]);v=m-(o[d>>2]=z,+l[d>>2]);m=(o[d>>2]=U,+l[d>>2]);D=R*(m-(o[d>>2]=j,+l[d>>2]))+y*v;if(D<0){if(N){Rf(w);v=+l[w+32>>2];Rf(w);m=+l[w+36>>2];Rf(w);J=m>0?1/m:0;X=v>0?1/v:0;H=R*(_-+l[w+40>>2])-y*(A-+l[w+44>>2])}else{if(!(o[(o[i>>2]|0)+(h<<2)>>2]&4)){v=+l[x>>2]*.75;W=v*(+l[c>>2]*v)}else W=0;J=0;X=W>0?1/W:0;H=R*(_-_)-y*(A-A)}if(L){Rf(F);v=+l[F+32>>2];Rf(F);m=+l[F+36>>2];Rf(F);V=v>0?1/v:0;Y=m>0?1/m:0;q=R*(_-+l[F+40>>2])-y*(A-+l[F+44>>2])}else{if(!(o[(o[i>>2]|0)+(E<<2)>>2]&4)){m=+l[x>>2]*.75;K=m*(+l[c>>2]*m)}else K=0;V=K>0?1/K:0;Y=0;q=R*(_-_)-y*(A-A)}A=X+H*(J*H)+V+q*(Y*q);_=t*g*(A>0?D/A:0);if(N){A=X*_;T=w+48|0;l[T>>2]=y*A+ +l[T>>2];T=w+52|0;l[T>>2]=R*A+ +l[T>>2];T=w+56|0;l[T>>2]=J*(H*_)+ +l[T>>2]}else{T=o[s>>2]|0;A=X*_;M=T+(h<<3)|0;l[M>>2]=y*A+ +l[M>>2];M=T+(h<<3)+4|0;l[M>>2]=R*A+ +l[M>>2]}A=-_;if(L){_=V*A;M=F+48|0;l[M>>2]=y*_+ +l[M>>2];M=F+52|0;l[M>>2]=R*_+ +l[M>>2];M=F+56|0;l[M>>2]=Y*(q*A)+ +l[M>>2];break}else{M=o[s>>2]|0;_=V*A;T=M+(E<<3)|0;l[T>>2]=y*_+ +l[T>>2];T=M+(E<<3)+4|0;l[T>>2]=R*_+ +l[T>>2];break}}}}while(0);e=e+1|0}while((e|0)<(o[r>>2]|0));return}function gt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;r=o[e+312>>2]|0;if(!r)return;i=t+4|0;n=e+104|0;s=e+96|0;e=r;do{if((o[e+12>>2]&2|0)!=0?(Rf(e),a=+l[t>>2],u=a*+l[e+56>>2],c=+W(+u),h=+H(+u),u=+l[e+40>>2],f=+l[e+44>>2],d=a*+l[e+48>>2]+u-(h*u-c*f),p=a*+l[e+52>>2]+f-(c*u+h*f),r=e+72|0,f=+l[r>>2],_=e+68|0,u=+l[_>>2],m=e+60|0,a=+l[m>>2],b=e+64|0,g=+l[b>>2],l[m>>2]=d+(h*a-c*g),l[b>>2]=p+(c*a+h*g),l[_>>2]=c*f+h*u,l[r>>2]=h*f-c*u,u=+l[i>>2],f=d*u,d=p*u,p=c*u,c=(h+-1)*u,r=o[e+4>>2]|0,_=e+8|0,(r|0)<(o[_>>2]|0)):0){b=r;do{r=o[n>>2]|0;m=o[s>>2]|0;u=+l[m+(b<<3)>>2];h=+l[m+(b<<3)+4>>2];l[r+(b<<3)>>2]=f+(c*u-p*h);l[r+(b<<3)+4>>2]=d+(p*u+c*h);b=b+1|0}while((b|0)<(o[_>>2]|0))}e=o[e+24>>2]|0}while((e|0)!=0);return}function yt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0;r=e+280|0;i=o[r>>2]|0;if(!i){n=e+48|0;s=o[n>>2]|0;if(!s){Jf(e,256);a=o[n>>2]|0}else a=s;s=Od(o[e+400>>2]|0,a<<2)|0;c_(s|0,0,o[n>>2]<<2|0)|0;u=s}else u=i;o[r>>2]=u;r=o[u+(t<<2)>>2]|0;if((r|0)<=0){c=r;h=+(c|0);f=e+396|0;d=+l[f>>2];p=h*d;return+p}c=r-(o[e+296+4>>2]|0)|0;h=+(c|0);f=e+396|0;d=+l[f>>2];p=h*d;return+p}function vt(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,a=0,u=0;s=+(r-t|0);a=+l[n>>2]/s;u=+l[n+4>>2]/s;if(!(a!=0|u!=0))return;n=e+21|0;if(!(i[n>>0]|0)){c_(o[e+112>>2]|0,0,o[e+44>>2]<<3|0)|0;i[n>>0]=1}if((r|0)<=(t|0))return;n=o[e+112>>2]|0;e=t;do{t=n+(e<<3)|0;l[t>>2]=a+ +l[t>>2];t=n+(e<<3)+4|0;l[t>>2]=u+ +l[t>>2];e=e+1|0}while((e|0)!=(r|0));return}function xt(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0;n=+l[e+32>>2]*.75;s=+(r-t|0)*(n*(+l[e+320>>2]*n));n=+l[i>>2]/s;a=+l[i+4>>2]/s;if((r|0)<=(t|0))return;i=o[e+104>>2]|0;e=t;do{t=i+(e<<3)|0;l[t>>2]=n+ +l[t>>2];t=i+(e<<3)+4|0;l[t>>2]=a+ +l[t>>2];e=e+1|0}while((e|0)!=(r|0));return}function wt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0;i=o[e+204>>2]|0;if(!i)return;n=o[e+200>>2]|0;s=+l[e+36>>2];a=+l[r>>2];u=r+4|0;c=(~~(s*+l[u>>2]+2048)>>>0<<20)+(~~(s*a*256+524288)>>>0)|0;h=n;f=i<<3>>3;e:while(1){d=f;while(1){if(!d){p=h;break e}_=(d|0)/2|0;if((o[h+(_<<3)+4>>2]|0)>>>0<c>>>0){m=_;b=d;break}else d=_}h=h+(m+1<<3)|0;f=b+-1-m|0}m=r+8|0;g=+l[m>>2];b=r+12|0;f=(~~(s*+l[b>>2]+2048)>>>0<<20)+(~~(s*g*256+524288)>>>0)|0;h=p;c=n+(i<<3)-p>>3;e:while(1){i=c;while(1){if(!i){y=h;break e}n=(i|0)/2|0;if((o[h+(n<<3)+4>>2]|0)>>>0>f>>>0)i=n;else{v=n;x=i;break}}h=h+(v+1<<3)|0;c=x+-1-v|0}if(p>>>0>=y>>>0)return;v=e+96|0;s=a;a=g;x=p;while(1){p=o[x>>2]|0;c=o[v>>2]|0;g=+l[c+(p<<3)>>2];if((s<g&g<a?(g=+l[c+(p<<3)+4>>2],+l[u>>2]<g?g<+l[b>>2]:0):0)?!(hm[o[(o[t>>2]|0)+12>>2]&15](t,e,p)|0):0){w=19;break}p=x+8|0;if(p>>>0>=y>>>0){w=19;break}s=+l[r>>2];a=+l[m>>2];x=p}if((w|0)==19)return}function St(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0;n=h;h=h+16|0;s=n+8|0;a=n;u=o[e+204>>2]|0;if(!u){h=n;return}c=+l[r>>2];f=+l[i>>2];d=r+4|0;p=+l[d>>2];_=+l[i+4>>2];m=_-p;b=m*m;g=+l[e+36>>2];i=(~~(g*(p<_?p:_)+-1+2048)>>>0<<20)+(~~(((c<f?c:f)*g+-1)*256+524288)>>>0)|0;y=g*(p>_?p:_)+1+2048;_=((c>f?c:f)*g+1)*256+524288;v=o[e+200>>2]|0;x=v;w=u<<3>>3;e:while(1){S=w;while(1){if(!S){E=x;break e}A=(S|0)/2|0;if((o[x+(A<<3)+4>>2]|0)>>>0<i>>>0){T=A;P=S;break}else S=A}x=x+(T+1<<3)|0;w=P+-1-T|0}g=f-c;c=g*g+b;T=(~~y>>>0<<20)+(~~_>>>0)|0;P=E;w=v+(u<<3)-E>>3;e:while(1){u=w;while(1){if(!u){C=P;break e}v=(u|0)/2|0;if((o[P+(v<<3)+4>>2]|0)>>>0>T>>>0)u=v;else{M=v;F=u;break}}P=P+(M+1<<3)|0;w=F+-1-M|0}M=i&1048575;i=T&1048575;T=e+96|0;F=e+40|0;w=s+4|0;P=a+4|0;u=E;_=1;e:while(1){if(u>>>0>=C>>>0){I=26;break}y=+l[r>>2];b=+l[d>>2];E=u;while(1){v=o[E+4>>2]&1048575;x=E;E=E+8|0;if(v>>>0<M>>>0|v>>>0>i>>>0)if(E>>>0<C>>>0){E=E;continue}else{I=26;break e}v=o[x>>2]|0;if((v|0)<=-1){I=26;break e}x=o[T>>2]|0;f=y-+l[x+(v<<3)>>2];p=b-+l[x+(v<<3)+4>>2];O=g*f+m*p;D=O*O-c*(f*f+p*p-+l[F>>2]);if(D>=0?(k=+J(+D),D=(-O-k)/c,!(D>_)):0){if(!(D<0)){R=v;B=E;N=f;L=p;G=D;break}D=(k-O)/c;if(!(D<0|D>_)){R=v;B=E;N=f;L=p;G=D;break}}if(E>>>0>=C>>>0){I=26;break e}}D=g*G;p=m*G;f=N+D;O=L+p;l[s>>2]=f;l[w>>2]=O;k=+J(+(f*f+O*O));if(!(k<1.1920928955078125E-7)){U=1/k;l[s>>2]=f*U;l[w>>2]=O*U}E=o[(o[t>>2]|0)+12>>2]|0;l[a>>2]=D+y;l[P>>2]=p+b;p=+nm[E&1](t,e,R,a,s,G);_=_<p?_:p;if(_<=0){I=26;break}else u=B}if((I|0)==26){h=n;return}}function Et(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0;t=e+4|0;r=o[t>>2]|0;if((r|0)!=(e|0)){i=r;do{r=Wd(i)|0;n=o[r>>2]|0;if(n){s=0;a=r+32|0;while(1){u=a+4|0;l=o[a>>2]|0;o[l+4>>2]=o[u>>2];o[o[u>>2]>>2]=l;o[u>>2]=a;o[a>>2]=a;s=s+1|0;if((s|0)==(n|0))break;else a=a+12|0}}Yd(e,r);i=o[t>>2]|0}while((i|0)!=(e|0))}i=e+12|0;a=e+20|0;n=e+24|0;s=o[a>>2]|0;o[s+4>>2]=o[n>>2];o[o[n>>2]>>2]=s;o[n>>2]=a;o[a>>2]=a;a=e+16|0;n=o[i>>2]|0;o[n+4>>2]=o[a>>2];o[o[a>>2]>>2]=n;o[a>>2]=i;o[i>>2]=i;qd(e);i=o[e>>2]|0;o[i+4>>2]=o[t>>2];o[o[t>>2]>>2]=i;o[t>>2]=e;o[e>>2]=e;return}function At(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0;i=e;e=t;e:while(1){t=e;n=e+-8|0;s=e+-4|0;a=i;t:while(1){u=a;l=t-u|0;c=l>>3;switch(c|0){case 2:{h=a;f=s;d=n;p=4;break e;break}case 3:{_=a;m=s;b=n;p=6;break e;break}case 4:{g=a;y=n;p=14;break e;break}case 5:{v=a;x=s;w=n;p=15;break e;break}case 1:case 0:{p=84;break e;break}default:{}}if((l|0)<248){S=a;E=e;p=21;break e}A=(c|0)/2|0;T=a+(A<<3)|0;do{if((l|0)>7992){P=(c|0)/4|0;C=a+(P<<3)|0;M=P+A|0;F=a+(M<<3)|0;I=pr(a,C,T,F,r)|0;O=a+(M<<3)+4|0;if((o[s>>2]|0)>>>0>=(o[O>>2]|0)>>>0){D=a+(A<<3)+4|0;k=I;break}M=F;R=o[M>>2]|0;B=o[M+4>>2]|0;M=n;N=o[M+4>>2]|0;L=F;o[L>>2]=o[M>>2];o[L+4>>2]=N;N=n;o[N>>2]=R;o[N+4>>2]=B;B=I+1|0;N=a+(A<<3)+4|0;if((o[O>>2]|0)>>>0<(o[N>>2]|0)>>>0){O=T;R=o[O>>2]|0;L=o[O+4>>2]|0;O=F;M=o[O+4>>2]|0;G=T;o[G>>2]=o[O>>2];o[G+4>>2]=M;M=F;o[M>>2]=R;o[M+4>>2]=L;L=I+2|0;M=a+(P<<3)+4|0;if((o[N>>2]|0)>>>0<(o[M>>2]|0)>>>0){P=C;R=o[P>>2]|0;F=o[P+4>>2]|0;P=T;G=o[P+4>>2]|0;O=C;o[O>>2]=o[P>>2];o[O+4>>2]=G;G=T;o[G>>2]=R;o[G+4>>2]=F;if((o[M>>2]|0)>>>0<(o[a+4>>2]|0)>>>0){M=a;F=o[M>>2]|0;G=o[M+4>>2]|0;M=C;R=o[M+4>>2]|0;O=a;o[O>>2]=o[M>>2];o[O+4>>2]=R;R=C;o[R>>2]=F;o[R+4>>2]=G;D=N;k=I+4|0}else{D=N;k=I+3|0}}else{D=N;k=L}}else{D=N;k=B}}else{B=a+(A<<3)+4|0;N=o[B>>2]|0;L=a+4|0;I=(o[s>>2]|0)>>>0<N>>>0;if(N>>>0>=(o[L>>2]|0)>>>0){if(!I){D=B;k=0;break}N=T;G=o[N>>2]|0;R=o[N+4>>2]|0;N=n;F=o[N+4>>2]|0;C=T;o[C>>2]=o[N>>2];o[C+4>>2]=F;F=n;o[F>>2]=G;o[F+4>>2]=R;if((o[B>>2]|0)>>>0>=(o[L>>2]|0)>>>0){D=B;k=1;break}L=a;R=o[L>>2]|0;F=o[L+4>>2]|0;L=T;G=o[L+4>>2]|0;C=a;o[C>>2]=o[L>>2];o[C+4>>2]=G;G=T;o[G>>2]=R;o[G+4>>2]=F;D=B;k=2;break}F=a;G=o[F>>2]|0;R=o[F+4>>2]|0;if(I){I=n;F=o[I+4>>2]|0;C=a;o[C>>2]=o[I>>2];o[C+4>>2]=F;F=n;o[F>>2]=G;o[F+4>>2]=R;D=B;k=1;break}F=T;C=o[F+4>>2]|0;I=a;o[I>>2]=o[F>>2];o[I+4>>2]=C;C=T;o[C>>2]=G;o[C+4>>2]=R;if((o[s>>2]|0)>>>0<R>>>0){C=n;I=o[C+4>>2]|0;F=T;o[F>>2]=o[C>>2];o[F+4>>2]=I;I=n;o[I>>2]=G;o[I+4>>2]=R;D=B;k=2}else{D=B;k=1}}}while(0);A=a+4|0;c=o[A>>2]|0;l=o[D>>2]|0;do{if(c>>>0<l>>>0){U=n;z=k}else{B=e;R=n;while(1){I=R+-8|0;if((a|0)==(I|0))break;if((o[B+-12>>2]|0)>>>0<l>>>0){j=I;p=66;break}else{G=R;R=I;B=G}}if((p|0)==66){p=0;B=a;R=o[B>>2]|0;G=o[B+4>>2]|0;B=j;I=o[B+4>>2]|0;F=a;o[F>>2]=o[B>>2];o[F+4>>2]=I;I=j;o[I>>2]=R;o[I+4>>2]=G;U=j;z=k+1|0;break}G=a+8|0;if(c>>>0<(o[s>>2]|0)>>>0)J=G;else{if((G|0)==(n|0)){p=84;break e}else{X=a;H=G}while(1){if(c>>>0<(o[X+12>>2]|0)>>>0){W=X;V=H;break}G=H+8|0;if((G|0)==(n|0)){p=84;break e}else{I=H;H=G;X=I}}I=V;G=o[I>>2]|0;R=o[I+4>>2]|0;I=n;F=o[I+4>>2]|0;B=V;o[B>>2]=o[I>>2];o[B+4>>2]=F;F=n;o[F>>2]=G;o[F+4>>2]=R;J=W+16|0}if((J|0)==(n|0)){p=84;break e}else{Y=J;q=n}while(1){R=o[A>>2]|0;F=Y;while(1){G=F+8|0;if(R>>>0<(o[F+4>>2]|0)>>>0){K=G;Z=F;break}else F=G}F=q;while(1){G=F+-8|0;if(R>>>0<(o[F+-4>>2]|0)>>>0)F=G;else{Q=G;break}}if(Z>>>0>=Q>>>0){a=Z;continue t}F=Z;R=o[F>>2]|0;G=o[F+4>>2]|0;F=Q;B=o[F+4>>2]|0;I=Z;o[I>>2]=o[F>>2];o[I+4>>2]=B;B=Q;o[B>>2]=R;o[B+4>>2]=G;Y=K;q=Q}}}while(0);A=a+8|0;r:do{if(A>>>0<U>>>0){c=A;l=U;G=T;B=z;while(1){R=o[G+4>>2]|0;I=c;while(1){F=I+8|0;if((o[I+4>>2]|0)>>>0<R>>>0)I=F;else{$=F;ee=I;break}}I=l;while(1){F=I+-8|0;if((o[I+-4>>2]|0)>>>0<R>>>0){te=F;break}else I=F}if(ee>>>0>te>>>0){re=ee;ie=G;ne=B;break r}I=ee;R=o[I>>2]|0;F=o[I+4>>2]|0;I=te;C=o[I+4>>2]|0;L=ee;o[L>>2]=o[I>>2];o[L+4>>2]=C;C=te;o[C>>2]=R;o[C+4>>2]=F;c=$;l=te;G=(G|0)==(ee|0)?te:G;B=B+1|0}}else{re=A;ie=T;ne=z}}while(0);if((re|0)!=(ie|0)?(o[ie+4>>2]|0)>>>0<(o[re+4>>2]|0)>>>0:0){T=re;A=o[T>>2]|0;B=o[T+4>>2]|0;T=ie;G=o[T+4>>2]|0;l=re;o[l>>2]=o[T>>2];o[l+4>>2]=G;G=ie;o[G>>2]=A;o[G+4>>2]=B;oe=ne+1|0}else oe=ne;if(!oe){se=md(a,re,r)|0;B=re+8|0;if(md(B,e,r)|0){p=79;break}if(se){a=B;continue}}B=re;if((B-u|0)>=(t-B|0)){ae=a;ue=re;p=83;break}At(a,re,r);a=re+8|0}if((p|0)==79){p=0;if(se){p=84;break}else{i=a;e=re;continue}}else if((p|0)==83){p=0;At(ue+8|0,e,r);i=ae;e=ue;continue}}if((p|0)==4){if((o[f>>2]|0)>>>0>=(o[h+4>>2]|0)>>>0)return;f=h;ue=o[f>>2]|0;e=o[f+4>>2]|0;f=d;ae=o[f+4>>2]|0;i=h;o[i>>2]=o[f>>2];o[i+4>>2]=ae;ae=d;o[ae>>2]=ue;o[ae+4>>2]=e;return}else if((p|0)==6){e=_+8|0;ae=_+12|0;ue=o[ae>>2]|0;d=_+4|0;i=(o[m>>2]|0)>>>0<ue>>>0;if(ue>>>0>=(o[d>>2]|0)>>>0){if(!i)return;ue=e;f=o[ue>>2]|0;h=o[ue+4>>2]|0;ue=b;re=o[ue+4>>2]|0;se=e;o[se>>2]=o[ue>>2];o[se+4>>2]=re;re=b;o[re>>2]=f;o[re+4>>2]=h;if((o[ae>>2]|0)>>>0>=(o[d>>2]|0)>>>0)return;d=_;ae=o[d>>2]|0;h=o[d+4>>2]|0;d=e;re=o[d+4>>2]|0;f=_;o[f>>2]=o[d>>2];o[f+4>>2]=re;re=e;o[re>>2]=ae;o[re+4>>2]=h;return}h=_;re=o[h>>2]|0;ae=o[h+4>>2]|0;if(i){i=b;h=o[i+4>>2]|0;f=_;o[f>>2]=o[i>>2];o[f+4>>2]=h;h=b;o[h>>2]=re;o[h+4>>2]=ae;return}h=e;f=o[h+4>>2]|0;i=_;o[i>>2]=o[h>>2];o[i+4>>2]=f;f=e;o[f>>2]=re;o[f+4>>2]=ae;if((o[m>>2]|0)>>>0>=ae>>>0)return;m=b;f=o[m+4>>2]|0;i=e;o[i>>2]=o[m>>2];o[i+4>>2]=f;f=b;o[f>>2]=re;o[f+4>>2]=ae;return}else if((p|0)==14){pr(g,g+8|0,g+16|0,y,r)|0;return}else if((p|0)==15){y=v+8|0;g=v+16|0;ae=v+24|0;pr(v,y,g,ae,r)|0;r=v+28|0;if((o[x>>2]|0)>>>0>=(o[r>>2]|0)>>>0)return;x=ae;f=o[x>>2]|0;re=o[x+4>>2]|0;x=w;b=o[x+4>>2]|0;i=ae;o[i>>2]=o[x>>2];o[i+4>>2]=b;b=w;o[b>>2]=f;o[b+4>>2]=re;if((o[r>>2]|0)>>>0>=(o[v+20>>2]|0)>>>0)return;r=g;re=o[r>>2]|0;b=o[r+4>>2]|0;r=ae;f=o[r>>2]|0;w=o[r+4>>2]|0;r=g;o[r>>2]=f;o[r+4>>2]=w;r=ae;o[r>>2]=re;o[r+4>>2]=b;if(w>>>0>=(o[v+12>>2]|0)>>>0)return;b=y;r=o[b>>2]|0;re=o[b+4>>2]|0;b=y;o[b>>2]=f;o[b+4>>2]=w;b=g;o[b>>2]=r;o[b+4>>2]=re;if(w>>>0>=(o[v+4>>2]|0)>>>0)return;re=v;b=o[re>>2]|0;r=o[re+4>>2]|0;re=v;o[re>>2]=f;o[re+4>>2]=w;w=y;o[w>>2]=b;o[w+4>>2]=r;return}else if((p|0)==21){r=S+16|0;w=S+8|0;b=o[S+12>>2]|0;y=o[S+4>>2]|0;re=o[S+20>>2]|0;f=re>>>0<b>>>0;do{if(b>>>0<y>>>0){v=S;g=o[v>>2]|0;ae=o[v+4>>2]|0;if(f){v=r;i=o[v+4>>2]|0;x=S;o[x>>2]=o[v>>2];o[x+4>>2]=i;i=r;o[i>>2]=g;o[i+4>>2]=ae;break}i=w;x=o[i+4>>2]|0;v=S;o[v>>2]=o[i>>2];o[v+4>>2]=x;x=w;o[x>>2]=g;o[x+4>>2]=ae;if(re>>>0<ae>>>0){x=r;v=o[x+4>>2]|0;i=w;o[i>>2]=o[x>>2];o[i+4>>2]=v;v=r;o[v>>2]=g;o[v+4>>2]=ae}}else if(f?(ae=w,v=o[ae>>2]|0,g=o[ae+4>>2]|0,ae=r,i=o[ae>>2]|0,x=o[ae+4>>2]|0,ae=w,o[ae>>2]=i,o[ae+4>>2]=x,ae=r,o[ae>>2]=v,o[ae+4>>2]=g,x>>>0<y>>>0):0){g=S;ae=o[g>>2]|0;v=o[g+4>>2]|0;g=S;o[g>>2]=i;o[g+4>>2]=x;x=w;o[x>>2]=ae;o[x+4>>2]=v}}while(0);w=S+24|0;if((w|0)==(E|0))return;else{le=w;ce=r}while(1){if((o[le+4>>2]|0)>>>0<(o[ce+4>>2]|0)>>>0){r=le;w=o[r>>2]|0;y=o[r+4>>2]|0;r=le;f=ce;while(1){re=f;b=o[re+4>>2]|0;v=r;o[v>>2]=o[re>>2];o[v+4>>2]=b;if((f|0)==(S|0)){he=f;break}if(y>>>0<(o[f+-4>>2]|0)>>>0){b=f;f=f+-8|0;r=b}else{he=f;break}}f=he;o[f>>2]=w;o[f+4>>2]=y}f=le+8|0;if((f|0)==(E|0))break;else{r=le;le=f;ce=r}}return}else if((p|0)==84)return}function Tt(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0;a=h;h=h+32|0;u=a;switch(i|0){case 2:{l=t+-20|0;if(!(bm[o[r>>2]&31](l,e)|0)){h=a;return}o[u>>2]=o[e>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];o[e>>2]=o[l>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[l>>2]=o[u>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];h=a;return}case 1:case 0:{h=a;return}default:{if((i|0)<129){if((e|0)!=(t|0)?(l=e+20|0,(l|0)!=(t|0)):0){c=l;do{o[u>>2]=o[c>>2];o[u+4>>2]=o[c+4>>2];o[u+8>>2]=o[c+8>>2];o[u+12>>2]=o[c+12>>2];o[u+16>>2]=o[c+16>>2];e:do{if((c|0)==(e|0))f=e;else{l=c;while(1){d=l;l=l+-20|0;if(!(bm[o[r>>2]&31](u,l)|0)){f=d;break e}o[d>>2]=o[l>>2];o[d+4>>2]=o[l+4>>2];o[d+8>>2]=o[l+8>>2];o[d+12>>2]=o[l+12>>2];o[d+16>>2]=o[l+16>>2];if((l|0)==(e|0)){f=e;break}}}}while(0);o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];o[f+16>>2]=o[u+16>>2];c=c+20|0}while((c|0)!=(t|0))}h=a;return}c=(i|0)/2|0;u=e+(c*20|0)|0;if((i|0)>(s|0)){Tt(e,u,r,c,n,s);f=i-c|0;Tt(u,t,r,f,n,s);dr(e,u,t,r,c,f,n,s);h=a;return}fr(e,u,r,c,n);s=n+(c*20|0)|0;fr(u,t,r,i-c|0,s);c=n+(i*20|0)|0;e:do{if((i+1|0)>>>0<3){p=e;_=s}else{t=e;u=n;f=s;while(1){if((f|0)==(c|0)){m=t;b=u;break}if(bm[o[r>>2]&31](f,u)|0){o[t>>2]=o[f>>2];o[t+4>>2]=o[f+4>>2];o[t+8>>2]=o[f+8>>2];o[t+12>>2]=o[f+12>>2];o[t+16>>2]=o[f+16>>2];g=f+20|0;y=u}else{o[t>>2]=o[u>>2];o[t+4>>2]=o[u+4>>2];o[t+8>>2]=o[u+8>>2];o[t+12>>2]=o[u+12>>2];o[t+16>>2]=o[u+16>>2];g=f;y=u+20|0}l=t+20|0;if((y|0)==(s|0)){p=l;_=g;break e}else{t=l;u=y;f=g}}if((b|0)==(s|0)){h=a;return}else{v=b;x=m}while(1){o[x>>2]=o[v>>2];o[x+4>>2]=o[v+4>>2];o[x+8>>2]=o[v+8>>2];o[x+12>>2]=o[v+12>>2];o[x+16>>2]=o[v+16>>2];v=v+20|0;if((v|0)==(s|0))break;else x=x+20|0}h=a;return}}while(0);if((_|0)==(c|0)){h=a;return}else{w=p;S=_}while(1){o[w>>2]=o[S>>2];o[w+4>>2]=o[S+4>>2];o[w+8>>2]=o[S+8>>2];o[w+12>>2]=o[S+12>>2];o[w+16>>2]=o[S+16>>2];S=S+20|0;if((S|0)==(c|0))break;else w=w+20|0}h=a;return}}}function Pt(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;a=h;h=h+64|0;u=a;switch(i|0){case 2:{l=t+-60|0;if(!(bm[o[r>>2]&31](l,e)|0)){h=a;return}c=u;f=e;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));c=e;f=l;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));c=l;f=u;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));h=a;return}case 1:case 0:{h=a;return}default:{if((i|0)<129){if((e|0)==(t|0)){h=a;return}l=e+60|0;if((l|0)==(t|0)){h=a;return}p=l;do{c=u;f=p;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));e:do{if((p|0)==(e|0))_=e;else{l=p;while(1){m=l;l=l+-60|0;if(!(bm[o[r>>2]&31](u,l)|0)){_=m;break e}c=m;f=l;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));if((l|0)==(e|0)){_=e;break}}}}while(0);c=_;f=u;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));p=p+60|0}while((p|0)!=(t|0));h=a;return}p=(i|0)/2|0;u=e+(p*60|0)|0;if((i|0)>(s|0)){Pt(e,u,r,p,n,s);_=i-p|0;Pt(u,t,r,_,n,s);ur(e,u,t,r,p,_,n,s);h=a;return}ar(e,u,r,p,n);s=n+(p*60|0)|0;ar(u,t,r,i-p|0,s);p=n+(i*60|0)|0;e:do{if((i+1|0)>>>0<3){b=e;g=s}else{t=e;u=n;_=s;while(1){if((_|0)==(p|0)){y=t;v=u;break}if(bm[o[r>>2]&31](_,u)|0){c=t;f=_;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));x=_+60|0;w=u}else{c=t;f=u;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));x=_;w=u+60|0}l=t+60|0;if((w|0)==(s|0)){b=l;g=x;break e}else{t=l;u=w;_=x}}if((v|0)==(s|0)){h=a;return}else{S=v;E=y}while(1){c=E;f=S;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));S=S+60|0;if((S|0)==(s|0))break;else E=E+60|0}h=a;return}}while(0);if((g|0)==(p|0)){h=a;return}else{A=b;T=g}while(1){c=A;f=T;d=c+60|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));T=T+60|0;if((T|0)==(p|0))break;else A=A+60|0}h=a;return}}}function Ct(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;n=o[e+96>>2]|0;s=+l[n+(r<<3)>>2]-+l[n+(t<<3)>>2];a=+l[n+(r<<3)+4>>2]-+l[n+(t<<3)+4>>2];u=s*s+a*a;if(!(u<+l[e+40>>2]))return;c=(o[d>>2]=1597463007-((l[d>>2]=u,o[d>>2]|0)>>1),+l[d>>2]);h=c*(1.5-c*(u*.5*c));n=i+4|0;f=o[n>>2]|0;p=i+8|0;_=o[p>>2]|0;if((f|0)>=(_|0)?(m=(_|0)==0?256:_<<1,(_|0)<(m|0)):0){_=i+12|0;b=Od(o[_>>2]|0,m*24|0)|0;g=o[i>>2]|0;if(!g)y=i;else{p_(b|0,g|0,(o[n>>2]|0)*24|0)|0;Dd(o[_>>2]|0,o[i>>2]|0,(o[p>>2]|0)*24|0);y=i}o[p>>2]=m;o[y>>2]=b;v=o[n>>2]|0}else v=f;o[n>>2]=v+1;n=o[i>>2]|0;o[n+(v*24|0)>>2]=t;o[n+(v*24|0)+4>>2]=r;i=o[e+88>>2]|0;o[n+(v*24|0)+20>>2]=o[i+(r<<2)>>2]|o[i+(t<<2)>>2];l[n+(v*24|0)+8>>2]=1-u*h*+l[e+36>>2];l[n+(v*24|0)+12>>2]=s*h;l[n+(v*24|0)+16>>2]=a*h;return}function Mt(e,t){e=e|0;t=t|0;var r=0;if((o[e>>2]|0)>=(o[t>>2]|0)){r=0;return r|0}r=(o[e+4>>2]|0)<(o[t+4>>2]|0);return r|0}function Ft(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0;i=h;h=h+16|0;n=i;s=e;e=t;e:while(1){t=e;a=e+-8|0;u=s;t:while(1){l=u;c=t-l|0;f=c>>3;switch(f|0){case 2:{d=u;p=a;_=a;m=4;break e;break}case 3:{b=u;g=a;y=a;m=6;break e;break}case 4:{v=u;x=a;w=a;m=14;break e;break}case 5:{S=u;E=a;m=26;break e;break}case 1:case 0:{m=87;break e;break}default:{}}if((c|0)<248){A=u;T=e;m=28;break e}P=(f|0)/2|0;C=u+(P<<3)|0;do{if((c|0)<=7992){M=bm[o[r>>2]&31](C,u)|0;F=bm[o[r>>2]&31](a,C)|0;if(!M){if(!F){I=0;break}M=C;O=o[M>>2]|0;D=o[M+4>>2]|0;M=a;k=o[M+4>>2]|0;R=C;o[R>>2]=o[M>>2];o[R+4>>2]=k;k=a;o[k>>2]=O;o[k+4>>2]=D;if(!(bm[o[r>>2]&31](C,u)|0)){I=1;break}D=u;k=o[D>>2]|0;O=o[D+4>>2]|0;D=C;R=o[D+4>>2]|0;M=u;o[M>>2]=o[D>>2];o[M+4>>2]=R;R=C;o[R>>2]=k;o[R+4>>2]=O;I=2;break}O=u;R=o[O>>2]|0;k=o[O+4>>2]|0;if(F){F=a;O=o[F+4>>2]|0;M=u;o[M>>2]=o[F>>2];o[M+4>>2]=O;O=a;o[O>>2]=R;o[O+4>>2]=k;I=1;break}O=C;M=o[O+4>>2]|0;F=u;o[F>>2]=o[O>>2];o[F+4>>2]=M;M=C;o[M>>2]=R;o[M+4>>2]=k;if(bm[o[r>>2]&31](a,C)|0){k=C;M=o[k>>2]|0;R=o[k+4>>2]|0;k=a;F=o[k+4>>2]|0;O=C;o[O>>2]=o[k>>2];o[O+4>>2]=F;F=a;o[F>>2]=M;o[F+4>>2]=R;I=2}else I=1}else{R=(f|0)/4|0;I=Kt(u,u+(R<<3)|0,C,u+(R+P<<3)|0,a,r)|0}}while(0);do{if(bm[o[r>>2]&31](u,C)|0){B=a;N=I}else{P=a;while(1){f=P+-8|0;if((u|0)==(f|0))break;if(bm[o[r>>2]&31](f,C)|0){L=f;m=69;break}else P=f}if((m|0)==69){m=0;P=u;f=o[P>>2]|0;c=o[P+4>>2]|0;P=L;R=o[P+4>>2]|0;F=u;o[F>>2]=o[P>>2];o[F+4>>2]=R;R=L;o[R>>2]=f;o[R+4>>2]=c;B=L;N=I+1|0;break}c=u+8|0;if(bm[o[r>>2]&31](u,a)|0)G=c;else{if((c|0)==(a|0)){m=87;break e}else{U=u;z=c}while(1){if(bm[o[r>>2]&31](u,z)|0){j=U;J=z;break}c=z+8|0;if((c|0)==(a|0)){m=87;break e}else{R=z;z=c;U=R}}R=J;c=o[R>>2]|0;f=o[R+4>>2]|0;R=a;F=o[R+4>>2]|0;P=J;o[P>>2]=o[R>>2];o[P+4>>2]=F;F=a;o[F>>2]=c;o[F+4>>2]=f;G=j+16|0}if((G|0)==(a|0)){m=87;break e}else{X=G;H=a}while(1){f=X;while(1){F=f+8|0;if(bm[o[r>>2]&31](u,f)|0){W=F;V=f;break}else f=F}f=H;while(1){F=f+-8|0;if(bm[o[r>>2]&31](u,F)|0)f=F;else{Y=F;break}}if(V>>>0>=Y>>>0){u=V;continue t}f=V;F=o[f>>2]|0;c=o[f+4>>2]|0;f=Y;P=o[f+4>>2]|0;R=V;o[R>>2]=o[f>>2];o[R+4>>2]=P;P=Y;o[P>>2]=F;o[P+4>>2]=c;X=W;H=Y}}}while(0);c=u+8|0;r:do{if(c>>>0<B>>>0){P=c;F=B;R=C;f=N;while(1){M=P;while(1){O=M+8|0;if(bm[o[r>>2]&31](M,R)|0)M=O;else{q=O;K=M;break}}M=F;while(1){O=M+-8|0;if(bm[o[r>>2]&31](O,R)|0){Z=O;break}else M=O}if(K>>>0>Z>>>0){Q=K;$=R;ee=f;break r}M=K;O=o[M>>2]|0;k=o[M+4>>2]|0;M=Z;D=o[M+4>>2]|0;te=K;o[te>>2]=o[M>>2];o[te+4>>2]=D;D=Z;o[D>>2]=O;o[D+4>>2]=k;P=q;F=Z;R=(R|0)==(K|0)?Z:R;f=f+1|0}}else{Q=c;$=C;ee=N}}while(0);if((Q|0)!=($|0)?bm[o[r>>2]&31]($,Q)|0:0){C=Q;c=o[C>>2]|0;f=o[C+4>>2]|0;C=$;R=o[C+4>>2]|0;F=Q;o[F>>2]=o[C>>2];o[F+4>>2]=R;R=$;o[R>>2]=c;o[R+4>>2]=f;re=ee+1|0}else re=ee;if(!re){ie=Zt(u,Q,r)|0;f=Q+8|0;if(Zt(f,e,r)|0){m=82;break}if(ie){u=f;continue}}f=Q;if((f-l|0)>=(t-f|0)){ne=u;oe=Q;m=86;break}Ft(u,Q,r);u=Q+8|0}if((m|0)==82){m=0;if(ie){m=87;break}else{s=u;e=Q;continue}}else if((m|0)==86){m=0;Ft(oe+8|0,e,r);s=ne;e=oe;continue}}if((m|0)==4){if(!(bm[o[r>>2]&31](p,d)|0)){h=i;return}p=d;oe=o[p>>2]|0;e=o[p+4>>2]|0;p=_;ne=o[p+4>>2]|0;s=d;o[s>>2]=o[p>>2];o[s+4>>2]=ne;ne=_;o[ne>>2]=oe;o[ne+4>>2]=e;h=i;return}else if((m|0)==6){e=b+8|0;ne=bm[o[r>>2]&31](e,b)|0;oe=bm[o[r>>2]&31](g,e)|0;if(!ne){if(!oe){h=i;return}ne=e;_=o[ne>>2]|0;s=o[ne+4>>2]|0;ne=y;p=o[ne+4>>2]|0;d=e;o[d>>2]=o[ne>>2];o[d+4>>2]=p;p=y;o[p>>2]=_;o[p+4>>2]=s;if(!(bm[o[r>>2]&31](e,b)|0)){h=i;return}s=b;p=o[s>>2]|0;_=o[s+4>>2]|0;s=e;d=o[s+4>>2]|0;ne=b;o[ne>>2]=o[s>>2];o[ne+4>>2]=d;d=e;o[d>>2]=p;o[d+4>>2]=_;h=i;return}_=b;d=o[_>>2]|0;p=o[_+4>>2]|0;if(oe){oe=y;_=o[oe+4>>2]|0;ne=b;o[ne>>2]=o[oe>>2];o[ne+4>>2]=_;_=y;o[_>>2]=d;o[_+4>>2]=p;h=i;return}_=e;ne=o[_+4>>2]|0;oe=b;o[oe>>2]=o[_>>2];o[oe+4>>2]=ne;ne=e;o[ne>>2]=d;o[ne+4>>2]=p;if(!(bm[o[r>>2]&31](g,e)|0)){h=i;return}g=e;p=o[g>>2]|0;ne=o[g+4>>2]|0;g=y;d=o[g+4>>2]|0;oe=e;o[oe>>2]=o[g>>2];o[oe+4>>2]=d;d=y;o[d>>2]=p;o[d+4>>2]=ne;h=i;return}else if((m|0)==14){ne=v+8|0;d=v+16|0;p=bm[o[r>>2]&31](ne,v)|0;y=bm[o[r>>2]&31](d,ne)|0;do{if(p){oe=v;g=o[oe>>2]|0;e=o[oe+4>>2]|0;if(y){oe=d;_=o[oe+4>>2]|0;b=v;o[b>>2]=o[oe>>2];o[b+4>>2]=_;_=d;o[_>>2]=g;o[_+4>>2]=e;break}_=ne;b=o[_+4>>2]|0;oe=v;o[oe>>2]=o[_>>2];o[oe+4>>2]=b;b=ne;o[b>>2]=g;o[b+4>>2]=e;if(bm[o[r>>2]&31](d,ne)|0){e=ne;b=o[e>>2]|0;g=o[e+4>>2]|0;e=d;oe=o[e+4>>2]|0;_=ne;o[_>>2]=o[e>>2];o[_+4>>2]=oe;oe=d;o[oe>>2]=b;o[oe+4>>2]=g}}else if(y?(g=ne,oe=o[g>>2]|0,b=o[g+4>>2]|0,g=d,_=o[g+4>>2]|0,e=ne,o[e>>2]=o[g>>2],o[e+4>>2]=_,_=d,o[_>>2]=oe,o[_+4>>2]=b,bm[o[r>>2]&31](ne,v)|0):0){b=v;_=o[b>>2]|0;oe=o[b+4>>2]|0;b=ne;e=o[b+4>>2]|0;g=v;o[g>>2]=o[b>>2];o[g+4>>2]=e;e=ne;o[e>>2]=_;o[e+4>>2]=oe}}while(0);if(!(bm[o[r>>2]&31](x,d)|0)){h=i;return}x=d;y=o[x>>2]|0;p=o[x+4>>2]|0;x=w;oe=o[x+4>>2]|0;e=d;o[e>>2]=o[x>>2];o[e+4>>2]=oe;oe=w;o[oe>>2]=y;o[oe+4>>2]=p;if(!(bm[o[r>>2]&31](d,ne)|0)){h=i;return}p=ne;oe=o[p>>2]|0;y=o[p+4>>2]|0;p=d;w=o[p+4>>2]|0;e=ne;o[e>>2]=o[p>>2];o[e+4>>2]=w;w=d;o[w>>2]=oe;o[w+4>>2]=y;if(!(bm[o[r>>2]&31](ne,v)|0)){h=i;return}y=v;w=o[y>>2]|0;oe=o[y+4>>2]|0;y=ne;d=o[y+4>>2]|0;e=v;o[e>>2]=o[y>>2];o[e+4>>2]=d;d=ne;o[d>>2]=w;o[d+4>>2]=oe;h=i;return}else if((m|0)==26){Kt(S,S+8|0,S+16|0,S+24|0,E,r)|0;h=i;return}else if((m|0)==28){E=A+16|0;S=A+8|0;oe=bm[o[r>>2]&31](S,A)|0;d=bm[o[r>>2]&31](E,S)|0;do{if(oe){w=A;ne=o[w>>2]|0;e=o[w+4>>2]|0;if(d){w=E;y=o[w+4>>2]|0;v=A;o[v>>2]=o[w>>2];o[v+4>>2]=y;y=E;o[y>>2]=ne;o[y+4>>2]=e;break}y=S;v=o[y+4>>2]|0;w=A;o[w>>2]=o[y>>2];o[w+4>>2]=v;v=S;o[v>>2]=ne;o[v+4>>2]=e;if(bm[o[r>>2]&31](E,S)|0){e=S;v=o[e>>2]|0;ne=o[e+4>>2]|0;e=E;w=o[e+4>>2]|0;y=S;o[y>>2]=o[e>>2];o[y+4>>2]=w;w=E;o[w>>2]=v;o[w+4>>2]=ne}}else if(d?(ne=S,w=o[ne>>2]|0,v=o[ne+4>>2]|0,ne=E,y=o[ne+4>>2]|0,e=S,o[e>>2]=o[ne>>2],o[e+4>>2]=y,y=E,o[y>>2]=w,o[y+4>>2]=v,bm[o[r>>2]&31](S,A)|0):0){v=A;y=o[v>>2]|0;w=o[v+4>>2]|0;v=S;e=o[v+4>>2]|0;ne=A;o[ne>>2]=o[v>>2];o[ne+4>>2]=e;e=S;o[e>>2]=y;o[e+4>>2]=w}}while(0);S=A+24|0;if((S|0)!=(T|0)){d=S;S=E;while(1){if(bm[o[r>>2]&31](d,S)|0){E=d;oe=o[E+4>>2]|0;w=n;o[w>>2]=o[E>>2];o[w+4>>2]=oe;oe=d;w=S;while(1){E=w;e=o[E+4>>2]|0;y=oe;o[y>>2]=o[E>>2];o[y+4>>2]=e;if((w|0)==(A|0)){se=w;break}e=w+-8|0;if(bm[o[r>>2]&31](n,e)|0){y=w;w=e;oe=y}else{se=w;break}}w=n;oe=o[w+4>>2]|0;u=se;o[u>>2]=o[w>>2];o[u+4>>2]=oe}oe=d+8|0;if((oe|0)==(T|0))break;else{u=d;d=oe;S=u}}}h=i;return}else if((m|0)==87){h=i;return}}function It(e,t){e=e|0;t=t|0;var r=0;if((o[e>>2]|0)>>>0>=(o[t>>2]|0)>>>0){r=0;return r|0}r=(o[e+4>>2]|0)<(o[t+4>>2]|0);return r|0}function Ot(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0;i=h;h=h+16|0;n=i;s=e;e=t;e:while(1){t=e;a=e+-8|0;u=s;t:while(1){l=u;c=t-l|0;f=c>>3;switch(f|0){case 2:{d=u;p=a;_=a;m=4;break e;break}case 3:{b=u;g=a;y=a;m=6;break e;break}case 4:{v=u;x=a;w=a;m=14;break e;break}case 5:{S=u;E=a;m=26;break e;break}case 1:case 0:{m=87;break e;break}default:{}}if((c|0)<248){A=u;T=e;m=28;break e}P=(f|0)/2|0;C=u+(P<<3)|0;do{if((c|0)<=7992){M=bm[o[r>>2]&31](C,u)|0;F=bm[o[r>>2]&31](a,C)|0;if(!M){if(!F){I=0;break}M=C;O=o[M>>2]|0;D=o[M+4>>2]|0;M=a;k=o[M+4>>2]|0;R=C;o[R>>2]=o[M>>2];o[R+4>>2]=k;k=a;o[k>>2]=O;o[k+4>>2]=D;if(!(bm[o[r>>2]&31](C,u)|0)){I=1;break}D=u;k=o[D>>2]|0;O=o[D+4>>2]|0;D=C;R=o[D+4>>2]|0;M=u;o[M>>2]=o[D>>2];o[M+4>>2]=R;R=C;o[R>>2]=k;o[R+4>>2]=O;I=2;break}O=u;R=o[O>>2]|0;k=o[O+4>>2]|0;if(F){F=a;O=o[F+4>>2]|0;M=u;o[M>>2]=o[F>>2];o[M+4>>2]=O;O=a;o[O>>2]=R;o[O+4>>2]=k;I=1;break}O=C;M=o[O+4>>2]|0;F=u;o[F>>2]=o[O>>2];o[F+4>>2]=M;M=C;o[M>>2]=R;o[M+4>>2]=k;if(bm[o[r>>2]&31](a,C)|0){k=C;M=o[k>>2]|0;R=o[k+4>>2]|0;k=a;F=o[k+4>>2]|0;O=C;o[O>>2]=o[k>>2];o[O+4>>2]=F;F=a;o[F>>2]=M;o[F+4>>2]=R;I=2}else I=1}else{R=(f|0)/4|0;I=Yt(u,u+(R<<3)|0,C,u+(R+P<<3)|0,a,r)|0}}while(0);do{if(bm[o[r>>2]&31](u,C)|0){B=a;N=I}else{P=a;while(1){f=P+-8|0;if((u|0)==(f|0))break;if(bm[o[r>>2]&31](f,C)|0){L=f;m=69;break}else P=f}if((m|0)==69){m=0;P=u;f=o[P>>2]|0;c=o[P+4>>2]|0;P=L;R=o[P+4>>2]|0;F=u;o[F>>2]=o[P>>2];o[F+4>>2]=R;R=L;o[R>>2]=f;o[R+4>>2]=c;B=L;N=I+1|0;break}c=u+8|0;if(bm[o[r>>2]&31](u,a)|0)G=c;else{if((c|0)==(a|0)){m=87;break e}else{U=u;z=c}while(1){if(bm[o[r>>2]&31](u,z)|0){j=U;J=z;break}c=z+8|0;if((c|0)==(a|0)){m=87;break e}else{R=z;z=c;U=R}}R=J;c=o[R>>2]|0;f=o[R+4>>2]|0;R=a;F=o[R+4>>2]|0;P=J;o[P>>2]=o[R>>2];o[P+4>>2]=F;F=a;o[F>>2]=c;o[F+4>>2]=f;G=j+16|0}if((G|0)==(a|0)){m=87;break e}else{X=G;H=a}while(1){f=X;while(1){F=f+8|0;if(bm[o[r>>2]&31](u,f)|0){W=F;V=f;break}else f=F}f=H;while(1){F=f+-8|0;if(bm[o[r>>2]&31](u,F)|0)f=F;else{Y=F;break}}if(V>>>0>=Y>>>0){u=V;continue t}f=V;F=o[f>>2]|0;c=o[f+4>>2]|0;f=Y;P=o[f+4>>2]|0;R=V;o[R>>2]=o[f>>2];o[R+4>>2]=P;P=Y;o[P>>2]=F;o[P+4>>2]=c;X=W;H=Y}}}while(0);c=u+8|0;r:do{if(c>>>0<B>>>0){P=c;F=B;R=C;f=N;while(1){M=P;while(1){O=M+8|0;if(bm[o[r>>2]&31](M,R)|0)M=O;else{q=O;K=M;break}}M=F;while(1){O=M+-8|0;if(bm[o[r>>2]&31](O,R)|0){Z=O;break}else M=O}if(K>>>0>Z>>>0){Q=K;$=R;ee=f;break r}M=K;O=o[M>>2]|0;k=o[M+4>>2]|0;M=Z;D=o[M+4>>2]|0;te=K;o[te>>2]=o[M>>2];o[te+4>>2]=D;D=Z;o[D>>2]=O;o[D+4>>2]=k;P=q;F=Z;R=(R|0)==(K|0)?Z:R;f=f+1|0}}else{Q=c;$=C;ee=N}}while(0);if((Q|0)!=($|0)?bm[o[r>>2]&31]($,Q)|0:0){C=Q;c=o[C>>2]|0;f=o[C+4>>2]|0;C=$;R=o[C+4>>2]|0;F=Q;o[F>>2]=o[C>>2];o[F+4>>2]=R;R=$;o[R>>2]=c;o[R+4>>2]=f;re=ee+1|0}else re=ee;if(!re){ie=qt(u,Q,r)|0;f=Q+8|0;if(qt(f,e,r)|0){m=82;break}if(ie){u=f;continue}}f=Q;if((f-l|0)>=(t-f|0)){ne=u;oe=Q;m=86;break}Ot(u,Q,r);u=Q+8|0}if((m|0)==82){m=0;if(ie){m=87;break}else{s=u;e=Q;continue}}else if((m|0)==86){m=0;Ot(oe+8|0,e,r);s=ne;e=oe;continue}}if((m|0)==4){if(!(bm[o[r>>2]&31](p,d)|0)){h=i;return}p=d;oe=o[p>>2]|0;e=o[p+4>>2]|0;p=_;ne=o[p+4>>2]|0;s=d;o[s>>2]=o[p>>2];o[s+4>>2]=ne;ne=_;o[ne>>2]=oe;o[ne+4>>2]=e;h=i;return}else if((m|0)==6){e=b+8|0;ne=bm[o[r>>2]&31](e,b)|0;oe=bm[o[r>>2]&31](g,e)|0;if(!ne){if(!oe){h=i;return}ne=e;_=o[ne>>2]|0;s=o[ne+4>>2]|0;ne=y;p=o[ne+4>>2]|0;d=e;o[d>>2]=o[ne>>2];o[d+4>>2]=p;p=y;o[p>>2]=_;o[p+4>>2]=s;if(!(bm[o[r>>2]&31](e,b)|0)){h=i;return}s=b;p=o[s>>2]|0;_=o[s+4>>2]|0;s=e;d=o[s+4>>2]|0;ne=b;o[ne>>2]=o[s>>2];o[ne+4>>2]=d;d=e;o[d>>2]=p;o[d+4>>2]=_;h=i;return}_=b;d=o[_>>2]|0;p=o[_+4>>2]|0;if(oe){oe=y;_=o[oe+4>>2]|0;ne=b;o[ne>>2]=o[oe>>2];o[ne+4>>2]=_;_=y;o[_>>2]=d;o[_+4>>2]=p;h=i;return}_=e;ne=o[_+4>>2]|0;oe=b;o[oe>>2]=o[_>>2];o[oe+4>>2]=ne;ne=e;o[ne>>2]=d;o[ne+4>>2]=p;if(!(bm[o[r>>2]&31](g,e)|0)){h=i;return}g=e;p=o[g>>2]|0;ne=o[g+4>>2]|0;g=y;d=o[g+4>>2]|0;oe=e;o[oe>>2]=o[g>>2];o[oe+4>>2]=d;d=y;o[d>>2]=p;o[d+4>>2]=ne;h=i;return}else if((m|0)==14){ne=v+8|0;d=v+16|0;p=bm[o[r>>2]&31](ne,v)|0;y=bm[o[r>>2]&31](d,ne)|0;do{if(p){oe=v;g=o[oe>>2]|0;e=o[oe+4>>2]|0;if(y){oe=d;_=o[oe+4>>2]|0;b=v;o[b>>2]=o[oe>>2];o[b+4>>2]=_;_=d;o[_>>2]=g;o[_+4>>2]=e;break}_=ne;b=o[_+4>>2]|0;oe=v;o[oe>>2]=o[_>>2];o[oe+4>>2]=b;b=ne;o[b>>2]=g;o[b+4>>2]=e;if(bm[o[r>>2]&31](d,ne)|0){e=ne;b=o[e>>2]|0;g=o[e+4>>2]|0;e=d;oe=o[e+4>>2]|0;_=ne;o[_>>2]=o[e>>2];o[_+4>>2]=oe;oe=d;o[oe>>2]=b;o[oe+4>>2]=g}}else if(y?(g=ne,oe=o[g>>2]|0,b=o[g+4>>2]|0,g=d,_=o[g+4>>2]|0,e=ne,o[e>>2]=o[g>>2],o[e+4>>2]=_,_=d,o[_>>2]=oe,o[_+4>>2]=b,bm[o[r>>2]&31](ne,v)|0):0){b=v;_=o[b>>2]|0;oe=o[b+4>>2]|0;b=ne;e=o[b+4>>2]|0;g=v;o[g>>2]=o[b>>2];o[g+4>>2]=e;e=ne;o[e>>2]=_;o[e+4>>2]=oe}}while(0);if(!(bm[o[r>>2]&31](x,d)|0)){h=i;return}x=d;y=o[x>>2]|0;p=o[x+4>>2]|0;x=w;oe=o[x+4>>2]|0;e=d;o[e>>2]=o[x>>2];o[e+4>>2]=oe;oe=w;o[oe>>2]=y;o[oe+4>>2]=p;if(!(bm[o[r>>2]&31](d,ne)|0)){h=i;return}p=ne;oe=o[p>>2]|0;y=o[p+4>>2]|0;p=d;w=o[p+4>>2]|0;e=ne;o[e>>2]=o[p>>2];o[e+4>>2]=w;w=d;o[w>>2]=oe;o[w+4>>2]=y;if(!(bm[o[r>>2]&31](ne,v)|0)){h=i;return}y=v;w=o[y>>2]|0;oe=o[y+4>>2]|0;y=ne;d=o[y+4>>2]|0;e=v;o[e>>2]=o[y>>2];o[e+4>>2]=d;d=ne;o[d>>2]=w;o[d+4>>2]=oe;h=i;return}else if((m|0)==26){Yt(S,S+8|0,S+16|0,S+24|0,E,r)|0;h=i;return}else if((m|0)==28){E=A+16|0;S=A+8|0;oe=bm[o[r>>2]&31](S,A)|0;d=bm[o[r>>2]&31](E,S)|0;do{if(oe){w=A;ne=o[w>>2]|0;e=o[w+4>>2]|0;if(d){w=E;y=o[w+4>>2]|0;v=A;o[v>>2]=o[w>>2];o[v+4>>2]=y;y=E;o[y>>2]=ne;o[y+4>>2]=e;break}y=S;v=o[y+4>>2]|0;w=A;o[w>>2]=o[y>>2];o[w+4>>2]=v;v=S;o[v>>2]=ne;o[v+4>>2]=e;if(bm[o[r>>2]&31](E,S)|0){e=S;v=o[e>>2]|0;ne=o[e+4>>2]|0;e=E;w=o[e+4>>2]|0;y=S;o[y>>2]=o[e>>2];o[y+4>>2]=w;w=E;o[w>>2]=v;o[w+4>>2]=ne}}else if(d?(ne=S,w=o[ne>>2]|0,v=o[ne+4>>2]|0,ne=E,y=o[ne+4>>2]|0,e=S,o[e>>2]=o[ne>>2],o[e+4>>2]=y,y=E,o[y>>2]=w,o[y+4>>2]=v,bm[o[r>>2]&31](S,A)|0):0){v=A;y=o[v>>2]|0;w=o[v+4>>2]|0;v=S;e=o[v+4>>2]|0;ne=A;o[ne>>2]=o[v>>2];o[ne+4>>2]=e;e=S;o[e>>2]=y;o[e+4>>2]=w}}while(0);S=A+24|0;if((S|0)!=(T|0)){d=S;S=E;while(1){if(bm[o[r>>2]&31](d,S)|0){E=d;oe=o[E+4>>2]|0;w=n;o[w>>2]=o[E>>2];o[w+4>>2]=oe;oe=d;w=S;while(1){E=w;e=o[E+4>>2]|0;y=oe;o[y>>2]=o[E>>2];o[y+4>>2]=e;if((w|0)==(A|0)){se=w;break}e=w+-8|0;if(bm[o[r>>2]&31](n,e)|0){y=w;w=e;oe=y}else{se=w;break}}w=n;oe=o[w+4>>2]|0;u=se;o[u>>2]=o[w>>2];o[u+4>>2]=oe}oe=d+8|0;if((oe|0)==(T|0))break;else{u=d;d=oe;S=u}}}h=i;return}else if((m|0)==87){h=i;return}}function Dt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0;i=h;h=h+32|0;n=i;s=e;e=t;e:while(1){t=e;a=e+-28|0;u=s;t:while(1){l=u;c=t-l|0;switch((c|0)/28|0|0){case 2:{f=u;d=a;p=a;_=4;break e;break}case 3:{m=u;b=a;g=a;_=6;break e;break}case 4:{y=u;v=a;_=14;break e;break}case 5:{x=u;w=a;S=a;_=15;break e;break}case 1:case 0:{_=69;break e;break}default:{}}if((c|0)<868){E=u;A=e;_=21;break e}T=(c|0)/56|0;P=u+(T*28|0)|0;do{if((c|0)>27972){C=(c|0)/112|0;M=u+(C*28|0)|0;F=u+((C+T|0)*28|0)|0;C=Jt(u,M,P,F,r)|0;if(bm[o[r>>2]&31](a,F)|0){o[n>>2]=o[F>>2];o[n+4>>2]=o[F+4>>2];o[n+8>>2]=o[F+8>>2];o[n+12>>2]=o[F+12>>2];o[n+16>>2]=o[F+16>>2];o[n+20>>2]=o[F+20>>2];o[n+24>>2]=o[F+24>>2];o[F>>2]=o[a>>2];o[F+4>>2]=o[a+4>>2];o[F+8>>2]=o[a+8>>2];o[F+12>>2]=o[a+12>>2];o[F+16>>2]=o[a+16>>2];o[F+20>>2]=o[a+20>>2];o[F+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];I=C+1|0;if(bm[o[r>>2]&31](F,P)|0){o[n>>2]=o[P>>2];o[n+4>>2]=o[P+4>>2];o[n+8>>2]=o[P+8>>2];o[n+12>>2]=o[P+12>>2];o[n+16>>2]=o[P+16>>2];o[n+20>>2]=o[P+20>>2];o[n+24>>2]=o[P+24>>2];o[P>>2]=o[F>>2];o[P+4>>2]=o[F+4>>2];o[P+8>>2]=o[F+8>>2];o[P+12>>2]=o[F+12>>2];o[P+16>>2]=o[F+16>>2];o[P+20>>2]=o[F+20>>2];o[P+24>>2]=o[F+24>>2];o[F>>2]=o[n>>2];o[F+4>>2]=o[n+4>>2];o[F+8>>2]=o[n+8>>2];o[F+12>>2]=o[n+12>>2];o[F+16>>2]=o[n+16>>2];o[F+20>>2]=o[n+20>>2];o[F+24>>2]=o[n+24>>2];F=C+2|0;if(bm[o[r>>2]&31](P,M)|0){o[n>>2]=o[M>>2];o[n+4>>2]=o[M+4>>2];o[n+8>>2]=o[M+8>>2];o[n+12>>2]=o[M+12>>2];o[n+16>>2]=o[M+16>>2];o[n+20>>2]=o[M+20>>2];o[n+24>>2]=o[M+24>>2];o[M>>2]=o[P>>2];o[M+4>>2]=o[P+4>>2];o[M+8>>2]=o[P+8>>2];o[M+12>>2]=o[P+12>>2];o[M+16>>2]=o[P+16>>2];o[M+20>>2]=o[P+20>>2];o[M+24>>2]=o[P+24>>2];o[P>>2]=o[n>>2];o[P+4>>2]=o[n+4>>2];o[P+8>>2]=o[n+8>>2];o[P+12>>2]=o[n+12>>2];o[P+16>>2]=o[n+16>>2];o[P+20>>2]=o[n+20>>2];o[P+24>>2]=o[n+24>>2];if(bm[o[r>>2]&31](M,u)|0){o[n>>2]=o[u>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u>>2]=o[M>>2];o[u+4>>2]=o[M+4>>2];o[u+8>>2]=o[M+8>>2];o[u+12>>2]=o[M+12>>2];o[u+16>>2]=o[M+16>>2];o[u+20>>2]=o[M+20>>2];o[u+24>>2]=o[M+24>>2];o[M>>2]=o[n>>2];o[M+4>>2]=o[n+4>>2];o[M+8>>2]=o[n+8>>2];o[M+12>>2]=o[n+12>>2];o[M+16>>2]=o[n+16>>2];o[M+20>>2]=o[n+20>>2];o[M+24>>2]=o[n+24>>2];O=C+4|0}else O=C+3|0}else O=F}else O=I}else O=C}else{C=bm[o[r>>2]&31](P,u)|0;I=bm[o[r>>2]&31](a,P)|0;if(!C){if(!I){O=0;break}o[n>>2]=o[P>>2];o[n+4>>2]=o[P+4>>2];o[n+8>>2]=o[P+8>>2];o[n+12>>2]=o[P+12>>2];o[n+16>>2]=o[P+16>>2];o[n+20>>2]=o[P+20>>2];o[n+24>>2]=o[P+24>>2];o[P>>2]=o[a>>2];o[P+4>>2]=o[a+4>>2];o[P+8>>2]=o[a+8>>2];o[P+12>>2]=o[a+12>>2];o[P+16>>2]=o[a+16>>2];o[P+20>>2]=o[a+20>>2];o[P+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](P,u)|0)){O=1;break}o[n>>2]=o[u>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u>>2]=o[P>>2];o[u+4>>2]=o[P+4>>2];o[u+8>>2]=o[P+8>>2];o[u+12>>2]=o[P+12>>2];o[u+16>>2]=o[P+16>>2];o[u+20>>2]=o[P+20>>2];o[u+24>>2]=o[P+24>>2];o[P>>2]=o[n>>2];o[P+4>>2]=o[n+4>>2];o[P+8>>2]=o[n+8>>2];o[P+12>>2]=o[n+12>>2];o[P+16>>2]=o[n+16>>2];o[P+20>>2]=o[n+20>>2];o[P+24>>2]=o[n+24>>2];O=2;break}if(I){o[n>>2]=o[u>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u>>2]=o[a>>2];o[u+4>>2]=o[a+4>>2];o[u+8>>2]=o[a+8>>2];o[u+12>>2]=o[a+12>>2];o[u+16>>2]=o[a+16>>2];o[u+20>>2]=o[a+20>>2];o[u+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];O=1;break}o[n>>2]=o[u>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u>>2]=o[P>>2];o[u+4>>2]=o[P+4>>2];o[u+8>>2]=o[P+8>>2];o[u+12>>2]=o[P+12>>2];o[u+16>>2]=o[P+16>>2];o[u+20>>2]=o[P+20>>2];o[u+24>>2]=o[P+24>>2];o[P>>2]=o[n>>2];o[P+4>>2]=o[n+4>>2];o[P+8>>2]=o[n+8>>2];o[P+12>>2]=o[n+12>>2];o[P+16>>2]=o[n+16>>2];o[P+20>>2]=o[n+20>>2];o[P+24>>2]=o[n+24>>2];if(bm[o[r>>2]&31](a,P)|0){o[n>>2]=o[P>>2];o[n+4>>2]=o[P+4>>2];o[n+8>>2]=o[P+8>>2];o[n+12>>2]=o[P+12>>2];o[n+16>>2]=o[P+16>>2];o[n+20>>2]=o[P+20>>2];o[n+24>>2]=o[P+24>>2];o[P>>2]=o[a>>2];o[P+4>>2]=o[a+4>>2];o[P+8>>2]=o[a+8>>2];o[P+12>>2]=o[a+12>>2];o[P+16>>2]=o[a+16>>2];o[P+20>>2]=o[a+20>>2];o[P+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];O=2}else O=1}}while(0);do{if(bm[o[r>>2]&31](u,P)|0){D=a;k=O}else{T=a;while(1){c=T+-28|0;if((u|0)==(c|0))break;if(bm[o[r>>2]&31](c,P)|0){R=c;_=51;break}else T=c}if((_|0)==51){_=0;o[n>>2]=o[u>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u>>2]=o[R>>2];o[u+4>>2]=o[R+4>>2];o[u+8>>2]=o[R+8>>2];o[u+12>>2]=o[R+12>>2];o[u+16>>2]=o[R+16>>2];o[u+20>>2]=o[R+20>>2];o[u+24>>2]=o[R+24>>2];o[R>>2]=o[n>>2];o[R+4>>2]=o[n+4>>2];o[R+8>>2]=o[n+8>>2];o[R+12>>2]=o[n+12>>2];o[R+16>>2]=o[n+16>>2];o[R+20>>2]=o[n+20>>2];o[R+24>>2]=o[n+24>>2];D=R;k=O+1|0;break}T=u+28|0;if(bm[o[r>>2]&31](u,a)|0)B=T;else{if((T|0)==(a|0)){_=69;break e}else{N=u;L=T}while(1){if(bm[o[r>>2]&31](u,L)|0){G=N;U=L;break}T=L+28|0;if((T|0)==(a|0)){_=69;break e}else{c=L;L=T;N=c}}o[n>>2]=o[U>>2];o[n+4>>2]=o[U+4>>2];o[n+8>>2]=o[U+8>>2];o[n+12>>2]=o[U+12>>2];o[n+16>>2]=o[U+16>>2];o[n+20>>2]=o[U+20>>2];o[n+24>>2]=o[U+24>>2];o[U>>2]=o[a>>2];o[U+4>>2]=o[a+4>>2];o[U+8>>2]=o[a+8>>2];o[U+12>>2]=o[a+12>>2];o[U+16>>2]=o[a+16>>2];o[U+20>>2]=o[a+20>>2];o[U+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];B=G+56|0}if((B|0)==(a|0)){_=69;break e}else{z=B;j=a}while(1){c=z;while(1){T=c+28|0;if(bm[o[r>>2]&31](u,c)|0){J=T;X=c;break}else c=T}c=j;while(1){T=c+-28|0;if(bm[o[r>>2]&31](u,T)|0)c=T;else{H=T;break}}if(X>>>0>=H>>>0){u=X;continue t}o[n>>2]=o[X>>2];o[n+4>>2]=o[X+4>>2];o[n+8>>2]=o[X+8>>2];o[n+12>>2]=o[X+12>>2];o[n+16>>2]=o[X+16>>2];o[n+20>>2]=o[X+20>>2];o[n+24>>2]=o[X+24>>2];o[X>>2]=o[H>>2];o[X+4>>2]=o[H+4>>2];o[X+8>>2]=o[H+8>>2];o[X+12>>2]=o[H+12>>2];o[X+16>>2]=o[H+16>>2];o[X+20>>2]=o[H+20>>2];o[X+24>>2]=o[H+24>>2];o[H>>2]=o[n>>2];o[H+4>>2]=o[n+4>>2];o[H+8>>2]=o[n+8>>2];o[H+12>>2]=o[n+12>>2];o[H+16>>2]=o[n+16>>2];o[H+20>>2]=o[n+20>>2];o[H+24>>2]=o[n+24>>2];z=J;j=H}}}while(0);c=u+28|0;r:do{if(c>>>0<D>>>0){T=c;I=D;C=P;F=k;while(1){M=T;while(1){W=M+28|0;if(bm[o[r>>2]&31](M,C)|0)M=W;else{V=W;Y=M;break}}M=I;while(1){W=M+-28|0;if(bm[o[r>>2]&31](W,C)|0){q=W;break}else M=W}if(Y>>>0>q>>>0){K=Y;Z=C;Q=F;break r}o[n>>2]=o[Y>>2];o[n+4>>2]=o[Y+4>>2];o[n+8>>2]=o[Y+8>>2];o[n+12>>2]=o[Y+12>>2];o[n+16>>2]=o[Y+16>>2];o[n+20>>2]=o[Y+20>>2];o[n+24>>2]=o[Y+24>>2];o[Y>>2]=o[q>>2];o[Y+4>>2]=o[q+4>>2];o[Y+8>>2]=o[q+8>>2];o[Y+12>>2]=o[q+12>>2];o[Y+16>>2]=o[q+16>>2];o[Y+20>>2]=o[q+20>>2];o[Y+24>>2]=o[q+24>>2];o[q>>2]=o[n>>2];o[q+4>>2]=o[n+4>>2];o[q+8>>2]=o[n+8>>2];o[q+12>>2]=o[n+12>>2];o[q+16>>2]=o[n+16>>2];o[q+20>>2]=o[n+20>>2];o[q+24>>2]=o[n+24>>2];T=V;I=q;C=(C|0)==(Y|0)?q:C;F=F+1|0}}else{K=c;Z=P;Q=k}}while(0);if((K|0)!=(Z|0)?bm[o[r>>2]&31](Z,K)|0:0){o[n>>2]=o[K>>2];o[n+4>>2]=o[K+4>>2];o[n+8>>2]=o[K+8>>2];o[n+12>>2]=o[K+12>>2];o[n+16>>2]=o[K+16>>2];o[n+20>>2]=o[K+20>>2];o[n+24>>2]=o[K+24>>2];o[K>>2]=o[Z>>2];o[K+4>>2]=o[Z+4>>2];o[K+8>>2]=o[Z+8>>2];o[K+12>>2]=o[Z+12>>2];o[K+16>>2]=o[Z+16>>2];o[K+20>>2]=o[Z+20>>2];o[K+24>>2]=o[Z+24>>2];o[Z>>2]=o[n>>2];o[Z+4>>2]=o[n+4>>2];o[Z+8>>2]=o[n+8>>2];o[Z+12>>2]=o[n+12>>2];o[Z+16>>2]=o[n+16>>2];o[Z+20>>2]=o[n+20>>2];o[Z+24>>2]=o[n+24>>2];$=Q+1|0}else $=Q;if(!$){ee=Ht(u,K,r)|0;P=K+28|0;if(Ht(P,e,r)|0){_=64;break}if(ee){u=P;continue}}P=K;if((P-l|0)>=(t-P|0)){te=u;re=K;_=68;break}Dt(u,K,r);u=K+28|0}if((_|0)==64){_=0;if(ee){_=69;break}else{s=u;e=K;continue}}else if((_|0)==68){_=0;Dt(re+28|0,e,r);s=te;e=re;continue}}if((_|0)==4){if(!(bm[o[r>>2]&31](d,f)|0)){h=i;return}o[n>>2]=o[f>>2];o[n+4>>2]=o[f+4>>2];o[n+8>>2]=o[f+8>>2];o[n+12>>2]=o[f+12>>2];o[n+16>>2]=o[f+16>>2];o[n+20>>2]=o[f+20>>2];o[n+24>>2]=o[f+24>>2];o[f>>2]=o[p>>2];o[f+4>>2]=o[p+4>>2];o[f+8>>2]=o[p+8>>2];o[f+12>>2]=o[p+12>>2];o[f+16>>2]=o[p+16>>2];o[f+20>>2]=o[p+20>>2];o[f+24>>2]=o[p+24>>2];o[p>>2]=o[n>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];h=i;return}else if((_|0)==6){p=m+28|0;f=bm[o[r>>2]&31](p,m)|0;d=bm[o[r>>2]&31](b,p)|0;if(!f){if(!d){h=i;return}o[n>>2]=o[p>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];o[n+20>>2]=o[p+20>>2];o[n+24>>2]=o[p+24>>2];o[p>>2]=o[g>>2];o[p+4>>2]=o[g+4>>2];o[p+8>>2]=o[g+8>>2];o[p+12>>2]=o[g+12>>2];o[p+16>>2]=o[g+16>>2];o[p+20>>2]=o[g+20>>2];o[p+24>>2]=o[g+24>>2];o[g>>2]=o[n>>2];o[g+4>>2]=o[n+4>>2];o[g+8>>2]=o[n+8>>2];o[g+12>>2]=o[n+12>>2];o[g+16>>2]=o[n+16>>2];o[g+20>>2]=o[n+20>>2];o[g+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](p,m)|0)){h=i;return}o[n>>2]=o[m>>2];o[n+4>>2]=o[m+4>>2];o[n+8>>2]=o[m+8>>2];o[n+12>>2]=o[m+12>>2];o[n+16>>2]=o[m+16>>2];o[n+20>>2]=o[m+20>>2];o[n+24>>2]=o[m+24>>2];o[m>>2]=o[p>>2];o[m+4>>2]=o[p+4>>2];o[m+8>>2]=o[p+8>>2];o[m+12>>2]=o[p+12>>2];o[m+16>>2]=o[p+16>>2];o[m+20>>2]=o[p+20>>2];o[m+24>>2]=o[p+24>>2];o[p>>2]=o[n>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];h=i;return}if(d){o[n>>2]=o[m>>2];o[n+4>>2]=o[m+4>>2];o[n+8>>2]=o[m+8>>2];o[n+12>>2]=o[m+12>>2];o[n+16>>2]=o[m+16>>2];o[n+20>>2]=o[m+20>>2];o[n+24>>2]=o[m+24>>2];o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];o[m+16>>2]=o[g+16>>2];o[m+20>>2]=o[g+20>>2];o[m+24>>2]=o[g+24>>2];o[g>>2]=o[n>>2];o[g+4>>2]=o[n+4>>2];o[g+8>>2]=o[n+8>>2];o[g+12>>2]=o[n+12>>2];o[g+16>>2]=o[n+16>>2];o[g+20>>2]=o[n+20>>2];o[g+24>>2]=o[n+24>>2];h=i;return}o[n>>2]=o[m>>2];o[n+4>>2]=o[m+4>>2];o[n+8>>2]=o[m+8>>2];o[n+12>>2]=o[m+12>>2];o[n+16>>2]=o[m+16>>2];o[n+20>>2]=o[m+20>>2];o[n+24>>2]=o[m+24>>2];o[m>>2]=o[p>>2];o[m+4>>2]=o[p+4>>2];o[m+8>>2]=o[p+8>>2];o[m+12>>2]=o[p+12>>2];o[m+16>>2]=o[p+16>>2];o[m+20>>2]=o[p+20>>2];o[m+24>>2]=o[p+24>>2];o[p>>2]=o[n>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](b,p)|0)){h=i;return}o[n>>2]=o[p>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];o[n+20>>2]=o[p+20>>2];o[n+24>>2]=o[p+24>>2];o[p>>2]=o[g>>2];o[p+4>>2]=o[g+4>>2];o[p+8>>2]=o[g+8>>2];o[p+12>>2]=o[g+12>>2];o[p+16>>2]=o[g+16>>2];o[p+20>>2]=o[g+20>>2];o[p+24>>2]=o[g+24>>2];o[g>>2]=o[n>>2];o[g+4>>2]=o[n+4>>2];o[g+8>>2]=o[n+8>>2];o[g+12>>2]=o[n+12>>2];o[g+16>>2]=o[n+16>>2];o[g+20>>2]=o[n+20>>2];o[g+24>>2]=o[n+24>>2];h=i;return}else if((_|0)==14){Jt(y,y+28|0,y+56|0,v,r)|0;h=i;return}else if((_|0)==15){v=x+28|0;y=x+56|0;g=x+84|0;Jt(x,v,y,g,r)|0;if(!(bm[o[r>>2]&31](w,g)|0)){h=i;return}o[n>>2]=o[g>>2];o[n+4>>2]=o[g+4>>2];o[n+8>>2]=o[g+8>>2];o[n+12>>2]=o[g+12>>2];o[n+16>>2]=o[g+16>>2];o[n+20>>2]=o[g+20>>2];o[n+24>>2]=o[g+24>>2];o[g>>2]=o[S>>2];o[g+4>>2]=o[S+4>>2];o[g+8>>2]=o[S+8>>2];o[g+12>>2]=o[S+12>>2];o[g+16>>2]=o[S+16>>2];o[g+20>>2]=o[S+20>>2];o[g+24>>2]=o[S+24>>2];o[S>>2]=o[n>>2];o[S+4>>2]=o[n+4>>2];o[S+8>>2]=o[n+8>>2];o[S+12>>2]=o[n+12>>2];o[S+16>>2]=o[n+16>>2];o[S+20>>2]=o[n+20>>2];o[S+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](g,y)|0)){h=i;return}o[n>>2]=o[y>>2];o[n+4>>2]=o[y+4>>2];o[n+8>>2]=o[y+8>>2];o[n+12>>2]=o[y+12>>2];o[n+16>>2]=o[y+16>>2];o[n+20>>2]=o[y+20>>2];o[n+24>>2]=o[y+24>>2];o[y>>2]=o[g>>2];o[y+4>>2]=o[g+4>>2];o[y+8>>2]=o[g+8>>2];o[y+12>>2]=o[g+12>>2];o[y+16>>2]=o[g+16>>2];o[y+20>>2]=o[g+20>>2];o[y+24>>2]=o[g+24>>2];o[g>>2]=o[n>>2];o[g+4>>2]=o[n+4>>2];o[g+8>>2]=o[n+8>>2];o[g+12>>2]=o[n+12>>2];o[g+16>>2]=o[n+16>>2];o[g+20>>2]=o[n+20>>2];o[g+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](y,v)|0)){h=i;return}o[n>>2]=o[v>>2];o[n+4>>2]=o[v+4>>2];o[n+8>>2]=o[v+8>>2];o[n+12>>2]=o[v+12>>2];o[n+16>>2]=o[v+16>>2];o[n+20>>2]=o[v+20>>2];o[n+24>>2]=o[v+24>>2];o[v>>2]=o[y>>2];o[v+4>>2]=o[y+4>>2];o[v+8>>2]=o[y+8>>2];o[v+12>>2]=o[y+12>>2];o[v+16>>2]=o[y+16>>2];o[v+20>>2]=o[y+20>>2];o[v+24>>2]=o[y+24>>2];o[y>>2]=o[n>>2];o[y+4>>2]=o[n+4>>2];o[y+8>>2]=o[n+8>>2];o[y+12>>2]=o[n+12>>2];o[y+16>>2]=o[n+16>>2];o[y+20>>2]=o[n+20>>2];o[y+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](v,x)|0)){h=i;return}o[n>>2]=o[x>>2];o[n+4>>2]=o[x+4>>2];o[n+8>>2]=o[x+8>>2];o[n+12>>2]=o[x+12>>2];o[n+16>>2]=o[x+16>>2];o[n+20>>2]=o[x+20>>2];o[n+24>>2]=o[x+24>>2];o[x>>2]=o[v>>2];o[x+4>>2]=o[v+4>>2];o[x+8>>2]=o[v+8>>2];o[x+12>>2]=o[v+12>>2];o[x+16>>2]=o[v+16>>2];o[x+20>>2]=o[v+20>>2];o[x+24>>2]=o[v+24>>2];o[v>>2]=o[n>>2];o[v+4>>2]=o[n+4>>2];o[v+8>>2]=o[n+8>>2];o[v+12>>2]=o[n+12>>2];o[v+16>>2]=o[n+16>>2];o[v+20>>2]=o[n+20>>2];o[v+24>>2]=o[n+24>>2];h=i;return}else if((_|0)==21){Xt(E,A,r);h=i;return}else if((_|0)==69){h=i;return}}function kt(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0;r=h;h=h+32|0;i=r+16|0;n=r+8|0;s=r;a=o[t>>2]|0;u=e+4|0;c=e+8|0;if((a|0)==(o[u>>2]|0)){f=o[c>>2]|0;o[c>>2]=f+1;if((f|0)>3){f=o[e+12>>2]|0;o[f>>2]=(o[f>>2]|0)+1;d=1;h=r;return d|0}}else{o[u>>2]=a;o[c>>2]=1}c=o[e>>2]|0;p=+l[c+32>>2]*(1-+l[t+12>>2]);u=o[c+96>>2]|0;_=+l[t+20>>2]*p+ +l[u+(a<<3)+4>>2];l[i>>2]=+l[u+(a<<3)>>2]+ +l[t+16>>2]*p;l[i+4>>2]=_;a=t+8|0;t=o[a>>2]|0;u=o[t+12>>2]|0;if(hm[o[(o[u>>2]|0)+16>>2]&15](u,(o[t+8>>2]|0)+12|0,i)|0){d=0;h=r;return d|0}t=o[(o[a>>2]|0)+12>>2]|0;u=om[o[(o[t>>2]|0)+12>>2]&7](t)|0;e:do{if((u|0)>0){t=0;while(1){c=o[a>>2]|0;f=o[c+12>>2]|0;mm[o[(o[f>>2]|0)+20>>2]&7](f,(o[c+8>>2]|0)+12|0,i,n,s,t);t=t+1|0;if(+l[n>>2]<.004999999888241291){d=0;break}if((t|0)>=(u|0))break e}h=r;return d|0}}while(0);u=o[e+12>>2]|0;o[u>>2]=(o[u>>2]|0)+1;d=1;h=r;return d|0}function Rt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0;i=e;e=t;e:while(1){t=e;n=e+-4|0;s=i;t:while(1){a=s;u=t-a|0;l=u>>2;switch(l|0){case 2:{c=s;h=n;f=4;break e;break}case 3:{d=s;p=n;f=6;break e;break}case 4:{_=s;m=n;f=14;break e;break}case 5:{b=s;g=n;f=15;break e;break}case 1:case 0:{f=75;break e;break}default:{}}if((u|0)<124){y=s;v=e;f=17;break e}x=(l|0)/2|0;w=s+(x<<2)|0;do{if((u|0)<=3996){S=o[r>>2]|0;E=o[w>>2]|0;A=o[s>>2]|0;T=o[S+(E<<2)>>2]|0;P=S+(A<<2)|0;C=o[P>>2]|0;M=(T|0)<1;F=o[n>>2]|0;I=o[S+(F<<2)>>2]|0;O=(I|0)<1;D=M^O?O:(I|0)>(T|0);if(!(M^(C|0)<1?M:(T|0)>(C|0))){if(!D){k=S;R=0;break}o[w>>2]=F;o[n>>2]=E;C=o[w>>2]|0;T=o[s>>2]|0;M=o[S+(C<<2)>>2]|0;I=o[S+(T<<2)>>2]|0;O=(M|0)<1;if(!(O^(I|0)<1?O:(M|0)>(I|0))){k=S;R=1;break}o[s>>2]=C;o[w>>2]=T;k=S;R=2;break}if(D){o[s>>2]=F;o[n>>2]=A;k=S;R=1;break}o[s>>2]=E;o[w>>2]=A;E=o[n>>2]|0;F=o[S+(E<<2)>>2]|0;D=o[P>>2]|0;P=(F|0)<1;if(P^(D|0)<1?P:(F|0)>(D|0)){o[w>>2]=E;o[n>>2]=A;k=S;R=2}else{k=S;R=1}}else{S=(l|0)/4|0;A=Nt(s,s+(S<<2)|0,w,s+(S+x<<2)|0,n,r)|0;k=o[r>>2]|0;R=A}}while(0);x=o[s>>2]|0;l=o[k+(x<<2)>>2]|0;u=o[k+(o[w>>2]<<2)>>2]|0;A=(l|0)<1;S=(u|0)<1;do{if(A^S?A:(l|0)>(u|0)){B=n;N=R}else{E=n;while(1){D=E+-4|0;if((s|0)==(D|0))break;F=o[D>>2]|0;P=o[k+(F<<2)>>2]|0;T=(P|0)<1;if(T^S?T:(P|0)>(u|0)){L=F;G=D;f=57;break}else E=D}if((f|0)==57){f=0;o[s>>2]=L;o[G>>2]=x;B=G;N=R+1|0;break}E=s+4|0;D=o[n>>2]|0;F=o[k+(D<<2)>>2]|0;if(A^(F|0)<1?A:(l|0)>(F|0))U=E;else{if((E|0)==(n|0)){f=75;break e}else{z=s;j=E}while(1){E=o[j>>2]|0;F=o[k+(E<<2)>>2]|0;if(A^(F|0)<1?A:(l|0)>(F|0)){J=z;X=E;H=j;break}E=j+4|0;if((E|0)==(n|0)){f=75;break e}else{F=j;j=E;z=F}}o[H>>2]=D;o[n>>2]=X;U=J+8|0}if((U|0)==(n|0)){f=75;break e}else{W=U;V=n}while(1){F=o[k+(o[s>>2]<<2)>>2]|0;E=(F|0)<1;P=W;while(1){T=o[P>>2]|0;C=o[k+(T<<2)>>2]|0;I=P+4|0;if(E^(C|0)<1?E:(F|0)>(C|0)){Y=T;q=I;K=P;break}else P=I}P=V;while(1){I=P+-4|0;T=o[I>>2]|0;C=o[k+(T<<2)>>2]|0;if(E^(C|0)<1?E:(F|0)>(C|0))P=I;else{Z=I;Q=T;break}}if(K>>>0>=Z>>>0){s=K;continue t}o[K>>2]=Q;o[Z>>2]=Y;W=q;V=Z}}}while(0);l=s+4|0;r:do{if(l>>>0<B>>>0){A=l;x=B;u=w;S=N;while(1){D=o[k+(o[u>>2]<<2)>>2]|0;P=(D|0)<1;F=A;while(1){E=o[F>>2]|0;T=o[k+(E<<2)>>2]|0;I=(T|0)<1;C=F+4|0;if(I^P?I:(T|0)>(D|0))F=C;else{$=E;ee=C;te=F;break}}F=x;while(1){C=F+-4|0;E=o[C>>2]|0;T=o[k+(E<<2)>>2]|0;I=(T|0)<1;if(I^P?I:(T|0)>(D|0)){re=C;ie=E;break}else F=C}if(te>>>0>re>>>0){ne=te;oe=u;se=S;break r}o[te>>2]=ie;o[re>>2]=$;A=ee;x=re;u=(u|0)==(te|0)?re:u;S=S+1|0}}else{ne=l;oe=w;se=N}}while(0);if((ne|0)!=(oe|0)?(w=o[oe>>2]|0,l=o[ne>>2]|0,S=o[k+(w<<2)>>2]|0,u=o[k+(l<<2)>>2]|0,x=(S|0)<1,x^(u|0)<1?x:(S|0)>(u|0)):0){o[ne>>2]=w;o[oe>>2]=l;ae=se+1|0}else ae=se;if(!ae){ue=Lt(s,ne,r)|0;l=ne+4|0;if(Lt(l,e,r)|0){f=70;break}if(ue){s=l;continue}}l=ne;if((l-a|0)>=(t-l|0)){le=s;ce=ne;f=74;break}Rt(s,ne,r);s=ne+4|0}if((f|0)==70){f=0;if(ue){f=75;break}else{i=s;e=ne;continue}}else if((f|0)==74){f=0;Rt(ce+4|0,e,r);i=le;e=ce;continue}}if((f|0)==4){ce=o[h>>2]|0;e=o[c>>2]|0;le=o[r>>2]|0;i=o[le+(ce<<2)>>2]|0;ne=o[le+(e<<2)>>2]|0;le=(i|0)<1;if(!(le^(ne|0)<1?le:(i|0)>(ne|0)))return;o[c>>2]=ce;o[h>>2]=e;return}else if((f|0)==6){e=d+4|0;h=o[r>>2]|0;ce=o[e>>2]|0;c=o[d>>2]|0;ne=o[h+(ce<<2)>>2]|0;i=h+(c<<2)|0;le=o[i>>2]|0;ue=(ne|0)<1;ae=o[p>>2]|0;se=o[h+(ae<<2)>>2]|0;oe=(se|0)<1;k=ue^oe?oe:(se|0)>(ne|0);if(!(ue^(le|0)<1?ue:(ne|0)>(le|0))){if(!k)return;o[e>>2]=ae;o[p>>2]=ce;le=o[e>>2]|0;ne=o[d>>2]|0;ue=o[h+(le<<2)>>2]|0;se=o[h+(ne<<2)>>2]|0;oe=(ue|0)<1;if(!(oe^(se|0)<1?oe:(ue|0)>(se|0)))return;o[d>>2]=le;o[e>>2]=ne;return}if(k){o[d>>2]=ae;o[p>>2]=c;return}o[d>>2]=ce;o[e>>2]=c;ce=o[p>>2]|0;d=o[h+(ce<<2)>>2]|0;h=o[i>>2]|0;i=(d|0)<1;if(!(i^(h|0)<1?i:(d|0)>(h|0)))return;o[e>>2]=ce;o[p>>2]=c;return}else if((f|0)==14){Bt(_,_+4|0,_+8|0,m,o[r>>2]|0)|0;return}else if((f|0)==15){Nt(b,b+4|0,b+8|0,b+12|0,g,r)|0;return}else if((f|0)==17){g=o[r>>2]|0;r=y+8|0;b=y+4|0;m=o[b>>2]|0;_=o[y>>2]|0;c=o[g+(m<<2)>>2]|0;p=g+(_<<2)|0;ce=o[p>>2]|0;e=(c|0)<1;h=o[r>>2]|0;d=g+(h<<2)|0;i=o[d>>2]|0;ae=(i|0)<1;k=e^ae?ae:(i|0)>(c|0);do{if(e^(ce|0)<1?e:(c|0)>(ce|0)){if(k){o[y>>2]=h;o[r>>2]=_;he=_;break}o[y>>2]=m;o[b>>2]=_;i=o[d>>2]|0;ae=o[p>>2]|0;ne=(i|0)<1;if(ne^(ae|0)<1?ne:(i|0)>(ae|0)){o[b>>2]=h;o[r>>2]=_;he=_}else he=h}else if(k){o[b>>2]=h;o[r>>2]=m;ae=o[d>>2]|0;i=o[p>>2]|0;ne=(ae|0)<1;if(ne^(i|0)<1?ne:(ae|0)>(i|0)){o[y>>2]=h;o[b>>2]=_;he=m}else he=m}else he=h}while(0);h=y+12|0;if((h|0)==(v|0))return;else{fe=he;de=h;pe=r}while(1){r=o[de>>2]|0;h=g+(r<<2)|0;he=o[h>>2]|0;m=o[g+(fe<<2)>>2]|0;_=(he|0)<1;if(_^(m|0)<1?_:(he|0)>(m|0)){m=fe;he=de;_=pe;while(1){o[he>>2]=m;if((_|0)==(y|0)){_e=y;break}b=_+-4|0;m=o[b>>2]|0;p=o[h>>2]|0;d=o[g+(m<<2)>>2]|0;k=(p|0)<1;if(!(k^(d|0)<1?k:(p|0)>(d|0))){_e=_;break}else{d=_;_=b;he=d}}o[_e>>2]=r}he=de+4|0;if((he|0)==(v|0))break;_=de;fe=o[de>>2]|0;de=he;pe=_}return}else if((f|0)==75)return}function Bt(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0;s=o[t>>2]|0;a=o[e>>2]|0;u=o[n+(s<<2)>>2]|0;l=n+(a<<2)|0;c=o[l>>2]|0;h=(u|0)<1;f=o[r>>2]|0;d=o[n+(f<<2)>>2]|0;p=(d|0)<1;_=h^p?p:(d|0)>(u|0);do{if(h^(c|0)<1?h:(u|0)>(c|0)){if(_){o[e>>2]=f;o[r>>2]=a;m=1;b=a;break}o[e>>2]=s;o[t>>2]=a;d=o[r>>2]|0;p=o[n+(d<<2)>>2]|0;g=o[l>>2]|0;y=(p|0)<1;if(y^(g|0)<1?y:(p|0)>(g|0)){o[t>>2]=d;o[r>>2]=a;m=2;b=a}else{m=1;b=d}}else if(_){o[t>>2]=f;o[r>>2]=s;d=o[t>>2]|0;g=o[e>>2]|0;p=o[n+(d<<2)>>2]|0;y=o[n+(g<<2)>>2]|0;v=(p|0)<1;if(v^(y|0)<1?v:(p|0)>(y|0)){o[e>>2]=d;o[t>>2]=g;m=2;b=o[r>>2]|0}else{m=1;b=s}}else{m=0;b=f}}while(0);f=o[i>>2]|0;s=o[n+(f<<2)>>2]|0;_=o[n+(b<<2)>>2]|0;a=(s|0)<1;if(!(a^(_|0)<1?a:(s|0)>(_|0))){x=m;return x|0}o[r>>2]=f;o[i>>2]=b;b=o[r>>2]|0;i=o[t>>2]|0;f=o[n+(b<<2)>>2]|0;_=o[n+(i<<2)>>2]|0;s=(f|0)<1;if(!(s^(_|0)<1?s:(f|0)>(_|0))){x=m+1|0;return x|0}o[t>>2]=b;o[r>>2]=i;i=o[t>>2]|0;r=o[e>>2]|0;b=o[n+(i<<2)>>2]|0;_=o[n+(r<<2)>>2]|0;n=(b|0)<1;if(!(n^(_|0)<1?n:(b|0)>(_|0))){x=m+2|0;return x|0}o[e>>2]=i;o[t>>2]=r;x=m+3|0;return x|0}function Nt(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0,h=0,f=0,d=0;a=Bt(e,t,r,i,o[s>>2]|0)|0;u=o[n>>2]|0;l=o[i>>2]|0;c=o[s>>2]|0;s=o[c+(u<<2)>>2]|0;h=o[c+(l<<2)>>2]|0;f=(s|0)<1;if(!(f^(h|0)<1?f:(s|0)>(h|0))){d=a;return d|0}o[i>>2]=u;o[n>>2]=l;l=o[i>>2]|0;n=o[r>>2]|0;u=o[c+(l<<2)>>2]|0;h=o[c+(n<<2)>>2]|0;s=(u|0)<1;if(!(s^(h|0)<1?s:(u|0)>(h|0))){d=a+1|0;return d|0}o[r>>2]=l;o[i>>2]=n;n=o[r>>2]|0;i=o[t>>2]|0;l=o[c+(n<<2)>>2]|0;h=o[c+(i<<2)>>2]|0;u=(l|0)<1;if(!(u^(h|0)<1?u:(l|0)>(h|0))){d=a+2|0;return d|0}o[t>>2]=n;o[r>>2]=i;i=o[t>>2]|0;r=o[e>>2]|0;n=o[c+(i<<2)>>2]|0;h=o[c+(r<<2)>>2]|0;c=(n|0)<1;if(!(c^(h|0)<1?c:(n|0)>(h|0))){d=a+3|0;return d|0}o[e>>2]=i;o[t>>2]=r;d=a+4|0;return d|0}function Lt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0;switch(t-e>>2|0){case 2:{i=t+-4|0;n=o[i>>2]|0;s=o[e>>2]|0;a=o[r>>2]|0;u=o[a+(n<<2)>>2]|0;l=o[a+(s<<2)>>2]|0;a=(u|0)<1;if(!(a^(l|0)<1?a:(u|0)>(l|0))){c=1;return c|0}o[e>>2]=n;o[i>>2]=s;c=1;return c|0}case 3:{s=e+4|0;i=t+-4|0;n=o[r>>2]|0;l=o[s>>2]|0;u=o[e>>2]|0;a=o[n+(l<<2)>>2]|0;h=n+(u<<2)|0;f=o[h>>2]|0;d=(a|0)<1;p=o[i>>2]|0;_=o[n+(p<<2)>>2]|0;m=(_|0)<1;b=d^m?m:(_|0)>(a|0);if(!(d^(f|0)<1?d:(a|0)>(f|0))){if(!b){c=1;return c|0}o[s>>2]=p;o[i>>2]=l;f=o[s>>2]|0;a=o[e>>2]|0;d=o[n+(f<<2)>>2]|0;_=o[n+(a<<2)>>2]|0;m=(d|0)<1;if(!(m^(_|0)<1?m:(d|0)>(_|0))){c=1;return c|0}o[e>>2]=f;o[s>>2]=a;c=1;return c|0}if(b){o[e>>2]=p;o[i>>2]=u;c=1;return c|0}o[e>>2]=l;o[s>>2]=u;l=o[i>>2]|0;p=o[n+(l<<2)>>2]|0;n=o[h>>2]|0;h=(p|0)<1;if(!(h^(n|0)<1?h:(p|0)>(n|0))){c=1;return c|0}o[s>>2]=l;o[i>>2]=u;c=1;return c|0}case 4:{Bt(e,e+4|0,e+8|0,t+-4|0,o[r>>2]|0)|0;c=1;return c|0}case 5:{Nt(e,e+4|0,e+8|0,e+12|0,t+-4|0,r)|0;c=1;return c|0}case 1:case 0:{c=1;return c|0}default:{u=e+8|0;i=e+4|0;l=o[r>>2]|0;r=o[i>>2]|0;s=o[e>>2]|0;n=o[l+(r<<2)>>2]|0;p=l+(s<<2)|0;h=o[p>>2]|0;b=(n|0)<1;a=o[u>>2]|0;f=l+(a<<2)|0;_=o[f>>2]|0;d=(_|0)<1;m=b^d?d:(_|0)>(n|0);do{if(b^(h|0)<1?b:(n|0)>(h|0)){if(m){o[e>>2]=a;o[u>>2]=s;g=s;break}o[e>>2]=r;o[i>>2]=s;_=o[f>>2]|0;d=o[p>>2]|0;y=(_|0)<1;if(y^(d|0)<1?y:(_|0)>(d|0)){o[i>>2]=a;o[u>>2]=s;g=s}else g=a}else if(m){o[i>>2]=a;o[u>>2]=r;d=o[f>>2]|0;_=o[p>>2]|0;y=(d|0)<1;if(y^(_|0)<1?y:(d|0)>(_|0)){o[e>>2]=a;o[i>>2]=s;g=r}else g=r}else g=a}while(0);a=e+12|0;if((a|0)==(t|0)){c=1;return c|0}else{v=g;x=0;w=a;S=u}while(1){u=o[w>>2]|0;a=l+(u<<2)|0;g=o[a>>2]|0;r=o[l+(v<<2)>>2]|0;s=(g|0)<1;if(s^(r|0)<1?s:(g|0)>(r|0)){r=v;g=w;s=S;while(1){o[g>>2]=r;if((s|0)==(e|0)){E=e;break}i=s+-4|0;r=o[i>>2]|0;p=o[a>>2]|0;f=o[l+(r<<2)>>2]|0;m=(p|0)<1;if(!(m^(f|0)<1?m:(p|0)>(f|0))){E=s;break}else{f=s;s=i;g=f}}o[E>>2]=u;g=x+1|0;if((g|0)==8){A=w;break}else T=g}else T=x;g=w+4|0;if((g|0)==(t|0)){c=1;P=30;break}s=w;v=o[w>>2]|0;x=T;w=g;S=s}if((P|0)==30)return c|0;c=(A+4|0)==(t|0);return c|0}}return 0}function Gt(e){e=e|0;op(e);return}function Ut(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;if(i[t+38>>0]|0)return 1;r=o[t+12>>2]|0;n=om[o[(o[r>>2]|0)+12>>2]&7](r)|0;if((n|0)<=0)return 1;r=t+24|0;s=e+4|0;a=0;do{u=o[r>>2]|0;c=o[s>>2]|0;h=+l[c+36>>2];f=(~~(+l[u+(a*28|0)+4>>2]*h+-1+2048)>>>0<<20)+(~~((+l[u+(a*28|0)>>2]*h+-1)*256+524288)>>>0)|0;d=+l[u+(a*28|0)+12>>2]*h+1+2048;p=(+l[u+(a*28|0)+8>>2]*h+1)*256+524288;u=o[c+200>>2]|0;_=o[c+204>>2]|0;c=u;m=_<<3>>3;e:while(1){b=m;while(1){if(!b){g=c;break e}y=(b|0)/2|0;if((o[c+(y<<3)+4>>2]|0)>>>0<f>>>0){v=y;x=b;break}else b=y}c=c+(v+1<<3)|0;m=x+-1-v|0}m=(~~d>>>0<<20)+(~~p>>>0)|0;c=g;b=u+(_<<3)-g>>3;e:while(1){y=b;while(1){if(!y){w=c;break e}S=(y|0)/2|0;if((o[c+(S<<3)+4>>2]|0)>>>0>m>>>0)y=S;else{E=S;A=y;break}}c=c+(E+1<<3)|0;b=A+-1-E|0}b=f&1048575;c=m&1048575;e:do{if(g>>>0<w>>>0){_=g;while(1){u=o[_+4>>2]&1048575;y=_;_=_+8|0;if(u>>>0<b>>>0|u>>>0>c>>>0)if(_>>>0<w>>>0){_=_;continue}else break;u=o[y>>2]|0;if((u|0)<=-1)break e;ym[o[(o[e>>2]|0)+20>>2]&31](e,t,a,u);if(_>>>0>=w>>>0)break}}}while(0);a=a+1|0}while((a|0)!=(n|0));return 1}function zt(e,t){e=e|0;t=t|0;return 0}function jt(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0;s=h;h=h+48|0;a=s+24|0;u=s;c=o[e+36>>2]|0;f=e+4|0;if(((c|0)!=0?(p=o[f>>2]|0,(o[(o[p+88>>2]|0)+(n<<2)>>2]&65536|0)!=0):0)?!(_m[o[(o[c>>2]|0)+12>>2]&7](c,t,p,n)|0):0){h=s;return}p=o[t+8>>2]|0;c=o[f>>2]|0;_=o[c+96>>2]|0;m=o[_+(n<<3)>>2]|0;b=o[_+(n<<3)+4>>2]|0;_=o[c+104>>2]|0;g=+l[_+(n<<3)>>2];y=+l[_+(n<<3)+4>>2];if(!(o[c+24>>2]|0)){v=(o[d>>2]=m,+l[d>>2]);x=v-+l[p+28>>2];w=(o[d>>2]=b,+l[d>>2]);S=w-+l[p+32>>2];E=+l[p+40>>2];A=+l[p+36>>2];T=x*E+S*A;P=E*S-x*A;c=o[t+12>>2]|0;if(!(o[c+4>>2]|0)){x=+l[p+44>>2];S=T-x;C=+l[p+48>>2];M=P-C;F=S*E-M*A;I=E*M+S*A;A=+l[p+24>>2];S=+l[p+20>>2];O=C+(A*I-F*S);D=x+(A*F+S*I);k=A;R=S}else{O=P;D=T;k=+l[p+24>>2];R=+l[p+20>>2]}T=O*k+D*R+ +l[p+16>>2];l[u>>2]=+l[p+12>>2]+(D*k-O*R);l[u+4>>2]=T;B=v;N=w;L=c}else{o[u>>2]=m;o[u+4>>2]=b;w=(o[d>>2]=m,+l[d>>2]);B=w;N=(o[d>>2]=b,+l[d>>2]);L=o[t+12>>2]|0}w=+l[e+8>>2];t=u+8|0;l[t>>2]=B+g*w;b=u+12|0;l[b>>2]=N+y*w;l[u+16>>2]=1;if(!(gm[o[(o[L>>2]|0)+24>>2]&15](L,a,u,p+12|0,r)|0)){h=s;return}w=+l[a+8>>2];v=1-w;r=e+12|0;T=+l[r>>2];R=T*(+l[a>>2]*.004999999888241291+(+l[u>>2]*v+w*+l[t>>2])-B);B=T*(+l[a+4>>2]*.004999999888241291+(v*+l[u+4>>2]+w*+l[b>>2])-N);b=o[(o[f>>2]|0)+104>>2]|0;l[b+(n<<3)>>2]=R;l[b+(n<<3)+4>>2]=B;b=o[f>>2]|0;N=+l[b+32>>2]*.75;w=+l[r>>2]*(N*(+l[b+320>>2]*N));N=(g-R)*w;R=(y-B)*w;if(!(N!=0|R!=0)){h=s;return}if(o[(o[b+88>>2]|0)+(n<<2)>>2]&4){h=s;return}r=b+21|0;f=b+112|0;if(!(i[r>>0]|0)){c_(o[f>>2]|0,0,o[b+44>>2]<<3|0)|0;i[r>>0]=1}r=o[f>>2]|0;f=r+(n<<3)|0;l[f>>2]=N+ +l[f>>2];f=r+(n<<3)+4|0;l[f>>2]=R+ +l[f>>2];h=s;return}function Jt(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,f=0;s=h;h=h+32|0;a=s;u=bm[o[n>>2]&31](t,e)|0;l=bm[o[n>>2]&31](r,t)|0;do{if(u){if(l){o[a>>2]=o[e>>2];o[a+4>>2]=o[e+4>>2];o[a+8>>2]=o[e+8>>2];o[a+12>>2]=o[e+12>>2];o[a+16>>2]=o[e+16>>2];o[a+20>>2]=o[e+20>>2];o[a+24>>2]=o[e+24>>2];o[e>>2]=o[r>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];o[e+16>>2]=o[r+16>>2];o[e+20>>2]=o[r+20>>2];o[e+24>>2]=o[r+24>>2];o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];o[r+8>>2]=o[a+8>>2];o[r+12>>2]=o[a+12>>2];o[r+16>>2]=o[a+16>>2];o[r+20>>2]=o[a+20>>2];o[r+24>>2]=o[a+24>>2];c=1;break}o[a>>2]=o[e>>2];o[a+4>>2]=o[e+4>>2];o[a+8>>2]=o[e+8>>2];o[a+12>>2]=o[e+12>>2];o[a+16>>2]=o[e+16>>2];o[a+20>>2]=o[e+20>>2];o[a+24>>2]=o[e+24>>2];o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t>>2]=o[a>>2];o[t+4>>2]=o[a+4>>2];o[t+8>>2]=o[a+8>>2];o[t+12>>2]=o[a+12>>2];o[t+16>>2]=o[a+16>>2];o[t+20>>2]=o[a+20>>2];o[t+24>>2]=o[a+24>>2];if(bm[o[n>>2]&31](r,t)|0){o[a>>2]=o[t>>2];o[a+4>>2]=o[t+4>>2];o[a+8>>2]=o[t+8>>2];o[a+12>>2]=o[t+12>>2];o[a+16>>2]=o[t+16>>2];o[a+20>>2]=o[t+20>>2];o[a+24>>2]=o[t+24>>2];o[t>>2]=o[r>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];o[t+16>>2]=o[r+16>>2];o[t+20>>2]=o[r+20>>2];o[t+24>>2]=o[r+24>>2];o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];o[r+8>>2]=o[a+8>>2];o[r+12>>2]=o[a+12>>2];o[r+16>>2]=o[a+16>>2];o[r+20>>2]=o[a+20>>2];o[r+24>>2]=o[a+24>>2];c=2}else c=1}else if(l){o[a>>2]=o[t>>2];o[a+4>>2]=o[t+4>>2];o[a+8>>2]=o[t+8>>2];o[a+12>>2]=o[t+12>>2];o[a+16>>2]=o[t+16>>2];o[a+20>>2]=o[t+20>>2];o[a+24>>2]=o[t+24>>2];o[t>>2]=o[r>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];o[t+16>>2]=o[r+16>>2];o[t+20>>2]=o[r+20>>2];o[t+24>>2]=o[r+24>>2];o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];o[r+8>>2]=o[a+8>>2];o[r+12>>2]=o[a+12>>2];o[r+16>>2]=o[a+16>>2];o[r+20>>2]=o[a+20>>2];o[r+24>>2]=o[a+24>>2];if(bm[o[n>>2]&31](t,e)|0){o[a>>2]=o[e>>2];o[a+4>>2]=o[e+4>>2];o[a+8>>2]=o[e+8>>2];o[a+12>>2]=o[e+12>>2];o[a+16>>2]=o[e+16>>2];o[a+20>>2]=o[e+20>>2];o[a+24>>2]=o[e+24>>2];o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t>>2]=o[a>>2];o[t+4>>2]=o[a+4>>2];o[t+8>>2]=o[a+8>>2];o[t+12>>2]=o[a+12>>2];o[t+16>>2]=o[a+16>>2];o[t+20>>2]=o[a+20>>2];o[t+24>>2]=o[a+24>>2];c=2}else c=1}else c=0}while(0);if(!(bm[o[n>>2]&31](i,r)|0)){f=c;h=s;return f|0}o[a>>2]=o[r>>2];o[a+4>>2]=o[r+4>>2];o[a+8>>2]=o[r+8>>2];o[a+12>>2]=o[r+12>>2];o[a+16>>2]=o[r+16>>2];o[a+20>>2]=o[r+20>>2];o[a+24>>2]=o[r+24>>2];o[r>>2]=o[i>>2];o[r+4>>2]=o[i+4>>2];o[r+8>>2]=o[i+8>>2];o[r+12>>2]=o[i+12>>2];o[r+16>>2]=o[i+16>>2];o[r+20>>2]=o[i+20>>2];o[r+24>>2]=o[i+24>>2];o[i>>2]=o[a>>2];o[i+4>>2]=o[a+4>>2];o[i+8>>2]=o[a+8>>2];o[i+12>>2]=o[a+12>>2];o[i+16>>2]=o[a+16>>2];o[i+20>>2]=o[a+20>>2];o[i+24>>2]=o[a+24>>2];if(!(bm[o[n>>2]&31](r,t)|0)){f=c+1|0;h=s;return f|0}o[a>>2]=o[t>>2];o[a+4>>2]=o[t+4>>2];o[a+8>>2]=o[t+8>>2];o[a+12>>2]=o[t+12>>2];o[a+16>>2]=o[t+16>>2];o[a+20>>2]=o[t+20>>2];o[a+24>>2]=o[t+24>>2];o[t>>2]=o[r>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];o[t+16>>2]=o[r+16>>2];o[t+20>>2]=o[r+20>>2];o[t+24>>2]=o[r+24>>2];o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];o[r+8>>2]=o[a+8>>2];o[r+12>>2]=o[a+12>>2];o[r+16>>2]=o[a+16>>2];o[r+20>>2]=o[a+20>>2];o[r+24>>2]=o[a+24>>2];if(!(bm[o[n>>2]&31](t,e)|0)){f=c+2|0;h=s;return f|0}o[a>>2]=o[e>>2];o[a+4>>2]=o[e+4>>2];o[a+8>>2]=o[e+8>>2];o[a+12>>2]=o[e+12>>2];o[a+16>>2]=o[e+16>>2];o[a+20>>2]=o[e+20>>2];o[a+24>>2]=o[e+24>>2];o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t>>2]=o[a>>2];o[t+4>>2]=o[a+4>>2];o[t+8>>2]=o[a+8>>2];o[t+12>>2]=o[a+12>>2];o[t+16>>2]=o[a+16>>2];o[t+20>>2]=o[a+20>>2];o[t+24>>2]=o[a+24>>2];f=c+3|0;h=s;return f|0}function Xt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0;i=h;h=h+64|0;n=i+28|0;s=i;a=e+56|0;u=e+28|0;l=bm[o[r>>2]&31](u,e)|0;c=bm[o[r>>2]&31](a,u)|0;do{if(l){if(c){o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[a>>2];o[e+4>>2]=o[a+4>>2];o[e+8>>2]=o[a+8>>2];o[e+12>>2]=o[a+12>>2];o[e+16>>2]=o[a+16>>2];o[e+20>>2]=o[a+20>>2];o[e+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];break}o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[u>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u>>2]=o[n>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(bm[o[r>>2]&31](a,u)|0){o[n>>2]=o[u>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u>>2]=o[a>>2];o[u+4>>2]=o[a+4>>2];o[u+8>>2]=o[a+8>>2];o[u+12>>2]=o[a+12>>2];o[u+16>>2]=o[a+16>>2];o[u+20>>2]=o[a+20>>2];o[u+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2]}}else if(c?(o[n>>2]=o[u>>2],o[n+4>>2]=o[u+4>>2],o[n+8>>2]=o[u+8>>2],o[n+12>>2]=o[u+12>>2],o[n+16>>2]=o[u+16>>2],o[n+20>>2]=o[u+20>>2],o[n+24>>2]=o[u+24>>2],o[u>>2]=o[a>>2],o[u+4>>2]=o[a+4>>2],o[u+8>>2]=o[a+8>>2],o[u+12>>2]=o[a+12>>2],o[u+16>>2]=o[a+16>>2],o[u+20>>2]=o[a+20>>2],o[u+24>>2]=o[a+24>>2],o[a>>2]=o[n>>2],o[a+4>>2]=o[n+4>>2],o[a+8>>2]=o[n+8>>2],o[a+12>>2]=o[n+12>>2],o[a+16>>2]=o[n+16>>2],o[a+20>>2]=o[n+20>>2],o[a+24>>2]=o[n+24>>2],bm[o[r>>2]&31](u,e)|0):0){o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[u>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u>>2]=o[n>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2]}}while(0);n=e+84|0;if((n|0)==(t|0)){h=i;return}u=n;n=a;while(1){if(bm[o[r>>2]&31](u,n)|0){o[s>>2]=o[u>>2];o[s+4>>2]=o[u+4>>2];o[s+8>>2]=o[u+8>>2];o[s+12>>2]=o[u+12>>2];o[s+16>>2]=o[u+16>>2];o[s+20>>2]=o[u+20>>2];o[s+24>>2]=o[u+24>>2];a=u;c=n;while(1){o[a>>2]=o[c>>2];o[a+4>>2]=o[c+4>>2];o[a+8>>2]=o[c+8>>2];o[a+12>>2]=o[c+12>>2];o[a+16>>2]=o[c+16>>2];o[a+20>>2]=o[c+20>>2];o[a+24>>2]=o[c+24>>2];if((c|0)==(e|0)){f=c;break}l=c+-28|0;if(bm[o[r>>2]&31](s,l)|0){d=c;c=l;a=d}else{f=c;break}}o[f>>2]=o[s>>2];o[f+4>>2]=o[s+4>>2];o[f+8>>2]=o[s+8>>2];o[f+12>>2]=o[s+12>>2];o[f+16>>2]=o[s+16>>2];o[f+20>>2]=o[s+20>>2];o[f+24>>2]=o[s+24>>2]}c=u+28|0;if((c|0)==(t|0))break;else{a=u;u=c;n=a}}h=i;return}function Ht(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;i=h;h=h+64|0;n=i+28|0;s=i;switch((t-e|0)/28|0|0){case 2:{a=t+-28|0;if(!(bm[o[r>>2]&31](a,e)|0)){u=1;h=i;return u|0}o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[a>>2];o[e+4>>2]=o[a+4>>2];o[e+8>>2]=o[a+8>>2];o[e+12>>2]=o[a+12>>2];o[e+16>>2]=o[a+16>>2];o[e+20>>2]=o[a+20>>2];o[e+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];u=1;h=i;return u|0}case 3:{a=e+28|0;l=t+-28|0;c=bm[o[r>>2]&31](a,e)|0;f=bm[o[r>>2]&31](l,a)|0;if(!c){if(!f){u=1;h=i;return u|0}o[n>>2]=o[a>>2];o[n+4>>2]=o[a+4>>2];o[n+8>>2]=o[a+8>>2];o[n+12>>2]=o[a+12>>2];o[n+16>>2]=o[a+16>>2];o[n+20>>2]=o[a+20>>2];o[n+24>>2]=o[a+24>>2];o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[a+16>>2]=o[l+16>>2];o[a+20>>2]=o[l+20>>2];o[a+24>>2]=o[l+24>>2];o[l>>2]=o[n>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](a,e)|0)){u=1;h=i;return u|0}o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[a>>2];o[e+4>>2]=o[a+4>>2];o[e+8>>2]=o[a+8>>2];o[e+12>>2]=o[a+12>>2];o[e+16>>2]=o[a+16>>2];o[e+20>>2]=o[a+20>>2];o[e+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];u=1;h=i;return u|0}if(f){o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[l>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l>>2]=o[n>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];u=1;h=i;return u|0}o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[a>>2];o[e+4>>2]=o[a+4>>2];o[e+8>>2]=o[a+8>>2];o[e+12>>2]=o[a+12>>2];o[e+16>>2]=o[a+16>>2];o[e+20>>2]=o[a+20>>2];o[e+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](l,a)|0)){u=1;h=i;return u|0}o[n>>2]=o[a>>2];o[n+4>>2]=o[a+4>>2];o[n+8>>2]=o[a+8>>2];o[n+12>>2]=o[a+12>>2];o[n+16>>2]=o[a+16>>2];o[n+20>>2]=o[a+20>>2];o[n+24>>2]=o[a+24>>2];o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[a+16>>2]=o[l+16>>2];o[a+20>>2]=o[l+20>>2];o[a+24>>2]=o[l+24>>2];o[l>>2]=o[n>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];u=1;h=i;return u|0}case 4:{Jt(e,e+28|0,e+56|0,t+-28|0,r)|0;u=1;h=i;return u|0}case 5:{l=e+28|0;a=e+56|0;f=e+84|0;c=t+-28|0;Jt(e,l,a,f,r)|0;if(!(bm[o[r>>2]&31](c,f)|0)){u=1;h=i;return u|0}o[n>>2]=o[f>>2];o[n+4>>2]=o[f+4>>2];o[n+8>>2]=o[f+8>>2];o[n+12>>2]=o[f+12>>2];o[n+16>>2]=o[f+16>>2];o[n+20>>2]=o[f+20>>2];o[n+24>>2]=o[f+24>>2];o[f>>2]=o[c>>2];o[f+4>>2]=o[c+4>>2];o[f+8>>2]=o[c+8>>2];o[f+12>>2]=o[c+12>>2];o[f+16>>2]=o[c+16>>2];o[f+20>>2]=o[c+20>>2];o[f+24>>2]=o[c+24>>2];o[c>>2]=o[n>>2];o[c+4>>2]=o[n+4>>2];o[c+8>>2]=o[n+8>>2];o[c+12>>2]=o[n+12>>2];o[c+16>>2]=o[n+16>>2];o[c+20>>2]=o[n+20>>2];o[c+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](f,a)|0)){u=1;h=i;return u|0}o[n>>2]=o[a>>2];o[n+4>>2]=o[a+4>>2];o[n+8>>2]=o[a+8>>2];o[n+12>>2]=o[a+12>>2];o[n+16>>2]=o[a+16>>2];o[n+20>>2]=o[a+20>>2];o[n+24>>2]=o[a+24>>2];o[a>>2]=o[f>>2];o[a+4>>2]=o[f+4>>2];o[a+8>>2]=o[f+8>>2];o[a+12>>2]=o[f+12>>2];o[a+16>>2]=o[f+16>>2];o[a+20>>2]=o[f+20>>2];o[a+24>>2]=o[f+24>>2];o[f>>2]=o[n>>2];o[f+4>>2]=o[n+4>>2];o[f+8>>2]=o[n+8>>2];o[f+12>>2]=o[n+12>>2];o[f+16>>2]=o[n+16>>2];o[f+20>>2]=o[n+20>>2];o[f+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](a,l)|0)){u=1;h=i;return u|0}o[n>>2]=o[l>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l>>2]=o[a>>2];o[l+4>>2]=o[a+4>>2];o[l+8>>2]=o[a+8>>2];o[l+12>>2]=o[a+12>>2];o[l+16>>2]=o[a+16>>2];o[l+20>>2]=o[a+20>>2];o[l+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];if(!(bm[o[r>>2]&31](l,e)|0)){u=1;h=i;return u|0}o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[l>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l>>2]=o[n>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];u=1;h=i;return u|0}case 1:case 0:{u=1;h=i;return u|0}default:{l=e+56|0;a=e+28|0;f=bm[o[r>>2]&31](a,e)|0;c=bm[o[r>>2]&31](l,a)|0;do{if(f){if(c){o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[l>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l>>2]=o[n>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];break}o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[a>>2];o[e+4>>2]=o[a+4>>2];o[e+8>>2]=o[a+8>>2];o[e+12>>2]=o[a+12>>2];o[e+16>>2]=o[a+16>>2];o[e+20>>2]=o[a+20>>2];o[e+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];if(bm[o[r>>2]&31](l,a)|0){o[n>>2]=o[a>>2];o[n+4>>2]=o[a+4>>2];o[n+8>>2]=o[a+8>>2];o[n+12>>2]=o[a+12>>2];o[n+16>>2]=o[a+16>>2];o[n+20>>2]=o[a+20>>2];o[n+24>>2]=o[a+24>>2];o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[a+16>>2]=o[l+16>>2];o[a+20>>2]=o[l+20>>2];o[a+24>>2]=o[l+24>>2];o[l>>2]=o[n>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2]}}else if(c?(o[n>>2]=o[a>>2],o[n+4>>2]=o[a+4>>2],o[n+8>>2]=o[a+8>>2],o[n+12>>2]=o[a+12>>2],o[n+16>>2]=o[a+16>>2],o[n+20>>2]=o[a+20>>2],o[n+24>>2]=o[a+24>>2],o[a>>2]=o[l>>2],o[a+4>>2]=o[l+4>>2],o[a+8>>2]=o[l+8>>2],o[a+12>>2]=o[l+12>>2],o[a+16>>2]=o[l+16>>2],o[a+20>>2]=o[l+20>>2],o[a+24>>2]=o[l+24>>2],o[l>>2]=o[n>>2],o[l+4>>2]=o[n+4>>2],o[l+8>>2]=o[n+8>>2],o[l+12>>2]=o[n+12>>2],o[l+16>>2]=o[n+16>>2],o[l+20>>2]=o[n+20>>2],o[l+24>>2]=o[n+24>>2],bm[o[r>>2]&31](a,e)|0):0){o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e>>2]=o[a>>2];o[e+4>>2]=o[a+4>>2];o[e+8>>2]=o[a+8>>2];o[e+12>>2]=o[a+12>>2];o[e+16>>2]=o[a+16>>2];o[e+20>>2]=o[a+20>>2];o[e+24>>2]=o[a+24>>2];o[a>>2]=o[n>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2]}}while(0);n=e+84|0;if((n|0)==(t|0)){u=1;h=i;return u|0}a=0;c=n;n=l;while(1){if(bm[o[r>>2]&31](c,n)|0){o[s>>2]=o[c>>2];o[s+4>>2]=o[c+4>>2];o[s+8>>2]=o[c+8>>2];o[s+12>>2]=o[c+12>>2];o[s+16>>2]=o[c+16>>2];o[s+20>>2]=o[c+20>>2];o[s+24>>2]=o[c+24>>2];l=c;f=n;while(1){o[l>>2]=o[f>>2];o[l+4>>2]=o[f+4>>2];o[l+8>>2]=o[f+8>>2];o[l+12>>2]=o[f+12>>2];o[l+16>>2]=o[f+16>>2];o[l+20>>2]=o[f+20>>2];o[l+24>>2]=o[f+24>>2];if((f|0)==(e|0)){d=f;break}p=f+-28|0;if(bm[o[r>>2]&31](s,p)|0){_=f;f=p;l=_}else{d=f;break}}o[d>>2]=o[s>>2];o[d+4>>2]=o[s+4>>2];o[d+8>>2]=o[s+8>>2];o[d+12>>2]=o[s+12>>2];o[d+16>>2]=o[s+16>>2];o[d+20>>2]=o[s+20>>2];o[d+24>>2]=o[s+24>>2];f=a+1|0;if((f|0)==8){m=c;break}else b=f}else b=a;f=c+28|0;if((f|0)==(t|0)){u=1;g=35;break}else{l=c;a=b;c=f;n=l}}if((g|0)==35){h=i;return u|0}u=(m+28|0)==(t|0);h=i;return u|0}}return 0}function Wt(e){e=e|0;op(e);return}function Vt(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0;n=h;h=h+32|0;s=n;a=n+16|0;u=n+8|0;c=e+4|0;f=(o[(o[c>>2]|0)+96>>2]|0)+(i<<3)|0;d=o[f+4>>2]|0;p=s;o[p>>2]=o[f>>2];o[p+4>>2]=d;d=o[t+12>>2]|0;p=t+8|0;mm[o[(o[d>>2]|0)+20>>2]&7](d,(o[p>>2]|0)+12|0,s,a,u,r);r=o[c>>2]|0;if(!(+l[a>>2]<+l[r+32>>2])){h=n;return}d=o[e+8>>2]|0;do{if((d|0)!=0?(o[(o[r+88>>2]|0)+(i<<2)>>2]&65536|0)!=0:0)if(_m[o[(o[d>>2]|0)+12>>2]&7](d,t,r,i)|0){_=o[c>>2]|0;break}else{h=n;return}else _=r}while(0);r=o[p>>2]|0;m=+l[r+132>>2];b=+l[r+44>>2];g=+l[r+48>>2];y=m*(b*b+g*g);g=+l[r+140>>2]+y-y;if(!(o[(o[_+88>>2]|0)+(i<<2)>>2]&4)){y=+l[_+36>>2]*1.3333333730697632;v=y*(+l[_+28>>2]*y)}else v=0;p=u+4|0;y=+l[p>>2];b=+l[u>>2];x=(+l[s>>2]-+l[r+60>>2])*y-(+l[s+4>>2]-+l[r+64>>2])*b;w=(m>0?1/m:0)+v+x*((g>0?1/g:0)*x);s=_+232|0;d=_+236|0;e=o[d>>2]|0;f=_+240|0;S=o[f>>2]|0;if((e|0)>=(S|0)?(E=(S|0)==0?256:S<<1,(S|0)<(E|0)):0){S=_+244|0;A=Od(o[S>>2]|0,E*28|0)|0;T=o[s>>2]|0;if(!T)P=s;else{p_(A|0,T|0,(o[d>>2]|0)*28|0)|0;Dd(o[S>>2]|0,o[s>>2]|0,(o[f>>2]|0)*28|0);P=s}o[f>>2]=E;o[P>>2]=A;C=o[d>>2]|0;M=o[c>>2]|0;F=+l[u>>2];I=+l[p>>2]}else{C=e;M=_;F=b;I=y}o[d>>2]=C+1;d=o[s>>2]|0;o[d+(C*28|0)>>2]=i;o[d+(C*28|0)+4>>2]=r;o[d+(C*28|0)+8>>2]=t;l[d+(C*28|0)+12>>2]=1-+l[a>>2]*+l[M+36>>2];l[d+(C*28|0)+16>>2]=-F;l[d+(C*28|0)+20>>2]=-I;l[d+(C*28|0)+24>>2]=w>0?1/w:0;ld(o[c>>2]|0,i);h=n;return}function Yt(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0;a=bm[o[s>>2]&31](t,e)|0;u=bm[o[s>>2]&31](r,t)|0;do{if(a){l=e;c=o[l>>2]|0;h=o[l+4>>2]|0;if(u){l=r;f=o[l+4>>2]|0;d=e;o[d>>2]=o[l>>2];o[d+4>>2]=f;f=r;o[f>>2]=c;o[f+4>>2]=h;p=1;break}f=t;d=o[f+4>>2]|0;l=e;o[l>>2]=o[f>>2];o[l+4>>2]=d;d=t;o[d>>2]=c;o[d+4>>2]=h;if(bm[o[s>>2]&31](r,t)|0){h=t;d=o[h>>2]|0;c=o[h+4>>2]|0;h=r;l=o[h+4>>2]|0;f=t;o[f>>2]=o[h>>2];o[f+4>>2]=l;l=r;o[l>>2]=d;o[l+4>>2]=c;p=2}else p=1}else if(u){c=t;l=o[c>>2]|0;d=o[c+4>>2]|0;c=r;f=o[c+4>>2]|0;h=t;o[h>>2]=o[c>>2];o[h+4>>2]=f;f=r;o[f>>2]=l;o[f+4>>2]=d;if(bm[o[s>>2]&31](t,e)|0){d=e;f=o[d>>2]|0;l=o[d+4>>2]|0;d=t;h=o[d+4>>2]|0;c=e;o[c>>2]=o[d>>2];o[c+4>>2]=h;h=t;o[h>>2]=f;o[h+4>>2]=l;p=2}else p=1}else p=0}while(0);if(bm[o[s>>2]&31](i,r)|0){u=r;a=o[u>>2]|0;l=o[u+4>>2]|0;u=i;h=o[u+4>>2]|0;f=r;o[f>>2]=o[u>>2];o[f+4>>2]=h;h=i;o[h>>2]=a;o[h+4>>2]=l;l=p+1|0;if(bm[o[s>>2]&31](r,t)|0){h=t;a=o[h>>2]|0;f=o[h+4>>2]|0;h=r;u=o[h+4>>2]|0;c=t;o[c>>2]=o[h>>2];o[c+4>>2]=u;u=r;o[u>>2]=a;o[u+4>>2]=f;if(bm[o[s>>2]&31](t,e)|0){f=e;u=o[f>>2]|0;a=o[f+4>>2]|0;f=t;c=o[f+4>>2]|0;h=e;o[h>>2]=o[f>>2];o[h+4>>2]=c;c=t;o[c>>2]=u;o[c+4>>2]=a;_=p+3|0}else _=p+2|0}else _=l}else _=p;if(!(bm[o[s>>2]&31](n,i)|0)){m=_;return m|0}p=i;l=o[p>>2]|0;a=o[p+4>>2]|0;p=n;c=o[p+4>>2]|0;u=i;o[u>>2]=o[p>>2];o[u+4>>2]=c;c=n;o[c>>2]=l;o[c+4>>2]=a;if(!(bm[o[s>>2]&31](i,r)|0)){m=_+1|0;return m|0}a=r;c=o[a>>2]|0;l=o[a+4>>2]|0;a=i;n=o[a+4>>2]|0;u=r;o[u>>2]=o[a>>2];o[u+4>>2]=n;n=i;o[n>>2]=c;o[n+4>>2]=l;if(!(bm[o[s>>2]&31](r,t)|0)){m=_+2|0;return m|0}l=t;n=o[l>>2]|0;c=o[l+4>>2]|0;l=r;i=o[l+4>>2]|0;u=t;o[u>>2]=o[l>>2];o[u+4>>2]=i;i=r;o[i>>2]=n;o[i+4>>2]=c;if(!(bm[o[s>>2]&31](t,e)|0)){m=_+3|0;return m|0}s=e;c=o[s>>2]|0;i=o[s+4>>2]|0;s=t;n=o[s+4>>2]|0;r=e;o[r>>2]=o[s>>2];o[r+4>>2]=n;n=t;o[n>>2]=c;o[n+4>>2]=i;m=_+4|0;return m|0}function qt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;i=h;h=h+16|0;n=i;switch(t-e>>3|0){case 2:{s=t+-8|0;if(!(bm[o[r>>2]&31](s,e)|0)){a=1;h=i;return a|0}u=e;l=o[u>>2]|0;c=o[u+4>>2]|0;u=s;f=o[u+4>>2]|0;d=e;o[d>>2]=o[u>>2];o[d+4>>2]=f;f=s;o[f>>2]=l;o[f+4>>2]=c;a=1;h=i;return a|0}case 3:{c=e+8|0;f=t+-8|0;l=bm[o[r>>2]&31](c,e)|0;s=bm[o[r>>2]&31](f,c)|0;if(!l){if(!s){a=1;h=i;return a|0}l=c;d=o[l>>2]|0;u=o[l+4>>2]|0;l=f;p=o[l+4>>2]|0;_=c;o[_>>2]=o[l>>2];o[_+4>>2]=p;p=f;o[p>>2]=d;o[p+4>>2]=u;if(!(bm[o[r>>2]&31](c,e)|0)){a=1;h=i;return a|0}u=e;p=o[u>>2]|0;d=o[u+4>>2]|0;u=c;_=o[u+4>>2]|0;l=e;o[l>>2]=o[u>>2];o[l+4>>2]=_;_=c;o[_>>2]=p;o[_+4>>2]=d;a=1;h=i;return a|0}d=e;_=o[d>>2]|0;p=o[d+4>>2]|0;if(s){s=f;d=o[s+4>>2]|0;l=e;o[l>>2]=o[s>>2];o[l+4>>2]=d;d=f;o[d>>2]=_;o[d+4>>2]=p;a=1;h=i;return a|0}d=c;l=o[d+4>>2]|0;s=e;o[s>>2]=o[d>>2];o[s+4>>2]=l;l=c;o[l>>2]=_;o[l+4>>2]=p;if(!(bm[o[r>>2]&31](f,c)|0)){a=1;h=i;return a|0}p=c;l=o[p>>2]|0;_=o[p+4>>2]|0;p=f;s=o[p+4>>2]|0;d=c;o[d>>2]=o[p>>2];o[d+4>>2]=s;s=f;o[s>>2]=l;o[s+4>>2]=_;a=1;h=i;return a|0}case 4:{_=e+8|0;s=e+16|0;l=t+-8|0;f=bm[o[r>>2]&31](_,e)|0;d=bm[o[r>>2]&31](s,_)|0;do{if(f){p=e;c=o[p>>2]|0;u=o[p+4>>2]|0;if(d){p=s;m=o[p+4>>2]|0;b=e;o[b>>2]=o[p>>2];o[b+4>>2]=m;m=s;o[m>>2]=c;o[m+4>>2]=u;break}m=_;b=o[m+4>>2]|0;p=e;o[p>>2]=o[m>>2];o[p+4>>2]=b;b=_;o[b>>2]=c;o[b+4>>2]=u;if(bm[o[r>>2]&31](s,_)|0){u=_;b=o[u>>2]|0;c=o[u+4>>2]|0;u=s;p=o[u+4>>2]|0;m=_;o[m>>2]=o[u>>2];o[m+4>>2]=p;p=s;o[p>>2]=b;o[p+4>>2]=c}}else if(d?(c=_,p=o[c>>2]|0,b=o[c+4>>2]|0,c=s,m=o[c+4>>2]|0,u=_,o[u>>2]=o[c>>2],o[u+4>>2]=m,m=s,o[m>>2]=p,o[m+4>>2]=b,bm[o[r>>2]&31](_,e)|0):0){b=e;m=o[b>>2]|0;p=o[b+4>>2]|0;b=_;u=o[b+4>>2]|0;c=e;o[c>>2]=o[b>>2];o[c+4>>2]=u;u=_;o[u>>2]=m;o[u+4>>2]=p}}while(0);if(!(bm[o[r>>2]&31](l,s)|0)){a=1;h=i;return a|0}d=s;f=o[d>>2]|0;p=o[d+4>>2]|0;d=l;u=o[d+4>>2]|0;m=s;o[m>>2]=o[d>>2];o[m+4>>2]=u;u=l;o[u>>2]=f;o[u+4>>2]=p;if(!(bm[o[r>>2]&31](s,_)|0)){a=1;h=i;return a|0}p=_;u=o[p>>2]|0;f=o[p+4>>2]|0;p=s;l=o[p+4>>2]|0;m=_;o[m>>2]=o[p>>2];o[m+4>>2]=l;l=s;o[l>>2]=u;o[l+4>>2]=f;if(!(bm[o[r>>2]&31](_,e)|0)){a=1;h=i;return a|0}f=e;l=o[f>>2]|0;u=o[f+4>>2]|0;f=_;s=o[f+4>>2]|0;m=e;o[m>>2]=o[f>>2];o[m+4>>2]=s;s=_;o[s>>2]=l;o[s+4>>2]=u;a=1;h=i;return a|0}case 5:{Yt(e,e+8|0,e+16|0,e+24|0,t+-8|0,r)|0;a=1;h=i;return a|0}case 1:case 0:{a=1;h=i;return a|0}default:{u=e+16|0;s=e+8|0;l=bm[o[r>>2]&31](s,e)|0;_=bm[o[r>>2]&31](u,s)|0;do{if(l){m=e;f=o[m>>2]|0;p=o[m+4>>2]|0;if(_){m=u;d=o[m+4>>2]|0;c=e;o[c>>2]=o[m>>2];o[c+4>>2]=d;d=u;o[d>>2]=f;o[d+4>>2]=p;break}d=s;c=o[d+4>>2]|0;m=e;o[m>>2]=o[d>>2];o[m+4>>2]=c;c=s;o[c>>2]=f;o[c+4>>2]=p;if(bm[o[r>>2]&31](u,s)|0){p=s;c=o[p>>2]|0;f=o[p+4>>2]|0;p=u;m=o[p+4>>2]|0;d=s;o[d>>2]=o[p>>2];o[d+4>>2]=m;m=u;o[m>>2]=c;o[m+4>>2]=f}}else if(_?(f=s,m=o[f>>2]|0,c=o[f+4>>2]|0,f=u,d=o[f+4>>2]|0,p=s,o[p>>2]=o[f>>2],o[p+4>>2]=d,d=u,o[d>>2]=m,o[d+4>>2]=c,bm[o[r>>2]&31](s,e)|0):0){c=e;d=o[c>>2]|0;m=o[c+4>>2]|0;c=s;p=o[c+4>>2]|0;f=e;o[f>>2]=o[c>>2];o[f+4>>2]=p;p=s;o[p>>2]=d;o[p+4>>2]=m}}while(0);s=e+24|0;if((s|0)==(t|0)){a=1;h=i;return a|0}else{g=0;y=s;v=u}while(1){if(bm[o[r>>2]&31](y,v)|0){u=y;s=o[u+4>>2]|0;_=n;o[_>>2]=o[u>>2];o[_+4>>2]=s;s=y;_=v;while(1){u=_;l=o[u+4>>2]|0;m=s;o[m>>2]=o[u>>2];o[m+4>>2]=l;if((_|0)==(e|0)){x=_;break}l=_+-8|0;if(bm[o[r>>2]&31](n,l)|0){m=_;_=l;s=m}else{x=_;break}}_=n;s=o[_+4>>2]|0;m=x;o[m>>2]=o[_>>2];o[m+4>>2]=s;s=g+1|0;if((s|0)==8){w=y;break}else S=s}else S=g;s=y+8|0;if((s|0)==(t|0)){a=1;E=41;break}else{m=y;g=S;y=s;v=m}}if((E|0)==41){h=i;return a|0}a=(w+8|0)==(t|0);h=i;return a|0}}return 0}function Kt(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0;a=bm[o[s>>2]&31](t,e)|0;u=bm[o[s>>2]&31](r,t)|0;do{if(a){l=e;c=o[l>>2]|0;h=o[l+4>>2]|0;if(u){l=r;f=o[l+4>>2]|0;d=e;o[d>>2]=o[l>>2];o[d+4>>2]=f;f=r;o[f>>2]=c;o[f+4>>2]=h;p=1;break}f=t;d=o[f+4>>2]|0;l=e;o[l>>2]=o[f>>2];o[l+4>>2]=d;d=t;o[d>>2]=c;o[d+4>>2]=h;if(bm[o[s>>2]&31](r,t)|0){h=t;d=o[h>>2]|0;c=o[h+4>>2]|0;h=r;l=o[h+4>>2]|0;f=t;o[f>>2]=o[h>>2];o[f+4>>2]=l;l=r;o[l>>2]=d;o[l+4>>2]=c;p=2}else p=1}else if(u){c=t;l=o[c>>2]|0;d=o[c+4>>2]|0;c=r;f=o[c+4>>2]|0;h=t;o[h>>2]=o[c>>2];o[h+4>>2]=f;f=r;o[f>>2]=l;o[f+4>>2]=d;if(bm[o[s>>2]&31](t,e)|0){d=e;f=o[d>>2]|0;l=o[d+4>>2]|0;d=t;h=o[d+4>>2]|0;c=e;o[c>>2]=o[d>>2];o[c+4>>2]=h;h=t;o[h>>2]=f;o[h+4>>2]=l;p=2}else p=1}else p=0}while(0);if(bm[o[s>>2]&31](i,r)|0){u=r;a=o[u>>2]|0;l=o[u+4>>2]|0;u=i;h=o[u+4>>2]|0;f=r;o[f>>2]=o[u>>2];o[f+4>>2]=h;h=i;o[h>>2]=a;o[h+4>>2]=l;l=p+1|0;if(bm[o[s>>2]&31](r,t)|0){h=t;a=o[h>>2]|0;f=o[h+4>>2]|0;h=r;u=o[h+4>>2]|0;c=t;o[c>>2]=o[h>>2];o[c+4>>2]=u;u=r;o[u>>2]=a;o[u+4>>2]=f;if(bm[o[s>>2]&31](t,e)|0){f=e;u=o[f>>2]|0;a=o[f+4>>2]|0;f=t;c=o[f+4>>2]|0;h=e;o[h>>2]=o[f>>2];o[h+4>>2]=c;c=t;o[c>>2]=u;o[c+4>>2]=a;_=p+3|0}else _=p+2|0}else _=l}else _=p;if(!(bm[o[s>>2]&31](n,i)|0)){m=_;return m|0}p=i;l=o[p>>2]|0;a=o[p+4>>2]|0;p=n;c=o[p+4>>2]|0;u=i;o[u>>2]=o[p>>2];o[u+4>>2]=c;c=n;o[c>>2]=l;o[c+4>>2]=a;if(!(bm[o[s>>2]&31](i,r)|0)){m=_+1|0;return m|0}a=r;c=o[a>>2]|0;l=o[a+4>>2]|0;a=i;n=o[a+4>>2]|0;u=r;o[u>>2]=o[a>>2];o[u+4>>2]=n;n=i;o[n>>2]=c;o[n+4>>2]=l;if(!(bm[o[s>>2]&31](r,t)|0)){m=_+2|0;return m|0}l=t;n=o[l>>2]|0;c=o[l+4>>2]|0;l=r;i=o[l+4>>2]|0;u=t;o[u>>2]=o[l>>2];o[u+4>>2]=i;i=r;o[i>>2]=n;o[i+4>>2]=c;if(!(bm[o[s>>2]&31](t,e)|0)){m=_+3|0;return m|0}s=e;c=o[s>>2]|0;i=o[s+4>>2]|0;s=t;n=o[s+4>>2]|0;r=e;o[r>>2]=o[s>>2];o[r+4>>2]=n;n=t;o[n>>2]=c;o[n+4>>2]=i;m=_+4|0;return m|0}function Zt(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;i=h;h=h+16|0;n=i;switch(t-e>>3|0){case 2:{s=t+-8|0;if(!(bm[o[r>>2]&31](s,e)|0)){a=1;h=i;return a|0}u=e;l=o[u>>2]|0;c=o[u+4>>2]|0;u=s;f=o[u+4>>2]|0;d=e;o[d>>2]=o[u>>2];o[d+4>>2]=f;f=s;o[f>>2]=l;o[f+4>>2]=c;a=1;h=i;return a|0}case 3:{c=e+8|0;f=t+-8|0;l=bm[o[r>>2]&31](c,e)|0;s=bm[o[r>>2]&31](f,c)|0;if(!l){if(!s){a=1;h=i;return a|0}l=c;d=o[l>>2]|0;u=o[l+4>>2]|0;l=f;p=o[l+4>>2]|0;_=c;o[_>>2]=o[l>>2];o[_+4>>2]=p;p=f;o[p>>2]=d;o[p+4>>2]=u;if(!(bm[o[r>>2]&31](c,e)|0)){a=1;h=i;return a|0}u=e;p=o[u>>2]|0;d=o[u+4>>2]|0;u=c;_=o[u+4>>2]|0;l=e;o[l>>2]=o[u>>2];o[l+4>>2]=_;_=c;o[_>>2]=p;o[_+4>>2]=d;a=1;h=i;return a|0}d=e;_=o[d>>2]|0;p=o[d+4>>2]|0;if(s){s=f;d=o[s+4>>2]|0;l=e;o[l>>2]=o[s>>2];o[l+4>>2]=d;d=f;o[d>>2]=_;o[d+4>>2]=p;a=1;h=i;return a|0}d=c;l=o[d+4>>2]|0;s=e;o[s>>2]=o[d>>2];o[s+4>>2]=l;l=c;o[l>>2]=_;o[l+4>>2]=p;if(!(bm[o[r>>2]&31](f,c)|0)){a=1;h=i;return a|0}p=c;l=o[p>>2]|0;_=o[p+4>>2]|0;p=f;s=o[p+4>>2]|0;d=c;o[d>>2]=o[p>>2];o[d+4>>2]=s;s=f;o[s>>2]=l;o[s+4>>2]=_;a=1;h=i;return a|0}case 4:{_=e+8|0;s=e+16|0;l=t+-8|0;f=bm[o[r>>2]&31](_,e)|0;d=bm[o[r>>2]&31](s,_)|0;do{if(f){p=e;c=o[p>>2]|0;u=o[p+4>>2]|0;if(d){p=s;m=o[p+4>>2]|0;b=e;o[b>>2]=o[p>>2];o[b+4>>2]=m;m=s;o[m>>2]=c;o[m+4>>2]=u;break}m=_;b=o[m+4>>2]|0;p=e;o[p>>2]=o[m>>2];o[p+4>>2]=b;b=_;o[b>>2]=c;o[b+4>>2]=u;if(bm[o[r>>2]&31](s,_)|0){u=_;b=o[u>>2]|0;c=o[u+4>>2]|0;u=s;p=o[u+4>>2]|0;m=_;o[m>>2]=o[u>>2];o[m+4>>2]=p;p=s;o[p>>2]=b;o[p+4>>2]=c}}else if(d?(c=_,p=o[c>>2]|0,b=o[c+4>>2]|0,c=s,m=o[c+4>>2]|0,u=_,o[u>>2]=o[c>>2],o[u+4>>2]=m,m=s,o[m>>2]=p,o[m+4>>2]=b,bm[o[r>>2]&31](_,e)|0):0){b=e;m=o[b>>2]|0;p=o[b+4>>2]|0;b=_;u=o[b+4>>2]|0;c=e;o[c>>2]=o[b>>2];o[c+4>>2]=u;u=_;o[u>>2]=m;o[u+4>>2]=p}}while(0);if(!(bm[o[r>>2]&31](l,s)|0)){a=1;h=i;return a|0}d=s;f=o[d>>2]|0;p=o[d+4>>2]|0;d=l;u=o[d+4>>2]|0;m=s;o[m>>2]=o[d>>2];o[m+4>>2]=u;u=l;o[u>>2]=f;o[u+4>>2]=p;if(!(bm[o[r>>2]&31](s,_)|0)){a=1;h=i;return a|0}p=_;u=o[p>>2]|0;f=o[p+4>>2]|0;p=s;l=o[p+4>>2]|0;m=_;o[m>>2]=o[p>>2];o[m+4>>2]=l;l=s;o[l>>2]=u;o[l+4>>2]=f;if(!(bm[o[r>>2]&31](_,e)|0)){a=1;h=i;return a|0}f=e;l=o[f>>2]|0;u=o[f+4>>2]|0;f=_;s=o[f+4>>2]|0;m=e;o[m>>2]=o[f>>2];o[m+4>>2]=s;s=_;o[s>>2]=l;o[s+4>>2]=u;a=1;h=i;return a|0}case 5:{Kt(e,e+8|0,e+16|0,e+24|0,t+-8|0,r)|0;a=1;h=i;return a|0}case 1:case 0:{a=1;h=i;return a|0}default:{u=e+16|0;s=e+8|0;l=bm[o[r>>2]&31](s,e)|0;_=bm[o[r>>2]&31](u,s)|0;do{if(l){m=e;f=o[m>>2]|0;p=o[m+4>>2]|0;if(_){m=u;d=o[m+4>>2]|0;c=e;o[c>>2]=o[m>>2];o[c+4>>2]=d;d=u;o[d>>2]=f;o[d+4>>2]=p;break}d=s;c=o[d+4>>2]|0;m=e;o[m>>2]=o[d>>2];o[m+4>>2]=c;c=s;o[c>>2]=f;o[c+4>>2]=p;if(bm[o[r>>2]&31](u,s)|0){p=s;c=o[p>>2]|0;f=o[p+4>>2]|0;p=u;m=o[p+4>>2]|0;d=s;o[d>>2]=o[p>>2];o[d+4>>2]=m;m=u;o[m>>2]=c;o[m+4>>2]=f}}else if(_?(f=s,m=o[f>>2]|0,c=o[f+4>>2]|0,f=u,d=o[f+4>>2]|0,p=s,o[p>>2]=o[f>>2],o[p+4>>2]=d,d=u,o[d>>2]=m,o[d+4>>2]=c,bm[o[r>>2]&31](s,e)|0):0){c=e;d=o[c>>2]|0;m=o[c+4>>2]|0;c=s;p=o[c+4>>2]|0;f=e;o[f>>2]=o[c>>2];o[f+4>>2]=p;p=s;o[p>>2]=d;o[p+4>>2]=m}}while(0);s=e+24|0;if((s|0)==(t|0)){a=1;h=i;return a|0}else{g=0;y=s;v=u}while(1){if(bm[o[r>>2]&31](y,v)|0){u=y;s=o[u+4>>2]|0;_=n;o[_>>2]=o[u>>2];o[_+4>>2]=s;s=y;_=v;while(1){u=_;l=o[u+4>>2]|0;m=s;o[m>>2]=o[u>>2];o[m+4>>2]=l;if((_|0)==(e|0)){x=_;break}l=_+-8|0;if(bm[o[r>>2]&31](n,l)|0){m=_;_=l;s=m}else{x=_;break}}_=n;s=o[_+4>>2]|0;m=x;o[m>>2]=o[_>>2];o[m+4>>2]=s;s=g+1|0;if((s|0)==8){w=y;break}else S=s}else S=g;s=y+8|0;if((s|0)==(t|0)){a=1;E=41;break}else{m=y;g=S;y=s;v=m}}if((E|0)==41){h=i;return a|0}a=(w+8|0)==(t|0);h=i;return a|0}}return 0}function Qt(e){e=e|0;return}function $t(e){e=e|0;op(e);return}function er(e,t){e=e|0;t=t|0;return(o[(o[e+4>>2]|0)+(t<<2)>>2]&4096|0)!=0|0}function tr(e,t,r){e=e|0;t=t|0;r=r|0;return 1}function rr(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return 1}function ir(e){e=e|0;op(e);return}function nr(e,t){e=e|0;t=t|0;return 1}function or(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;i=o[e+4>>2]|0;e=(i|0)<=(t|0);t=(i|0)>(r|0);if(e|t)return t&e|0;else return 1;return 0}function sr(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=o[e+4>>2]|0;e=(n|0)>(t|0);t=(n|0)>(r|0);if((n|0)>(i|0)|(e|t))return(n|0)<=(i|0)|e&t^1|0;else return 0;return 0}function ar(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;switch(i|0){case 1:{s=n;a=e;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));return}case 2:{l=t+-60|0;if(bm[o[r>>2]&31](l,e)|0){s=n;a=l;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));s=n+60|0;a=e;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));return}else{s=n;a=e;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));s=n+60|0;a=l;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));return}break}case 0:return;default:{if((i|0)<9){if((e|0)==(t|0))return;s=n;a=e;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));l=e+60|0;if((l|0)==(t|0))return;else{c=l;h=n}do{l=h;h=h+60|0;if(bm[o[r>>2]&31](c,l)|0){s=h;a=l;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));e:do{if((l|0)==(n|0))f=n;else{d=l;while(1){p=d;d=d+-60|0;if(!(bm[o[r>>2]&31](c,d)|0)){f=p;break e}s=p;a=d;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));if((d|0)==(n|0)){f=n;break}}}}while(0);s=f;a=c;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0))}else{s=h;a=c;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0))}c=c+60|0}while((c|0)!=(t|0));return}c=(i|0)/2|0;h=e+(c*60|0)|0;Pt(e,h,r,c,n,c);f=i-c|0;Pt(h,t,r,f,n+(c*60|0)|0,f);e:do{if((i+1|0)>>>0<3){_=h;m=n}else{f=h;c=e;l=n;while(1){if((f|0)==(t|0)){b=c;g=l;break}if(bm[o[r>>2]&31](f,c)|0){s=l;a=f;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));y=c;v=f+60|0}else{s=l;a=c;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));y=c+60|0;v=f}d=l+60|0;if((y|0)==(h|0)){_=v;m=d;break e}else{f=v;c=y;l=d}}if((b|0)==(h|0))return;else{x=b;w=g}while(1){s=w;a=x;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));x=x+60|0;if((x|0)==(h|0))break;else w=w+60|0}return}}while(0);if((_|0)==(t|0))return;else{S=_;E=m}while(1){s=E;a=S;u=s+60|0;do{o[s>>2]=o[a>>2];s=s+4|0;a=a+4|0}while((s|0)<(u|0));S=S+60|0;if((S|0)==(t|0))break;else E=E+60|0}return}}}function ur(e,t,r,i,n,s,a,u){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;a=a|0;u=u|0;var l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0,Ne=0;l=h;h=h+64|0;c=l;if((s|0)==0|(n|0)==0){h=l;return}f=e;e=t;t=r;r=n;n=s;e:while(1){s=t;d=e;p=r;_=f;m=n;while(1){b=_;g=p;while(1){if(bm[o[i>>2]&31](d,b)|0){y=b;v=g;break}g=g+-1|0;if(!g){x=68;break e}else b=b+60|0}if(!((m|0)>(u|0)&(v|0)>(u|0))){w=d;S=t;E=m;A=y;T=v;P=s;x=8;break e}if((v|0)<(m|0)){b=(m|0)/2|0;g=d+(b*60|0)|0;C=y;M=y;F=(d-C|0)/60|0;t:while(1){I=F;while(1){if(!I){O=M;break t}D=(I|0)/2|0;if(bm[o[i>>2]&31](g,M+(D*60|0)|0)|0)I=D;else{k=D;R=I;break}}M=M+((k+1|0)*60|0)|0;F=R+-1-k|0}B=O;N=g;L=(O-C|0)/60|0;G=b}else{if((v|0)==1){U=d;z=y;x=43;break e}F=(v|0)/2|0;M=y+(F*60|0)|0;I=d;D=d;j=(s-I|0)/60|0;t:while(1){J=j;while(1){if(!J){X=D;break t}H=(J|0)/2|0;if(bm[o[i>>2]&31](D+(H*60|0)|0,M)|0){W=H;V=J;break}else J=H}D=D+((W+1|0)*60|0)|0;j=V+-1-W|0}B=M;N=X;L=F;G=(X-I|0)/60|0}p=v-L|0;j=m;m=m-G|0;t:do{if((B|0)!=(d|0))if((d|0)==(N|0))Y=B;else{if((B+60|0)==(d|0)){q=c;K=B;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));D=N-d|0;__(B|0,d|0,D|0)|0;b=B+(((D|0)/60|0)*60|0)|0;q=b;K=c;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));Y=b;break}if((d+60|0)==(N|0)){D=N+-60|0;q=c;K=D;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));b=D-B|0;C=N+(((b|0)/-60|0)*60|0)|0;__(C|0,B|0,b|0)|0;q=B;K=c;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));Y=C;break}D=d;b=(D-B|0)/60|0;g=N;J=(g-D|0)/60|0;if((b|0)==(J|0)){D=B;H=d;while(1){q=c;K=D;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));q=D;K=H;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));q=H;K=c;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));D=D+60|0;if((D|0)==(d|0)){Y=d;break t}else H=H+60|0}}else{Q=b;$=J}while(1){H=(Q|0)%($|0)|0;if(!H){ee=$;break}else{D=$;$=H;Q=D}}if(ee){D=b+-1|0;H=B+(ee*60|0)|0;do{C=H;H=H+-60|0;q=c;K=H;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));te=H;re=C+(D*60|0)|0;while(1){q=te;K=re;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));ie=(g-re|0)/60|0;ne=(b|0)<(ie|0)?re+(b*60|0)|0:B+((b-ie|0)*60|0)|0;if((ne|0)==(H|0)){oe=re;break}else{ie=re;re=ne;te=ie}}q=oe;K=c;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0))}while((H|0)!=(B|0))}Y=B+(J*60|0)|0}else Y=N}while(0);if((G+L|0)>=(m+p|0)){se=Y;ae=B;ue=N;le=y;ce=p;he=m;fe=L;de=G;break}ur(y,B,Y,i,L,G,a,u);if((j|0)==(G|0)|(v|0)==(L|0)){x=68;break e}else{d=N;_=Y}}ur(se,ue,t,i,ce,he,a,u);if((de|0)==0|(fe|0)==0){x=68;break}else{f=le;e=ae;t=se;r=fe;n=de}}if((x|0)==8){de=A;n=w;if((T|0)<=(E|0)){e:do{if((A|0)!=(w|0)){E=((w+-60-de|0)>>>0)/60|0;T=A;fe=a;while(1){q=fe;K=T;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));T=T+60|0;if((T|0)==(w|0))break;else fe=fe+60|0}fe=a+((E+1|0)*60|0)|0;T=fe;if((fe|0)==(a|0)){pe=A;_e=n}else{j=A;r=a;se=n;t=a;ae=w;e=w;while(1){if((ae|0)==(S|0)){me=j;be=t;break}if(bm[o[i>>2]&31](ae,r)|0){q=j;K=e;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));le=ae+60|0;ge=le;ye=t;ve=le;xe=le;we=r}else{q=j;K=r;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));le=r+60|0;ge=se;ye=le;ve=e;xe=ae;we=le}le=j+60|0;if((we|0)==(fe|0)){pe=le;_e=ge;break e}else{j=le;r=we;se=ge;t=ye;ae=xe;e=ve}}__(me|0,be|0,T-be|0)|0;h=l;return}}else{pe=w;_e=n}}while(0);__(pe|0,_e|0,P-_e|0)|0;h=l;return}if((w|0)==(S|0))Se=a;else{_e=((S+-60-n|0)>>>0)/60|0;P=w;pe=a;while(1){q=pe;K=P;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));P=P+60|0;if((P|0)==(S|0))break;else pe=pe+60|0}Se=a+((_e+1|0)*60|0)|0}_e=Se;e:do{if((w|0)==(A|0)){Ee=S;Ae=_e}else{pe=_e;P=n;T=n;be=_e;me=Se;ve=w;xe=S;ye=Se;ge=Se;while(1){if((be|0)==(a|0)){Te=xe;Pe=P;break}we=ve+-60|0;de=xe+-60|0;if(bm[o[i>>2]&31](me+-60|0,we)|0){q=de;K=we;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));e=we;Ce=pe;Me=e;Fe=ge;Ie=ye;Oe=me;De=e}else{q=de;K=ye+-60|0;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));we=ge+-60|0;Ce=we;Me=P;Fe=we;Ie=we;Oe=we;De=T}ve=De;if((ve|0)==(A|0)){Ee=de;Ae=Ce;break e}else{pe=Ce;P=Me;T=De;be=Oe;me=Oe;xe=de;ye=Ie;ge=Fe}}ge=Pe;if((ge|0)==(A|0)){h=l;return}else{ke=Te;Re=ge}do{ke=ke+-60|0;Re=Re+-60|0;q=ke;K=Re;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0))}while((Re|0)!=(A|0));h=l;return}}while(0);A=Ae;if((A|0)==(a|0)){h=l;return}else{Be=Ee;Ne=A}do{Be=Be+-60|0;Ne=Ne+-60|0;q=Be;K=Ne;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0))}while((Ne|0)!=(a|0));h=l;return}else if((x|0)==43){q=c;K=z;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));q=z;K=U;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));q=U;K=c;Z=q+60|0;do{o[q>>2]=o[K>>2];q=q+4|0;K=K+4|0}while((q|0)<(Z|0));h=l;return}else if((x|0)==68){h=l;return}}function lr(e){e=e|0;return}function cr(e){e=e|0;op(e);return}function hr(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0;n=e+4|0;s=o[(o[n>>2]|0)+88>>2]|0;a=o[s+(r<<2)>>2]|o[s+(t<<2)>>2]|o[s+(i<<2)>>2];if(!(a&16))return;s=o[e+8>>2]|0;if(!(_m[o[(o[s>>2]|0)+16>>2]&7](s,t,r,i)|0))return;s=o[n>>2]|0;n=o[s+96>>2]|0;e=n+(t<<3)|0;u=+l[e>>2];c=n+(r<<3)|0;h=+l[c>>2];f=u-h;d=n+(t<<3)+4|0;p=+l[d>>2];_=n+(r<<3)+4|0;m=+l[_>>2];b=p-m;g=n+(i<<3)|0;y=+l[g>>2];v=h-y;x=n+(i<<3)+4|0;h=+l[x>>2];w=m-h;m=y-u;u=h-p;p=+l[s+40>>2]*4;if(f*f+b*b>p)return;if(v*v+w*w>p)return;if(m*m+u*u>p)return;n=o[s+144>>2]|0;S=o[n+(t<<2)>>2]|0;E=o[n+(r<<2)>>2]|0;A=o[n+(i<<2)>>2]|0;n=s+264|0;T=s+268|0;P=o[T>>2]|0;C=s+272|0;M=o[C>>2]|0;if((P|0)>=(M|0)?(F=(M|0)==0?256:M<<1,(M|0)<(F|0)):0){M=s+276|0;s=Od(o[M>>2]|0,F*60|0)|0;I=o[n>>2]|0;if(!I)O=n;else{p_(s|0,I|0,(o[T>>2]|0)*60|0)|0;Dd(o[M>>2]|0,o[n>>2]|0,(o[C>>2]|0)*60|0);O=n}o[C>>2]=F;o[O>>2]=s;D=o[T>>2]|0}else D=P;o[T>>2]=D+1;T=o[n>>2]|0;o[T+(D*60|0)>>2]=t;o[T+(D*60|0)+4>>2]=r;o[T+(D*60|0)+8>>2]=i;o[T+(D*60|0)+12>>2]=a;if(!S)k=1;else k=+l[S+16>>2];if(!E)R=1;else R=+l[E+16>>2];p=k<R?k:R;if(!A)B=1;else B=+l[A+16>>2];l[T+(D*60|0)+16>>2]=p<B?p:B;B=+l[e>>2];p=+l[d>>2];R=(B+ +l[c>>2]+ +l[g>>2])*.3333333432674408;k=(p+ +l[_>>2]+ +l[x>>2])*.3333333432674408;l[T+(D*60|0)+20>>2]=B-R;l[T+(D*60|0)+24>>2]=p-k;p=+l[_>>2]-k;l[T+(D*60|0)+28>>2]=+l[c>>2]-R;l[T+(D*60|0)+32>>2]=p;p=+l[x>>2]-k;l[T+(D*60|0)+36>>2]=+l[g>>2]-R;l[T+(D*60|0)+40>>2]=p;l[T+(D*60|0)+44>>2]=-(f*m+b*u);l[T+(D*60|0)+48>>2]=-(f*v+b*w);l[T+(D*60|0)+52>>2]=-(v*m+w*u);u=+l[e>>2];w=+l[_>>2];m=+l[d>>2];v=+l[c>>2];b=+l[x>>2];f=+l[g>>2];l[T+(D*60|0)+56>>2]=m*f-u*b+(u*w-m*v+(v*b-w*f));return}function fr(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0;switch(i|0){case 1:{o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];return}case 2:{s=t+-20|0;if(bm[o[r>>2]&31](s,e)|0){o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];a=n+20|0;o[a>>2]=o[e>>2];o[a+4>>2]=o[e+4>>2];o[a+8>>2]=o[e+8>>2];o[a+12>>2]=o[e+12>>2];o[a+16>>2]=o[e+16>>2];return}else{o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];a=n+20|0;o[a>>2]=o[s>>2];o[a+4>>2]=o[s+4>>2];o[a+8>>2]=o[s+8>>2];o[a+12>>2]=o[s+12>>2];o[a+16>>2]=o[s+16>>2];return}break}case 0:return;default:{if((i|0)<9){if((e|0)==(t|0))return;o[n>>2]=o[e>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];s=e+20|0;if((s|0)==(t|0))return;else{u=s;l=n}do{s=l;l=l+20|0;if(bm[o[r>>2]&31](u,s)|0){o[l>>2]=o[s>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];e:do{if((s|0)==(n|0))c=n;else{a=s;while(1){h=a;a=a+-20|0;if(!(bm[o[r>>2]&31](u,a)|0)){c=h;break e}o[h>>2]=o[a>>2];o[h+4>>2]=o[a+4>>2];o[h+8>>2]=o[a+8>>2];o[h+12>>2]=o[a+12>>2];o[h+16>>2]=o[a+16>>2];if((a|0)==(n|0)){c=n;break}}}}while(0);o[c>>2]=o[u>>2];o[c+4>>2]=o[u+4>>2];o[c+8>>2]=o[u+8>>2];o[c+12>>2]=o[u+12>>2];o[c+16>>2]=o[u+16>>2]}else{o[l>>2]=o[u>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2]}u=u+20|0}while((u|0)!=(t|0));return}u=(i|0)/2|0;l=e+(u*20|0)|0;Tt(e,l,r,u,n,u);c=i-u|0;Tt(l,t,r,c,n+(u*20|0)|0,c);e:do{if((i+1|0)>>>0<3){f=l;d=n}else{c=l;u=e;s=n;while(1){if((c|0)==(t|0)){p=u;_=s;break}if(bm[o[r>>2]&31](c,u)|0){o[s>>2]=o[c>>2];o[s+4>>2]=o[c+4>>2];o[s+8>>2]=o[c+8>>2];o[s+12>>2]=o[c+12>>2];o[s+16>>2]=o[c+16>>2];m=u;b=c+20|0}else{o[s>>2]=o[u>>2];o[s+4>>2]=o[u+4>>2];o[s+8>>2]=o[u+8>>2];o[s+12>>2]=o[u+12>>2];o[s+16>>2]=o[u+16>>2];m=u+20|0;b=c}a=s+20|0;if((m|0)==(l|0)){f=b;d=a;break e}else{c=b;u=m;s=a}}if((p|0)==(l|0))return;else{g=p;y=_}while(1){o[y>>2]=o[g>>2];o[y+4>>2]=o[g+4>>2];o[y+8>>2]=o[g+8>>2];o[y+12>>2]=o[g+12>>2];o[y+16>>2]=o[g+16>>2];g=g+20|0;if((g|0)==(l|0))break;else y=y+20|0}return}}while(0);if((f|0)==(t|0))return;else{v=f;x=d}while(1){o[x>>2]=o[v>>2];o[x+4>>2]=o[v+4>>2];o[x+8>>2]=o[v+8>>2];o[x+12>>2]=o[v+12>>2];o[x+16>>2]=o[v+16>>2];v=v+20|0;if((v|0)==(t|0))break;else x=x+20|0}return}}}function dr(e,t,r,i,n,s,a,u){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;a=a|0;u=u|0;var l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0;l=h;h=h+48|0;c=l+20|0;f=l;if((s|0)==0|(n|0)==0){h=l;return}d=e;e=t;t=r;r=n;n=s;e:while(1){s=t;p=e;_=r;m=d;b=n;while(1){g=m;y=_;while(1){if(bm[o[i>>2]&31](p,g)|0){v=g;x=y;break}y=y+-1|0;if(!y){w=69;break e}else g=g+20|0}if(!((b|0)>(u|0)&(x|0)>(u|0))){S=p;E=t;A=b;T=v;P=x;C=s;w=8;break e}if((x|0)<(b|0)){g=(b|0)/2|0;y=p+(g*20|0)|0;M=v;F=v;I=(p-M|0)/20|0;t:while(1){O=I;while(1){if(!O){D=F;break t}k=(O|0)/2|0;if(bm[o[i>>2]&31](y,F+(k*20|0)|0)|0)O=k;else{R=k;B=O;break}}F=F+((R+1|0)*20|0)|0;I=B+-1-R|0}N=D;L=y;G=(D-M|0)/20|0;U=g}else{if((x|0)==1){z=p;j=v;w=43;break e}I=(x|0)/2|0;F=v+(I*20|0)|0;O=p;k=p;J=(s-O|0)/20|0;t:while(1){X=J;while(1){if(!X){H=k;break t}W=(X|0)/2|0;if(bm[o[i>>2]&31](k+(W*20|0)|0,F)|0){V=W;Y=X;break}else X=W}k=k+((V+1|0)*20|0)|0;J=Y+-1-V|0}N=F;L=H;G=I;U=(H-O|0)/20|0}_=x-G|0;J=b;b=b-U|0;do{if((N|0)!=(p|0))if((p|0)==(L|0))q=N;else{if((N+20|0)==(p|0)){o[c>>2]=o[N>>2];o[c+4>>2]=o[N+4>>2];o[c+8>>2]=o[N+8>>2];o[c+12>>2]=o[N+12>>2];o[c+16>>2]=o[N+16>>2];k=L-p|0;__(N|0,p|0,k|0)|0;g=N+(((k|0)/20|0)*20|0)|0;o[g>>2]=o[c>>2];o[g+4>>2]=o[c+4>>2];o[g+8>>2]=o[c+8>>2];o[g+12>>2]=o[c+12>>2];o[g+16>>2]=o[c+16>>2];q=g;break}if((p+20|0)==(L|0)){g=L+-20|0;o[c>>2]=o[g>>2];o[c+4>>2]=o[g+4>>2];o[c+8>>2]=o[g+8>>2];o[c+12>>2]=o[g+12>>2];o[c+16>>2]=o[g+16>>2];k=g-N|0;g=L+(((k|0)/-20|0)*20|0)|0;__(g|0,N|0,k|0)|0;o[N>>2]=o[c>>2];o[N+4>>2]=o[c+4>>2];o[N+8>>2]=o[c+8>>2];o[N+12>>2]=o[c+12>>2];o[N+16>>2]=o[c+16>>2];q=g;break}g=p;k=(g-N|0)/20|0;M=L;y=(M-g|0)/20|0;if((k|0)==(y|0)){g=N;X=p;while(1){o[c>>2]=o[g>>2];o[c+4>>2]=o[g+4>>2];o[c+8>>2]=o[g+8>>2];o[c+12>>2]=o[g+12>>2];o[c+16>>2]=o[g+16>>2];o[g>>2]=o[X>>2];o[g+4>>2]=o[X+4>>2];o[g+8>>2]=o[X+8>>2];o[g+12>>2]=o[X+12>>2];o[g+16>>2]=o[X+16>>2];o[X>>2]=o[c>>2];o[X+4>>2]=o[c+4>>2];o[X+8>>2]=o[c+8>>2];o[X+12>>2]=o[c+12>>2];o[X+16>>2]=o[c+16>>2];g=g+20|0;if((g|0)==(p|0)){K=p;break}else X=X+20|0}}else{X=k;g=y;while(1){W=(X|0)%(g|0)|0;if(!W){Z=g;break}else{Q=g;g=W;X=Q}}if(Z){X=k+-1|0;g=N+(Z*20|0)|0;do{Q=g;g=g+-20|0;o[f>>2]=o[g>>2];o[f+4>>2]=o[g+4>>2];o[f+8>>2]=o[g+8>>2];o[f+12>>2]=o[g+12>>2];o[f+16>>2]=o[g+16>>2];W=g;$=Q+(X*20|0)|0;while(1){o[W>>2]=o[$>>2];o[W+4>>2]=o[$+4>>2];o[W+8>>2]=o[$+8>>2];o[W+12>>2]=o[$+12>>2];o[W+16>>2]=o[$+16>>2];Q=(M-$|0)/20|0;ee=(k|0)<(Q|0)?$+(k*20|0)|0:N+((k-Q|0)*20|0)|0;if((ee|0)==(g|0)){te=$;break}else{Q=$;$=ee;W=Q}}o[te>>2]=o[f>>2];o[te+4>>2]=o[f+4>>2];o[te+8>>2]=o[f+8>>2];o[te+12>>2]=o[f+12>>2];o[te+16>>2]=o[f+16>>2]}while((g|0)!=(N|0))}K=N+(y*20|0)|0}q=K}else q=L}while(0);if((U+G|0)>=(b+_|0)){re=q;ie=N;ne=L;oe=v;se=_;ae=b;ue=G;le=U;break}dr(v,N,q,i,G,U,a,u);if((J|0)==(U|0)|(x|0)==(G|0)){w=69;break e}else{p=L;m=q}}dr(re,ne,t,i,se,ae,a,u);if((le|0)==0|(ue|0)==0){w=69;break}else{d=oe;e=ie;t=re;r=ue;n=le}}if((w|0)==8){le=T;n=S;if((P|0)<=(A|0)){e:do{if((T|0)!=(S|0)){A=((S+-20-le|0)>>>0)/20|0;P=T;ue=a;while(1){o[ue>>2]=o[P>>2];o[ue+4>>2]=o[P+4>>2];o[ue+8>>2]=o[P+8>>2];o[ue+12>>2]=o[P+12>>2];o[ue+16>>2]=o[P+16>>2];P=P+20|0;if((P|0)==(S|0))break;else ue=ue+20|0}ue=a+((A+1|0)*20|0)|0;P=ue;if((ue|0)==(a|0)){ce=T;he=n}else{r=T;re=a;t=n;ie=a;e=S;oe=S;while(1){if((e|0)==(E|0)){fe=r;de=ie;break}if(bm[o[i>>2]&31](e,re)|0){o[r>>2]=o[oe>>2];o[r+4>>2]=o[oe+4>>2];o[r+8>>2]=o[oe+8>>2];o[r+12>>2]=o[oe+12>>2];o[r+16>>2]=o[oe+16>>2];d=e+20|0;pe=d;_e=ie;me=d;be=d;ge=re}else{o[r>>2]=o[re>>2];o[r+4>>2]=o[re+4>>2];o[r+8>>2]=o[re+8>>2];o[r+12>>2]=o[re+12>>2];o[r+16>>2]=o[re+16>>2];d=re+20|0;pe=t;_e=d;me=oe;be=e;ge=d}d=r+20|0;if((ge|0)==(ue|0)){ce=d;he=pe;break e}else{r=d;re=ge;t=pe;ie=_e;e=be;oe=me}}__(fe|0,de|0,P-de|0)|0;h=l;return}}else{ce=S;he=n}}while(0);__(ce|0,he|0,C-he|0)|0;h=l;return}if((S|0)==(E|0))ye=a;else{he=((E+-20-n|0)>>>0)/20|0;C=S;ce=a;while(1){o[ce>>2]=o[C>>2];o[ce+4>>2]=o[C+4>>2];o[ce+8>>2]=o[C+8>>2];o[ce+12>>2]=o[C+12>>2];o[ce+16>>2]=o[C+16>>2];C=C+20|0;if((C|0)==(E|0))break;else ce=ce+20|0}ye=a+((he+1|0)*20|0)|0}he=ye;e:do{if((S|0)==(T|0)){ve=E;xe=he}else{ce=he;C=n;de=n;fe=he;me=ye;be=S;_e=E;pe=ye;ge=ye;while(1){if((fe|0)==(a|0)){we=_e;Se=C;break}le=be+-20|0;oe=_e+-20|0;if(bm[o[i>>2]&31](me+-20|0,le)|0){o[oe>>2]=o[le>>2];o[oe+4>>2]=o[le+4>>2];o[oe+8>>2]=o[le+8>>2];o[oe+12>>2]=o[le+12>>2];o[oe+16>>2]=o[le+16>>2];e=le;Ee=ce;Ae=e;Te=ge;Pe=pe;Ce=me;Me=e}else{e=pe+-20|0;o[oe>>2]=o[e>>2];o[oe+4>>2]=o[e+4>>2];o[oe+8>>2]=o[e+8>>2];o[oe+12>>2]=o[e+12>>2];o[oe+16>>2]=o[e+16>>2];e=ge+-20|0;Ee=e;Ae=C;Te=e;Pe=e;Ce=e;Me=de}be=Me;if((be|0)==(T|0)){ve=oe;xe=Ee;break e}else{ce=Ee;C=Ae;de=Me;fe=Ce;me=Ce;_e=oe;pe=Pe;ge=Te}}ge=Se;if((ge|0)==(T|0)){h=l;return}else{Fe=we;Ie=ge}do{Fe=Fe+-20|0;Ie=Ie+-20|0;o[Fe>>2]=o[Ie>>2];o[Fe+4>>2]=o[Ie+4>>2];o[Fe+8>>2]=o[Ie+8>>2];o[Fe+12>>2]=o[Ie+12>>2];o[Fe+16>>2]=o[Ie+16>>2]}while((Ie|0)!=(T|0));h=l;return}}while(0);T=xe;if((T|0)==(a|0)){h=l;return}else{Oe=ve;De=T}do{Oe=Oe+-20|0;De=De+-20|0;o[Oe>>2]=o[De>>2];o[Oe+4>>2]=o[De+4>>2];o[Oe+8>>2]=o[De+8>>2];o[Oe+12>>2]=o[De+12>>2];o[Oe+16>>2]=o[De+16>>2]}while((De|0)!=(a|0));h=l;return}else if((w|0)==43){o[c>>2]=o[j>>2];o[c+4>>2]=o[j+4>>2];o[c+8>>2]=o[j+8>>2];o[c+12>>2]=o[j+12>>2];o[c+16>>2]=o[j+16>>2];o[j>>2]=o[z>>2];o[j+4>>2]=o[z+4>>2];o[j+8>>2]=o[z+8>>2];o[j+12>>2]=o[z+12>>2];o[j+16>>2]=o[z+16>>2];o[z>>2]=o[c>>2];o[z+4>>2]=o[c+4>>2];o[z+8>>2]=o[c+8>>2];o[z+12>>2]=o[c+12>>2];o[z+16>>2]=o[c+16>>2];h=l;return}else if((w|0)==69){h=l;return}}function pr(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0;n=t+4|0;s=o[n>>2]|0;a=e+4|0;u=r+4|0;l=o[u>>2]|0;c=l>>>0<s>>>0;do{if(s>>>0<(o[a>>2]|0)>>>0){h=e;f=o[h>>2]|0;d=o[h+4>>2]|0;if(c){h=r;p=o[h+4>>2]|0;_=e;o[_>>2]=o[h>>2];o[_+4>>2]=p;p=r;o[p>>2]=f;o[p+4>>2]=d;m=1;b=d;break}p=t;_=o[p+4>>2]|0;h=e;o[h>>2]=o[p>>2];o[h+4>>2]=_;_=t;o[_>>2]=f;o[_+4>>2]=d;_=o[u>>2]|0;if(_>>>0<d>>>0){h=r;p=o[h+4>>2]|0;g=t;o[g>>2]=o[h>>2];o[g+4>>2]=p;p=r;o[p>>2]=f;o[p+4>>2]=d;m=2;b=d}else{m=1;b=_}}else if(c){_=t;d=o[_>>2]|0;p=o[_+4>>2]|0;_=r;f=o[_+4>>2]|0;g=t;o[g>>2]=o[_>>2];o[g+4>>2]=f;f=r;o[f>>2]=d;o[f+4>>2]=p;if((o[n>>2]|0)>>>0<(o[a>>2]|0)>>>0){f=e;d=o[f>>2]|0;g=o[f+4>>2]|0;f=t;_=o[f+4>>2]|0;h=e;o[h>>2]=o[f>>2];o[h+4>>2]=_;_=t;o[_>>2]=d;o[_+4>>2]=g;m=2;b=o[u>>2]|0}else{m=1;b=p}}else{m=0;b=l}}while(0);if((o[i+4>>2]|0)>>>0>=b>>>0){y=m;return y|0}b=r;l=o[b>>2]|0;c=o[b+4>>2]|0;b=i;s=o[b+4>>2]|0;p=r;o[p>>2]=o[b>>2];o[p+4>>2]=s;s=i;o[s>>2]=l;o[s+4>>2]=c;if((o[u>>2]|0)>>>0>=(o[n>>2]|0)>>>0){y=m+1|0;return y|0}u=t;c=o[u>>2]|0;s=o[u+4>>2]|0;u=r;l=o[u+4>>2]|0;i=t;o[i>>2]=o[u>>2];o[i+4>>2]=l;l=r;o[l>>2]=c;o[l+4>>2]=s;if((o[n>>2]|0)>>>0>=(o[a>>2]|0)>>>0){y=m+2|0;return y|0}a=e;n=o[a>>2]|0;s=o[a+4>>2]|0;a=t;l=o[a+4>>2]|0;c=e;o[c>>2]=o[a>>2];o[c+4>>2]=l;l=t;o[l>>2]=n;o[l+4>>2]=s;y=m+3|0;return y|0}function _r(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;Ui(e,t);o[e>>2]=1224;r=t+20|0;i=o[r+4>>2]|0;n=e+80|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;i=t+28|0;n=o[i+4>>2]|0;r=e+88|0;o[r>>2]=o[i>>2];o[r+4>>2]=n;o[e+104>>2]=o[t+36>>2];o[e+68>>2]=o[t+40>>2];o[e+72>>2]=o[t+44>>2];l[e+100>>2]=0;l[e+96>>2]=0;l[e+76>>2]=0;return}function mr(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+108|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+112|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+140|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+148|0;o[h>>2]=_;o[h+4>>2]=m;h=e+156|0;o[h>>2]=o[r+136>>2];b=e+160|0;o[b>>2]=o[a+136>>2];g=e+164|0;o[g>>2]=o[r+144>>2];r=e+168|0;o[r>>2]=o[a+144>>2];a=o[t+28>>2]|0;y=+l[a+(n*12|0)>>2];v=+l[a+(n*12|0)+4>>2];x=+l[a+(n*12|0)+8>>2];w=t+32|0;S=o[w>>2]|0;E=o[S+(n*12|0)>>2]|0;A=o[S+(n*12|0)+4>>2]|0;T=+l[S+(n*12|0)+8>>2];P=+l[a+(u*12|0)>>2];C=+l[a+(u*12|0)+4>>2];M=+l[a+(u*12|0)+8>>2];a=o[S+(u*12|0)>>2]|0;n=o[S+(u*12|0)+4>>2]|0;F=+l[S+(u*12|0)+8>>2];I=+W(+x);O=+H(+x);x=+W(+M);D=+H(+M);M=+l[e+80>>2]-(o[d>>2]=f,+l[d>>2]);k=+l[e+84>>2]-(o[d>>2]=p,+l[d>>2]);R=O*M-I*k;B=I*M+O*k;l[e+124>>2]=R;l[e+128>>2]=B;k=+l[e+88>>2]-(o[d>>2]=_,+l[d>>2]);O=+l[e+92>>2]-(o[d>>2]=m,+l[d>>2]);M=D*k-x*O;I=x*k+D*O;l[e+132>>2]=M;l[e+136>>2]=I;O=P+M-y-R;y=C+I-v-B;m=e+116|0;l[m>>2]=O;_=e+120|0;l[_>>2]=y;v=+J(+(O*O+y*y));if(v>.004999999888241291){C=1/v;P=O*C;l[m>>2]=P;N=C*y;L=P}else{l[m>>2]=0;N=0;L=0}l[_>>2]=N;P=N*R-B*L;y=N*M-L*I;C=+l[h>>2];O=+l[g>>2];D=+l[b>>2];k=+l[r>>2];x=D+(C+P*(P*O))+y*(y*k);y=x!=0?1/x:0;r=e+172|0;l[r>>2]=y;P=+l[e+68>>2];if(P>0){G=v-+l[e+104>>2];v=P*6.2831854820251465;P=v*(v*y);U=+l[t>>2];z=U*(v*(y*2*+l[e+72>>2])+P*U);y=z!=0?1/z:0;l[e+96>>2]=y;z=x+y;l[r>>2]=z!=0?1/z:0;j=P*(G*U)*y}else{l[e+96>>2]=0;j=0}l[e+76>>2]=j;if(!(i[t+24>>0]|0)){l[e+100>>2]=0;X=E;V=A;Y=a;q=n;K=T;Z=F;Q=o[s>>2]|0;$=o[w>>2]|0;ee=$+(Q*12|0)|0;o[ee>>2]=X;te=$+(Q*12|0)+4|0;o[te>>2]=V;re=o[s>>2]|0;ie=o[w>>2]|0;ne=ie+(re*12|0)+8|0;l[ne>>2]=K;oe=o[c>>2]|0;se=ie+(oe*12|0)|0;o[se>>2]=Y;ae=ie+(oe*12|0)+4|0;o[ae>>2]=q;ue=o[c>>2]|0;le=o[w>>2]|0;ce=le+(ue*12|0)+8|0;l[ce>>2]=Z;return}else{r=e+100|0;j=+l[t+8>>2]*+l[r>>2];l[r>>2]=j;y=L*j;L=j*N;r=(l[d>>2]=(o[d>>2]=E,+l[d>>2])-y*C,o[d>>2]|0);E=(l[d>>2]=(o[d>>2]=A,+l[d>>2])-L*C,o[d>>2]|0);A=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+y*D,o[d>>2]|0);X=r;V=E;Y=A;q=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+L*D,o[d>>2]|0);K=T-O*(L*R-y*B);Z=F+k*(L*M-y*I);Q=o[s>>2]|0;$=o[w>>2]|0;ee=$+(Q*12|0)|0;o[ee>>2]=X;te=$+(Q*12|0)+4|0;o[te>>2]=V;re=o[s>>2]|0;ie=o[w>>2]|0;ne=ie+(re*12|0)+8|0;l[ne>>2]=K;oe=o[c>>2]|0;se=ie+(oe*12|0)|0;o[se>>2]=Y;ae=ie+(oe*12|0)+4|0;o[ae>>2]=q;ue=o[c>>2]|0;le=o[w>>2]|0;ce=le+(ue*12|0)+8|0;l[ce>>2]=Z;return}}function br(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;r=e+108|0;i=o[r>>2]|0;n=t+32|0;t=o[n>>2]|0;s=t+(i*12|0)|0;a=+l[s>>2];u=t+(i*12|0)+4|0;c=+l[u>>2];h=+l[t+(i*12|0)+8>>2];i=e+112|0;f=o[i>>2]|0;d=+l[t+(f*12|0)>>2];p=+l[t+(f*12|0)+4>>2];_=+l[t+(f*12|0)+8>>2];m=+l[e+128>>2];b=+l[e+124>>2];g=+l[e+136>>2];y=+l[e+132>>2];v=+l[e+116>>2];x=+l[e+120>>2];f=e+100|0;w=+l[f>>2];S=+l[e+172>>2]*(+l[e+76>>2]+(v*(d-_*g-(a-h*m))+x*(p+_*y-(c+h*b)))+ +l[e+96>>2]*w);E=-S;l[f>>2]=w-S;S=v*E;v=x*E;E=+l[e+156>>2];x=h-+l[e+164>>2]*(v*b-S*m);m=+l[e+160>>2];b=_+ +l[e+168>>2]*(v*y-S*g);l[s>>2]=a-E*S;l[u>>2]=c-E*v;u=o[n>>2]|0;l[u+((o[r>>2]|0)*12|0)+8>>2]=x;r=o[i>>2]|0;l[u+(r*12|0)>>2]=d+S*m;l[u+(r*12|0)+4>>2]=p+v*m;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=b;return}function gr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0;if(+l[e+68>>2]>0){r=1;return r|0}i=e+108|0;n=o[i>>2]|0;s=t+28|0;t=o[s>>2]|0;a=t+(n*12|0)|0;u=+l[a>>2];c=t+(n*12|0)+4|0;h=+l[c>>2];f=+l[t+(n*12|0)+8>>2];n=e+112|0;d=o[n>>2]|0;p=+l[t+(d*12|0)>>2];_=+l[t+(d*12|0)+4>>2];m=+l[t+(d*12|0)+8>>2];b=+W(+f);g=+H(+f);y=+W(+m);v=+H(+m);x=+l[e+80>>2]-+l[e+140>>2];w=+l[e+84>>2]-+l[e+144>>2];S=g*x-b*w;E=b*x+g*w;w=+l[e+88>>2]-+l[e+148>>2];g=+l[e+92>>2]-+l[e+152>>2];x=v*w-y*g;b=y*w+v*g;g=p+x-u-S;v=_+b-h-E;w=+J(+(g*g+v*v));if(w<1.1920928955078125E-7){A=0;T=g;P=v}else{y=1/w;A=w;T=g*y;P=v*y}y=A-+l[e+104>>2];A=y<.20000000298023224?y:.20000000298023224;y=A<-.20000000298023224?-.20000000298023224:A;A=-(+l[e+172>>2]*y);v=T*A;T=P*A;A=+l[e+156>>2];P=f-+l[e+164>>2]*(S*T-E*v);E=+l[e+160>>2];S=m+ +l[e+168>>2]*(x*T-b*v);l[a>>2]=u-A*v;l[c>>2]=h-A*T;c=o[s>>2]|0;l[c+((o[i>>2]|0)*12|0)+8>>2]=P;i=o[n>>2]|0;l[c+(i*12|0)>>2]=p+E*v;l[c+(i*12|0)+4>>2]=_+E*T;l[(o[s>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=S;r=(y>0?y:-y)<.004999999888241291;return r|0}function yr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+80>>2];s=+l[r+20>>2];a=+l[t+84>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function vr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+88>>2];s=+l[r+20>>2];a=+l[t+92>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function xr(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+100>>2]*r;r=i*+l[t+120>>2];l[e>>2]=+l[t+116>>2]*i;l[e+4>>2]=r;return}function wr(e,t){e=e|0;t=+t;return 0}function Sr(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;t=h;h=h+96|0;r=t+88|0;i=t+80|0;n=t+72|0;a=t+64|0;u=t+48|0;f=t+32|0;d=t+24|0;p=t+16|0;_=t+8|0;m=o[(o[e+48>>2]|0)+8>>2]|0;b=o[(o[e+52>>2]|0)+8>>2]|0;Jd(3812,t);o[_>>2]=m;Jd(4769,_);o[p>>2]=b;Jd(4795,p);o[d>>2]=s[e+61>>0];Jd(4821,d);g=+l[e+84>>2];c[f>>3]=+l[e+80>>2];c[f+8>>3]=g;Jd(4942,f);g=+l[e+92>>2];c[u>>3]=+l[e+88>>2];c[u+8>>3]=g;Jd(4984,u);c[a>>3]=+l[e+104>>2];Jd(3838,a);c[n>>3]=+l[e+68>>2];Jd(4670,n);c[i>>3]=+l[e+72>>2];Jd(4699,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Er(e){e=e|0;op(e);return}function Ar(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0;o[e+8>>2]=t;o[e+12>>2]=r;n=+l[i>>2]-+l[t+12>>2];s=i+4|0;a=+l[s>>2]-+l[t+16>>2];u=+l[t+24>>2];c=+l[t+20>>2];l[e+20>>2]=n*u+a*c;l[e+24>>2]=u*a-n*c;c=+l[i>>2]-+l[r+12>>2];n=+l[s>>2]-+l[r+16>>2];a=+l[r+24>>2];u=+l[r+20>>2];l[e+28>>2]=c*a+n*u;l[e+32>>2]=a*n-c*u;return}function Tr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;Ui(e,t);o[e>>2]=1276;r=t+20|0;i=o[r+4>>2]|0;n=e+68|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;i=t+28|0;n=o[i+4>>2]|0;r=e+76|0;o[r>>2]=o[i>>2];o[r+4>>2]=n;l[e+84>>2]=0;l[e+88>>2]=0;l[e+92>>2]=0;o[e+96>>2]=o[t+36>>2];o[e+100>>2]=o[t+40>>2];return}function Pr(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+104|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+108|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+128|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+136|0;o[h>>2]=_;o[h+4>>2]=m;h=o[r+136>>2]|0;o[e+144>>2]=h;b=o[a+136>>2]|0;o[e+148>>2]=b;g=o[r+144>>2]|0;o[e+152>>2]=g;r=o[a+144>>2]|0;o[e+156>>2]=r;a=o[t+28>>2]|0;y=+l[a+(n*12|0)+8>>2];v=t+32|0;x=o[v>>2]|0;w=o[x+(n*12|0)>>2]|0;S=o[x+(n*12|0)+4>>2]|0;E=+l[x+(n*12|0)+8>>2];A=+l[a+(u*12|0)+8>>2];a=o[x+(u*12|0)>>2]|0;n=o[x+(u*12|0)+4>>2]|0;T=+l[x+(u*12|0)+8>>2];P=+W(+y);C=+H(+y);y=+W(+A);M=+H(+A);A=+l[e+68>>2]-(o[d>>2]=f,+l[d>>2]);F=+l[e+72>>2]-(o[d>>2]=p,+l[d>>2]);I=C*A-P*F;O=P*A+C*F;l[e+112>>2]=I;l[e+116>>2]=O;F=+l[e+76>>2]-(o[d>>2]=_,+l[d>>2]);C=+l[e+80>>2]-(o[d>>2]=m,+l[d>>2]);A=M*F-y*C;P=y*F+M*C;l[e+120>>2]=A;l[e+124>>2]=P;C=(o[d>>2]=h,+l[d>>2]);M=(o[d>>2]=b,+l[d>>2]);F=(o[d>>2]=g,+l[d>>2]);y=(o[d>>2]=r,+l[d>>2]);D=C+M;k=D+O*(F*O)+P*(y*P);R=F*I;B=y*A;N=-(O*R)-P*B;L=D+I*R+A*B;B=k*L-N*N;R=B!=0?1/B:B;B=-(N*R);l[e+160>>2]=L*R;l[e+164>>2]=B;l[e+168>>2]=B;l[e+172>>2]=k*R;R=F+y;l[e+176>>2]=R>0?1/R:R;r=e+84|0;if(!(i[t+24>>0]|0)){l[r>>2]=0;l[e+88>>2]=0;l[e+92>>2]=0;G=w;U=S;z=a;j=n;J=E;X=T;V=o[s>>2]|0;Y=o[v>>2]|0;q=Y+(V*12|0)|0;o[q>>2]=G;K=Y+(V*12|0)+4|0;o[K>>2]=U;Z=o[s>>2]|0;Q=o[v>>2]|0;$=Q+(Z*12|0)+8|0;l[$>>2]=J;ee=o[c>>2]|0;te=Q+(ee*12|0)|0;o[te>>2]=z;re=Q+(ee*12|0)+4|0;o[re>>2]=j;ie=o[c>>2]|0;ne=o[v>>2]|0;oe=ne+(ie*12|0)+8|0;l[oe>>2]=X;return}else{R=+l[t+8>>2];k=R*+l[r>>2];l[r>>2]=k;r=e+88|0;B=R*+l[r>>2];l[r>>2]=B;r=e+92|0;L=R*+l[r>>2];l[r>>2]=L;r=(l[d>>2]=(o[d>>2]=w,+l[d>>2])-C*k,o[d>>2]|0);w=(l[d>>2]=(o[d>>2]=S,+l[d>>2])-C*B,o[d>>2]|0);S=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+M*k,o[d>>2]|0);G=r;U=w;z=S;j=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+M*B,o[d>>2]|0);J=E-F*(L+(B*I-k*O));X=T+y*(L+(B*A-k*P));V=o[s>>2]|0;Y=o[v>>2]|0;q=Y+(V*12|0)|0;o[q>>2]=G;K=Y+(V*12|0)+4|0;o[K>>2]=U;Z=o[s>>2]|0;Q=o[v>>2]|0;$=Q+(Z*12|0)+8|0;l[$>>2]=J;ee=o[c>>2]|0;te=Q+(ee*12|0)|0;o[te>>2]=z;re=Q+(ee*12|0)+4|0;o[re>>2]=j;ie=o[c>>2]|0;ne=o[v>>2]|0;oe=ne+(ie*12|0)+8|0;l[oe>>2]=X;return}}function Cr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0;r=e+104|0;i=o[r>>2]|0;n=t+32|0;s=o[n>>2]|0;a=s+(i*12|0)|0;u=+l[a>>2];c=s+(i*12|0)+4|0;h=+l[c>>2];f=+l[s+(i*12|0)+8>>2];i=e+108|0;d=o[i>>2]|0;p=+l[s+(d*12|0)>>2];_=+l[s+(d*12|0)+4>>2];m=+l[s+(d*12|0)+8>>2];b=+l[e+144>>2];g=+l[e+148>>2];y=+l[e+152>>2];v=+l[e+156>>2];x=+l[t>>2];t=e+92|0;w=+l[t>>2];S=x*+l[e+100>>2];E=w-(m-f)*+l[e+176>>2];A=-S;T=E<S?E:S;S=T<A?A:T;l[t>>2]=S;T=S-w;w=f-y*T;f=m+v*T;T=+l[e+124>>2];m=+l[e+120>>2];S=+l[e+116>>2];A=+l[e+112>>2];E=S*w+(p-T*f-u);P=_+m*f-h-A*w;C=+l[e+164>>2]*E+ +l[e+172>>2]*P;t=e+84|0;M=+l[t>>2];d=e+88|0;F=+l[d>>2];I=M-(+l[e+160>>2]*E+ +l[e+168>>2]*P);l[t>>2]=I;P=F-C;l[d>>2]=P;C=x*+l[e+96>>2];x=I*I+P*P;if(x>C*C){E=+J(+x);if(E<1.1920928955078125E-7){O=P;D=I}else{x=1/E;E=I*x;l[t>>2]=E;k=P*x;l[d>>2]=k;O=k;D=E}E=C*D;l[t>>2]=E;D=C*O;l[d>>2]=D;R=E;B=D}else{R=I;B=P}P=R-M;M=B-F;l[a>>2]=u-b*P;l[c>>2]=h-b*M;c=o[n>>2]|0;l[c+((o[r>>2]|0)*12|0)+8>>2]=w-y*(A*M-P*S);r=o[i>>2]|0;l[c+(r*12|0)>>2]=p+g*P;l[c+(r*12|0)+4>>2]=_+g*M;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=f+v*(M*m-P*T);return}function Mr(e,t){e=e|0;t=t|0;return 1}function Fr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+68>>2];s=+l[r+20>>2];a=+l[t+72>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Ir(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+76>>2];s=+l[r+20>>2];a=+l[t+80>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Or(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+88>>2]*r;l[e>>2]=+l[t+84>>2]*r;l[e+4>>2]=i;return}function Dr(e,t){e=e|0;t=+t;return+(+l[e+92>>2]*t)}function kr(e,t){e=e|0;t=+t;l[e+96>>2]=t;return}function Rr(e,t){e=e|0;t=+t;l[e+100>>2]=t;return}function Br(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;t=h;h=h+96|0;r=t+80|0;i=t+72|0;n=t+64|0;a=t+48|0;u=t+32|0;f=t+24|0;d=t+16|0;p=t+8|0;_=o[(o[e+48>>2]|0)+8>>2]|0;m=o[(o[e+52>>2]|0)+8>>2]|0;Jd(3880,t);o[p>>2]=_;Jd(4769,p);o[d>>2]=m;Jd(4795,d);o[f>>2]=s[e+61>>0];Jd(4821,f);b=+l[e+72>>2];c[u>>3]=+l[e+68>>2];c[u+8>>3]=b;Jd(4942,u);b=+l[e+80>>2];c[a>>3]=+l[e+76>>2];c[a+8>>3]=b;Jd(4984,a);c[n>>3]=+l[e+96>>2];Jd(3906,n);c[i>>3]=+l[e+100>>2];Jd(3932,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Nr(e){e=e|0;op(e);return}function Lr(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0;o[e+8>>2]=t;o[e+12>>2]=r;n=+l[i>>2]-+l[t+12>>2];s=i+4|0;a=+l[s>>2]-+l[t+16>>2];u=+l[t+24>>2];c=+l[t+20>>2];l[e+20>>2]=n*u+a*c;l[e+24>>2]=u*a-n*c;c=+l[i>>2]-+l[r+12>>2];n=+l[s>>2]-+l[r+16>>2];a=+l[r+24>>2];u=+l[r+20>>2];l[e+28>>2]=c*a+n*u;l[e+32>>2]=a*n-c*u;l[e+36>>2]=+l[r+72>>2]-+l[t+72>>2];return}function Gr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;Ui(e,t);o[e>>2]=1328;r=t+20|0;i=o[r+4>>2]|0;n=e+80|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;i=t+28|0;n=o[i+4>>2]|0;r=e+88|0;o[r>>2]=o[i>>2];o[r+4>>2]=n;o[e+96>>2]=o[t+36>>2];o[e+68>>2]=o[t+40>>2];o[e+72>>2]=o[t+44>>2];l[e+104>>2]=0;l[e+108>>2]=0;l[e+112>>2]=0;return}function Ur(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0;r=h;h=h+48|0;n=r;s=o[e+48>>2]|0;a=o[s+8>>2]|0;u=e+116|0;o[u>>2]=a;c=o[e+52>>2]|0;f=o[c+8>>2]|0;p=e+120|0;o[p>>2]=f;_=s+44|0;m=o[_>>2]|0;b=o[_+4>>2]|0;_=e+140|0;o[_>>2]=m;o[_+4>>2]=b;_=c+44|0;g=o[_>>2]|0;y=o[_+4>>2]|0;_=e+148|0;o[_>>2]=g;o[_+4>>2]=y;_=o[s+136>>2]|0;o[e+156>>2]=_;v=o[c+136>>2]|0;o[e+160>>2]=v;x=o[s+144>>2]|0;o[e+164>>2]=x;s=o[c+144>>2]|0;o[e+168>>2]=s;c=o[t+28>>2]|0;w=+l[c+(a*12|0)+8>>2];S=t+32|0;E=o[S>>2]|0;A=o[E+(a*12|0)>>2]|0;T=o[E+(a*12|0)+4>>2]|0;P=+l[E+(a*12|0)+8>>2];C=+l[c+(f*12|0)+8>>2];c=o[E+(f*12|0)>>2]|0;a=o[E+(f*12|0)+4>>2]|0;M=+l[E+(f*12|0)+8>>2];F=+W(+w);I=+H(+w);O=+W(+C);D=+H(+C);k=+l[e+80>>2]-(o[d>>2]=m,+l[d>>2]);R=+l[e+84>>2]-(o[d>>2]=b,+l[d>>2]);B=I*k-F*R;N=F*k+I*R;b=e+124|0;l[b>>2]=B;m=e+128|0;l[m>>2]=N;R=+l[e+88>>2]-(o[d>>2]=g,+l[d>>2]);I=+l[e+92>>2]-(o[d>>2]=y,+l[d>>2]);k=D*R-O*I;F=O*R+D*I;y=e+132|0;l[y>>2]=k;g=e+136|0;l[g>>2]=F;I=(o[d>>2]=_,+l[d>>2]);D=(o[d>>2]=v,+l[d>>2]);R=(o[d>>2]=x,+l[d>>2]);O=(o[d>>2]=s,+l[d>>2]);L=I+D;l[n>>2]=L+R*(N*N)+O*(F*F);G=-(R*(N*B))-O*(F*k);l[n+12>>2]=G;U=-(R*N)-O*F;l[n+24>>2]=U;l[n+4>>2]=G;l[n+16>>2]=L+R*(B*B)+O*(k*k);L=R*B+O*k;l[n+28>>2]=L;l[n+8>>2]=U;l[n+20>>2]=L;L=R+O;l[n+32>>2]=L;s=e+68|0;x=e+172|0;if(+l[s>>2]>0){Bd(n,x);U=L>0?1/L:0;k=C-w-+l[e+96>>2];w=+l[s>>2]*6.2831854820251465;C=w*(U*w);B=+l[t>>2];G=B*(w*(U*2*+l[e+72>>2])+B*C);U=G!=0?1/G:0;l[e+100>>2]=U;G=L+U;l[e+204>>2]=G!=0?1/G:0;z=k*B*C*U}else{Nd(n,x);l[e+100>>2]=0;z=0}l[e+76>>2]=z;x=e+104|0;if(!(i[t+24>>0]|0)){l[x>>2]=0;l[e+108>>2]=0;l[e+112>>2]=0;j=A;J=T;X=c;V=a;Y=P;q=M;K=o[u>>2]|0;Z=o[S>>2]|0;Q=Z+(K*12|0)|0;o[Q>>2]=j;$=Z+(K*12|0)+4|0;o[$>>2]=J;ee=o[u>>2]|0;te=o[S>>2]|0;re=te+(ee*12|0)+8|0;l[re>>2]=Y;ie=o[p>>2]|0;ne=te+(ie*12|0)|0;o[ne>>2]=X;oe=te+(ie*12|0)+4|0;o[oe>>2]=V;se=o[p>>2]|0;ae=o[S>>2]|0;ue=ae+(se*12|0)+8|0;l[ue>>2]=q;h=r;return}else{z=+l[t+8>>2];U=z*+l[x>>2];l[x>>2]=U;x=e+108|0;C=z*+l[x>>2];l[x>>2]=C;x=e+112|0;B=z*+l[x>>2];l[x>>2]=B;x=(l[d>>2]=(o[d>>2]=A,+l[d>>2])-I*U,o[d>>2]|0);A=(l[d>>2]=(o[d>>2]=T,+l[d>>2])-I*C,o[d>>2]|0);T=(l[d>>2]=(o[d>>2]=c,+l[d>>2])+D*U,o[d>>2]|0);j=x;J=A;X=T;V=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+D*C,o[d>>2]|0);Y=P-R*(B+(C*+l[b>>2]-U*+l[m>>2]));q=M+O*(B+(C*+l[y>>2]-U*+l[g>>2]));K=o[u>>2]|0;Z=o[S>>2]|0;Q=Z+(K*12|0)|0;o[Q>>2]=j;$=Z+(K*12|0)+4|0;o[$>>2]=J;ee=o[u>>2]|0;te=o[S>>2]|0;re=te+(ee*12|0)+8|0;l[re>>2]=Y;ie=o[p>>2]|0;ne=te+(ie*12|0)|0;o[ne>>2]=X;oe=te+(ie*12|0)+4|0;o[oe>>2]=V;se=o[p>>2]|0;ae=o[S>>2]|0;ue=ae+(se*12|0)+8|0;l[ue>>2]=q;h=r;return}}function zr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0;r=e+116|0;i=o[r>>2]|0;n=t+32|0;t=o[n>>2]|0;s=o[t+(i*12|0)>>2]|0;a=t+(i*12|0)+4|0;u=o[a>>2]|0;c=+l[t+(i*12|0)+8>>2];h=e+120|0;f=o[h>>2]|0;p=o[t+(f*12|0)>>2]|0;_=o[t+(f*12|0)+4>>2]|0;m=+l[t+(f*12|0)+8>>2];b=+l[e+156>>2];g=+l[e+160>>2];y=+l[e+164>>2];v=+l[e+168>>2];x=+l[e+204>>2];if(+l[e+68>>2]>0){f=e+112|0;w=+l[f>>2];S=x*(m-c+ +l[e+76>>2]+ +l[e+100>>2]*w);E=-S;l[f>>2]=w-S;S=c-y*E;w=m+v*E;E=+l[e+136>>2];A=+l[e+132>>2];T=(o[d>>2]=p,+l[d>>2]);P=(o[d>>2]=_,+l[d>>2]);C=(o[d>>2]=s,+l[d>>2]);M=(o[d>>2]=u,+l[d>>2]);F=+l[e+128>>2];I=+l[e+124>>2];O=F*S+(T-E*w-C);D=P+A*w-M-I*S;k=+l[e+172>>2]*O+ +l[e+184>>2]*D;R=+l[e+176>>2]*O+ +l[e+188>>2]*D;D=-k;O=-R;f=e+104|0;l[f>>2]=+l[f>>2]-k;f=e+108|0;l[f>>2]=+l[f>>2]-R;B=M-b*O;N=C-b*D;L=P+g*O;G=T+g*D;U=S-y*(I*O-F*D);z=w+v*(A*O-E*D);j=t+(i*12|0)|0;l[j>>2]=N;l[a>>2]=B;J=o[r>>2]|0;X=o[n>>2]|0;H=X+(J*12|0)+8|0;l[H>>2]=U;W=o[h>>2]|0;V=X+(W*12|0)|0;l[V>>2]=G;Y=X+(W*12|0)+4|0;l[Y>>2]=L;q=o[h>>2]|0;K=o[n>>2]|0;Z=K+(q*12|0)+8|0;l[Z>>2]=z;return}else{D=+l[e+136>>2];E=+l[e+132>>2];O=(o[d>>2]=p,+l[d>>2]);A=(o[d>>2]=_,+l[d>>2]);w=(o[d>>2]=s,+l[d>>2]);F=(o[d>>2]=u,+l[d>>2]);I=+l[e+128>>2];S=+l[e+124>>2];T=O-m*D-w+c*I;P=A+m*E-F-c*S;C=m-c;M=T*+l[e+172>>2]+P*+l[e+184>>2]+C*+l[e+196>>2];R=T*+l[e+176>>2]+P*+l[e+188>>2]+C*+l[e+200>>2];k=T*+l[e+180>>2]+P*+l[e+192>>2]+C*x;x=-M;C=-R;u=e+104|0;l[u>>2]=+l[u>>2]-M;u=e+108|0;l[u>>2]=+l[u>>2]-R;u=e+112|0;l[u>>2]=+l[u>>2]-k;B=F-b*C;N=w-b*x;L=A+g*C;G=O+g*x;U=c-y*(S*C-I*x-k);z=m+v*(E*C-D*x-k);j=t+(i*12|0)|0;l[j>>2]=N;l[a>>2]=B;J=o[r>>2]|0;X=o[n>>2]|0;H=X+(J*12|0)+8|0;l[H>>2]=U;W=o[h>>2]|0;V=X+(W*12|0)|0;l[V>>2]=G;Y=X+(W*12|0)+4|0;l[Y>>2]=L;q=o[h>>2]|0;K=o[n>>2]|0;Z=K+(q*12|0)+8|0;l[Z>>2]=z;return}}function jr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0;r=h;h=h+80|0;i=r+40|0;n=r+32|0;s=r+24|0;a=r+12|0;u=r;c=e+116|0;f=o[c>>2]|0;d=t+28|0;t=o[d>>2]|0;p=+l[t+(f*12|0)>>2];_=+l[t+(f*12|0)+4>>2];m=+l[t+(f*12|0)+8>>2];f=e+120|0;b=o[f>>2]|0;g=+l[t+(b*12|0)>>2];y=+l[t+(b*12|0)+4>>2];v=+l[t+(b*12|0)+8>>2];x=+W(+m);w=+H(+m);S=+W(+v);E=+H(+v);A=+l[e+156>>2];T=+l[e+160>>2];P=+l[e+164>>2];C=+l[e+168>>2];M=+l[e+80>>2]-+l[e+140>>2];F=+l[e+84>>2]-+l[e+144>>2];I=w*M-x*F;O=x*M+w*F;F=+l[e+88>>2]-+l[e+148>>2];w=+l[e+92>>2]-+l[e+152>>2];M=E*F-S*w;x=S*F+E*w;w=A+T;l[i>>2]=w+P*(O*O)+C*(x*x);E=-(P*(O*I))-C*(x*M);l[i+12>>2]=E;F=-(P*O)-C*x;l[i+24>>2]=F;l[i+4>>2]=E;l[i+16>>2]=w+P*(I*I)+C*(M*M);w=P*I+C*M;l[i+28>>2]=w;l[i+8>>2]=F;l[i+20>>2]=w;l[i+32>>2]=P+C;w=g+M-p-I;F=y+x-_-O;if(+l[e+68>>2]>0){l[n>>2]=w;l[n+4>>2]=F;E=+J(+(F*F+w*w));Rd(s,i,n);S=-+l[s>>2];D=-+l[s+4>>2];k=M*D-x*S;R=D;B=S;N=I*D-O*S;L=1;G=E}else{E=v-m-+l[e+96>>2];S=+J(+(w*w+F*F));l[a>>2]=w;l[a+4>>2]=F;l[a+8>>2]=E;kd(u,i,a);F=-+l[u>>2];w=-+l[u+4>>2];D=+l[u+8>>2];k=M*w-x*F-D;R=w;B=F;N=I*w-O*F-D;L=(E>0?E:-E)<=.03490658849477768;G=S}u=o[c>>2]|0;a=o[d>>2]|0;l[a+(u*12|0)>>2]=p-A*B;l[a+(u*12|0)+4>>2]=_-A*R;u=o[d>>2]|0;l[u+((o[c>>2]|0)*12|0)+8>>2]=m-P*N;c=o[f>>2]|0;l[u+(c*12|0)>>2]=g+T*B;l[u+(c*12|0)+4>>2]=y+T*R;l[(o[d>>2]|0)+((o[f>>2]|0)*12|0)+8>>2]=v+C*k;h=r;return G<=.004999999888241291&L|0}function Jr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+80>>2];s=+l[r+20>>2];a=+l[t+84>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Xr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+88>>2];s=+l[r+20>>2];a=+l[t+92>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Hr(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+108>>2]*r;l[e>>2]=+l[t+104>>2]*r;l[e+4>>2]=i;return}function Wr(e,t){e=e|0;t=+t;return+(+l[e+112>>2]*t)}function Vr(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;t=h;h=h+96|0;r=t+88|0;i=t+80|0;n=t+72|0;a=t+64|0;u=t+48|0;f=t+32|0;d=t+24|0;p=t+16|0;_=t+8|0;m=o[(o[e+48>>2]|0)+8>>2]|0;b=o[(o[e+52>>2]|0)+8>>2]|0;Jd(3973,t);o[_>>2]=m;Jd(4769,_);o[p>>2]=b;Jd(4795,p);o[d>>2]=s[e+61>>0];Jd(4821,d);g=+l[e+84>>2];c[f>>3]=+l[e+80>>2];c[f+8>>3]=g;Jd(4942,f);g=+l[e+92>>2];c[u>>3]=+l[e+88>>2];c[u+8>>3]=g;Jd(4984,u);c[a>>3]=+l[e+96>>2];Jd(4384,a);c[n>>3]=+l[e+68>>2];Jd(4670,n);c[i>>3]=+l[e+72>>2];Jd(4699,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Yr(e){e=e|0;op(e);return}function qr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0;Ui(e,t);o[e>>2]=1380;r=e+92|0;i=e+100|0;n=e+108|0;s=e+116|0;a=e+124|0;u=e+132|0;c=o[t+20>>2]|0;o[e+68>>2]=c;h=t+24|0;f=o[h>>2]|0;o[e+72>>2]=f;p=c;c=o[p+4>>2]|0;o[e+76>>2]=c;_=f;f=o[_+4>>2]|0;o[e+80>>2]=f;m=o[p+48>>2]|0;o[e+84>>2]=m;b=o[p+52>>2]|0;o[e+48>>2]=b;g=+l[b+20>>2];y=+l[b+24>>2];v=m;x=+l[v+20>>2];w=+l[v+24>>2];if((c|0)==1){S=+l[b+72>>2];E=+l[v+72>>2];c=p+68|0;m=o[c+4>>2]|0;A=n;o[A>>2]=o[c>>2];o[A+4>>2]=m;m=p+76|0;A=o[m+4>>2]|0;c=r;o[c>>2]=o[m>>2];o[c+4>>2]=A;A=o[p+116>>2]|0;o[e+140>>2]=A;l[a>>2]=0;l[e+128>>2]=0;T=S-E-(o[d>>2]=A,+l[d>>2])}else{E=+l[v+16>>2];S=+l[v+12>>2];P=+l[b+16>>2];C=+l[b+12>>2];b=p+68|0;v=o[b>>2]|0;A=o[b+4>>2]|0;b=n;o[b>>2]=v;o[b+4>>2]=A;b=p+76|0;n=o[b>>2]|0;c=o[b+4>>2]|0;b=r;o[b>>2]=n;o[b+4>>2]=c;o[e+140>>2]=o[p+100>>2];b=p+84|0;p=o[b>>2]|0;r=o[b+4>>2]|0;b=a;o[b>>2]=p;o[b+4>>2]=r;M=(o[d>>2]=v,+l[d>>2]);F=(o[d>>2]=A,+l[d>>2]);I=(o[d>>2]=n,+l[d>>2]);O=(o[d>>2]=c,+l[d>>2]);D=C-S+(y*I-g*O);S=P-E+(g*I+y*O);O=(o[d>>2]=p,+l[d>>2])*(w*D+x*S-M);T=O+(o[d>>2]=r,+l[d>>2])*(w*S-x*D-F)}r=o[_+48>>2]|0;o[e+88>>2]=r;p=o[_+52>>2]|0;o[e+52>>2]=p;F=+l[p+20>>2];D=+l[p+24>>2];_=r;x=+l[_+20>>2];S=+l[_+24>>2];r=o[h>>2]|0;if((f|0)==1){w=+l[p+72>>2];O=+l[_+72>>2];f=r+68|0;h=o[f+4>>2]|0;c=s;o[c>>2]=o[f>>2];o[c+4>>2]=h;h=r+76|0;c=o[h+4>>2]|0;f=i;o[f>>2]=o[h>>2];o[f+4>>2]=c;c=o[r+116>>2]|0;o[e+144>>2]=c;l[u>>2]=0;l[e+136>>2]=0;k=w-O-(o[d>>2]=c,+l[d>>2]);R=t+28|0;B=+l[R>>2];N=e+152|0;l[N>>2]=B;L=k*B;G=T+L;U=e+148|0;l[U>>2]=G;z=e+156|0;l[z>>2]=0;return}else{O=+l[_+16>>2];w=+l[_+12>>2];M=+l[p+16>>2];y=+l[p+12>>2];p=r+68|0;_=o[p>>2]|0;c=o[p+4>>2]|0;p=s;o[p>>2]=_;o[p+4>>2]=c;p=r+76|0;s=o[p>>2]|0;f=o[p+4>>2]|0;p=i;o[p>>2]=s;o[p+4>>2]=f;o[e+144>>2]=o[r+100>>2];p=r+84|0;r=o[p>>2]|0;i=o[p+4>>2]|0;p=u;o[p>>2]=r;o[p+4>>2]=i;I=(o[d>>2]=_,+l[d>>2]);g=(o[d>>2]=c,+l[d>>2]);E=(o[d>>2]=s,+l[d>>2]);P=(o[d>>2]=f,+l[d>>2]);C=y-w+(D*E-F*P);w=M-O+(F*E+D*P);P=(o[d>>2]=r,+l[d>>2])*(S*C+x*w-I);k=P+(o[d>>2]=i,+l[d>>2])*(S*w-x*C-g);R=t+28|0;B=+l[R>>2];N=e+152|0;l[N>>2]=B;L=k*B;G=T+L;U=e+148|0;l[U>>2]=G;z=e+156|0;l[z>>2]=0;return}}function Kr(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0,Ne=0,Le=0,Ge=0,Ue=0,ze=0,je=0,Je=0,Xe=0,He=0,We=0,Ve=0,Ye=0,qe=0,Ke=0,Ze=0,Qe=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+160|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+164|0;o[c>>2]=u;h=o[e+84>>2]|0;f=e+168|0;o[f>>2]=o[h+8>>2];p=o[e+88>>2]|0;_=e+172|0;o[_>>2]=o[p+8>>2];m=e+176|0;b=r+44|0;g=o[b+4>>2]|0;y=m;o[y>>2]=o[b>>2];o[y+4>>2]=g;g=e+184|0;y=a+44|0;b=o[y+4>>2]|0;v=g;o[v>>2]=o[y>>2];o[v+4>>2]=b;b=e+192|0;v=h+44|0;y=o[v+4>>2]|0;x=b;o[x>>2]=o[v>>2];o[x+4>>2]=y;y=e+200|0;x=p+44|0;v=o[x+4>>2]|0;w=y;o[w>>2]=o[x>>2];o[w+4>>2]=v;v=e+208|0;o[v>>2]=o[r+136>>2];w=e+212|0;o[w>>2]=o[a+136>>2];x=o[h+136>>2]|0;o[e+216>>2]=x;S=o[p+136>>2]|0;o[e+220>>2]=S;E=o[r+144>>2]|0;o[e+224>>2]=E;r=o[a+144>>2]|0;o[e+228>>2]=r;a=o[h+144>>2]|0;o[e+232>>2]=a;h=o[p+144>>2]|0;o[e+236>>2]=h;p=o[t+28>>2]|0;A=+l[p+(n*12|0)+8>>2];T=t+32|0;P=o[T>>2]|0;C=o[P+(n*12|0)>>2]|0;M=o[P+(n*12|0)+4>>2]|0;F=+l[P+(n*12|0)+8>>2];I=+l[p+(u*12|0)+8>>2];n=o[P+(u*12|0)>>2]|0;O=o[P+(u*12|0)+4>>2]|0;D=+l[P+(u*12|0)+8>>2];u=o[f>>2]|0;k=+l[p+(u*12|0)+8>>2];R=o[P+(u*12|0)>>2]|0;B=o[P+(u*12|0)+4>>2]|0;N=+l[P+(u*12|0)+8>>2];u=o[_>>2]|0;L=+l[p+(u*12|0)+8>>2];p=o[P+(u*12|0)>>2]|0;G=o[P+(u*12|0)+4>>2]|0;U=+l[P+(u*12|0)+8>>2];z=+W(+A);j=+H(+A);A=+W(+I);J=+H(+I);I=+W(+k);X=+H(+k);k=+W(+L);V=+H(+L);u=e+272|0;l[u>>2]=0;L=(o[d>>2]=x,+l[d>>2]);Y=(o[d>>2]=a,+l[d>>2]);q=(o[d>>2]=E,+l[d>>2]);K=(o[d>>2]=S,+l[d>>2]);Z=(o[d>>2]=h,+l[d>>2]);Q=(o[d>>2]=r,+l[d>>2]);if((o[e+76>>2]|0)==1){l[e+264>>2]=1;$=q+Y;ee=0;te=0;re=1;ie=1}else{ne=+l[e+124>>2];oe=+l[e+128>>2];se=X*ne-I*oe;ae=I*ne+X*oe;oe=+l[e+108>>2]-+l[b>>2];ne=+l[e+112>>2]-+l[e+196>>2];ue=+l[e+92>>2]-+l[m>>2];le=+l[e+96>>2]-+l[e+180>>2];ce=ae*(X*oe-I*ne)-se*(I*oe+X*ne);l[e+264>>2]=ce;ne=ae*(j*ue-z*le)-se*(z*ue+j*le);$=L+ +l[v>>2]+ce*(Y*ce)+ne*(q*ne);ee=se;te=ae;re=ne;ie=ce}ce=$+0;l[e+240>>2]=ee;l[e+244>>2]=te;l[e+256>>2]=re;l[u>>2]=ce;if((o[e+80>>2]|0)==1){m=o[e+152>>2]|0;o[e+260>>2]=m;o[e+268>>2]=m;$=(o[d>>2]=m,+l[d>>2]);he=$*$*(Q+Z);fe=0;de=0;pe=$;_e=$}else{$=+l[e+132>>2];ne=+l[e+136>>2];ae=V*$-k*ne;se=k*$+V*ne;ne=+l[e+116>>2]-+l[y>>2];$=+l[e+120>>2]-+l[e+204>>2];le=+l[e+100>>2]-+l[g>>2];j=+l[e+104>>2]-+l[e+188>>2];ue=+l[e+152>>2];z=(se*(V*ne-k*$)-ae*(k*ne+V*$))*ue;l[e+268>>2]=z;$=ue*(se*(J*le-A*j)-ae*(A*le+J*j));l[e+260>>2]=$;he=ue*ue*(K+ +l[w>>2])+z*(Z*z)+$*($*Q);fe=ae*ue;de=se*ue;pe=$;_e=z}z=ce+he;l[e+248>>2]=fe;l[e+252>>2]=de;l[u>>2]=z>0?1/z:0;if(!(i[t+24>>0]|0)){l[e+156>>2]=0;me=C;be=M;ge=n;ye=O;ve=R;xe=B;we=p;Se=G;Ee=F;Ae=D;Te=N;Pe=U;Ce=o[s>>2]|0;Me=o[T>>2]|0;Fe=Me+(Ce*12|0)|0;o[Fe>>2]=me;Ie=Me+(Ce*12|0)+4|0;o[Ie>>2]=be;Oe=o[s>>2]|0;De=o[T>>2]|0;ke=De+(Oe*12|0)+8|0;l[ke>>2]=Ee;Re=o[c>>2]|0;Be=De+(Re*12|0)|0;o[Be>>2]=ge;Ne=De+(Re*12|0)+4|0;o[Ne>>2]=ye;Le=o[c>>2]|0;Ge=o[T>>2]|0;Ue=Ge+(Le*12|0)+8|0;l[Ue>>2]=Ae;ze=o[f>>2]|0;je=Ge+(ze*12|0)|0;o[je>>2]=ve;Je=Ge+(ze*12|0)+4|0;o[Je>>2]=xe;Xe=o[f>>2]|0;He=o[T>>2]|0;We=He+(Xe*12|0)+8|0;l[We>>2]=Te;Ve=o[_>>2]|0;Ye=He+(Ve*12|0)|0;o[Ye>>2]=we;qe=He+(Ve*12|0)+4|0;o[qe>>2]=Se;Ke=o[_>>2]|0;Ze=o[T>>2]|0;Qe=Ze+(Ke*12|0)+8|0;l[Qe>>2]=Pe;return}else{z=+l[e+156>>2];he=+l[v>>2]*z;v=(l[d>>2]=(o[d>>2]=C,+l[d>>2])+ee*he,o[d>>2]|0);C=(l[d>>2]=(o[d>>2]=M,+l[d>>2])+he*te,o[d>>2]|0);he=z*+l[w>>2];w=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+fe*he,o[d>>2]|0);n=(l[d>>2]=(o[d>>2]=O,+l[d>>2])+he*de,o[d>>2]|0);he=z*L;O=(l[d>>2]=(o[d>>2]=R,+l[d>>2])-ee*he,o[d>>2]|0);R=(l[d>>2]=(o[d>>2]=B,+l[d>>2])-te*he,o[d>>2]|0);he=z*K;B=(l[d>>2]=(o[d>>2]=p,+l[d>>2])-fe*he,o[d>>2]|0);me=v;be=C;ge=w;ye=n;ve=O;xe=R;we=B;Se=(l[d>>2]=(o[d>>2]=G,+l[d>>2])-de*he,o[d>>2]|0);Ee=F+z*q*re;Ae=D+z*Q*pe;Te=N-z*Y*ie;Pe=U-z*Z*_e;Ce=o[s>>2]|0;Me=o[T>>2]|0;Fe=Me+(Ce*12|0)|0;o[Fe>>2]=me;Ie=Me+(Ce*12|0)+4|0;o[Ie>>2]=be;Oe=o[s>>2]|0;De=o[T>>2]|0;ke=De+(Oe*12|0)+8|0;l[ke>>2]=Ee;Re=o[c>>2]|0;Be=De+(Re*12|0)|0;o[Be>>2]=ge;Ne=De+(Re*12|0)+4|0;o[Ne>>2]=ye;Le=o[c>>2]|0;Ge=o[T>>2]|0;Ue=Ge+(Le*12|0)+8|0;l[Ue>>2]=Ae;ze=o[f>>2]|0;je=Ge+(ze*12|0)|0;o[je>>2]=ve;Je=Ge+(ze*12|0)+4|0;o[Je>>2]=xe;Xe=o[f>>2]|0;He=o[T>>2]|0;We=He+(Xe*12|0)+8|0;l[We>>2]=Te;Ve=o[_>>2]|0;Ye=He+(Ve*12|0)|0;o[Ye>>2]=we;qe=He+(Ve*12|0)+4|0;o[qe>>2]=Se;Ke=o[_>>2]|0;Ze=o[T>>2]|0;Qe=Ze+(Ke*12|0)+8|0;l[Qe>>2]=Pe;return}}function Zr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0;r=e+160|0;i=o[r>>2]|0;n=t+32|0;t=o[n>>2]|0;s=+l[t+(i*12|0)>>2];a=+l[t+(i*12|0)+4>>2];u=+l[t+(i*12|0)+8>>2];i=e+164|0;c=o[i>>2]|0;h=+l[t+(c*12|0)>>2];f=+l[t+(c*12|0)+4>>2];d=+l[t+(c*12|0)+8>>2];c=e+168|0;p=o[c>>2]|0;_=+l[t+(p*12|0)>>2];m=+l[t+(p*12|0)+4>>2];b=+l[t+(p*12|0)+8>>2];p=e+172|0;g=o[p>>2]|0;y=+l[t+(g*12|0)>>2];v=+l[t+(g*12|0)+4>>2];x=+l[t+(g*12|0)+8>>2];w=+l[e+240>>2];S=+l[e+244>>2];E=+l[e+248>>2];A=+l[e+252>>2];T=+l[e+256>>2];P=+l[e+264>>2];C=+l[e+260>>2];M=+l[e+268>>2];F=+l[e+272>>2]*((s-_)*w+(a-m)*S+((h-y)*E+(f-v)*A)+(u*T-b*P+(d*C-x*M)));I=-F;g=e+156|0;l[g>>2]=+l[g>>2]-F;F=+l[e+208>>2]*I;O=u+ +l[e+224>>2]*I*T;T=+l[e+212>>2]*I;u=d+ +l[e+228>>2]*I*C;C=+l[e+216>>2]*I;d=b-+l[e+232>>2]*I*P;P=+l[e+220>>2]*I;b=x-+l[e+236>>2]*I*M;e=o[r>>2]|0;g=o[n>>2]|0;l[g+(e*12|0)>>2]=s+w*F;l[g+(e*12|0)+4>>2]=a+S*F;e=o[n>>2]|0;l[e+((o[r>>2]|0)*12|0)+8>>2]=O;r=o[i>>2]|0;l[e+(r*12|0)>>2]=h+E*T;l[e+(r*12|0)+4>>2]=f+T*A;r=o[n>>2]|0;l[r+((o[i>>2]|0)*12|0)+8>>2]=u;i=o[c>>2]|0;l[r+(i*12|0)>>2]=_-w*C;l[r+(i*12|0)+4>>2]=m-S*C;i=o[n>>2]|0;l[i+((o[c>>2]|0)*12|0)+8>>2]=d;c=o[p>>2]|0;l[i+(c*12|0)>>2]=y-E*P;l[i+(c*12|0)+4>>2]=v-A*P;l[(o[n>>2]|0)+((o[p>>2]|0)*12|0)+8>>2]=b;return}function Qr(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0;r=e+160|0;i=o[r>>2]|0;n=t+28|0;t=o[n>>2]|0;s=o[t+(i*12|0)>>2]|0;a=t+(i*12|0)+4|0;u=o[a>>2]|0;c=+l[t+(i*12|0)+8>>2];h=e+164|0;f=o[h>>2]|0;p=o[t+(f*12|0)>>2]|0;_=o[t+(f*12|0)+4>>2]|0;m=+l[t+(f*12|0)+8>>2];f=e+168|0;b=o[f>>2]|0;g=o[t+(b*12|0)>>2]|0;y=o[t+(b*12|0)+4>>2]|0;v=+l[t+(b*12|0)+8>>2];b=e+172|0;x=o[b>>2]|0;w=o[t+(x*12|0)>>2]|0;S=o[t+(x*12|0)+4>>2]|0;E=+l[t+(x*12|0)+8>>2];A=+W(+c);T=+H(+c);P=+W(+m);C=+H(+m);M=+W(+v);F=+H(+v);I=+W(+E);O=+H(+E);D=+l[e+224>>2];k=+l[e+232>>2];if((o[e+76>>2]|0)==1){R=0;B=0;N=1;L=1;G=c-v-+l[e+140>>2];U=D+k}else{z=+l[e+124>>2];j=+l[e+128>>2];J=F*z-M*j;X=M*z+F*j;V=+l[e+108>>2]-+l[e+192>>2];Y=+l[e+112>>2]-+l[e+196>>2];q=+l[e+92>>2]-+l[e+176>>2];K=+l[e+96>>2]-+l[e+180>>2];Z=T*q-A*K;Q=A*q+T*K;K=X*(F*V-M*Y)-J*(M*V+F*Y);T=X*Z-J*Q;q=(o[d>>2]=s,+l[d>>2]);A=q-(o[d>>2]=g,+l[d>>2]);q=(o[d>>2]=u,+l[d>>2]);$=A+Z;Z=q-(o[d>>2]=y,+l[d>>2])+Q;R=J;B=X;N=T;L=K;G=z*(F*$+M*Z-V)+j*(F*Z-M*$-Y);U=+l[e+216>>2]+ +l[e+208>>2]+K*(K*k)+T*(D*T)}T=+l[e+152>>2];K=+l[e+228>>2];if((o[e+80>>2]|0)==1){Y=+l[e+236>>2];ee=T*T*(K+Y);te=0;re=0;ie=Y;ne=T;oe=T;se=m-E-+l[e+144>>2]}else{Y=+l[e+132>>2];$=+l[e+136>>2];M=O*Y-I*$;Z=I*Y+O*$;F=+l[e+116>>2]-+l[e+200>>2];j=+l[e+120>>2]-+l[e+204>>2];V=+l[e+100>>2]-+l[e+184>>2];z=+l[e+104>>2]-+l[e+188>>2];X=C*V-P*z;J=P*V+C*z;z=T*(Z*(O*F-I*j)-M*(I*F+O*j));C=T*(Z*X-M*J);V=+l[e+236>>2];P=(o[d>>2]=p,+l[d>>2]);Q=P-(o[d>>2]=w,+l[d>>2]);P=(o[d>>2]=_,+l[d>>2]);q=Q+X;X=P-(o[d>>2]=S,+l[d>>2])+J;ee=T*T*(+l[e+220>>2]+ +l[e+212>>2])+z*(z*V)+C*(K*C);te=M*T;re=Z*T;ie=V;ne=C;oe=z;se=Y*(O*q+I*X-F)+$*(O*X-I*q-j)}j=U+0+ee;if(j>0)ae=-(G+se*T-+l[e+148>>2])/j;else ae=0;j=ae*+l[e+208>>2];T=(o[d>>2]=s,+l[d>>2])+R*j;se=(o[d>>2]=u,+l[d>>2])+B*j;j=ae*+l[e+212>>2];G=(o[d>>2]=p,+l[d>>2])+te*j;ee=(o[d>>2]=_,+l[d>>2])+re*j;j=ae*+l[e+216>>2];U=(o[d>>2]=g,+l[d>>2])-R*j;R=(o[d>>2]=y,+l[d>>2])-B*j;j=ae*+l[e+220>>2];B=(o[d>>2]=w,+l[d>>2])-te*j;te=(o[d>>2]=S,+l[d>>2])-re*j;l[t+(i*12|0)>>2]=T;l[a>>2]=se;a=o[n>>2]|0;l[a+((o[r>>2]|0)*12|0)+8>>2]=c+N*(ae*D);r=o[h>>2]|0;l[a+(r*12|0)>>2]=G;l[a+(r*12|0)+4>>2]=ee;r=o[n>>2]|0;l[r+((o[h>>2]|0)*12|0)+8>>2]=m+ne*(ae*K);h=o[f>>2]|0;l[r+(h*12|0)>>2]=U;l[r+(h*12|0)+4>>2]=R;h=o[n>>2]|0;l[h+((o[f>>2]|0)*12|0)+8>>2]=v-L*(ae*k);f=o[b>>2]|0;l[h+(f*12|0)>>2]=B;l[h+(f*12|0)+4>>2]=te;l[(o[n>>2]|0)+((o[b>>2]|0)*12|0)+8>>2]=E-oe*(ae*ie);return 1}function $r(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+92>>2];s=+l[r+20>>2];a=+l[t+96>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function ei(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+100>>2];s=+l[r+20>>2];a=+l[t+104>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function ti(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0;i=+l[t+156>>2];n=i*+l[t+244>>2]*r;l[e>>2]=i*+l[t+240>>2]*r;l[e+4>>2]=n;return}function ri(e,t){e=e|0;t=+t;return+(+l[e+156>>2]*+l[e+256>>2]*t)}function ii(e,t){e=e|0;t=+t;l[e+152>>2]=t;return}function ni(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0;t=h;h=h+64|0;r=t+56|0;i=t+48|0;n=t+40|0;a=t+32|0;u=t+24|0;f=t+16|0;d=t+8|0;p=o[(o[e+48>>2]|0)+8>>2]|0;_=o[(o[e+52>>2]|0)+8>>2]|0;m=o[(o[e+68>>2]|0)+56>>2]|0;b=o[(o[e+72>>2]|0)+56>>2]|0;Jd(4009,t);o[d>>2]=p;Jd(4769,d);o[f>>2]=_;Jd(4795,f);o[u>>2]=s[e+61>>0];Jd(4821,u);o[a>>2]=m;Jd(4031,a);o[n>>2]=b;Jd(4058,n);c[i>>3]=+l[e+152>>2];Jd(5076,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function oi(e){e=e|0;op(e);return}function si(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0;o[e+8>>2]=t;o[e+12>>2]=r;s=+l[i>>2]-+l[t+12>>2];a=i+4|0;u=+l[a>>2]-+l[t+16>>2];c=t+24|0;h=+l[c>>2];f=t+20|0;d=+l[f>>2];l[e+20>>2]=s*h+u*d;l[e+24>>2]=h*u-s*d;d=+l[i>>2]-+l[r+12>>2];s=+l[a>>2]-+l[r+16>>2];u=+l[r+24>>2];h=+l[r+20>>2];l[e+28>>2]=d*u+s*h;l[e+32>>2]=u*s-d*h;h=+l[c>>2];d=+l[n>>2];s=+l[f>>2];u=+l[n+4>>2];l[e+36>>2]=h*d+s*u;l[e+40>>2]=h*u-d*s;l[e+44>>2]=+l[r+72>>2]-+l[t+72>>2];return}function ai(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0;Ui(e,t);o[e>>2]=1432;r=e+84|0;n=t+20|0;s=o[n+4>>2]|0;a=e+68|0;o[a>>2]=o[n>>2];o[a+4>>2]=s;s=t+28|0;a=o[s+4>>2]|0;n=e+76|0;o[n>>2]=o[s>>2];o[n+4>>2]=a;a=t+36|0;n=o[a>>2]|0;s=o[a+4>>2]|0;a=r;o[a>>2]=n;o[a+4>>2]=s;u=(o[d>>2]=n,+l[d>>2]);c=(o[d>>2]=s,+l[d>>2]);h=+J(+(u*u+c*c));if(h<1.1920928955078125E-7){f=c;p=n}else{_=1/h;h=u*_;l[r>>2]=h;u=c*_;l[e+88>>2]=u;f=u;p=(l[d>>2]=h,o[d>>2]|0)}l[e+92>>2]=-f;o[e+96>>2]=p;o[e+100>>2]=o[t+44>>2];p=e+104|0;l[e+252>>2]=0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[e+120>>2]=o[t+52>>2];o[e+124>>2]=o[t+56>>2];o[e+128>>2]=o[t+64>>2];o[e+132>>2]=o[t+68>>2];i[e+136>>0]=i[t+48>>0]|0;i[e+137>>0]=i[t+60>>0]|0;o[e+140>>2]=0;t=e+184|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function ui(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+144|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+148|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+152|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+160|0;o[h>>2]=_;o[h+4>>2]=m;h=o[r+136>>2]|0;o[e+168>>2]=h;b=o[a+136>>2]|0;o[e+172>>2]=b;g=o[r+144>>2]|0;o[e+176>>2]=g;r=o[a+144>>2]|0;o[e+180>>2]=r;a=o[t+28>>2]|0;y=+l[a+(n*12|0)+8>>2];v=t+32|0;x=o[v>>2]|0;w=o[x+(n*12|0)>>2]|0;S=o[x+(n*12|0)+4>>2]|0;E=+l[x+(n*12|0)+8>>2];A=+l[a+(u*12|0)+8>>2];T=o[x+(u*12|0)>>2]|0;P=o[x+(u*12|0)+4>>2]|0;C=+l[x+(u*12|0)+8>>2];M=+W(+y);F=+H(+y);y=+W(+A);I=+H(+A);A=+l[e+68>>2]-(o[d>>2]=f,+l[d>>2]);O=+l[e+72>>2]-(o[d>>2]=p,+l[d>>2]);D=F*A-M*O;k=M*A+F*O;O=+l[e+76>>2]-(o[d>>2]=_,+l[d>>2]);A=+l[e+80>>2]-(o[d>>2]=m,+l[d>>2]);R=I*O-y*A;B=y*O+I*A;A=+l[a+(u*12|0)>>2]-+l[a+(n*12|0)>>2]+R-D;I=+l[a+(u*12|0)+4>>2]-+l[a+(n*12|0)+4>>2]+B-k;O=(o[d>>2]=h,+l[d>>2]);y=(o[d>>2]=b,+l[d>>2]);N=(o[d>>2]=g,+l[d>>2]);L=(o[d>>2]=r,+l[d>>2]);G=+l[e+84>>2];U=+l[e+88>>2];z=F*G-M*U;j=M*G+F*U;l[e+184>>2]=z;l[e+188>>2]=j;U=D+A;D=k+I;k=U*j-D*z;l[e+208>>2]=k;G=R*j-B*z;l[e+212>>2]=G;J=O+y;X=N*k;V=L*G;Y=J+k*X+G*V;l[e+252>>2]=Y>0?1/Y:Y;q=+l[e+92>>2];K=+l[e+96>>2];Z=F*q-M*K;Q=M*q+F*K;l[e+192>>2]=Z;l[e+196>>2]=Q;K=U*Q-D*Z;l[e+200>>2]=K;D=R*Q-B*Z;l[e+204>>2]=D;B=N*K;R=L*D;U=B+R;F=B*k+R*G;q=N+L;M=X+V;l[e+216>>2]=J+K*B+D*R;l[e+220>>2]=U;l[e+224>>2]=F;l[e+228>>2]=U;l[e+232>>2]=q==0?1:q;l[e+236>>2]=M;l[e+240>>2]=F;l[e+244>>2]=M;l[e+248>>2]=Y;do{if(i[e+136>>0]|0){Y=A*z+I*j;M=+l[e+124>>2];F=+l[e+120>>2];q=M-F;if((q>0?q:-q)<.009999999776482582){o[e+140>>2]=3;break}if(Y<=F){r=e+140|0;if((o[r>>2]|0)==1)break;o[r>>2]=1;l[e+112>>2]=0;break}r=e+140|0;if(!(Y>=M)){o[r>>2]=0;l[e+112>>2]=0;break}if((o[r>>2]|0)!=2){o[r>>2]=2;l[e+112>>2]=0}}else{o[e+140>>2]=0;l[e+112>>2]=0}}while(0);if(!(i[e+137>>0]|0))l[e+116>>2]=0;r=e+104|0;if(!(i[t+24>>0]|0)){o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;$=w;ee=S;te=T;re=P;ie=E;ne=C;oe=o[s>>2]|0;se=o[v>>2]|0;ae=se+(oe*12|0)|0;o[ae>>2]=$;ue=se+(oe*12|0)+4|0;o[ue>>2]=ee;le=o[s>>2]|0;ce=o[v>>2]|0;he=ce+(le*12|0)+8|0;l[he>>2]=ie;fe=o[c>>2]|0;de=ce+(fe*12|0)|0;o[de>>2]=te;pe=ce+(fe*12|0)+4|0;o[pe>>2]=re;_e=o[c>>2]|0;me=o[v>>2]|0;be=me+(_e*12|0)+8|0;l[be>>2]=ne;return}else{I=+l[t+8>>2];A=I*+l[r>>2];l[r>>2]=A;r=e+108|0;M=I*+l[r>>2];l[r>>2]=M;r=e+112|0;Y=I*+l[r>>2];l[r>>2]=Y;r=e+116|0;F=I*+l[r>>2];l[r>>2]=F;I=F+Y;Y=A*Z+z*I;z=A*Q+I*j;r=(l[d>>2]=(o[d>>2]=w,+l[d>>2])-O*Y,o[d>>2]|0);w=(l[d>>2]=(o[d>>2]=S,+l[d>>2])-O*z,o[d>>2]|0);S=(l[d>>2]=(o[d>>2]=T,+l[d>>2])+y*Y,o[d>>2]|0);$=r;ee=w;te=S;re=(l[d>>2]=(o[d>>2]=P,+l[d>>2])+y*z,o[d>>2]|0);ie=E-N*(A*K+M+I*k);ne=C+L*(M+A*D+I*G);oe=o[s>>2]|0;se=o[v>>2]|0;ae=se+(oe*12|0)|0;o[ae>>2]=$;ue=se+(oe*12|0)+4|0;o[ue>>2]=ee;le=o[s>>2]|0;ce=o[v>>2]|0;he=ce+(le*12|0)+8|0;l[he>>2]=ie;fe=o[c>>2]|0;de=ce+(fe*12|0)|0;o[de>>2]=te;pe=ce+(fe*12|0)+4|0;o[pe>>2]=re;_e=o[c>>2]|0;me=o[v>>2]|0;be=me+(_e*12|0)+8|0;l[be>>2]=ne;return}}function li(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0;r=h;h=h+64|0;n=r+44|0;s=r+32|0;a=r+24|0;u=r+16|0;c=r+8|0;f=r;p=e+144|0;_=o[p>>2]|0;m=t+32|0;b=o[m>>2]|0;g=o[b+(_*12|0)>>2]|0;y=o[b+(_*12|0)+4>>2]|0;v=+l[b+(_*12|0)+8>>2];_=e+148|0;x=o[_>>2]|0;w=o[b+(x*12|0)>>2]|0;S=o[b+(x*12|0)+4>>2]|0;E=+l[b+(x*12|0)+8>>2];A=+l[e+168>>2];T=+l[e+172>>2];P=+l[e+176>>2];C=+l[e+180>>2];if((i[e+137>>0]|0)!=0?(o[e+140>>2]|0)!=3:0){M=(o[d>>2]=w,+l[d>>2]);F=(o[d>>2]=g,+l[d>>2]);I=(o[d>>2]=S,+l[d>>2]);O=(o[d>>2]=y,+l[d>>2]);D=+l[e+184>>2];k=+l[e+188>>2];R=+l[e+212>>2];B=+l[e+208>>2];x=e+116|0;N=+l[x>>2];L=+l[t>>2]*+l[e+128>>2];G=N+ +l[e+252>>2]*(+l[e+132>>2]-((M-F)*D+(I-O)*k+E*R-v*B));U=-L;z=G<L?G:L;L=z<U?U:z;l[x>>2]=L;z=L-N;N=D*z;D=k*z;x=(l[d>>2]=F-A*N,o[d>>2]|0);t=(l[d>>2]=O-A*D,o[d>>2]|0);b=(l[d>>2]=M+T*N,o[d>>2]|0);j=(l[d>>2]=I+T*D,o[d>>2]|0);J=t;X=b;H=x;W=v-P*(B*z);V=E+C*(R*z)}else{j=S;J=y;X=w;H=g;W=v;V=E}E=(o[d>>2]=X,+l[d>>2]);v=(o[d>>2]=H,+l[d>>2]);z=E-v;R=(o[d>>2]=j,+l[d>>2]);B=(o[d>>2]=J,+l[d>>2]);D=R-B;J=e+192|0;j=e+196|0;H=e+204|0;X=e+200|0;I=z*+l[J>>2]+D*+l[j>>2]+V*+l[H>>2]-W*+l[X>>2];N=V-W;if((i[e+136>>0]|0)!=0?(g=e+140|0,(o[g>>2]|0)!=0):0){w=e+184|0;y=e+188|0;S=e+212|0;x=e+208|0;M=+l[e+104>>2];b=e+108|0;O=+l[b>>2];t=e+112|0;F=+l[t>>2];Y=e+216|0;k=-I;L=-N;U=-(z*+l[w>>2]+D*+l[y>>2]+V*+l[S>>2]-W*+l[x>>2]);l[s>>2]=k;l[s+4>>2]=L;l[s+8>>2]=U;kd(n,Y,s);s=e+104|0;l[s>>2]=+l[n>>2]+ +l[s>>2];q=n+4|0;l[b>>2]=+l[q>>2]+ +l[b>>2];K=n+8|0;U=+l[K>>2]+ +l[t>>2];l[t>>2]=U;switch(o[g>>2]|0){case 1:{D=U>0?U:0;l[t>>2]=D;Z=D;break}case 2:{D=U<0?U:0;l[t>>2]=D;Z=D;break}default:Z=U}U=Z-F;Z=L-U*+l[e+244>>2];l[a>>2]=k-+l[e+240>>2]*U;l[a+4>>2]=Z;Rd(u,Y,a);Z=M+ +l[u>>2];U=O+ +l[u+4>>2];l[s>>2]=Z;l[b>>2]=U;k=Z-M;M=U-O;O=+l[t>>2]-F;l[n>>2]=k;l[q>>2]=M;l[K>>2]=O;Q=M+k*+l[H>>2]+O*+l[S>>2];$=k*+l[X>>2]+M+O*+l[x>>2];ee=k*+l[j>>2]+O*+l[y>>2];te=k*+l[J>>2]+O*+l[w>>2];re=A*te;ie=A*ee;ne=v-re;oe=B-ie;se=T*te;ae=T*ee;ue=E+se;le=R+ae;ce=P*$;he=C*Q;fe=W-ce;de=V+he;pe=o[p>>2]|0;_e=o[m>>2]|0;me=_e+(pe*12|0)|0;l[me>>2]=ne;be=_e+(pe*12|0)+4|0;l[be>>2]=oe;ge=o[p>>2]|0;ye=o[m>>2]|0;ve=ye+(ge*12|0)+8|0;l[ve>>2]=fe;xe=o[_>>2]|0;we=ye+(xe*12|0)|0;l[we>>2]=ue;Se=ye+(xe*12|0)+4|0;l[Se>>2]=le;Ee=o[_>>2]|0;Ae=o[m>>2]|0;Te=Ae+(Ee*12|0)+8|0;l[Te>>2]=de;h=r;return}l[f>>2]=-I;l[f+4>>2]=-N;Rd(c,e+216|0,f);N=+l[c>>2];f=e+104|0;l[f>>2]=N+ +l[f>>2];I=+l[c+4>>2];c=e+108|0;l[c>>2]=I+ +l[c>>2];Q=I+N*+l[H>>2];$=N*+l[X>>2]+I;ee=N*+l[j>>2];te=N*+l[J>>2];re=A*te;ie=A*ee;ne=v-re;oe=B-ie;se=T*te;ae=T*ee;ue=E+se;le=R+ae;ce=P*$;he=C*Q;fe=W-ce;de=V+he;pe=o[p>>2]|0;_e=o[m>>2]|0;me=_e+(pe*12|0)|0;l[me>>2]=ne;be=_e+(pe*12|0)+4|0;l[be>>2]=oe;ge=o[p>>2]|0;ye=o[m>>2]|0;ve=ye+(ge*12|0)+8|0;l[ve>>2]=fe;xe=o[_>>2]|0;we=ye+(xe*12|0)|0;l[we>>2]=ue;Se=ye+(xe*12|0)+4|0;l[Se>>2]=le;Ee=o[_>>2]|0;Ae=o[m>>2]|0;Te=Ae+(Ee*12|0)+8|0;l[Te>>2]=de;h=r;return}function ci(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0;r=h;h=h+64|0;n=r+24|0;s=r+12|0;a=r;u=e+144|0;c=o[u>>2]|0;f=t+28|0;t=o[f>>2]|0;p=+l[t+(c*12|0)>>2];_=+l[t+(c*12|0)+4>>2];m=+l[t+(c*12|0)+8>>2];c=e+148|0;b=o[c>>2]|0;g=+l[t+(b*12|0)>>2];y=+l[t+(b*12|0)+4>>2];v=+l[t+(b*12|0)+8>>2];x=+W(+m);w=+H(+m);S=+W(+v);E=+H(+v);A=+l[e+168>>2];T=+l[e+172>>2];P=+l[e+176>>2];C=+l[e+180>>2];M=+l[e+68>>2]-+l[e+152>>2];F=+l[e+72>>2]-+l[e+156>>2];I=w*M-x*F;O=x*M+w*F;F=+l[e+76>>2]-+l[e+160>>2];M=+l[e+80>>2]-+l[e+164>>2];D=E*F-S*M;k=S*F+E*M;M=g+D-p-I;E=y+k-_-O;F=+l[e+84>>2];S=+l[e+88>>2];R=w*F-x*S;B=x*F+w*S;S=I+M;I=O+E;O=B*S-R*I;F=D*B-k*R;N=+l[e+92>>2];L=+l[e+96>>2];G=w*N-x*L;U=x*N+w*L;L=U*S-G*I;I=D*U-k*G;k=G*M+U*E;D=v-m-+l[e+100>>2];S=-k;w=k>0?k:S;k=-D;N=D>0?D:k;do{if(i[e+136>>0]|0){D=R*M+B*E;x=+l[e+124>>2];z=+l[e+120>>2];j=x-z;if((j>0?j:-j)<.009999999776482582){j=D<.20000000298023224?D:.20000000298023224;J=D>0?D:-D;X=j<-.20000000298023224?-.20000000298023224:j;V=1;Y=w>J?w:J;break}if(D<=z){J=D-z+.004999999888241291;j=J<0?J:0;J=z-D;X=j<-.20000000298023224?-.20000000298023224:j;V=1;Y=w>J?w:J;break}if(D>=x){J=D-x;x=J+-.004999999888241291;D=x<.20000000298023224?x:.20000000298023224;X=D<0?0:D;V=1;Y=w>J?w:J}else{X=0;V=0;Y=w}}else{X=0;V=0;Y=w}}while(0);w=A+T;E=P*L;M=C*I;J=I*M+(w+L*E);D=M+E;if(V){x=F*M+O*E;E=P+C;M=P*O;j=C*F;z=j+M;l[n>>2]=J;l[n+4>>2]=D;l[n+8>>2]=x;l[n+12>>2]=D;l[n+16>>2]=E==0?1:E;l[n+20>>2]=z;l[n+24>>2]=x;l[n+28>>2]=z;l[n+32>>2]=F*j+(w+O*M);l[a>>2]=S;l[a+4>>2]=k;l[a+8>>2]=-X;kd(s,n,a);q=o[s>>2]|0;K=+l[s+8>>2];Z=o[s+4>>2]|0}else{X=P+C;M=X==0?1:X;X=M*J-D*D;w=X!=0?1/X:X;s=(l[d>>2]=(M*S-D*k)*w,o[d>>2]|0);q=s;K=0;Z=(l[d>>2]=(J*k-D*S)*w,o[d>>2]|0)}w=(o[d>>2]=q,+l[d>>2]);S=R*K+G*w;G=B*K+U*w;U=(o[d>>2]=Z,+l[d>>2]);Z=o[u>>2]|0;q=o[f>>2]|0;l[q+(Z*12|0)>>2]=p-A*S;l[q+(Z*12|0)+4>>2]=_-A*G;Z=o[f>>2]|0;l[Z+((o[u>>2]|0)*12|0)+8>>2]=m-P*(O*K+(U+L*w));u=o[c>>2]|0;l[Z+(u*12|0)>>2]=g+T*S;l[Z+(u*12|0)+4>>2]=y+T*G;l[(o[f>>2]|0)+((o[c>>2]|0)*12|0)+8>>2]=v+C*(F*K+(U+I*w));h=r;return N<=.03490658849477768&Y<=.004999999888241291|0}function hi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+68>>2];s=+l[r+20>>2];a=+l[t+72>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function fi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+76>>2];s=+l[r+20>>2];a=+l[t+80>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function di(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,o=0;i=+l[t+104>>2];n=+l[t+116>>2]+ +l[t+112>>2];o=(i*+l[t+196>>2]+n*+l[t+188>>2])*r;l[e>>2]=(i*+l[t+192>>2]+ +l[t+184>>2]*n)*r;l[e+4>>2]=o;return}function pi(e,t){e=e|0;t=+t;return+(+l[e+108>>2]*t)}function _i(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0;t=o[e+48>>2]|0;r=+l[t+24>>2];i=+l[e+68>>2];n=+l[t+20>>2];s=+l[e+72>>2];a=o[e+52>>2]|0;u=+l[a+24>>2];c=+l[e+76>>2];h=+l[a+20>>2];f=+l[e+80>>2];d=+l[e+84>>2];p=+l[e+88>>2];return+((+l[a+12>>2]+(u*c-h*f)-(+l[t+12>>2]+(r*i-n*s)))*(r*d-n*p)+(c*h+u*f+ +l[a+16>>2]-(i*n+r*s+ +l[t+16>>2]))*(n*d+r*p))}function mi(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0;t=o[e+48>>2]|0;r=o[e+52>>2]|0;i=+l[e+68>>2]-+l[t+44>>2];n=+l[e+72>>2]-+l[t+48>>2];s=+l[t+24>>2];a=+l[t+20>>2];u=i*s-n*a;c=s*n+i*a;i=+l[e+76>>2]-+l[r+44>>2];n=+l[e+80>>2]-+l[r+48>>2];h=+l[r+24>>2];f=+l[r+20>>2];d=i*h-n*f;p=h*n+i*f;f=+l[e+84>>2];i=+l[e+88>>2];n=s*f-a*i;h=a*f+s*i;i=+l[t+88>>2];s=+l[r+88>>2];return+((p+ +l[r+64>>2]-(c+ +l[t+64>>2]))*(n*i)-(d+ +l[r+60>>2]-(u+ +l[t+60>>2]))*(h*i)+(n*(c*i+(+l[r+80>>2]-p*s-+l[t+80>>2]))+h*(+l[r+84>>2]+d*s-+l[t+84>>2]-u*i)))}function bi(e){e=e|0;return(i[e+136>>0]|0)!=0|0}function gi(e,t){e=e|0;t=t|0;var r=0,u=0,c=0,h=0;r=e+136|0;if((t&1|0)==(s[r>>0]|0|0))return;u=o[e+48>>2]|0;c=u+4|0;h=a[c>>1]|0;if(!(h&2)){n[c>>1]=h|2;l[u+160>>2]=0}u=o[e+52>>2]|0;h=u+4|0;c=a[h>>1]|0;if(!(c&2)){n[h>>1]=c|2;l[u+160>>2]=0}i[r>>0]=t&1;l[e+112>>2]=0;return}function yi(e,t,r){e=e|0;t=+t;r=+r;var i=0,s=0,u=0,c=0;i=e+120|0;if(!(+l[i>>2]!=t)?!(+l[e+124>>2]!=r):0)return;s=o[e+48>>2]|0;u=s+4|0;c=a[u>>1]|0;if(!(c&2)){n[u>>1]=c|2;l[s+160>>2]=0}s=o[e+52>>2]|0;c=s+4|0;u=a[c>>1]|0;if(!(u&2)){n[c>>1]=u|2;l[s+160>>2]=0}l[i>>2]=t;l[e+124>>2]=r;l[e+112>>2]=0;return}function vi(e){e=e|0;return(i[e+137>>0]|0)!=0|0}function xi(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,h=0;r=o[e+48>>2]|0;s=r+4|0;u=a[s>>1]|0;if(!(u&2)){n[s>>1]=u|2;l[r+160>>2]=0}r=o[e+52>>2]|0;u=r+4|0;s=a[u>>1]|0;if(s&2){c=e+137|0;h=t&1;i[c>>0]=h;return}n[u>>1]=s|2;l[r+160>>2]=0;c=e+137|0;h=t&1;i[c>>0]=h;return}function wi(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=o[e+48>>2]|0;i=r+4|0;s=a[i>>1]|0;if(!(s&2)){n[i>>1]=s|2;l[r+160>>2]=0}r=o[e+52>>2]|0;s=r+4|0;i=a[s>>1]|0;if(i&2){u=e+132|0;l[u>>2]=t;return}n[s>>1]=i|2;l[r+160>>2]=0;u=e+132|0;l[u>>2]=t;return}function Si(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=o[e+48>>2]|0;i=r+4|0;s=a[i>>1]|0;if(!(s&2)){n[i>>1]=s|2;l[r+160>>2]=0}r=o[e+52>>2]|0;s=r+4|0;i=a[s>>1]|0;if(i&2){u=e+128|0;l[u>>2]=t;return}n[s>>1]=i|2;l[r+160>>2]=0;u=e+128|0;l[u>>2]=t;return}function Ei(e,t){e=e|0;t=+t;return+(+l[e+116>>2]*t)}function Ai(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0;t=h;h=h+144|0;r=t+136|0;i=t+128|0;n=t+120|0;a=t+112|0;u=t+104|0;f=t+96|0;d=t+88|0;p=t+80|0;_=t+64|0;m=t+48|0;b=t+32|0;g=t+24|0;y=t+16|0;v=t+8|0;x=o[(o[e+48>>2]|0)+8>>2]|0;w=o[(o[e+52>>2]|0)+8>>2]|0;Jd(4104,t);o[v>>2]=x;Jd(4769,v);o[y>>2]=w;Jd(4795,y);o[g>>2]=s[e+61>>0];Jd(4821,g);S=+l[e+72>>2];c[b>>3]=+l[e+68>>2];c[b+8>>3]=S;Jd(4942,b);S=+l[e+80>>2];c[m>>3]=+l[e+76>>2];c[m+8>>3]=S;Jd(4984,m);S=+l[e+88>>2];c[_>>3]=+l[e+84>>2];c[_+8>>3]=S;Jd(4540,_);c[p>>3]=+l[e+100>>2];Jd(4384,p);o[d>>2]=s[e+136>>0];Jd(4416,d);c[f>>3]=+l[e+120>>2];Jd(4131,f);c[u>>3]=+l[e+124>>2];Jd(4165,u);o[a>>2]=s[e+137>>0];Jd(4580,a);c[n>>3]=+l[e+132>>2];Jd(4610,n);c[i>>3]=+l[e+128>>2];Jd(4199,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Ti(e){e=e|0;op(e);return}function Pi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;Ui(e,t);o[e>>2]=1484;r=t+20|0;i=o[r+4>>2]|0;n=e+68|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;i=t+28|0;n=o[i+4>>2]|0;r=e+76|0;o[r>>2]=o[i>>2];o[r+4>>2]=n;o[e+84>>2]=o[t+36>>2];l[e+160>>2]=0;l[e+92>>2]=0;o[e+164>>2]=0;l[e+88>>2]=0;return}function Ci(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+96|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+100|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+128|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+136|0;o[h>>2]=_;o[h+4>>2]=m;h=e+144|0;o[h>>2]=o[r+136>>2];b=e+148|0;o[b>>2]=o[a+136>>2];g=e+152|0;o[g>>2]=o[r+144>>2];r=e+156|0;o[r>>2]=o[a+144>>2];a=o[t+28>>2]|0;y=+l[a+(n*12|0)>>2];v=+l[a+(n*12|0)+4>>2];x=+l[a+(n*12|0)+8>>2];w=t+32|0;S=o[w>>2]|0;E=o[S+(n*12|0)>>2]|0;A=o[S+(n*12|0)+4>>2]|0;T=+l[S+(n*12|0)+8>>2];P=+l[a+(u*12|0)>>2];C=+l[a+(u*12|0)+4>>2];M=+l[a+(u*12|0)+8>>2];a=o[S+(u*12|0)>>2]|0;n=o[S+(u*12|0)+4>>2]|0;F=+l[S+(u*12|0)+8>>2];I=+W(+x);O=+H(+x);x=+W(+M);D=+H(+M);M=+l[e+68>>2]-(o[d>>2]=f,+l[d>>2]);k=+l[e+72>>2]-(o[d>>2]=p,+l[d>>2]);R=O*M-I*k;B=I*M+O*k;l[e+112>>2]=R;l[e+116>>2]=B;k=+l[e+76>>2]-(o[d>>2]=_,+l[d>>2]);O=+l[e+80>>2]-(o[d>>2]=m,+l[d>>2]);M=D*k-x*O;I=x*k+D*O;l[e+120>>2]=M;l[e+124>>2]=I;O=P+M-y-R;y=C+I-v-B;m=e+104|0;l[m>>2]=O;_=e+108|0;l[_>>2]=y;v=+J(+(O*O+y*y));l[e+88>>2]=v;o[e+164>>2]=v-+l[e+84>>2]>0?2:0;if(!(v>.004999999888241291)){l[m>>2]=0;l[_>>2]=0;l[e+160>>2]=0;l[e+92>>2]=0;return}C=1/v;v=C*O;l[m>>2]=v;O=C*y;l[_>>2]=O;y=R*O-B*v;C=O*M-v*I;P=+l[h>>2];D=+l[g>>2];k=+l[b>>2];x=+l[r>>2];N=k+(P+y*(y*D))+C*(C*x);l[e+160>>2]=N!=0?1/N:0;if(!(i[t+24>>0]|0)){l[e+92>>2]=0;L=E;G=A;U=a;z=n;j=T;X=F}else{r=e+92|0;N=+l[t+8>>2]*+l[r>>2];l[r>>2]=N;C=v*N;v=N*O;r=(l[d>>2]=(o[d>>2]=E,+l[d>>2])-C*P,o[d>>2]|0);E=(l[d>>2]=(o[d>>2]=A,+l[d>>2])-v*P,o[d>>2]|0);A=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+C*k,o[d>>2]|0);L=r;G=E;U=A;z=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+v*k,o[d>>2]|0);j=T-D*(v*R-C*B);X=F+x*(v*M-C*I)}n=o[s>>2]|0;A=o[w>>2]|0;o[A+(n*12|0)>>2]=L;o[A+(n*12|0)+4>>2]=G;G=o[w>>2]|0;l[G+((o[s>>2]|0)*12|0)+8>>2]=j;s=o[c>>2]|0;o[G+(s*12|0)>>2]=U;o[G+(s*12|0)+4>>2]=z;l[(o[w>>2]|0)+((o[c>>2]|0)*12|0)+8>>2]=X;return}function Mi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;r=e+96|0;i=o[r>>2]|0;n=t+32|0;s=o[n>>2]|0;a=s+(i*12|0)|0;u=+l[a>>2];c=s+(i*12|0)+4|0;h=+l[c>>2];f=+l[s+(i*12|0)+8>>2];i=e+100|0;d=o[i>>2]|0;p=+l[s+(d*12|0)>>2];_=+l[s+(d*12|0)+4>>2];m=+l[s+(d*12|0)+8>>2];b=+l[e+116>>2];g=+l[e+112>>2];y=+l[e+124>>2];v=+l[e+120>>2];x=+l[e+88>>2]-+l[e+84>>2];w=+l[e+104>>2];S=+l[e+108>>2];E=(p-m*y-(u-f*b))*w+(_+m*v-(h+f*g))*S;if(x<0)A=E+x*+l[t+4>>2];else A=E;t=e+92|0;E=+l[t>>2];x=E-A*+l[e+160>>2];A=x>0?0:x;l[t>>2]=A;x=A-E;E=w*x;w=S*x;x=+l[e+144>>2];S=f-+l[e+152>>2]*(g*w-E*b);b=+l[e+148>>2];g=m+ +l[e+156>>2]*(w*v-E*y);l[a>>2]=u-x*E;l[c>>2]=h-x*w;c=o[n>>2]|0;l[c+((o[r>>2]|0)*12|0)+8>>2]=S;r=o[i>>2]|0;l[c+(r*12|0)>>2]=p+E*b;l[c+(r*12|0)+4>>2]=_+w*b;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=g;return}function Fi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;r=e+96|0;i=o[r>>2]|0;n=t+28|0;t=o[n>>2]|0;s=t+(i*12|0)|0;a=+l[s>>2];u=t+(i*12|0)+4|0;c=+l[u>>2];h=+l[t+(i*12|0)+8>>2];i=e+100|0;f=o[i>>2]|0;d=+l[t+(f*12|0)>>2];p=+l[t+(f*12|0)+4>>2];_=+l[t+(f*12|0)+8>>2];m=+W(+h);b=+H(+h);g=+W(+_);y=+H(+_);v=+l[e+68>>2]-+l[e+128>>2];x=+l[e+72>>2]-+l[e+132>>2];w=b*v-m*x;S=m*v+b*x;x=+l[e+76>>2]-+l[e+136>>2];b=+l[e+80>>2]-+l[e+140>>2];v=y*x-g*b;m=g*x+y*b;b=d+v-a-w;y=p+m-c-S;x=+J(+(b*b+y*y));if(x<1.1920928955078125E-7){E=0;A=b;T=y}else{g=1/x;E=x;A=b*g;T=y*g}f=e+84|0;g=E-+l[f>>2];y=g<.20000000298023224?g:.20000000298023224;g=-(+l[e+160>>2]*(y<0?0:y));y=A*g;A=T*g;g=+l[e+144>>2];T=h-+l[e+152>>2]*(w*A-S*y);S=+l[e+148>>2];w=_+ +l[e+156>>2]*(v*A-m*y);l[s>>2]=a-g*y;l[u>>2]=c-g*A;u=o[n>>2]|0;l[u+((o[r>>2]|0)*12|0)+8>>2]=T;r=o[i>>2]|0;l[u+(r*12|0)>>2]=d+S*y;l[u+(r*12|0)+4>>2]=p+S*A;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=w;return E-+l[f>>2]<.004999999888241291|0}function Ii(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+68>>2];s=+l[r+20>>2];a=+l[t+72>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Oi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+76>>2];s=+l[r+20>>2];a=+l[t+80>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Di(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+92>>2]*r;r=i*+l[t+108>>2];l[e>>2]=+l[t+104>>2]*i;l[e+4>>2]=r;return}function ki(e,t){e=e|0;t=+t;return 0}function Ri(e){e=e|0;return o[e+164>>2]|0}function Bi(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0;t=h;h=h+80|0;r=t+72|0;i=t+64|0;n=t+48|0;a=t+32|0;u=t+24|0;f=t+16|0;d=t+8|0;p=o[(o[e+48>>2]|0)+8>>2]|0;_=o[(o[e+52>>2]|0)+8>>2]|0;Jd(4244,t);o[d>>2]=p;Jd(4769,d);o[f>>2]=_;Jd(4795,f);o[u>>2]=s[e+61>>0];Jd(4821,u);m=+l[e+72>>2];c[a>>3]=+l[e+68>>2];c[a+8>>3]=m;Jd(4942,a);m=+l[e+80>>2];c[n>>3]=+l[e+76>>2];c[n+8>>3]=m;Jd(4984,n);c[i>>3]=+l[e+84>>2];Jd(4266,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Ni(e){e=e|0;op(e);return}function Li(e,t){e=e|0;t=t|0;var r=0,i=0;do{switch(o[e>>2]|0){case 3:{r=Od(t,176)|0;_r(r,e);i=r;return i|0}case 5:{r=Od(t,168)|0;dh(r,e);i=r;return i|0}case 2:{r=Od(t,256)|0;ai(r,e);i=r;return i|0}case 1:{r=Od(t,228)|0;Hi(r,e);i=r;return i|0}case 4:{r=Od(t,196)|0;In(r,e);i=r;return i|0}case 6:{r=Od(t,276)|0;qr(r,e);i=r;return i|0}case 7:{r=Od(t,224)|0;dn(r,e);i=r;return i|0}case 8:{r=Od(t,208)|0;Gr(r,e);i=r;return i|0}case 9:{r=Od(t,180)|0;Tr(r,e);i=r;return i|0}case 10:{r=Od(t,168)|0;Pi(r,e);i=r;return i|0}case 11:{r=Od(t,192)|0;Fh(r,e);i=r;return i|0}default:{i=0;return i|0}}}while(0);return 0}function Gi(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+24>>2]&127](e);do{switch(o[e+4>>2]|0){case 3:{Dd(t,e,176);return}case 5:{Dd(t,e,168);return}case 2:{Dd(t,e,256);return}case 1:{Dd(t,e,228);return}case 4:{Dd(t,e,196);return}case 6:{Dd(t,e,276);return}case 7:{Dd(t,e,224);return}case 8:{Dd(t,e,208);return}case 9:{Dd(t,e,180);return}case 10:{Dd(t,e,168);return}case 11:{Dd(t,e,192);return}default:return}}while(0)}function Ui(e,t){e=e|0;t=t|0;o[e>>2]=1536;o[e+4>>2]=o[t>>2];o[e+8>>2]=0;o[e+12>>2]=0;o[e+48>>2]=o[t+8>>2];o[e+52>>2]=o[t+12>>2];o[e+56>>2]=0;i[e+61>>0]=i[t+16>>0]|0;i[e+60>>0]=0;o[e+64>>2]=o[t+4>>2];t=e+16|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}function zi(e){e=e|0;var t=0;if(!(n[(o[e+48>>2]|0)+4>>1]&32)){t=0;return t|0}t=(n[(o[e+52>>2]|0)+4>>1]&32)!=0;return t|0}function ji(e){e=e|0;e=h;h=h+16|0;Jd(4293,e);h=e;return}function Ji(e){e=e|0;op(e);return}function Xi(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0;o[e+8>>2]=t;o[e+12>>2]=r;n=+l[i>>2]-+l[t+12>>2];s=i+4|0;a=+l[s>>2]-+l[t+16>>2];u=+l[t+24>>2];c=+l[t+20>>2];l[e+20>>2]=n*u+a*c;l[e+24>>2]=u*a-n*c;c=+l[i>>2]-+l[r+12>>2];n=+l[s>>2]-+l[r+16>>2];a=+l[r+24>>2];u=+l[r+20>>2];l[e+28>>2]=c*a+n*u;l[e+32>>2]=a*n-c*u;l[e+36>>2]=+l[r+72>>2]-+l[t+72>>2];return}function Hi(e,t){e=e|0;t=t|0;var r=0,n=0,s=0;Ui(e,t);o[e>>2]=1588;r=t+20|0;n=o[r+4>>2]|0;s=e+68|0;o[s>>2]=o[r>>2];o[s+4>>2]=n;n=t+28|0;s=o[n+4>>2]|0;r=e+76|0;o[r>>2]=o[n>>2];o[r+4>>2]=s;o[e+116>>2]=o[t+36>>2];s=e+84|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[e+120>>2]=o[t+44>>2];o[e+124>>2]=o[t+48>>2];o[e+104>>2]=o[t+60>>2];o[e+108>>2]=o[t+56>>2];i[e+112>>0]=i[t+40>>0]|0;i[e+100>>0]=i[t+52>>0]|0;o[e+224>>2]=0;return}function Wi(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+128|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+132|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+152|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+160|0;o[h>>2]=_;o[h+4>>2]=m;h=o[r+136>>2]|0;o[e+168>>2]=h;b=o[a+136>>2]|0;o[e+172>>2]=b;g=o[r+144>>2]|0;o[e+176>>2]=g;r=o[a+144>>2]|0;o[e+180>>2]=r;a=o[t+28>>2]|0;y=+l[a+(n*12|0)+8>>2];v=t+32|0;x=o[v>>2]|0;w=o[x+(n*12|0)>>2]|0;S=o[x+(n*12|0)+4>>2]|0;E=+l[x+(n*12|0)+8>>2];A=+l[a+(u*12|0)+8>>2];a=o[x+(u*12|0)>>2]|0;n=o[x+(u*12|0)+4>>2]|0;T=+l[x+(u*12|0)+8>>2];P=+W(+y);C=+H(+y);M=+W(+A);F=+H(+A);I=+l[e+68>>2]-(o[d>>2]=f,+l[d>>2]);O=+l[e+72>>2]-(o[d>>2]=p,+l[d>>2]);D=C*I-P*O;k=P*I+C*O;l[e+136>>2]=D;l[e+140>>2]=k;O=+l[e+76>>2]-(o[d>>2]=_,+l[d>>2]);C=+l[e+80>>2]-(o[d>>2]=m,+l[d>>2]);I=F*O-M*C;P=M*O+F*C;l[e+144>>2]=I;l[e+148>>2]=P;C=(o[d>>2]=h,+l[d>>2]);F=(o[d>>2]=b,+l[d>>2]);O=(o[d>>2]=g,+l[d>>2]);M=(o[d>>2]=r,+l[d>>2]);R=O+M;r=R==0;B=C+F;l[e+184>>2]=B+O*(k*k)+M*(P*P);N=-(O*(k*D))-M*(P*I);l[e+196>>2]=N;L=-(O*k)-M*P;l[e+208>>2]=L;l[e+188>>2]=N;l[e+200>>2]=B+O*(D*D)+M*(I*I);B=O*D+M*I;l[e+212>>2]=B;l[e+192>>2]=L;l[e+204>>2]=B;l[e+216>>2]=R;l[e+220>>2]=R>0?1/R:R;if(r|(i[e+100>>0]|0)==0)l[e+96>>2]=0;do{if(r|(i[e+112>>0]|0)==0)o[e+224>>2]=0;else{R=A-y-+l[e+116>>2];B=+l[e+124>>2];L=+l[e+120>>2];N=B-L;if((N>0?N:-N)<.06981317698955536){o[e+224>>2]=3;break}if(R<=L){g=e+224|0;if((o[g>>2]|0)!=1)l[e+92>>2]=0;o[g>>2]=1;break}g=e+224|0;if(!(R>=B)){o[g>>2]=0;l[e+92>>2]=0;break}if((o[g>>2]|0)!=2)l[e+92>>2]=0;o[g>>2]=2}}while(0);r=e+84|0;if(!(i[t+24>>0]|0)){o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;G=w;U=S;z=a;j=n;J=E;X=T;V=o[s>>2]|0;Y=o[v>>2]|0;q=Y+(V*12|0)|0;o[q>>2]=G;K=Y+(V*12|0)+4|0;o[K>>2]=U;Z=o[s>>2]|0;Q=o[v>>2]|0;$=Q+(Z*12|0)+8|0;l[$>>2]=J;ee=o[c>>2]|0;te=Q+(ee*12|0)|0;o[te>>2]=z;re=Q+(ee*12|0)+4|0;o[re>>2]=j;ie=o[c>>2]|0;ne=o[v>>2]|0;oe=ne+(ie*12|0)+8|0;l[oe>>2]=X;return}else{y=+l[t+8>>2];A=y*+l[r>>2];l[r>>2]=A;r=e+88|0;B=y*+l[r>>2];l[r>>2]=B;r=e+92|0;R=y*+l[r>>2];l[r>>2]=R;r=e+96|0;L=y*+l[r>>2];l[r>>2]=L;r=(l[d>>2]=(o[d>>2]=w,+l[d>>2])-C*A,o[d>>2]|0);w=(l[d>>2]=(o[d>>2]=S,+l[d>>2])-C*B,o[d>>2]|0);S=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+F*A,o[d>>2]|0);G=r;U=w;z=S;j=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+F*B,o[d>>2]|0);J=E-O*(R+(L+(B*D-A*k)));X=T+M*(R+(L+(B*I-A*P)));V=o[s>>2]|0;Y=o[v>>2]|0;q=Y+(V*12|0)|0;o[q>>2]=G;K=Y+(V*12|0)+4|0;o[K>>2]=U;Z=o[s>>2]|0;Q=o[v>>2]|0;$=Q+(Z*12|0)+8|0;l[$>>2]=J;ee=o[c>>2]|0;te=Q+(ee*12|0)|0;o[te>>2]=z;re=Q+(ee*12|0)+4|0;o[re>>2]=j;ie=o[c>>2]|0;ne=o[v>>2]|0;oe=ne+(ie*12|0)+8|0;l[oe>>2]=X;return}}function Vi(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0;r=h;h=h+80|0;n=r+60|0;s=r+48|0;a=r+40|0;u=r+32|0;c=r+24|0;f=r+16|0;p=r+8|0;_=r;m=e+128|0;b=o[m>>2]|0;g=t+32|0;y=o[g>>2]|0;v=o[y+(b*12|0)>>2]|0;x=o[y+(b*12|0)+4>>2]|0;w=+l[y+(b*12|0)+8>>2];b=e+132|0;S=o[b>>2]|0;E=o[y+(S*12|0)>>2]|0;A=o[y+(S*12|0)+4>>2]|0;T=+l[y+(S*12|0)+8>>2];P=+l[e+168>>2];C=+l[e+172>>2];M=+l[e+176>>2];F=+l[e+180>>2];S=M+F==0;if((i[e+100>>0]|0)!=0?!(S|(o[e+224>>2]|0)==3):0){y=e+96|0;I=+l[y>>2];O=+l[t>>2]*+l[e+104>>2];D=I-+l[e+220>>2]*(T-w-+l[e+108>>2]);k=-O;R=D<O?D:O;O=R<k?k:R;l[y>>2]=O;R=O-I;B=w-M*R;N=T+F*R}else{B=w;N=T}if((i[e+112>>0]|0)!=0?(y=e+224|0,!(S|(o[y>>2]|0)==0)):0){S=e+148|0;t=e+144|0;T=(o[d>>2]=E,+l[d>>2]);w=(o[d>>2]=A,+l[d>>2]);R=(o[d>>2]=v,+l[d>>2]);I=(o[d>>2]=x,+l[d>>2]);L=e+140|0;G=e+136|0;O=T-N*+l[S>>2]-R+B*+l[L>>2];k=w+N*+l[t>>2]-I-B*+l[G>>2];l[n>>2]=O;l[n+4>>2]=k;l[n+8>>2]=N-B;U=e+184|0;kd(s,U,n);D=+l[s>>2];z=+l[s+4>>2];j=+l[s+8>>2];J=-j;s=(l[d>>2]=-D,o[d>>2]|0);n=(l[d>>2]=-z,o[d>>2]|0);e:do{switch(o[y>>2]|0){case 3:{X=e+84|0;l[X>>2]=+l[X>>2]-D;X=e+88|0;l[X>>2]=+l[X>>2]-z;X=e+92|0;l[X>>2]=+l[X>>2]-j;H=s;W=n;V=J;break}case 1:{X=e+84|0;Y=e+92|0;q=+l[Y>>2];K=q-j;if(K<0){Z=q*+l[e+212>>2]-k;l[a>>2]=q*+l[e+208>>2]-O;l[a+4>>2]=Z;Rd(u,U,a);Q=o[u>>2]|0;$=o[u+4>>2]|0;Z=-+l[Y>>2];l[X>>2]=(o[d>>2]=Q,+l[d>>2])+ +l[X>>2];ee=e+88|0;l[ee>>2]=(o[d>>2]=$,+l[d>>2])+ +l[ee>>2];l[Y>>2]=0;H=Q;W=$;V=Z;break e}else{l[X>>2]=+l[X>>2]-D;X=e+88|0;l[X>>2]=+l[X>>2]-z;l[Y>>2]=K;H=s;W=n;V=J;break e}break}case 2:{Y=e+84|0;X=e+92|0;K=+l[X>>2];Z=K-j;if(Z>0){q=K*+l[e+212>>2]-k;l[c>>2]=K*+l[e+208>>2]-O;l[c+4>>2]=q;Rd(f,U,c);$=o[f>>2]|0;Q=o[f+4>>2]|0;q=-+l[X>>2];l[Y>>2]=(o[d>>2]=$,+l[d>>2])+ +l[Y>>2];ee=e+88|0;l[ee>>2]=(o[d>>2]=Q,+l[d>>2])+ +l[ee>>2];l[X>>2]=0;H=$;W=Q;V=q;break e}else{l[Y>>2]=+l[Y>>2]-D;Y=e+88|0;l[Y>>2]=+l[Y>>2]-z;l[X>>2]=Z;H=s;W=n;V=J;break e}break}default:{H=s;W=n;V=J}}}while(0);J=(o[d>>2]=H,+l[d>>2]);z=(o[d>>2]=W,+l[d>>2]);te=I-P*z;re=R-P*J;ie=w+C*z;ne=T+C*J;oe=V+(z*+l[t>>2]-J*+l[S>>2]);se=V+(z*+l[G>>2]-J*+l[L>>2]);ae=M*se;ue=F*oe;le=B-ae;ce=N+ue;he=o[m>>2]|0;fe=o[g>>2]|0;de=fe+(he*12|0)|0;l[de>>2]=re;pe=fe+(he*12|0)+4|0;l[pe>>2]=te;_e=o[m>>2]|0;me=o[g>>2]|0;be=me+(_e*12|0)+8|0;l[be>>2]=le;ge=o[b>>2]|0;ye=me+(ge*12|0)|0;l[ye>>2]=ne;ve=me+(ge*12|0)+4|0;l[ve>>2]=ie;xe=o[b>>2]|0;we=o[g>>2]|0;Se=we+(xe*12|0)+8|0;l[Se>>2]=ce;h=r;return}L=e+148|0;G=e+144|0;J=(o[d>>2]=E,+l[d>>2]);z=(o[d>>2]=A,+l[d>>2]);V=(o[d>>2]=v,+l[d>>2]);T=(o[d>>2]=x,+l[d>>2]);x=e+140|0;v=e+136|0;w=-(z+N*+l[G>>2]-T-B*+l[v>>2]);l[_>>2]=-(J-N*+l[L>>2]-V+B*+l[x>>2]);l[_+4>>2]=w;Rd(p,e+184|0,_);w=+l[p>>2];_=e+84|0;l[_>>2]=w+ +l[_>>2];R=+l[p+4>>2];p=e+88|0;l[p>>2]=R+ +l[p>>2];te=T-P*R;re=V-P*w;ie=z+C*R;ne=J+C*w;oe=R*+l[G>>2]-w*+l[L>>2];se=R*+l[v>>2]-w*+l[x>>2];ae=M*se;ue=F*oe;le=B-ae;ce=N+ue;he=o[m>>2]|0;fe=o[g>>2]|0;de=fe+(he*12|0)|0;l[de>>2]=re;pe=fe+(he*12|0)+4|0;l[pe>>2]=te;_e=o[m>>2]|0;me=o[g>>2]|0;be=me+(_e*12|0)+8|0;l[be>>2]=le;ge=o[b>>2]|0;ye=me+(ge*12|0)|0;l[ye>>2]=ne;ve=me+(ge*12|0)+4|0;l[ve>>2]=ie;xe=o[b>>2]|0;we=o[g>>2]|0;Se=we+(xe*12|0)+8|0;l[Se>>2]=ce;h=r;return}function Yi(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0;r=e+128|0;n=o[r>>2]|0;s=t+28|0;t=o[s>>2]|0;a=+l[t+(n*12|0)>>2];u=+l[t+(n*12|0)+4>>2];c=+l[t+(n*12|0)+8>>2];n=e+132|0;h=o[n>>2]|0;f=+l[t+(h*12|0)>>2];d=+l[t+(h*12|0)+4>>2];p=+l[t+(h*12|0)+8>>2];_=+l[e+176>>2];m=+l[e+180>>2];if((i[e+112>>0]|0)!=0?(h=o[e+224>>2]|0,!((h|0)==0|_+m==0)):0){b=p-c-+l[e+116>>2];switch(h|0){case 3:{g=b-+l[e+120>>2];y=g<.13962635397911072?g:.13962635397911072;g=y<-.13962635397911072?-.13962635397911072:y;v=g>0?g:-g;x=-(+l[e+220>>2]*g);break}case 1:{g=b-+l[e+120>>2];y=g+.03490658849477768;w=y<0?y:0;v=-g;x=-(+l[e+220>>2]*(w<-.13962635397911072?-.13962635397911072:w));break}case 2:{w=b-+l[e+124>>2];b=w+-.03490658849477768;g=b<.13962635397911072?b:.13962635397911072;v=w;x=-(+l[e+220>>2]*(g<0?0:g));break}default:{v=0;x=0}}S=c-x*_;E=p+x*m;A=v}else{S=c;E=p;A=0}p=+W(+S);c=+H(+S);v=+W(+E);x=+H(+E);g=+l[e+68>>2]-+l[e+152>>2];w=+l[e+72>>2]-+l[e+156>>2];b=c*g-p*w;y=p*g+c*w;w=+l[e+76>>2]-+l[e+160>>2];c=+l[e+80>>2]-+l[e+164>>2];g=x*w-v*c;p=v*w+x*c;c=f+g-a-b;x=d+p-u-y;w=+J(+(c*c+x*x));v=+l[e+168>>2];T=+l[e+172>>2];P=v+T;C=P+y*(y*_)+p*(p*m);M=b*_;F=g*m;I=-(y*M)-p*F;O=P+b*M+g*F;F=C*O-I*I;M=F!=0?1/F:F;F=-((c*O-x*I)*M);O=-((x*C-c*I)*M);e=o[r>>2]|0;h=o[s>>2]|0;l[h+(e*12|0)>>2]=a-v*F;l[h+(e*12|0)+4>>2]=u-v*O;e=o[s>>2]|0;l[e+((o[r>>2]|0)*12|0)+8>>2]=S-_*(b*O-y*F);r=o[n>>2]|0;l[e+(r*12|0)>>2]=f+T*F;l[e+(r*12|0)+4>>2]=d+T*O;l[(o[s>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=E+m*(g*O-p*F);return A<=.03490658849477768&w<=.004999999888241291|0}function qi(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+68>>2];s=+l[r+20>>2];a=+l[t+72>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Ki(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+76>>2];s=+l[r+20>>2];a=+l[t+80>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Zi(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+88>>2]*r;l[e>>2]=+l[t+84>>2]*r;l[e+4>>2]=i;return}function Qi(e,t){e=e|0;t=+t;return+(+l[e+92>>2]*t)}function $i(e){e=e|0;return+(+l[(o[e+52>>2]|0)+72>>2]-+l[(o[e+48>>2]|0)+72>>2]-+l[e+116>>2])}function en(e){e=e|0;return+(+l[(o[e+52>>2]|0)+88>>2]-+l[(o[e+48>>2]|0)+88>>2])}function tn(e){e=e|0;return(i[e+100>>0]|0)!=0|0}function rn(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,h=0;r=o[e+48>>2]|0;s=r+4|0;u=a[s>>1]|0;if(!(u&2)){n[s>>1]=u|2;l[r+160>>2]=0}r=o[e+52>>2]|0;u=r+4|0;s=a[u>>1]|0;if(s&2){c=e+100|0;h=t&1;i[c>>0]=h;return}n[u>>1]=s|2;l[r+160>>2]=0;c=e+100|0;h=t&1;i[c>>0]=h;return}function nn(e,t){e=e|0;t=+t;return+(+l[e+96>>2]*t)}function on(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=o[e+48>>2]|0;i=r+4|0;s=a[i>>1]|0;if(!(s&2)){n[i>>1]=s|2;l[r+160>>2]=0}r=o[e+52>>2]|0;s=r+4|0;i=a[s>>1]|0;if(i&2){u=e+108|0;l[u>>2]=t;return}n[s>>1]=i|2;l[r+160>>2]=0;u=e+108|0;l[u>>2]=t;return}function sn(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=o[e+48>>2]|0;i=r+4|0;s=a[i>>1]|0;if(!(s&2)){n[i>>1]=s|2;l[r+160>>2]=0}r=o[e+52>>2]|0;s=r+4|0;i=a[s>>1]|0;if(i&2){u=e+104|0;l[u>>2]=t;return}n[s>>1]=i|2;l[r+160>>2]=0;u=e+104|0;l[u>>2]=t;return}function an(e){e=e|0;return(i[e+112>>0]|0)!=0|0}function un(e,t){e=e|0;t=t|0;var r=0,u=0,c=0,h=0;r=e+112|0;if((t&1|0)==(s[r>>0]|0|0))return;u=o[e+48>>2]|0;c=u+4|0;h=a[c>>1]|0;if(!(h&2)){n[c>>1]=h|2;l[u+160>>2]=0}u=o[e+52>>2]|0;h=u+4|0;c=a[h>>1]|0;if(!(c&2)){n[h>>1]=c|2;l[u+160>>2]=0}i[r>>0]=t&1;l[e+92>>2]=0;return}function ln(e,t,r){e=e|0;t=+t;r=+r;var i=0,s=0,u=0,c=0;i=e+120|0;if(!(+l[i>>2]!=t)?!(+l[e+124>>2]!=r):0)return;s=o[e+48>>2]|0;u=s+4|0;c=a[u>>1]|0;if(!(c&2)){n[u>>1]=c|2;l[s+160>>2]=0}s=o[e+52>>2]|0;c=s+4|0;u=a[c>>1]|0;if(!(u&2)){n[c>>1]=u|2;l[s+160>>2]=0}l[e+92>>2]=0;l[i>>2]=t;l[e+124>>2]=r;return}function cn(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0;t=h;h=h+128|0;r=t+120|0;i=t+112|0;n=t+104|0;a=t+96|0;u=t+88|0;f=t+80|0;d=t+72|0;p=t+64|0;_=t+48|0;m=t+32|0;b=t+24|0;g=t+16|0;y=t+8|0;v=o[(o[e+48>>2]|0)+8>>2]|0;x=o[(o[e+52>>2]|0)+8>>2]|0;Jd(4358,t);o[y>>2]=v;Jd(4769,y);o[g>>2]=x;Jd(4795,g);o[b>>2]=s[e+61>>0];Jd(4821,b);w=+l[e+72>>2];c[m>>3]=+l[e+68>>2];c[m+8>>3]=w;Jd(4942,m);w=+l[e+80>>2];c[_>>3]=+l[e+76>>2];c[_+8>>3]=w;Jd(4984,_);c[p>>3]=+l[e+116>>2];Jd(4384,p);o[d>>2]=s[e+112>>0];Jd(4416,d);c[f>>3]=+l[e+120>>2];Jd(4446,f);c[u>>3]=+l[e+124>>2];Jd(4474,u);o[a>>2]=s[e+100>>0];Jd(4580,a);c[n>>3]=+l[e+108>>2];Jd(4610,n);c[i>>3]=+l[e+104>>2];Jd(4638,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function hn(e){e=e|0;op(e);return}function fn(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0;o[e+8>>2]=t;o[e+12>>2]=r;s=+l[i>>2]-+l[t+12>>2];a=i+4|0;u=+l[a>>2]-+l[t+16>>2];c=t+24|0;h=+l[c>>2];f=t+20|0;d=+l[f>>2];l[e+20>>2]=s*h+u*d;l[e+24>>2]=h*u-s*d;d=+l[i>>2]-+l[r+12>>2];s=+l[a>>2]-+l[r+16>>2];u=+l[r+24>>2];h=+l[r+20>>2];l[e+28>>2]=d*u+s*h;l[e+32>>2]=u*s-d*h;h=+l[c>>2];d=+l[n>>2];s=+l[f>>2];u=+l[n+4>>2];l[e+36>>2]=h*d+s*u;l[e+40>>2]=h*u-d*s;return}function dn(e,t){e=e|0;t=t|0;var r=0,n=0,s=0;Ui(e,t);o[e>>2]=1640;r=t+20|0;n=o[r+4>>2]|0;s=e+76|0;o[s>>2]=o[r>>2];o[s+4>>2]=n;n=t+28|0;s=o[n+4>>2]|0;r=e+84|0;o[r>>2]=o[n>>2];o[r+4>>2]=s;s=t+36|0;r=o[s>>2]|0;n=o[s+4>>2]|0;s=e+92|0;o[s>>2]=r;o[s+4>>2]=n;l[e+100>>2]=-(o[d>>2]=n,+l[d>>2]);o[e+104>>2]=r;l[e+204>>2]=0;l[e+108>>2]=0;l[e+208>>2]=0;l[e+112>>2]=0;l[e+212>>2]=0;l[e+116>>2]=0;o[e+120>>2]=o[t+48>>2];o[e+124>>2]=o[t+52>>2];i[e+128>>0]=i[t+44>>0]|0;o[e+68>>2]=o[t+56>>2];o[e+72>>2]=o[t+60>>2];l[e+216>>2]=0;l[e+220>>2]=0;t=e+172|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function pn(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+132|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+136|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+140|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+148|0;o[h>>2]=_;o[h+4>>2]=m;h=o[r+136>>2]|0;b=e+156|0;o[b>>2]=h;g=o[a+136>>2]|0;y=e+160|0;o[y>>2]=g;v=o[r+144>>2]|0;r=e+164|0;o[r>>2]=v;x=+l[a+144>>2];a=e+168|0;l[a>>2]=x;w=(o[d>>2]=h,+l[d>>2]);S=(o[d>>2]=g,+l[d>>2]);E=(o[d>>2]=v,+l[d>>2]);v=o[t+28>>2]|0;A=+l[v+(n*12|0)+8>>2];g=t+32|0;h=o[g>>2]|0;T=o[h+(n*12|0)>>2]|0;P=o[h+(n*12|0)+4>>2]|0;C=+l[h+(n*12|0)+8>>2];M=+l[v+(u*12|0)+8>>2];F=o[h+(u*12|0)>>2]|0;I=o[h+(u*12|0)+4>>2]|0;O=+l[h+(u*12|0)+8>>2];D=+W(+A);k=+H(+A);A=+W(+M);R=+H(+M);M=+l[e+76>>2]-(o[d>>2]=f,+l[d>>2]);B=+l[e+80>>2]-(o[d>>2]=p,+l[d>>2]);N=k*M-D*B;L=D*M+k*B;B=+l[e+84>>2]-(o[d>>2]=_,+l[d>>2]);M=+l[e+88>>2]-(o[d>>2]=m,+l[d>>2]);G=R*B-A*M;U=A*B+R*M;M=+l[v+(u*12|0)>>2]+G-+l[v+(n*12|0)>>2]-N;R=+l[v+(u*12|0)+4>>2]+U-+l[v+(n*12|0)+4>>2]-L;B=+l[e+100>>2];A=+l[e+104>>2];z=k*B-D*A;j=D*B+k*A;l[e+180>>2]=z;l[e+184>>2]=j;A=N+M;N=L+R;L=j*A-z*N;l[e+196>>2]=L;B=G*j-U*z;l[e+200>>2]=B;J=w+S;S=J+L*(E*L)+B*(x*B);l[e+204>>2]=S>0?1/S:S;n=e+212|0;l[n>>2]=0;v=e+216|0;l[v>>2]=0;u=e+220|0;l[u>>2]=0;S=+l[e+68>>2];if(S>0){w=+l[e+92>>2];X=+l[e+96>>2];V=k*w-D*X;Y=D*w+k*X;l[e+172>>2]=V;l[e+176>>2]=Y;X=A*Y-N*V;l[e+188>>2]=X;N=G*Y-U*V;l[e+192>>2]=N;U=J+X*(E*X)+N*(x*N);if(U>0?(N=1/U,X=S*6.2831854820251465,S=X*(N*X),J=+l[t>>2],G=J*(X*(N*2*+l[e+72>>2])+J*S),N=G>0?1/G:G,l[u>>2]=N,l[v>>2]=(M*V+R*Y)*J*S*N,S=U+N,l[n>>2]=S,S>0):0)l[n>>2]=1/S}else l[e+116>>2]=0;if(i[e+128>>0]|0){S=x+E;n=e+208|0;l[n>>2]=S;if(S>0)l[n>>2]=1/S}else{l[e+208>>2]=0;l[e+112>>2]=0}if(!(i[t+24>>0]|0)){l[e+108>>2]=0;l[e+116>>2]=0;l[e+112>>2]=0;q=T;K=P;Z=F;Q=I;$=C;ee=O;te=o[s>>2]|0;re=o[g>>2]|0;ie=re+(te*12|0)|0;o[ie>>2]=q;ne=re+(te*12|0)+4|0;o[ne>>2]=K;oe=o[s>>2]|0;se=o[g>>2]|0;ae=se+(oe*12|0)+8|0;l[ae>>2]=$;ue=o[c>>2]|0;le=se+(ue*12|0)|0;o[le>>2]=Z;ce=se+(ue*12|0)+4|0;o[ce>>2]=Q;he=o[c>>2]|0;fe=o[g>>2]|0;de=fe+(he*12|0)+8|0;l[de>>2]=ee;return}else{S=+l[t+8>>2];t=e+108|0;E=S*+l[t>>2];l[t>>2]=E;t=e+116|0;x=S*+l[t>>2];l[t>>2]=x;t=e+112|0;N=S*+l[t>>2];l[t>>2]=N;S=E*z+x*+l[e+172>>2];z=E*j+x*+l[e+176>>2];j=+l[b>>2];b=(l[d>>2]=(o[d>>2]=T,+l[d>>2])-S*j,o[d>>2]|0);T=(l[d>>2]=(o[d>>2]=P,+l[d>>2])-z*j,o[d>>2]|0);j=+l[y>>2];y=(l[d>>2]=(o[d>>2]=F,+l[d>>2])+S*j,o[d>>2]|0);q=b;K=T;Z=y;Q=(l[d>>2]=(o[d>>2]=I,+l[d>>2])+z*j,o[d>>2]|0);$=C-(N+(E*L+x*+l[e+188>>2]))*+l[r>>2];ee=O+(N+(E*B+x*+l[e+192>>2]))*+l[a>>2];te=o[s>>2]|0;re=o[g>>2]|0;ie=re+(te*12|0)|0;o[ie>>2]=q;ne=re+(te*12|0)+4|0;o[ne>>2]=K;oe=o[s>>2]|0;se=o[g>>2]|0;ae=se+(oe*12|0)+8|0;l[ae>>2]=$;ue=o[c>>2]|0;le=se+(ue*12|0)|0;o[le>>2]=Z;ce=se+(ue*12|0)+4|0;o[ce>>2]=Q;he=o[c>>2]|0;fe=o[g>>2]|0;de=fe+(he*12|0)+8|0;l[de>>2]=ee;return}}function _n(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;r=+l[e+156>>2];i=+l[e+160>>2];n=+l[e+164>>2];s=+l[e+168>>2];a=e+132|0;u=o[a>>2]|0;c=t+32|0;h=o[c>>2]|0;f=+l[h+(u*12|0)>>2];d=+l[h+(u*12|0)+4>>2];p=+l[h+(u*12|0)+8>>2];u=e+136|0;_=o[u>>2]|0;m=+l[h+(_*12|0)>>2];b=+l[h+(_*12|0)+4>>2];g=+l[h+(_*12|0)+8>>2];y=+l[e+172>>2];v=+l[e+176>>2];x=+l[e+192>>2];w=+l[e+188>>2];_=e+116|0;S=+l[_>>2];E=+l[e+212>>2]*((m-f)*y+(b-d)*v+g*x-p*w+ +l[e+216>>2]+ +l[e+220>>2]*S);A=-E;l[_>>2]=S-E;E=y*A;y=v*A;v=f-r*E;f=d-r*y;d=p-n*(w*A);w=m+i*E;E=b+i*y;y=g+s*(x*A);_=e+112|0;A=+l[_>>2];x=+l[t>>2]*+l[e+120>>2];g=A-+l[e+208>>2]*(y-d-+l[e+124>>2]);b=-x;m=g<x?g:x;x=m<b?b:m;l[_>>2]=x;m=x-A;A=d-n*m;d=y+s*m;m=+l[e+180>>2];y=+l[e+184>>2];x=+l[e+200>>2];b=+l[e+196>>2];g=+l[e+204>>2]*((w-v)*m+(E-f)*y+x*d-b*A);p=-g;_=e+108|0;l[_>>2]=+l[_>>2]-g;g=m*p;m=y*p;_=o[a>>2]|0;e=o[c>>2]|0;l[e+(_*12|0)>>2]=v-r*g;l[e+(_*12|0)+4>>2]=f-r*m;_=o[c>>2]|0;l[_+((o[a>>2]|0)*12|0)+8>>2]=A-n*(b*p);a=o[u>>2]|0;l[_+(a*12|0)>>2]=w+i*g;l[_+(a*12|0)+4>>2]=E+i*m;l[(o[c>>2]|0)+((o[u>>2]|0)*12|0)+8>>2]=d+s*(x*p);return}function mn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0;r=e+132|0;i=o[r>>2]|0;n=t+28|0;t=o[n>>2]|0;s=t+(i*12|0)|0;a=+l[s>>2];u=t+(i*12|0)+4|0;c=+l[u>>2];h=+l[t+(i*12|0)+8>>2];i=e+136|0;f=o[i>>2]|0;d=+l[t+(f*12|0)>>2];p=+l[t+(f*12|0)+4>>2];_=+l[t+(f*12|0)+8>>2];m=+W(+h);b=+H(+h);g=+W(+_);y=+H(+_);v=+l[e+76>>2]-+l[e+140>>2];x=+l[e+80>>2]-+l[e+144>>2];w=b*v-m*x;S=m*v+b*x;x=+l[e+84>>2]-+l[e+148>>2];v=+l[e+88>>2]-+l[e+152>>2];E=y*x-g*v;A=g*x+y*v;v=d-a+E-w;y=p-c+A-S;x=+l[e+100>>2];g=+l[e+104>>2];T=b*x-m*g;P=m*x+b*g;g=T*v+P*y;b=+l[e+156>>2];x=+l[e+160>>2];m=+l[e+164>>2];C=+l[e+196>>2];M=+l[e+168>>2];F=+l[e+200>>2];I=b+x+C*(m*C)+F*(M*F);F=-g;C=I!=0?F/I:0;I=T*C;O=P*C;l[s>>2]=a-b*I;l[u>>2]=c-b*O;u=o[n>>2]|0;l[u+((o[r>>2]|0)*12|0)+8>>2]=h-m*((P*(w+v)-T*(S+y))*C);r=o[i>>2]|0;l[u+(r*12|0)>>2]=d+x*I;l[u+(r*12|0)+4>>2]=p+x*O;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=_+M*((E*P-A*T)*C);return(g>0?g:F)<=.004999999888241291|0}function bn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+76>>2];s=+l[r+20>>2];a=+l[t+80>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function gn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+84>>2];s=+l[r+20>>2];a=+l[t+88>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function yn(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,o=0;i=+l[t+108>>2];n=+l[t+116>>2];o=(i*+l[t+184>>2]+n*+l[t+176>>2])*r;l[e>>2]=(i*+l[t+180>>2]+n*+l[t+172>>2])*r;l[e+4>>2]=o;return}function vn(e,t){e=e|0;t=+t;return+(+l[e+112>>2]*t)}function xn(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0;t=o[e+48>>2]|0;r=o[e+52>>2]|0;i=+l[t+24>>2];n=+l[e+76>>2];s=+l[t+20>>2];a=+l[e+80>>2];u=+l[r+24>>2];c=+l[e+84>>2];h=+l[r+20>>2];f=+l[e+88>>2];d=+l[e+92>>2];p=+l[e+96>>2];return+((+l[r+12>>2]+(u*c-h*f)-(+l[t+12>>2]+(i*n-s*a)))*(i*d-s*p)+(c*h+u*f+ +l[r+16>>2]-(n*s+i*a+ +l[t+16>>2]))*(s*d+i*p))}function wn(e){e=e|0;return+(+l[(o[e+52>>2]|0)+88>>2]-+l[(o[e+48>>2]|0)+88>>2])}function Sn(e){e=e|0;return(i[e+128>>0]|0)!=0|0}function En(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,h=0;r=o[e+48>>2]|0;s=r+4|0;u=a[s>>1]|0;if(!(u&2)){n[s>>1]=u|2;l[r+160>>2]=0}r=o[e+52>>2]|0;u=r+4|0;s=a[u>>1]|0;if(s&2){c=e+128|0;h=t&1;i[c>>0]=h;return}n[u>>1]=s|2;l[r+160>>2]=0;c=e+128|0;h=t&1;i[c>>0]=h;return}function An(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=o[e+48>>2]|0;i=r+4|0;s=a[i>>1]|0;if(!(s&2)){n[i>>1]=s|2;l[r+160>>2]=0}r=o[e+52>>2]|0;s=r+4|0;i=a[s>>1]|0;if(i&2){u=e+124|0;l[u>>2]=t;return}n[s>>1]=i|2;l[r+160>>2]=0;u=e+124|0;l[u>>2]=t;return}function Tn(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=o[e+48>>2]|0;i=r+4|0;s=a[i>>1]|0;if(!(s&2)){n[i>>1]=s|2;l[r+160>>2]=0}r=o[e+52>>2]|0;s=r+4|0;i=a[s>>1]|0;if(i&2){u=e+120|0;l[u>>2]=t;return}n[s>>1]=i|2;l[r+160>>2]=0;u=e+120|0;l[u>>2]=t;return}function Pn(e,t){e=e|0;t=+t;return+(+l[e+112>>2]*t)}function Cn(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0;t=h;h=h+128|0;r=t+120|0;i=t+112|0;n=t+104|0;a=t+96|0;u=t+88|0;f=t+80|0;d=t+64|0;p=t+48|0;_=t+32|0;m=t+24|0;b=t+16|0;g=t+8|0;y=o[(o[e+48>>2]|0)+8>>2]|0;v=o[(o[e+52>>2]|0)+8>>2]|0;Jd(4517,t);o[g>>2]=y;Jd(4769,g);o[b>>2]=v;Jd(4795,b);o[m>>2]=s[e+61>>0];Jd(4821,m);x=+l[e+80>>2];c[_>>3]=+l[e+76>>2];c[_+8>>3]=x;Jd(4942,_);x=+l[e+88>>2];c[p>>3]=+l[e+84>>2];c[p+8>>3]=x;Jd(4984,p);x=+l[e+96>>2];c[d>>3]=+l[e+92>>2];c[d+8>>3]=x;Jd(4540,d);o[f>>2]=s[e+128>>0];Jd(4580,f);c[u>>3]=+l[e+124>>2];Jd(4610,u);c[a>>3]=+l[e+120>>2];Jd(4638,a);c[n>>3]=+l[e+68>>2];Jd(4670,n);c[i>>3]=+l[e+72>>2];Jd(4699,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Mn(e){e=e|0;op(e);return}function Fn(e,t,r,i,n,s,a,u){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;a=a|0;u=+u;var c=0,h=0,f=0,d=0,p=0,_=0,m=0;o[e+8>>2]=t;o[e+12>>2]=r;c=i;h=o[c+4>>2]|0;f=e+20|0;o[f>>2]=o[c>>2];o[f+4>>2]=h;h=n;f=o[h+4>>2]|0;c=e+28|0;o[c>>2]=o[h>>2];o[c+4>>2]=f;d=+l[s>>2]-+l[t+12>>2];f=s+4|0;p=+l[f>>2]-+l[t+16>>2];_=+l[t+24>>2];m=+l[t+20>>2];l[e+36>>2]=d*_+p*m;l[e+40>>2]=_*p-d*m;m=+l[a>>2]-+l[r+12>>2];t=a+4|0;d=+l[t>>2]-+l[r+16>>2];p=+l[r+24>>2];_=+l[r+20>>2];l[e+44>>2]=m*p+d*_;l[e+48>>2]=p*d-m*_;_=+l[s>>2]-+l[i>>2];m=+l[f>>2]-+l[i+4>>2];l[e+52>>2]=+J(+(_*_+m*m));m=+l[a>>2]-+l[n>>2];_=+l[t>>2]-+l[n+4>>2];l[e+56>>2]=+J(+(m*m+_*_));l[e+60>>2]=u;return}function In(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0;Ui(e,t);o[e>>2]=1692;r=t+20|0;i=o[r+4>>2]|0;n=e+68|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;i=t+28|0;n=o[i+4>>2]|0;r=e+76|0;o[r>>2]=o[i>>2];o[r+4>>2]=n;n=t+36|0;r=o[n+4>>2]|0;i=e+92|0;o[i>>2]=o[n>>2];o[i+4>>2]=r;r=t+44|0;i=o[r+4>>2]|0;n=e+100|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;i=o[t+52>>2]|0;o[e+84>>2]=i;n=o[t+56>>2]|0;o[e+88>>2]=n;s=+l[t+60>>2];l[e+112>>2]=s;a=(o[d>>2]=i,+l[d>>2]);l[e+108>>2]=a+s*(o[d>>2]=n,+l[d>>2]);l[e+116>>2]=0;return}function On(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+120|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+124|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+160|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+168|0;o[h>>2]=_;o[h+4>>2]=m;h=e+176|0;o[h>>2]=o[r+136>>2];b=e+180|0;o[b>>2]=o[a+136>>2];g=e+184|0;o[g>>2]=o[r+144>>2];r=e+188|0;o[r>>2]=o[a+144>>2];a=o[t+28>>2]|0;y=+l[a+(n*12|0)>>2];v=+l[a+(n*12|0)+4>>2];x=+l[a+(n*12|0)+8>>2];w=t+32|0;S=o[w>>2]|0;E=o[S+(n*12|0)>>2]|0;A=o[S+(n*12|0)+4>>2]|0;T=+l[S+(n*12|0)+8>>2];P=+l[a+(u*12|0)>>2];C=+l[a+(u*12|0)+4>>2];M=+l[a+(u*12|0)+8>>2];a=o[S+(u*12|0)>>2]|0;n=o[S+(u*12|0)+4>>2]|0;F=+l[S+(u*12|0)+8>>2];I=+W(+x);O=+H(+x);x=+W(+M);D=+H(+M);M=+l[e+92>>2]-(o[d>>2]=f,+l[d>>2]);k=+l[e+96>>2]-(o[d>>2]=p,+l[d>>2]);R=O*M-I*k;B=I*M+O*k;l[e+144>>2]=R;l[e+148>>2]=B;k=+l[e+100>>2]-(o[d>>2]=_,+l[d>>2]);O=+l[e+104>>2]-(o[d>>2]=m,+l[d>>2]);M=D*k-x*O;I=x*k+D*O;l[e+152>>2]=M;l[e+156>>2]=I;O=y+R-+l[e+68>>2];y=v+B-+l[e+72>>2];m=e+128|0;l[m>>2]=O;_=e+132|0;l[_>>2]=y;v=P+M-+l[e+76>>2];P=C+I-+l[e+80>>2];p=e+136|0;l[p>>2]=v;f=e+140|0;l[f>>2]=P;C=+J(+(O*O+y*y));D=+J(+(v*v+P*P));if(C>.04999999701976776){k=1/C;C=O*k;l[m>>2]=C;N=k*y;L=C}else{l[m>>2]=0;N=0;L=0}l[_>>2]=N;if(D>.04999999701976776){C=1/D;D=C*v;l[p>>2]=D;G=C*P;U=D}else{l[p>>2]=0;G=0;U=0}l[f>>2]=G;D=R*N-B*L;P=M*G-I*U;C=+l[h>>2];v=+l[g>>2];y=+l[b>>2];k=+l[r>>2];O=+l[e+112>>2];x=C+D*(D*v)+O*O*(y+P*(P*k));l[e+192>>2]=x>0?1/x:x;if(!(i[t+24>>0]|0)){l[e+116>>2]=0;z=E;j=A;X=a;V=n;Y=T;q=F;K=o[s>>2]|0;Z=o[w>>2]|0;Q=Z+(K*12|0)|0;o[Q>>2]=z;$=Z+(K*12|0)+4|0;o[$>>2]=j;ee=o[s>>2]|0;te=o[w>>2]|0;re=te+(ee*12|0)+8|0;l[re>>2]=Y;ie=o[c>>2]|0;ne=te+(ie*12|0)|0;o[ne>>2]=X;oe=te+(ie*12|0)+4|0;o[oe>>2]=V;se=o[c>>2]|0;ae=o[w>>2]|0;ue=ae+(se*12|0)+8|0;l[ue>>2]=q;return}else{r=e+116|0;x=+l[t+8>>2]*+l[r>>2];l[r>>2]=x;P=-x;D=L*P;L=N*P;P=-(x*O);O=U*P;U=G*P;r=(l[d>>2]=(o[d>>2]=E,+l[d>>2])+D*C,o[d>>2]|0);E=(l[d>>2]=(o[d>>2]=A,+l[d>>2])+L*C,o[d>>2]|0);A=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+O*y,o[d>>2]|0);z=r;j=E;X=A;V=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+U*y,o[d>>2]|0);Y=T+v*(L*R-D*B);q=F+k*(U*M-O*I);K=o[s>>2]|0;Z=o[w>>2]|0;Q=Z+(K*12|0)|0;o[Q>>2]=z;$=Z+(K*12|0)+4|0;o[$>>2]=j;ee=o[s>>2]|0;te=o[w>>2]|0;re=te+(ee*12|0)+8|0;l[re>>2]=Y;ie=o[c>>2]|0;ne=te+(ie*12|0)|0;o[ne>>2]=X;oe=te+(ie*12|0)+4|0;o[oe>>2]=V;se=o[c>>2]|0;ae=o[w>>2]|0;ue=ae+(se*12|0)+8|0;l[ue>>2]=q;return}}function Dn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;r=e+120|0;i=o[r>>2]|0;n=t+32|0;t=o[n>>2]|0;s=t+(i*12|0)|0;a=+l[s>>2];u=t+(i*12|0)+4|0;c=+l[u>>2];h=+l[t+(i*12|0)+8>>2];i=e+124|0;f=o[i>>2]|0;d=+l[t+(f*12|0)>>2];p=+l[t+(f*12|0)+4>>2];_=+l[t+(f*12|0)+8>>2];m=+l[e+148>>2];b=+l[e+144>>2];g=+l[e+156>>2];y=+l[e+152>>2];v=+l[e+128>>2];x=+l[e+132>>2];w=+l[e+112>>2];S=+l[e+136>>2];E=+l[e+140>>2];A=+l[e+192>>2]*(-((a-h*m)*v+(c+h*b)*x)-w*((d-_*g)*S+(p+_*y)*E));f=e+116|0;l[f>>2]=+l[f>>2]-A;T=v*A;v=x*A;x=w*A;A=S*x;S=x*E;E=+l[e+176>>2];x=h+ +l[e+184>>2]*(v*b-T*m);m=+l[e+180>>2];b=_+ +l[e+188>>2]*(S*y-A*g);l[s>>2]=a+T*E;l[u>>2]=c+v*E;u=o[n>>2]|0;l[u+((o[r>>2]|0)*12|0)+8>>2]=x;r=o[i>>2]|0;l[u+(r*12|0)>>2]=d+A*m;l[u+(r*12|0)+4>>2]=p+S*m;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=b;return}function kn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0;r=e+120|0;i=o[r>>2]|0;n=t+28|0;t=o[n>>2]|0;s=t+(i*12|0)|0;a=+l[s>>2];u=t+(i*12|0)+4|0;c=+l[u>>2];h=+l[t+(i*12|0)+8>>2];i=e+124|0;f=o[i>>2]|0;d=+l[t+(f*12|0)>>2];p=+l[t+(f*12|0)+4>>2];_=+l[t+(f*12|0)+8>>2];m=+W(+h);b=+H(+h);g=+W(+_);y=+H(+_);v=+l[e+92>>2]-+l[e+160>>2];x=+l[e+96>>2]-+l[e+164>>2];w=b*v-m*x;S=m*v+b*x;x=+l[e+100>>2]-+l[e+168>>2];b=+l[e+104>>2]-+l[e+172>>2];v=y*x-g*b;m=g*x+y*b;b=a+w-+l[e+68>>2];y=c+S-+l[e+72>>2];x=d+v-+l[e+76>>2];g=p+m-+l[e+80>>2];E=+J(+(b*b+y*y));A=+J(+(x*x+g*g));if(E>.04999999701976776){T=1/E;P=y*T;C=b*T}else{P=0;C=0}if(A>.04999999701976776){T=1/A;M=g*T;F=x*T}else{M=0;F=0}T=w*P-S*C;x=v*M-m*F;g=+l[e+176>>2];b=+l[e+184>>2];y=+l[e+180>>2];I=+l[e+188>>2];O=+l[e+112>>2];D=g+T*(T*b)+O*O*(y+x*(x*I));x=+l[e+108>>2]-E-A*O;A=x*(D>0?1/D:D);D=C*A;C=P*A;P=O*A;A=F*P;F=M*P;l[s>>2]=a+g*D;l[u>>2]=c+g*C;u=o[n>>2]|0;l[u+((o[r>>2]|0)*12|0)+8>>2]=h+b*(w*C-S*D);r=o[i>>2]|0;l[u+(r*12|0)>>2]=d+y*A;l[u+(r*12|0)+4>>2]=p+y*F;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=_+I*(v*F-m*A);return(x>0?x:-x)<.004999999888241291|0}function Rn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+48>>2]|0;i=+l[r+24>>2];n=+l[t+92>>2];s=+l[r+20>>2];a=+l[t+96>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Bn(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+100>>2];s=+l[r+20>>2];a=+l[t+104>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Nn(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0;i=+l[t+116>>2];n=i*+l[t+140>>2]*r;l[e>>2]=i*+l[t+136>>2]*r;l[e+4>>2]=n;return}function Ln(e,t){e=e|0;t=+t;return 0}function Gn(e,t){e=e|0;t=t|0;var r=0,i=0;r=t+68|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function Un(e,t){e=e|0;t=t|0;var r=0,i=0;r=t+76|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function zn(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0;t=o[e+48>>2]|0;r=+l[t+24>>2];i=+l[e+92>>2];n=+l[t+20>>2];s=+l[e+96>>2];a=+l[t+12>>2]+(r*i-n*s)-+l[e+68>>2];u=i*n+r*s+ +l[t+16>>2]-+l[e+72>>2];return+ +J(+(a*a+u*u))}function jn(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0;t=o[e+52>>2]|0;r=+l[t+24>>2];i=+l[e+100>>2];n=+l[t+20>>2];s=+l[e+104>>2];a=+l[t+12>>2]+(r*i-n*s)-+l[e+76>>2];u=i*n+r*s+ +l[t+16>>2]-+l[e+80>>2];return+ +J(+(a*a+u*u))}function Jn(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;t=h;h=h+128|0;r=t+120|0;i=t+112|0;n=t+104|0;a=t+96|0;u=t+80|0;f=t+64|0;d=t+48|0;p=t+32|0;_=t+24|0;m=t+16|0;b=t+8|0;g=o[(o[e+48>>2]|0)+8>>2]|0;y=o[(o[e+52>>2]|0)+8>>2]|0;Jd(4745,t);o[b>>2]=g;Jd(4769,b);o[m>>2]=y;Jd(4795,m);o[_>>2]=s[e+61>>0];Jd(4821,_);v=+l[e+72>>2];c[p>>3]=+l[e+68>>2];c[p+8>>3]=v;Jd(4856,p);v=+l[e+80>>2];c[d>>3]=+l[e+76>>2];c[d+8>>3]=v;Jd(4899,d);v=+l[e+96>>2];c[f>>3]=+l[e+92>>2];c[f+8>>3]=v;Jd(4942,f);v=+l[e+104>>2];c[u>>3]=+l[e+100>>2];c[u+8>>3]=v;Jd(4984,u);c[a>>3]=+l[e+84>>2];Jd(5026,a);c[n>>3]=+l[e+88>>2];Jd(5051,n);c[i>>3]=+l[e+112>>2];Jd(5076,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Xn(e,t){e=e|0;t=t|0;var r=0,i=0;r=e+68|0;l[r>>2]=+l[r>>2]-+l[t>>2];r=t+4|0;i=e+72|0;l[i>>2]=+l[i>>2]-+l[r>>2];i=e+76|0;l[i>>2]=+l[i>>2]-+l[t>>2];t=e+80|0;l[t>>2]=+l[t>>2]-+l[r>>2];return}function Hn(e){e=e|0;op(e);return}function Wn(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0;s=Od(n,148)|0;$n(s,e,t,r,i);o[s>>2]=1744;return s|0}function Vn(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function Yn(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var s=0,a=0,u=0,c=0;s=h;h=h+48|0;a=s;u=o[(o[e+48>>2]|0)+12>>2]|0;o[a>>2]=916;o[a+4>>2]=1;l[a+8>>2]=.009999999776482582;c=a+28|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;n[c+16>>1]=0;Ac(u,a,o[e+56>>2]|0);Qc(t,a,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=s;return}function qn(e){e=e|0;return}function Kn(e){e=e|0;op(e);return}function Zn(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0;if(!(i[5180]|0)){o[439]=6;o[440]=53;i[1764]=1;o[463]=7;o[464]=54;i[1860]=1;o[445]=7;o[446]=54;i[1788]=0;o[469]=8;o[470]=55;i[1884]=1;o[451]=9;o[452]=56;i[1812]=1;o[442]=9;o[443]=56;i[1776]=0;o[457]=10;o[458]=57;i[1836]=1;o[466]=10;o[467]=57;i[1872]=0;o[475]=11;o[476]=58;i[1908]=1;o[448]=11;o[449]=58;i[1800]=0;o[481]=12;o[482]=59;i[1932]=1;o[472]=12;o[473]=59;i[1896]=0;i[5180]=1}a=o[(o[e+12>>2]|0)+4>>2]|0;u=o[(o[r+12>>2]|0)+4>>2]|0;l=o[1756+(a*48|0)+(u*12|0)>>2]|0;if(!l){c=0;return c|0}if(!(i[1756+(a*48|0)+(u*12|0)+8>>0]|0)){c=gm[l&15](r,n,e,t,s)|0;return c|0}else{c=gm[l&15](e,t,r,n,s)|0;return c|0}return 0}function Qn(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,h=0;r=o[e+48>>2]|0;s=o[e+52>>2]|0;if(((o[e+124>>2]|0)>0?(i[r+38>>0]|0)==0:0)?(i[s+38>>0]|0)==0:0){u=o[r+8>>2]|0;c=u+4|0;h=a[c>>1]|0;if(!(h&2)){n[c>>1]=h|2;l[u+160>>2]=0}u=o[s+8>>2]|0;h=u+4|0;c=a[h>>1]|0;if(!(c&2)){n[h>>1]=c|2;l[u+160>>2]=0}}cm[o[1756+((o[(o[r+12>>2]|0)+4>>2]|0)*48|0)+((o[(o[s+12>>2]|0)+4>>2]|0)*12|0)+4>>2]&63](e,t);return}function $n(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0;o[e>>2]=1956;o[e+4>>2]=4;o[e+48>>2]=t;o[e+52>>2]=i;o[e+56>>2]=r;o[e+60>>2]=n;o[e+124>>2]=0;o[e+128>>2]=0;n=t+16|0;r=e+8|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));l[e+136>>2]=+J(+(+l[n>>2]*+l[i+16>>2]));a=+l[t+20>>2];u=+l[i+20>>2];l[e+140>>2]=a>u?a:u;l[e+144>>2]=0;return}function eo(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0;r=h;h=h+64|0;s=r;u=e+64|0;c=s;f=u;d=c+64|0;do{o[c>>2]=o[f>>2];c=c+4|0;f=f+4|0}while((c|0)<(d|0));f=e+4|0;c=o[f>>2]|0;o[f>>2]=c|4;d=c>>>1;c=o[e+48>>2]|0;p=o[e+52>>2]|0;_=(i[p+38>>0]|i[c+38>>0])<<24>>24!=0;m=o[c+8>>2]|0;b=o[p+8>>2]|0;g=m+12|0;y=b+12|0;if(!_){ym[o[o[e>>2]>>2]&31](e,u,g,y);u=e+124|0;v=(o[u>>2]|0)>0;e:do{if(v){x=o[s+60>>2]|0;if((x|0)>0)w=0;else{S=0;while(1){l[e+64+(S*20|0)+8>>2]=0;l[e+64+(S*20|0)+12>>2]=0;S=S+1|0;if((S|0)>=(o[u>>2]|0))break e}}do{S=e+64+(w*20|0)+8|0;l[S>>2]=0;E=e+64+(w*20|0)+12|0;l[E>>2]=0;A=o[e+64+(w*20|0)+16>>2]|0;T=0;do{if((o[s+(T*20|0)+16>>2]|0)==(A|0)){P=T;C=7;break}T=T+1|0}while((T|0)<(x|0));if((C|0)==7){C=0;o[S>>2]=o[s+(P*20|0)+8>>2];o[E>>2]=o[s+(P*20|0)+12>>2]}w=w+1|0}while((w|0)<(o[u>>2]|0))}}while(0);u=d&1;if((u|0)!=0^v){w=m+4|0;P=a[w>>1]|0;if(!(P&2)){n[w>>1]=P|2;l[m+160>>2]=0}m=b+4|0;P=a[m>>1]|0;if(!(P&2)){n[m>>1]=P|2;l[b+160>>2]=0;M=u;F=v}else{M=u;F=v}}else{M=u;F=v}}else{v=ih(o[c+12>>2]|0,o[e+56>>2]|0,o[p+12>>2]|0,o[e+60>>2]|0,g,y)|0;o[e+124>>2]=0;M=d&1;F=v}v=o[f>>2]|0;o[f>>2]=F?v|2:v&-3;v=(M|0)==0;M=(t|0)!=0;f=M&F;if(v&f)cm[o[(o[t>>2]|0)+8>>2]&63](t,e);if(M&(F^1)&(v^1))cm[o[(o[t>>2]|0)+12>>2]&63](t,e);if(!(f&(_^1))){h=r;return}fm[o[(o[t>>2]|0)+32>>2]&7](t,e,s);h=r;return}function to(e){e=e|0;op(e);return}function ro(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;i=Od(n,148)|0;$n(i,e,0,r,0);o[i>>2]=1976;return i|0}function io(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function no(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;Gc(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);return}function oo(e){e=e|0;op(e);return}function so(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;i=Od(n,148)|0;$n(i,e,0,r,0);o[i>>2]=1996;return i|0}function ao(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function uo(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;Lc(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);return}function lo(e){e=e|0;op(e);return}function co(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];r=o[t+44>>2]|0;n=e+36|0;o[n>>2]=r;s=o[t+32>>2]|0;a=e+52|0;o[a>>2]=s;u=e+40|0;o[u>>2]=Qd(r,s*88|0)|0;s=Qd(o[n>>2]|0,(o[a>>2]|0)*156|0)|0;n=e+44|0;o[n>>2]=s;o[e+28>>2]=o[t+36>>2];o[e+32>>2]=o[t+40>>2];r=o[t+28>>2]|0;t=e+48|0;o[t>>2]=r;if((o[a>>2]|0)<=0)return;c=e+24|0;h=e+8|0;e=r;r=s;s=0;while(1){f=o[e+(s<<2)>>2]|0;d=o[f+48>>2]|0;p=o[f+52>>2]|0;_=o[(o[d+12>>2]|0)+8>>2]|0;m=o[(o[p+12>>2]|0)+8>>2]|0;b=o[d+8>>2]|0;d=o[p+8>>2]|0;p=o[f+124>>2]|0;o[r+(s*156|0)+136>>2]=o[f+136>>2];o[r+(s*156|0)+140>>2]=o[f+140>>2];o[r+(s*156|0)+144>>2]=o[f+144>>2];g=b+8|0;o[r+(s*156|0)+112>>2]=o[g>>2];y=d+8|0;o[r+(s*156|0)+116>>2]=o[y>>2];v=b+136|0;o[r+(s*156|0)+120>>2]=o[v>>2];x=d+136|0;o[r+(s*156|0)+124>>2]=o[x>>2];w=b+144|0;o[r+(s*156|0)+128>>2]=o[w>>2];S=d+144|0;o[r+(s*156|0)+132>>2]=o[S>>2];o[r+(s*156|0)+152>>2]=s;o[r+(s*156|0)+148>>2]=p;E=r+(s*156|0)+80|0;o[E>>2]=0;o[E+4>>2]=0;o[E+8>>2]=0;o[E+12>>2]=0;o[E+16>>2]=0;o[E+20>>2]=0;o[E+24>>2]=0;o[E+28>>2]=0;E=o[u>>2]|0;o[E+(s*88|0)+32>>2]=o[g>>2];o[E+(s*88|0)+36>>2]=o[y>>2];o[E+(s*88|0)+40>>2]=o[v>>2];o[E+(s*88|0)+44>>2]=o[x>>2];x=b+44|0;b=o[x+4>>2]|0;v=E+(s*88|0)+48|0;o[v>>2]=o[x>>2];o[v+4>>2]=b;b=d+44|0;d=o[b+4>>2]|0;v=E+(s*88|0)+56|0;o[v>>2]=o[b>>2];o[v+4>>2]=d;o[E+(s*88|0)+64>>2]=o[w>>2];o[E+(s*88|0)+68>>2]=o[S>>2];S=f+104|0;w=o[S+4>>2]|0;d=E+(s*88|0)+16|0;o[d>>2]=o[S>>2];o[d+4>>2]=w;w=f+112|0;d=o[w+4>>2]|0;S=E+(s*88|0)+24|0;o[S>>2]=o[w>>2];o[S+4>>2]=d;o[E+(s*88|0)+84>>2]=p;o[E+(s*88|0)+76>>2]=_;o[E+(s*88|0)+80>>2]=m;o[E+(s*88|0)+72>>2]=o[f+120>>2];if((p|0)>0){m=0;do{if(!(i[c>>0]|0)){A=0;T=0}else{P=+l[h>>2];A=P*+l[f+64+(m*20|0)+12>>2];T=P*+l[f+64+(m*20|0)+8>>2]}l[r+(s*156|0)+(m*36|0)+16>>2]=T;l[r+(s*156|0)+(m*36|0)+20>>2]=A;_=r+(s*156|0)+(m*36|0)|0;l[r+(s*156|0)+(m*36|0)+24>>2]=0;l[r+(s*156|0)+(m*36|0)+28>>2]=0;l[r+(s*156|0)+(m*36|0)+32>>2]=0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;_=f+64+(m*20|0)|0;d=o[_+4>>2]|0;S=E+(s*88|0)+(m<<3)|0;o[S>>2]=o[_>>2];o[S+4>>2]=d;m=m+1|0}while((m|0)!=(p|0))}p=s+1|0;if((p|0)>=(o[a>>2]|0))break;e=o[t>>2]|0;r=o[n>>2]|0;s=p}return}function ho(e){e=e|0;var t=0;t=e+36|0;ep(o[t>>2]|0,o[e+44>>2]|0);ep(o[t>>2]|0,o[e+40>>2]|0);return}function fo(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0;t=h;h=h+64|0;r=t+48|0;i=t+32|0;n=t;s=e+52|0;if((o[s>>2]|0)<=0){h=t;return}a=e+44|0;u=e+40|0;c=e+48|0;f=e+28|0;d=e+32|0;e=r+8|0;p=r+12|0;_=i+8|0;m=i+12|0;b=r+4|0;g=i+4|0;y=0;do{v=o[a>>2]|0;x=o[u>>2]|0;w=+l[x+(y*88|0)+76>>2];S=+l[x+(y*88|0)+80>>2];E=(o[(o[c>>2]|0)+(o[v+(y*156|0)+152>>2]<<2)>>2]|0)+64|0;A=o[v+(y*156|0)+112>>2]|0;T=o[v+(y*156|0)+116>>2]|0;P=+l[v+(y*156|0)+120>>2];C=+l[v+(y*156|0)+124>>2];M=+l[v+(y*156|0)+128>>2];F=+l[v+(y*156|0)+132>>2];I=+l[x+(y*88|0)+48>>2];O=+l[x+(y*88|0)+52>>2];D=+l[x+(y*88|0)+56>>2];k=+l[x+(y*88|0)+60>>2];x=o[f>>2]|0;R=+l[x+(A*12|0)>>2];B=+l[x+(A*12|0)+4>>2];N=+l[x+(A*12|0)+8>>2];L=o[d>>2]|0;G=+l[L+(A*12|0)>>2];U=+l[L+(A*12|0)+4>>2];z=+l[L+(A*12|0)+8>>2];j=+l[x+(T*12|0)>>2];J=+l[x+(T*12|0)+4>>2];X=+l[x+(T*12|0)+8>>2];V=+l[L+(T*12|0)>>2];Y=+l[L+(T*12|0)+4>>2];q=+l[L+(T*12|0)+8>>2];K=+W(+N);l[e>>2]=K;Z=+H(+N);l[p>>2]=Z;N=+W(+X);l[_>>2]=N;Q=+H(+X);l[m>>2]=Q;l[r>>2]=R-(I*Z-O*K);l[b>>2]=B-(O*Z+I*K);l[i>>2]=j-(D*Q-k*N);l[g>>2]=J-(k*Q+D*N);th(n,E,r,w,i,S);E=v+(y*156|0)+72|0;T=n;L=o[T+4>>2]|0;x=E;o[x>>2]=o[T>>2];o[x+4>>2]=L;L=v+(y*156|0)+148|0;x=o[L>>2]|0;do{if((x|0)>0){T=v+(y*156|0)+76|0;S=P+C;A=v+(y*156|0)+140|0;$=0;do{ee=n+8+($<<3)|0;w=+l[ee>>2]-R;te=n+8+($<<3)+4|0;N=+l[te>>2]-B;l[v+(y*156|0)+($*36|0)>>2]=w;l[v+(y*156|0)+($*36|0)+4>>2]=N;D=+l[ee>>2]-j;Q=+l[te>>2]-J;l[v+(y*156|0)+($*36|0)+8>>2]=D;l[v+(y*156|0)+($*36|0)+12>>2]=Q;k=+l[T>>2];K=+l[E>>2];I=w*k-N*K;Z=k*D-K*Q;K=S+I*(M*I)+Z*(F*Z);l[v+(y*156|0)+($*36|0)+24>>2]=K>0?1/K:0;K=+l[T>>2];Z=-+l[E>>2];I=w*Z-K*N;k=D*Z-K*Q;K=S+I*(M*I)+k*(F*k);l[v+(y*156|0)+($*36|0)+28>>2]=K>0?1/K:0;te=v+(y*156|0)+($*36|0)+32|0;l[te>>2]=0;K=+l[E>>2]*(V-q*Q-G+z*N)+ +l[T>>2]*(Y+q*D-U-z*w);if(K<-1)l[te>>2]=-(K*+l[A>>2]);$=$+1|0}while(($|0)!=(x|0));if((o[L>>2]|0)==2){S=+l[v+(y*156|0)+76>>2];K=+l[E>>2];w=+l[v+(y*156|0)>>2]*S-+l[v+(y*156|0)+4>>2]*K;D=S*+l[v+(y*156|0)+8>>2]-K*+l[v+(y*156|0)+12>>2];N=S*+l[v+(y*156|0)+36>>2]-K*+l[v+(y*156|0)+40>>2];Q=S*+l[v+(y*156|0)+44>>2]-K*+l[v+(y*156|0)+48>>2];K=P+C;S=M*w;k=F*D;I=K+w*S+D*k;D=K+N*(M*N)+Q*(F*Q);w=K+S*N+k*Q;Q=I*D-w*w;if(I*I<Q*1E3){l[v+(y*156|0)+96>>2]=I;l[v+(y*156|0)+100>>2]=w;l[v+(y*156|0)+104>>2]=w;l[v+(y*156|0)+108>>2]=D;k=Q!=0?1/Q:Q;Q=-(k*w);l[v+(y*156|0)+80>>2]=D*k;l[v+(y*156|0)+84>>2]=Q;l[v+(y*156|0)+88>>2]=Q;l[v+(y*156|0)+92>>2]=I*k;break}else{o[L>>2]=1;break}}}}while(0);y=y+1|0}while((y|0)<(o[s>>2]|0));h=t;return}function po(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0;t=e+52|0;if((o[t>>2]|0)<=0)return;r=e+44|0;i=e+32|0;e=o[i>>2]|0;n=0;do{s=o[r>>2]|0;a=o[s+(n*156|0)+112>>2]|0;u=o[s+(n*156|0)+116>>2]|0;c=+l[s+(n*156|0)+120>>2];h=+l[s+(n*156|0)+128>>2];f=+l[s+(n*156|0)+124>>2];p=+l[s+(n*156|0)+132>>2];_=o[s+(n*156|0)+148>>2]|0;m=e+(a*12|0)|0;b=o[m>>2]|0;g=e+(a*12|0)+4|0;y=o[g>>2]|0;v=+l[e+(a*12|0)+8>>2];x=o[e+(u*12|0)>>2]|0;w=o[e+(u*12|0)+4>>2]|0;S=+l[e+(u*12|0)+8>>2];E=+l[s+(n*156|0)+72>>2];A=+l[s+(n*156|0)+76>>2];if((_|0)>0){T=b;P=y;C=x;M=w;F=0;I=v;O=S;while(1){D=+l[s+(n*156|0)+(F*36|0)+16>>2];k=+l[s+(n*156|0)+(F*36|0)+20>>2];R=E*D+A*k;B=A*D-E*k;k=I-h*(+l[s+(n*156|0)+(F*36|0)>>2]*B-+l[s+(n*156|0)+(F*36|0)+4>>2]*R);N=(l[d>>2]=(o[d>>2]=T,+l[d>>2])-c*R,o[d>>2]|0);L=(l[d>>2]=(o[d>>2]=P,+l[d>>2])-c*B,o[d>>2]|0);D=O+p*(B*+l[s+(n*156|0)+(F*36|0)+8>>2]-R*+l[s+(n*156|0)+(F*36|0)+12>>2]);G=(l[d>>2]=(o[d>>2]=C,+l[d>>2])+f*R,o[d>>2]|0);U=(l[d>>2]=(o[d>>2]=M,+l[d>>2])+f*B,o[d>>2]|0);F=F+1|0;if((F|0)==(_|0)){z=L;j=U;J=G;X=N;H=k;W=D;break}else{T=N;P=L;C=G;M=U;I=k;O=D}}}else{z=y;j=w;J=x;X=b;H=v;W=S}o[m>>2]=X;o[g>>2]=z;M=o[i>>2]|0;l[M+(a*12|0)+8>>2]=H;o[M+(u*12|0)>>2]=J;o[M+(u*12|0)+4>>2]=j;e=o[i>>2]|0;l[e+(u*12|0)+8>>2]=W;n=n+1|0}while((n|0)<(o[t>>2]|0));return}function _o(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0;t=e+52|0;if((o[t>>2]|0)<=0)return;r=e+44|0;i=e+32|0;e=o[i>>2]|0;n=0;do{s=o[r>>2]|0;a=s+(n*156|0)|0;u=o[s+(n*156|0)+112>>2]|0;c=o[s+(n*156|0)+116>>2]|0;h=+l[s+(n*156|0)+120>>2];f=+l[s+(n*156|0)+128>>2];p=+l[s+(n*156|0)+124>>2];_=+l[s+(n*156|0)+132>>2];m=s+(n*156|0)+148|0;b=o[m>>2]|0;g=e+(u*12|0)|0;y=o[g>>2]|0;v=e+(u*12|0)+4|0;x=o[v>>2]|0;w=+l[e+(u*12|0)+8>>2];S=o[e+(c*12|0)>>2]|0;E=o[e+(c*12|0)+4>>2]|0;A=+l[e+(c*12|0)+8>>2];T=+l[s+(n*156|0)+72>>2];P=+l[s+(n*156|0)+76>>2];C=-T;M=+l[s+(n*156|0)+136>>2];if((b|0)>0){F=s+(n*156|0)+144|0;I=S;O=E;D=y;k=x;R=0;B=w;N=A;while(1){L=+l[s+(n*156|0)+(R*36|0)+12>>2];G=+l[s+(n*156|0)+(R*36|0)+8>>2];U=(o[d>>2]=I,+l[d>>2]);z=(o[d>>2]=O,+l[d>>2]);j=(o[d>>2]=D,+l[d>>2]);J=(o[d>>2]=k,+l[d>>2]);X=+l[s+(n*156|0)+(R*36|0)+4>>2];H=+l[s+(n*156|0)+(R*36|0)>>2];W=M*+l[s+(n*156|0)+(R*36|0)+16>>2];V=s+(n*156|0)+(R*36|0)+20|0;Y=+l[V>>2];q=Y-+l[s+(n*156|0)+(R*36|0)+28>>2]*(P*(U-N*L-j+B*X)+(z+N*G-J-B*H)*C-+l[F>>2]);K=-W;Z=q<W?q:W;W=Z<K?K:Z;Z=W-Y;l[V>>2]=W;W=P*Z;Y=Z*C;Z=j-h*W;V=(l[d>>2]=Z,o[d>>2]|0);j=J-h*Y;Q=(l[d>>2]=j,o[d>>2]|0);J=B-f*(H*Y-X*W);X=U+p*W;$=(l[d>>2]=X,o[d>>2]|0);U=z+p*Y;ee=(l[d>>2]=U,o[d>>2]|0);z=N+_*(G*Y-L*W);R=R+1|0;if((R|0)==(b|0)){te=Z;re=V;ie=j;ne=Q;oe=J;se=X;ae=$;ue=U;le=ee;ce=z;break}else{I=$;O=ee;D=V;k=Q;B=J;N=z}}if((o[m>>2]|0)==1){N=+l[s+(n*156|0)+12>>2];B=+l[s+(n*156|0)+8>>2];C=+l[s+(n*156|0)+4>>2];M=+l[a>>2];k=s+(n*156|0)+16|0;z=+l[k>>2];J=z-+l[s+(n*156|0)+24>>2]*(T*(se-ce*N-te+oe*C)+P*(ue+ce*B-ie-oe*M)-+l[s+(n*156|0)+32>>2]);U=J>0?J:0;J=U-z;l[k>>2]=U;U=T*J;z=P*J;k=(l[d>>2]=te-h*U,o[d>>2]|0);D=(l[d>>2]=ie-h*z,o[d>>2]|0);O=(l[d>>2]=se+p*U,o[d>>2]|0);he=k;fe=D;de=O;pe=(l[d>>2]=ue+p*z,o[d>>2]|0);_e=oe-f*(M*z-C*U);me=ce+_*(B*z-N*U)}else{be=ne;ge=re;ye=le;ve=ae;xe=oe;we=ce;Se=8}}else{be=x;ge=y;ye=E;ve=S;xe=w;we=A;Se=8}do{if((Se|0)==8){Se=0;O=s+(n*156|0)+16|0;U=+l[O>>2];D=s+(n*156|0)+52|0;N=+l[D>>2];z=+l[s+(n*156|0)+12>>2];B=+l[s+(n*156|0)+8>>2];C=(o[d>>2]=ve,+l[d>>2]);M=(o[d>>2]=ye,+l[d>>2]);J=(o[d>>2]=ge,+l[d>>2]);X=(o[d>>2]=be,+l[d>>2]);j=+l[s+(n*156|0)+4>>2];Z=+l[a>>2];W=+l[s+(n*156|0)+48>>2];L=+l[s+(n*156|0)+44>>2];Y=+l[s+(n*156|0)+40>>2];G=+l[s+(n*156|0)+36>>2];H=+l[s+(n*156|0)+104>>2];K=+l[s+(n*156|0)+100>>2];q=T*(C-we*z-J+xe*j)+P*(M+we*B-X-xe*Z)-+l[s+(n*156|0)+32>>2]-(U*+l[s+(n*156|0)+96>>2]+N*H);Ee=T*(C-we*W-J+xe*Y)+P*(M+we*L-X-xe*G)-+l[s+(n*156|0)+68>>2]-(U*K+N*+l[s+(n*156|0)+108>>2]);Ae=+l[s+(n*156|0)+80>>2]*q+ +l[s+(n*156|0)+88>>2]*Ee;Te=q*+l[s+(n*156|0)+84>>2]+Ee*+l[s+(n*156|0)+92>>2];Pe=-Ae;Ce=-Te;if(!(!(Ae<=-0)|!(Te<=-0))){Te=Pe-U;Ae=Ce-N;Me=T*Te;Fe=P*Te;Te=T*Ae;Ie=P*Ae;Ae=Me+Te;Oe=Fe+Ie;k=(l[d>>2]=J-h*Ae,o[d>>2]|0);I=(l[d>>2]=X-h*Oe,o[d>>2]|0);b=(l[d>>2]=C+p*Ae,o[d>>2]|0);R=(l[d>>2]=M+p*Oe,o[d>>2]|0);l[O>>2]=Pe;l[D>>2]=Ce;he=k;fe=I;de=b;pe=R;_e=xe-f*(Z*Fe-j*Me+(G*Ie-Y*Te));me=we+_*(B*Fe-z*Me+(L*Ie-W*Te));break}Te=q*+l[s+(n*156|0)+24>>2];Ie=-Te;if(Te<=-0&Ee+K*Ie>=0){K=Ie-U;Te=0-N;Me=T*K;Fe=P*K;K=T*Te;Ce=P*Te;Te=K+Me;Pe=Ce+Fe;R=(l[d>>2]=J-h*Te,o[d>>2]|0);b=(l[d>>2]=X-h*Pe,o[d>>2]|0);I=(l[d>>2]=C+p*Te,o[d>>2]|0);k=(l[d>>2]=M+p*Pe,o[d>>2]|0);l[O>>2]=Ie;o[D>>2]=0;he=R;fe=b;de=I;pe=k;_e=xe-f*(Fe*Z-Me*j+(Ce*G-K*Y));me=we+_*(Fe*B-Me*z+(Ce*L-K*W));break}K=Ee*+l[s+(n*156|0)+60>>2];Ce=-K;if(K<=-0&q+H*Ce>=0){H=0-U;K=Ce-N;Me=T*H;Fe=P*H;H=T*K;Ie=P*K;K=Me+H;Pe=Fe+Ie;k=(l[d>>2]=J-h*K,o[d>>2]|0);I=(l[d>>2]=X-h*Pe,o[d>>2]|0);b=(l[d>>2]=C+p*K,o[d>>2]|0);R=(l[d>>2]=M+p*Pe,o[d>>2]|0);o[O>>2]=0;l[D>>2]=Ce;he=k;fe=I;de=b;pe=R;_e=xe-f*(Fe*Z-Me*j+(Ie*G-H*Y));me=we+_*(Fe*B-Me*z+(Ie*L-H*W));break}if(q>=0&Ee>=0){Ee=0-U;U=0-N;N=T*Ee;q=P*Ee;Ee=T*U;H=P*U;U=N+Ee;Ie=q+H;R=(l[d>>2]=J-h*U,o[d>>2]|0);b=(l[d>>2]=X-h*Ie,o[d>>2]|0);I=(l[d>>2]=C+p*U,o[d>>2]|0);k=(l[d>>2]=M+p*Ie,o[d>>2]|0);o[O>>2]=0;o[D>>2]=0;he=R;fe=b;de=I;pe=k;_e=xe-f*(q*Z-N*j+(H*G-Ee*Y));me=we+_*(q*B-N*z+(H*L-Ee*W))}else{he=ge;fe=be;de=ve;pe=ye;_e=xe;me=we}}}while(0);o[g>>2]=he;o[v>>2]=fe;s=o[i>>2]|0;l[s+(u*12|0)+8>>2]=_e;o[s+(c*12|0)>>2]=de;o[s+(c*12|0)+4>>2]=pe;e=o[i>>2]|0;l[e+(c*12|0)+8>>2]=me;n=n+1|0}while((n|0)<(o[t>>2]|0));return}function mo(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0;t=o[e+52>>2]|0;if((t|0)<=0)return;r=o[e+44>>2]|0;i=o[e+48>>2]|0;e=0;do{n=o[i+(o[r+(e*156|0)+152>>2]<<2)>>2]|0;s=o[r+(e*156|0)+148>>2]|0;if((s|0)>0){a=0;do{o[n+64+(a*20|0)+8>>2]=o[r+(e*156|0)+(a*36|0)+16>>2];o[n+64+(a*20|0)+12>>2]=o[r+(e*156|0)+(a*36|0)+20>>2];a=a+1|0}while((a|0)<(s|0))}e=e+1|0}while((e|0)<(t|0));return}function bo(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0;t=h;h=h+64|0;r=t+40|0;i=t+24|0;n=t;s=e+52|0;if((o[s>>2]|0)<=0){a=0;u=a>=-.014999999664723873;h=t;return u|0}c=e+40|0;f=e+28|0;e=r+8|0;p=r+12|0;_=i+8|0;m=i+12|0;b=r+4|0;g=i+4|0;y=n+4|0;v=n+8|0;x=n+12|0;w=n+16|0;S=o[f>>2]|0;E=0;A=0;while(1){T=o[c>>2]|0;P=T+(E*88|0)|0;C=o[T+(E*88|0)+32>>2]|0;M=o[T+(E*88|0)+36>>2]|0;F=+l[T+(E*88|0)+48>>2];I=+l[T+(E*88|0)+52>>2];O=+l[T+(E*88|0)+40>>2];D=+l[T+(E*88|0)+64>>2];k=+l[T+(E*88|0)+56>>2];R=+l[T+(E*88|0)+60>>2];B=+l[T+(E*88|0)+44>>2];N=+l[T+(E*88|0)+68>>2];L=o[T+(E*88|0)+84>>2]|0;T=o[S+(C*12|0)>>2]|0;G=o[S+(C*12|0)+4>>2]|0;U=+l[S+(C*12|0)+8>>2];z=o[S+(M*12|0)>>2]|0;j=o[S+(M*12|0)+4>>2]|0;J=+l[S+(M*12|0)+8>>2];if((L|0)>0){X=O+B;V=T;Y=G;q=z;K=j;Z=U;Q=J;$=0;ee=A;while(1){te=+W(+Z);l[e>>2]=te;re=+H(+Z);l[p>>2]=re;ie=+W(+Q);l[_>>2]=ie;ne=+H(+Q);l[m>>2]=ne;oe=(o[d>>2]=V,+l[d>>2]);se=(o[d>>2]=Y,+l[d>>2]);l[r>>2]=oe-(F*re-I*te);l[b>>2]=se-(I*re+F*te);te=(o[d>>2]=q,+l[d>>2]);re=(o[d>>2]=K,+l[d>>2]);l[i>>2]=te-(k*ne-R*ie);l[g>>2]=re-(R*ne+k*ie);yo(n,P,r,i,$);ie=+l[n>>2];ne=+l[y>>2];ae=+l[v>>2];ue=+l[x>>2];le=+l[w>>2];ce=ae-oe;he=ue-se;fe=ae-te;ae=ue-re;ue=ee<le?ee:le;de=(le+.004999999888241291)*.20000000298023224;le=de<0?de:0;de=ne*ce-ie*he;pe=ne*fe-ie*ae;_e=pe*(N*pe)+(X+de*(D*de));de=_e>0?(le<-.20000000298023224?.20000000298023224:-le)/_e:0;_e=ie*de;ie=ne*de;me=(l[d>>2]=oe-O*_e,o[d>>2]|0);be=(l[d>>2]=se-O*ie,o[d>>2]|0);se=Z-D*(ce*ie-he*_e);ge=(l[d>>2]=te+B*_e,o[d>>2]|0);ye=(l[d>>2]=re+B*ie,o[d>>2]|0);re=Q+N*(fe*ie-ae*_e);$=$+1|0;if(($|0)==(L|0)){ve=ue;xe=me;we=be;Se=se;Ee=ge;Ae=ye;Te=re;break}else{V=me;Y=be;q=ge;K=ye;Z=se;Q=re;ee=ue}}Pe=we;Ce=xe;Me=Ae;Fe=Ee;Ie=o[f>>2]|0;Oe=Se;De=Te;ke=ve}else{Pe=G;Ce=T;Me=j;Fe=z;Ie=S;Oe=U;De=J;ke=A}o[Ie+(C*12|0)>>2]=Ce;o[Ie+(C*12|0)+4>>2]=Pe;K=o[f>>2]|0;l[K+(C*12|0)+8>>2]=Oe;o[K+(M*12|0)>>2]=Fe;o[K+(M*12|0)+4>>2]=Me;S=o[f>>2]|0;l[S+(M*12|0)+8>>2]=De;E=E+1|0;if((E|0)>=(o[s>>2]|0)){a=ke;break}else A=ke}u=a>=-.014999999664723873;h=t;return u|0}function go(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0;i=h;h=h+64|0;n=i+40|0;s=i+24|0;a=i;u=e+52|0;if((o[u>>2]|0)<=0){c=0;f=c>=-.007499999832361937;h=i;return f|0}p=e+40|0;_=e+28|0;e=n+8|0;m=n+12|0;b=s+8|0;g=s+12|0;y=n+4|0;v=s+4|0;x=a+4|0;w=a+8|0;S=a+12|0;E=a+16|0;A=0;T=0;while(1){P=o[p>>2]|0;C=P+(A*88|0)|0;M=o[P+(A*88|0)+32>>2]|0;F=o[P+(A*88|0)+36>>2]|0;I=+l[P+(A*88|0)+48>>2];O=+l[P+(A*88|0)+52>>2];D=+l[P+(A*88|0)+56>>2];k=+l[P+(A*88|0)+60>>2];R=o[P+(A*88|0)+84>>2]|0;if((M|0)==(t|0)|(M|0)==(r|0)){B=+l[P+(A*88|0)+64>>2];N=+l[P+(A*88|0)+40>>2]}else{B=0;N=0}if((F|0)==(t|0)|(F|0)==(r|0)){L=+l[P+(A*88|0)+68>>2];G=+l[P+(A*88|0)+44>>2]}else{L=0;G=0}P=o[_>>2]|0;U=o[P+(M*12|0)>>2]|0;z=o[P+(M*12|0)+4>>2]|0;j=+l[P+(M*12|0)+8>>2];J=o[P+(F*12|0)>>2]|0;X=o[P+(F*12|0)+4>>2]|0;V=+l[P+(F*12|0)+8>>2];if((R|0)>0){Y=N+G;q=U;K=z;Z=J;Q=X;$=j;ee=V;te=0;re=T;while(1){ie=+W(+$);l[e>>2]=ie;ne=+H(+$);l[m>>2]=ne;oe=+W(+ee);l[b>>2]=oe;se=+H(+ee);l[g>>2]=se;ae=(o[d>>2]=q,+l[d>>2]);ue=(o[d>>2]=K,+l[d>>2]);l[n>>2]=ae-(I*ne-O*ie);l[y>>2]=ue-(O*ne+I*ie);ie=(o[d>>2]=Z,+l[d>>2]);ne=(o[d>>2]=Q,+l[d>>2]);l[s>>2]=ie-(D*se-k*oe);l[v>>2]=ne-(k*se+D*oe);yo(a,C,n,s,te);oe=+l[a>>2];se=+l[x>>2];le=+l[w>>2];ce=+l[S>>2];he=+l[E>>2];fe=le-ae;de=ce-ue;pe=le-ie;le=ce-ne;ce=re<he?re:he;_e=(he+.004999999888241291)*.75;he=_e<0?_e:0;_e=se*fe-oe*de;me=se*pe-oe*le;be=me*(L*me)+(Y+_e*(B*_e));_e=be>0?(he<-.20000000298023224?.20000000298023224:-he)/be:0;be=oe*_e;oe=se*_e;ge=(l[d>>2]=ae-N*be,o[d>>2]|0);ye=(l[d>>2]=ue-N*oe,o[d>>2]|0);ue=$-B*(fe*oe-de*be);ve=(l[d>>2]=ie+G*be,o[d>>2]|0);xe=(l[d>>2]=ne+G*oe,o[d>>2]|0);ne=ee+L*(pe*oe-le*be);te=te+1|0;if((te|0)==(R|0)){we=ce;Se=ge;Ee=ye;Ae=ue;Te=ve;Pe=xe;Ce=ne;break}else{q=ge;K=ye;Z=ve;Q=xe;$=ue;ee=ne;re=ce}}Me=Ee;Fe=Se;Ie=Pe;Oe=Te;De=o[_>>2]|0;ke=Ae;Re=Ce;Be=we}else{Me=z;Fe=U;Ie=X;Oe=J;De=P;ke=j;Re=V;Be=T}o[De+(M*12|0)>>2]=Fe;o[De+(M*12|0)+4>>2]=Me;Q=o[_>>2]|0;l[Q+(M*12|0)+8>>2]=ke;o[Q+(F*12|0)>>2]=Oe;o[Q+(F*12|0)+4>>2]=Ie;l[(o[_>>2]|0)+(F*12|0)+8>>2]=Re;A=A+1|0;if((A|0)>=(o[u>>2]|0)){c=Be;break}else T=Be}f=c>=-.007499999832361937;h=i;return f|0}function yo(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0;switch(o[t+72>>2]|0){case 0:{s=+l[r+12>>2];a=+l[t+24>>2];u=+l[r+8>>2];c=+l[t+28>>2];h=+l[r>>2]+(s*a-u*c);f=a*u+s*c+ +l[r+4>>2];c=+l[i+12>>2];s=+l[t>>2];u=+l[i+8>>2];a=+l[t+4>>2];d=+l[i>>2]+(c*s-u*a);p=s*u+c*a+ +l[i+4>>2];a=d-h;c=p-f;l[e>>2]=a;_=e+4|0;l[_>>2]=c;u=+J(+(a*a+c*c));if(u<1.1920928955078125E-7){m=a;b=c}else{s=1/u;u=a*s;l[e>>2]=u;g=c*s;l[_>>2]=g;m=u;b=g}l[e+8>>2]=(h+d)*.5;l[e+12>>2]=(f+p)*.5;l[e+16>>2]=a*m+c*b-+l[t+76>>2]-+l[t+80>>2];return}case 1:{_=r+12|0;b=+l[_>>2];c=+l[t+16>>2];y=r+8|0;m=+l[y>>2];a=+l[t+20>>2];p=b*c-m*a;f=c*m+b*a;l[e>>2]=p;l[e+4>>2]=f;a=+l[_>>2];b=+l[t+24>>2];m=+l[y>>2];c=+l[t+28>>2];d=+l[i+12>>2];h=+l[t+(n<<3)>>2];g=+l[i+8>>2];u=+l[t+(n<<3)+4>>2];s=+l[i>>2]+(d*h-g*u);v=h*g+d*u+ +l[i+4>>2];l[e+16>>2]=p*(s-(+l[r>>2]+(a*b-m*c)))+(v-(b*m+a*c+ +l[r+4>>2]))*f-+l[t+76>>2]-+l[t+80>>2];l[e+8>>2]=s;l[e+12>>2]=v;return}case 2:{y=i+12|0;v=+l[y>>2];s=+l[t+16>>2];_=i+8|0;f=+l[_>>2];c=+l[t+20>>2];a=v*s-f*c;m=s*f+v*c;l[e>>2]=a;x=e+4|0;l[x>>2]=m;c=+l[y>>2];v=+l[t+24>>2];f=+l[_>>2];s=+l[t+28>>2];b=+l[r+12>>2];p=+l[t+(n<<3)>>2];u=+l[r+8>>2];d=+l[t+(n<<3)+4>>2];g=+l[r>>2]+(b*p-u*d);h=p*u+b*d+ +l[r+4>>2];l[e+16>>2]=a*(g-(+l[i>>2]+(c*v-f*s)))+(h-(v*f+c*s+ +l[i+4>>2]))*m-+l[t+76>>2]-+l[t+80>>2];l[e+8>>2]=g;l[e+12>>2]=h;l[e>>2]=-a;l[x>>2]=-m;return}default:{l[e+16>>2]=0;x=2440;t=o[x+4>>2]|0;i=e;o[i>>2]=o[x>>2];o[i+4>>2]=t;t=2440;i=o[t+4>>2]|0;x=e+8|0;o[x>>2]=o[t>>2];o[x+4>>2]=i;return}}}function vo(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;i=Od(n,148)|0;$n(i,e,0,r,0);o[i>>2]=2016;return i|0}function xo(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function wo(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;qc(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);return}function So(e){e=e|0;op(e);return}function Eo(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0;s=Od(n,148)|0;$n(s,e,t,r,i);o[s>>2]=2036;return s|0}function Ao(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function To(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var s=0,a=0,u=0,c=0;s=h;h=h+48|0;a=s;u=o[(o[e+48>>2]|0)+12>>2]|0;o[a>>2]=916;o[a+4>>2]=1;l[a+8>>2]=.009999999776482582;c=a+28|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;n[c+16>>1]=0;Ac(u,a,o[e+56>>2]|0);qc(t,a,r,o[(o[e+52>>2]|0)+12>>2]|0,i);h=s;return}function Po(e){e=e|0;op(e);return}function Co(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;i=Od(n,148)|0;$n(i,e,0,r,0);o[i>>2]=2056;return i|0}function Mo(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function Fo(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;Qc(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);return}function Io(e){e=e|0;op(e);return}function Oo(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;i=Od(n,148)|0;$n(i,e,0,r,0);o[i>>2]=2076;return i|0}function Do(e,t){e=e|0;t=t|0;um[o[(o[e>>2]|0)+4>>2]&127](e);Dd(t,e,148);return}function ko(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;$c(t,o[(o[e+48>>2]|0)+12>>2]|0,r,o[(o[e+52>>2]|0)+12>>2]|0,i);return}function Ro(e){e=e|0;op(e);return}function Bo(e){e=e|0;n[e+32>>1]=1;n[e+34>>1]=-1;n[e+36>>1]=0;o[e+40>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function No(e,t,r,s){e=e|0;t=t|0;r=r|0;s=s|0;var a=0,u=0,l=0,c=0,h=0;o[e+40>>2]=o[s+4>>2];o[e+16>>2]=o[s+8>>2];o[e+20>>2]=o[s+12>>2];o[e+8>>2]=r;o[e+4>>2]=0;r=e+32|0;a=s+22|0;n[r>>1]=n[a>>1]|0;n[r+2>>1]=n[a+2>>1]|0;n[r+4>>1]=n[a+4>>1]|0;i[e+38>>0]=i[s+20>>0]|0;a=o[s>>2]|0;r=bm[o[(o[a>>2]|0)+8>>2]&31](a,t)|0;o[e+12>>2]=r;a=om[o[(o[r>>2]|0)+12>>2]&7](r)|0;r=Od(t,a*28|0)|0;o[e+24>>2]=r;if((a|0)>0)u=0;else{l=e+28|0;o[l>>2]=0;c=s+16|0;h=o[c>>2]|0;o[e>>2]=h;return}do{o[r+(u*28|0)+16>>2]=0;o[r+(u*28|0)+24>>2]=-1;u=u+1|0}while((u|0)!=(a|0));l=e+28|0;o[l>>2]=0;c=s+16|0;h=o[c>>2]|0;o[e>>2]=h;return}function Lo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=e+12|0;i=o[r>>2]|0;n=om[o[(o[i>>2]|0)+12>>2]&7](i)|0;i=e+24|0;Dd(t,o[i>>2]|0,n*28|0);o[i>>2]=0;i=o[r>>2]|0;switch(o[i+4>>2]|0){case 0:{um[o[o[i>>2]>>2]&127](i);Dd(t,i,20);o[r>>2]=0;return}case 1:{um[o[o[i>>2]>>2]&127](i);Dd(t,i,48);o[r>>2]=0;return}case 2:{um[o[o[i>>2]>>2]&127](i);Dd(t,i,152);o[r>>2]=0;return}case 3:{um[o[o[i>>2]>>2]&127](i);Dd(t,i,40);o[r>>2]=0;return}default:{o[r>>2]=0;return}}}function Go(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0;i=e+12|0;n=o[i>>2]|0;s=om[o[(o[n>>2]|0)+12>>2]&7](n)|0;n=e+28|0;o[n>>2]=s;if((s|0)<=0)return;s=e+24|0;a=0;do{u=o[s>>2]|0;l=u+(a*28|0)|0;c=o[i>>2]|0;ym[o[(o[c>>2]|0)+28>>2]&31](c,l,r,a);o[u+(a*28|0)+24>>2]=Dc(t,l,l)|0;o[u+(a*28|0)+16>>2]=e;o[u+(a*28|0)+20>>2]=a;a=a+1|0}while((a|0)<(o[n>>2]|0));return}function Uo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=e+28|0;if((o[r>>2]|0)<=0){o[r>>2]=0;return}i=e+24|0;e=0;do{n=(o[i>>2]|0)+(e*28|0)+24|0;kc(t,o[n>>2]|0);o[n>>2]=-1;e=e+1|0}while((e|0)<(o[r>>2]|0));o[r>>2]=0;return}function zo(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0;n=h;h=h+48|0;s=n+24|0;a=n+8|0;u=n;c=e+28|0;if((o[c>>2]|0)<=0){h=n;return}f=e+24|0;d=e+12|0;e=s+4|0;p=a+4|0;_=s+8|0;m=a+8|0;b=s+12|0;g=a+12|0;y=i+4|0;v=r+4|0;x=u+4|0;w=0;do{S=o[f>>2]|0;E=o[d>>2]|0;A=S+(w*28|0)+20|0;ym[o[(o[E>>2]|0)+28>>2]&31](E,s,r,o[A>>2]|0);E=o[d>>2]|0;ym[o[(o[E>>2]|0)+28>>2]&31](E,a,i,o[A>>2]|0);A=S+(w*28|0)|0;T=+l[s>>2];P=+l[a>>2];C=+l[e>>2];M=+l[p>>2];l[A>>2]=T<P?T:P;l[S+(w*28|0)+4>>2]=C<M?C:M;M=+l[_>>2];C=+l[m>>2];P=+l[b>>2];T=+l[g>>2];l[S+(w*28|0)+8>>2]=M>C?M:C;l[S+(w*28|0)+12>>2]=P>T?P:T;T=+l[y>>2]-+l[v>>2];l[u>>2]=+l[i>>2]-+l[r>>2];l[x>>2]=T;Rc(t,o[S+(w*28|0)+24>>2]|0,A,u);w=w+1|0}while((w|0)<(o[c>>2]|0));h=n;return}function jo(e){e=e|0;var t=0,r=0,i=0,n=0;t=o[e+8>>2]|0;if(!t)return;r=o[t+128>>2]|0;if(r){i=r;do{r=o[i+4>>2]|0;if((o[r+48>>2]|0)==(e|0)?1:(o[r+52>>2]|0)==(e|0)){n=r+4|0;o[n>>2]=o[n>>2]|8}i=o[i+12>>2]|0}while((i|0)!=0)}i=o[t+104>>2]|0;if(!i)return;t=i+102880|0;i=e+28|0;if((o[i>>2]|0)<=0)return;n=e+24|0;e=0;do{Bc(t,o[(o[n>>2]|0)+(e*28|0)+24>>2]|0);e=e+1|0}while((e|0)<(o[i>>2]|0));return}function Jo(e,t){e=e|0;t=t|0;var r=0,n=0;Fd(e);Kd(e+76|0);ff(e+102880|0);o[e+102992>>2]=0;o[e+102996>>2]=0;r=e+102960|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;i[e+103004>>0]=1;i[e+103005>>0]=1;i[e+103006>>0]=0;i[e+103007>>0]=1;i[e+102988>>0]=1;r=t;t=o[r+4>>2]|0;n=e+102980|0;o[n>>2]=o[r>>2];o[n+4>>2]=t;o[e+102876>>2]=4;l[e+103E3>>2]=0;o[e+102956>>2]=e;o[e+103040>>2]=2448;o[e+103044>>2]=o[615];t=e+103008|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;return}function Xo(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0;t=o[e+102960>>2]|0;if(t){r=t;do{t=r;r=o[r+112>>2]|0;i=o[t+116>>2]|0;while(1){if(!i)break;t=o[i+4>>2]|0;o[i+28>>2]=0;Lo(i,e);i=t}}while((r|0)!=0)}r=e+102968|0;i=o[r>>2]|0;if(!i){n=e+102880|0;Oc(n);s=e+76|0;Zd(s);Id(e);return}t=e+102876|0;a=i;do{i=(o[t>>2]&2|0)==0;do{}while(!i);i=o[a+404>>2]|0;u=a+408|0;if(i)o[i+408>>2]=o[u>>2];l=o[u>>2]|0;if(l)o[l+404>>2]=i;o[r>>2]=l;Uf(a);Dd(e,a,416);a=o[r>>2]|0}while((a|0)!=0);n=e+102880|0;Oc(n);s=e+76|0;Zd(s);Id(e);return}function Ho(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;if(o[e+102876>>2]&2)return;r=o[t+404>>2]|0;i=t+408|0;if(r)o[r+408>>2]=o[i>>2];n=o[i>>2]|0;if(n)o[n+404>>2]=r;r=e+102968|0;if((o[r>>2]|0)==(t|0))o[r>>2]=n;Uf(t);Dd(e,t,416);return}function Wo(e,t){e=e|0;t=t|0;o[e+102952>>2]=t;return}function Vo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;if(o[e+102876>>2]&2){r=0;return r|0}i=Od(e,168)|0;$h(i,t,e);o[i+108>>2]=0;t=e+102960|0;n=o[t>>2]|0;o[i+112>>2]=n;if(n)o[n+108>>2]=i;o[t>>2]=i;t=e+102972|0;o[t>>2]=(o[t>>2]|0)+1;r=i;return r|0}function Yo(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0;if(o[e+102876>>2]&2)return;r=t+124|0;i=o[r>>2]|0;if(i){n=e+102992|0;s=i;do{i=s;s=o[s+12>>2]|0;a=o[n>>2]|0;if(!a)u=i+4|0;else{l=i+4|0;cm[o[(o[a>>2]|0)+8>>2]&63](a,o[l>>2]|0);u=l}qo(e,o[u>>2]|0);o[r>>2]=s}while((s|0)!=0)}o[r>>2]=0;r=t+128|0;s=o[r>>2]|0;if(s){u=e+102880|0;n=s;do{s=n;n=o[n+12>>2]|0;df(u,o[s+4>>2]|0)}while((n|0)!=0)}o[r>>2]=0;r=t+116|0;n=o[r>>2]|0;if(!n)c=t+120|0;else{u=e+102992|0;s=e+102880|0;l=t+120|0;a=n;do{n=a;a=o[a+4>>2]|0;i=o[u>>2]|0;if(i)cm[o[(o[i>>2]|0)+12>>2]&63](i,n);Uo(n,s);Lo(n,e);Dd(e,n,44);o[r>>2]=a;o[l>>2]=(o[l>>2]|0)+-1}while((a|0)!=0);c=l}o[r>>2]=0;o[c>>2]=0;c=o[t+108>>2]|0;r=t+112|0;if(c)o[c+112>>2]=o[r>>2];l=o[r>>2]|0;if(l)o[l+108>>2]=c;c=e+102960|0;if((o[c>>2]|0)==(t|0))o[c>>2]=l;l=e+102972|0;o[l>>2]=(o[l>>2]|0)+-1;ef(t);Dd(e,t,168);return}function qo(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0;if(o[e+102876>>2]&2)return;r=i[t+61>>0]|0;s=o[t+8>>2]|0;u=t+12|0;if(s)o[s+12>>2]=o[u>>2];c=o[u>>2]|0;if(c)o[c+8>>2]=s;s=e+102964|0;if((o[s>>2]|0)==(t|0))o[s>>2]=c;c=o[t+48>>2]|0;s=o[t+52>>2]|0;u=c+4|0;h=a[u>>1]|0;if(!(h&2)){n[u>>1]=h|2;l[c+160>>2]=0}h=s+4|0;u=a[h>>1]|0;if(!(u&2)){n[h>>1]=u|2;l[s+160>>2]=0}u=t+24|0;h=o[u>>2]|0;f=t+28|0;if(h)o[h+12>>2]=o[f>>2];d=o[f>>2]|0;if(d)o[d+8>>2]=h;h=c+124|0;if((t+16|0)==(o[h>>2]|0))o[h>>2]=d;o[u>>2]=0;o[f>>2]=0;f=t+40|0;u=o[f>>2]|0;d=t+44|0;if(u)o[u+12>>2]=o[d>>2];h=o[d>>2]|0;if(h)o[h+8>>2]=u;u=s+124|0;if((t+32|0)==(o[u>>2]|0))o[u>>2]=h;o[f>>2]=0;o[d>>2]=0;Gi(t,e);t=e+102976|0;o[t>>2]=(o[t>>2]|0)+-1;if(r<<24>>24)return;r=o[s+128>>2]|0;if(!r)return;else p=r;do{if((o[p>>2]|0)==(c|0)){r=(o[p+4>>2]|0)+4|0;o[r>>2]=o[r>>2]|8}p=o[p+12>>2]|0}while((p|0)!=0);return}function Ko(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0,c=0;if(o[e+102876>>2]&2){r=0;return r|0}n=Li(t,e)|0;o[n+8>>2]=0;s=e+102964|0;a=o[s>>2]|0;o[n+12>>2]=a;if(a)o[a+8>>2]=n;o[s>>2]=n;s=e+102976|0;o[s>>2]=(o[s>>2]|0)+1;s=n+16|0;o[n+20>>2]=n;e=o[n+52>>2]|0;o[s>>2]=e;o[n+24>>2]=0;a=o[n+48>>2]|0;u=a+124|0;l=o[u>>2]|0;o[n+28>>2]=l;if(l)o[l+8>>2]=s;o[u>>2]=s;s=n+32|0;o[n+36>>2]=n;o[s>>2]=a;o[n+40>>2]=0;a=e+124|0;e=o[a>>2]|0;o[n+44>>2]=e;if(e)o[e+8>>2]=s;o[a>>2]=s;s=o[t+8>>2]|0;if(i[t+16>>0]|0){r=n;return r|0}a=o[(o[t+12>>2]|0)+128>>2]|0;if(!a){r=n;return r|0}else c=a;do{if((o[c>>2]|0)==(s|0)){a=(o[c+4>>2]|0)+4|0;o[a>>2]=o[a>>2]|8}c=o[c+12>>2]|0}while((c|0)!=0);r=n;return r|0}function Zo(e,t){e=e|0;t=t|0;var r=0,i=0;if(o[e+102876>>2]&2){r=0;return r|0}i=Od(e,416)|0;Gf(i,t,e);o[i+404>>2]=0;t=e+102968|0;e=o[t>>2]|0;o[i+408>>2]=e;if(e)o[e+404>>2]=i;o[t>>2]=i;r=i;return r|0}function Qo(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0;r=h;h=h+96|0;s=r+40|0;u=r+8|0;c=r;f=e+102960|0;d=o[f>>2]|0;if(d){p=d;do{d=p+28|0;_=p+12|0;o[d>>2]=o[_>>2];o[d+4>>2]=o[_+4>>2];o[d+8>>2]=o[_+8>>2];o[d+12>>2]=o[_+12>>2];p=o[p+112>>2]|0}while((p|0)!=0)}p=e+103020|0;l[p>>2]=0;_=e+103024|0;l[_>>2]=0;d=e+103028|0;l[d>>2]=0;m=e+102972|0;b=e+102880|0;g=e+76|0;nh(s,o[m>>2]|0,o[e+102944>>2]|0,o[e+102976>>2]|0,g,o[e+102952>>2]|0);y=o[f>>2]|0;if(y){v=y;do{y=v+4|0;n[y>>1]=a[y>>1]&65534;v=o[v+112>>2]|0}while((v|0)!=0)}v=o[e+102940>>2]|0;if(v){y=v;do{v=y+4|0;o[v>>2]=o[v>>2]&-2;y=o[y+12>>2]|0}while((y|0)!=0)}y=o[e+102964>>2]|0;if(y){v=y;do{i[v+60>>0]=0;v=o[v+12>>2]|0}while((v|0)!=0)}v=Qd(g,o[m>>2]<<2)|0;m=o[f>>2]|0;if(m){y=s+28|0;x=s+36|0;w=s+32|0;S=s+8|0;E=s+16|0;A=s+12|0;T=e+102980|0;P=e+102988|0;C=u+12|0;M=u+16|0;F=u+20|0;I=m;do{m=I+4|0;O=n[m>>1]|0;if((O&35)==34?(o[I>>2]|0)!=0:0){o[y>>2]=0;o[x>>2]=0;o[w>>2]=0;o[v>>2]=I;n[m>>1]=O&65535|1;O=0;m=0;D=0;k=1;while(1){R=k+-1|0;B=o[v+(R<<2)>>2]|0;o[B+8>>2]=D;o[(o[S>>2]|0)+(D<<2)>>2]=B;D=D+1|0;o[y>>2]=D;N=B+4|0;L=a[N>>1]|0;if(!(L&2)){n[N>>1]=L|2;l[B+160>>2]=0}if(o[B>>2]|0){L=o[B+128>>2]|0;if(!L){G=m;U=R}else{N=m;z=L;L=R;while(1){j=o[z+4>>2]|0;J=j+4|0;X=o[J>>2]|0;do{if((X&7|0)==6?(i[(o[j+48>>2]|0)+38>>0]|0)==0:0){if(i[(o[j+52>>2]|0)+38>>0]|0){H=N;W=L;break}V=N+1|0;o[x>>2]=V;o[(o[A>>2]|0)+(N<<2)>>2]=j;o[J>>2]=X|1;Y=o[z>>2]|0;q=Y+4|0;K=n[q>>1]|0;if(K&1){H=V;W=L;break}o[v+(L<<2)>>2]=Y;n[q>>1]=K&65535|1;H=V;W=L+1|0}else{H=N;W=L}}while(0);z=o[z+12>>2]|0;if(!z){G=H;U=W;break}else{N=H;L=W}}}L=o[B+124>>2]|0;if(!L){Z=O;Q=G;$=U}else{N=O;z=L;L=U;while(1){X=z+4|0;J=o[X>>2]|0;do{if((i[J+60>>0]|0)==0?(j=o[z>>2]|0,V=j+4|0,K=n[V>>1]|0,(K&32)!=0):0){q=N+1|0;o[w>>2]=q;o[(o[E>>2]|0)+(N<<2)>>2]=J;i[(o[X>>2]|0)+60>>0]=1;if(K&1){ee=q;te=L;break}o[v+(L<<2)>>2]=j;n[V>>1]=K&65535|1;ee=q;te=L+1|0}else{ee=N;te=L}}while(0);z=o[z+12>>2]|0;if(!z){Z=ee;Q=G;$=te;break}else{N=ee;L=te}}}}else{Z=O;Q=m;$=R}if(($|0)<=0)break;else{O=Z;m=Q;k=$}}sh(s,u,t,T,(i[P>>0]|0)!=0);l[p>>2]=+l[C>>2]+ +l[p>>2];l[_>>2]=+l[M>>2]+ +l[_>>2];l[d>>2]=+l[F>>2]+ +l[d>>2];k=o[y>>2]|0;if((k|0)>0){m=o[S>>2]|0;O=0;do{D=o[m+(O<<2)>>2]|0;if(!(o[D>>2]|0)){L=D+4|0;n[L>>1]=a[L>>1]&65534}O=O+1|0}while((O|0)<(k|0))}}I=o[I+112>>2]|0}while((I|0)!=0)}ep(g,v);Ld(c);v=o[f>>2]|0;if(!v){_f(b);re=+Ud(c);ie=e+103032|0;l[ie>>2]=re;oh(s);h=r;return}else ne=v;do{if((n[ne+4>>1]&1)!=0?(o[ne>>2]|0)!=0:0)nf(ne);ne=o[ne+112>>2]|0}while((ne|0)!=0);_f(b);re=+Ud(c);ie=e+103032|0;l[ie>>2]=re;oh(s);h=r;return}function $o(e){e=e|0;var t=0;t=h;h=h+e|0;h=h+15&-16;return t|0}function es(){return h|0}function ts(e){e=e|0;h=e}function rs(e,t){e=e|0;t=t|0;h=e;f=t}function is(e,t){e=e|0;t=t|0;if(!m){m=e;b=t}}function ns(e){e=e|0;i[d>>0]=i[e>>0];i[d+1>>0]=i[e+1>>0];i[d+2>>0]=i[e+2>>0];i[d+3>>0]=i[e+3>>0]}function os(e){e=e|0;i[d>>0]=i[e>>0];i[d+1>>0]=i[e+1>>0];i[d+2>>0]=i[e+2>>0];i[d+3>>0]=i[e+3>>0];i[d+4>>0]=i[e+4>>0];i[d+5>>0]=i[e+5>>0];i[d+6>>0]=i[e+6>>0];i[d+7>>0]=i[e+7>>0]}function ss(e){e=e|0;I=e}function as(){return I|0}function us(e){e=e|0;return+ +(o[e+60>>2]|0)}function ls(e,t,r,s,a,u,f,d,p,_,m){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=_|0;m=+m;var b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;b=h;h=h+1104|0;g=b;y=b+1032|0;v=b+1064|0;x=b+8|0;c[g>>3]=u;o[y>>2]=0;l[y+16>>2]=t;l[y+8>>2]=r;i[y+20>>0]=s!=0&1;l[y+12>>2]=a;o[y+4>>2]=g;n[y+22>>1]=~~f;n[y+26>>1]=~~d;n[y+24>>1]=~~p;o[v>>2]=1048;o[v+4>>2]=3;l[v+8>>2]=.009999999776482582;o[v+12>>2]=0;o[v+16>>2]=0;i[v+36>>0]=0;i[v+37>>0]=0;g=~~(m*.5);if(m>0){w=0;S=0}else{wc(v,x,g);o[y>>2]=v;E=of(e,y)|0;vc(v);h=b;return E|0}while(1){A=o[_+((w|1)<<2)>>2]|0;o[x+(S<<3)>>2]=o[_+(w<<2)>>2];o[x+(S<<3)+4>>2]=A;w=w+2|0;if(!(+(w|0)<m))break;else S=S+1|0}wc(v,x,g);o[y>>2]=v;E=of(e,y)|0;vc(v);h=b;return E|0}function cs(e){e=e|0;Oe(e|0)|0;cp()}function hs(e,t,r,s,a,u,f,d,p,_,m,b){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;var g=0,y=0,v=0,x=0;g=h;h=h+64|0;y=g;v=g+28|0;x=g+8|0;c[y>>3]=u;l[v+16>>2]=t;l[v+8>>2]=r;i[v+20>>0]=s!=0&1;l[v+12>>2]=a;o[v+4>>2]=y;n[v+22>>1]=~~f;n[v+26>>1]=~~d;n[v+24>>1]=~~p;o[x>>2]=1004;y=x+4|0;o[y>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;l[x+12>>2]=_;l[x+16>>2]=m;l[x+8>>2]=b;o[v>>2]=x;x=of(e,v)|0;h=g;return x|0}function fs(e,t,r,n,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E,A,T,P){e=e|0;t=+t;r=+r;n=+n;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;A=+A;T=+T;P=+P;var C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0;C=h;h=h+112|0;M=C;F=C+28|0;I=C+8|0;c[M>>3]=E;O=F+8|0;D=F+20|0;k=2440;R=o[k>>2]|0;B=o[k+4>>2]|0;k=O;o[k>>2]=R;o[k+4>>2]=B;k=D;o[k>>2]=R;o[k+4>>2]=B;B=F+40|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[B+16>>2]=0;o[B+20>>2]=0;o[B+24>>2]=0;l[F+16>>2]=t;l[F+28>>2]=r;i[F+32>>0]=~~n;i[F+33>>0]=~~s;i[F+34>>0]=~~a;i[F+35>>0]=~~u;o[F>>2]=~~f>>>0;o[F+72>>2]=0;o[F+4>>2]=~~p>>>0;l[F+64>>2]=_;l[D>>2]=m;l[F+24>>2]=b;l[O>>2]=g;l[F+12>>2]=y;o[F+60>>2]=0;o[F+56>>2]=~~x;o[F+48>>2]=0;o[F+44>>2]=0;l[F+36>>2]=w;l[F+52>>2]=S;o[F+68>>2]=M;o[I>>2]=1004;M=I+4|0;o[M>>2]=0;o[M+4>>2]=0;o[M+8>>2]=0;l[I+12>>2]=A;l[I+16>>2]=T;l[I+8>>2]=P;o[B>>2]=I;I=$f(e,F)|0;h=C;return I|0}function ds(e,t,r,i,n,s,a,u){e=e|0;t=+t;r=+r;i=+i;n=+n;s=+s;a=+a;u=+u;var c=0,f=0,d=0,p=0;c=h;h=h+48|0;f=c+16|0;d=c;o[f>>2]=1004;p=f+4|0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;l[f+12>>2]=t;l[f+16>>2]=r;l[f+8>>2]=i;l[d>>2]=n;l[d+4>>2]=s;l[d+8>>2]=a;l[d+12>>2]=u;u=+(Kf(e,f,d,0)|0);h=c;return+u}function ps(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;var A=0,T=0,P=0,C=0;A=h;h=h+96|0;T=A;P=A+8|0;C=A+40|0;c[T>>3]=u;l[P+16>>2]=t;l[P+8>>2]=r;i[P+20>>0]=s!=0&1;l[P+12>>2]=a;o[P+4>>2]=T;n[P+22>>1]=~~f;n[P+26>>1]=~~d;n[P+24>>1]=~~p;o[C>>2]=916;o[C+4>>2]=1;l[C+8>>2]=.009999999776482582;T=C+28|0;o[T>>2]=0;o[T+4>>2]=0;o[T+8>>2]=0;o[T+12>>2]=0;n[T+16>>1]=0;l[T>>2]=b;l[C+32>>2]=g;l[C+12>>2]=y;l[C+16>>2]=v;l[C+20>>2]=x;l[C+24>>2]=w;l[C+36>>2]=S;l[C+40>>2]=E;i[C+44>>0]=_!=0&1;i[C+45>>0]=m!=0&1;o[P>>2]=C;C=of(e,P)|0;h=A;return C|0}function _s(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;var x=0,w=0,S=0,E=0,A=0;x=h;h=h+224|0;w=x;S=x+32|0;E=x+8|0;A=x+64|0;c[w>>3]=u;l[S+16>>2]=t;l[S+8>>2]=r;i[S+20>>0]=s!=0&1;l[S+12>>2]=a;o[S+4>>2]=w;n[S+22>>1]=~~f;n[S+26>>1]=~~d;n[S+24>>1]=~~p;l[E>>2]=_;l[E+4>>2]=m;l[E+8>>2]=b;l[E+12>>2]=g;l[E+16>>2]=y;l[E+20>>2]=v;o[A>>2]=960;o[A+4>>2]=2;l[A+8>>2]=.009999999776482582;o[A+148>>2]=0;l[A+12>>2]=0;l[A+16>>2]=0;oc(A,E,3);o[S>>2]=A;A=of(e,S)|0;h=x;return A|0}function ms(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v,x,w){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;var S=0,E=0,A=0,T=0,P=0;S=h;h=h+224|0;E=S;A=S+40|0;T=S+8|0;P=S+72|0;c[E>>3]=u;l[A+16>>2]=t;l[A+8>>2]=r;i[A+20>>0]=s!=0&1;l[A+12>>2]=a;o[A+4>>2]=E;n[A+22>>1]=~~f;n[A+26>>1]=~~d;n[A+24>>1]=~~p;l[T>>2]=_;l[T+4>>2]=m;l[T+8>>2]=b;l[T+12>>2]=g;l[T+16>>2]=y;l[T+20>>2]=v;l[T+24>>2]=x;l[T+28>>2]=w;o[P>>2]=960;o[P+4>>2]=2;l[P+8>>2]=.009999999776482582;o[P+148>>2]=0;l[P+12>>2]=0;l[P+16>>2]=0;oc(P,T,4);o[A>>2]=P;P=of(e,A)|0;h=S;return P|0}function bs(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;var A=0,T=0,P=0,C=0,M=0;A=h;h=h+240|0;T=A;P=A+160|0;C=A+192|0;M=A+8|0;c[T>>3]=u;l[P+16>>2]=t;l[P+8>>2]=r;i[P+20>>0]=s!=0&1;l[P+12>>2]=a;o[P+4>>2]=T;n[P+22>>1]=~~f;n[P+26>>1]=~~d;n[P+24>>1]=~~p;l[C>>2]=_;l[C+4>>2]=m;l[C+8>>2]=b;l[C+12>>2]=g;l[C+16>>2]=y;l[C+20>>2]=v;l[C+24>>2]=x;l[C+28>>2]=w;l[C+32>>2]=S;l[C+36>>2]=E;o[M>>2]=960;o[M+4>>2]=2;l[M+8>>2]=.009999999776482582;o[M+148>>2]=0;l[M+12>>2]=0;l[M+16>>2]=0;oc(M,C,5);o[P>>2]=M;M=of(e,P)|0;h=A;return M|0}function gs(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E,A,T){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;A=+A;T=+T;var P=0,C=0,M=0,F=0,I=0;P=h;h=h+240|0;C=P;M=P+160|0;F=P+192|0;I=P+8|0;c[C>>3]=u;l[M+16>>2]=t;l[M+8>>2]=r;i[M+20>>0]=s!=0&1;l[M+12>>2]=a;o[M+4>>2]=C;n[M+22>>1]=~~f;n[M+26>>1]=~~d;n[M+24>>1]=~~p;l[F>>2]=_;l[F+4>>2]=m;l[F+8>>2]=b;l[F+12>>2]=g;l[F+16>>2]=y;l[F+20>>2]=v;l[F+24>>2]=x;l[F+28>>2]=w;l[F+32>>2]=S;l[F+36>>2]=E;l[F+40>>2]=A;l[F+44>>2]=T;o[I>>2]=960;o[I+4>>2]=2;l[I+8>>2]=.009999999776482582;o[I+148>>2]=0;l[I+12>>2]=0;l[I+16>>2]=0;oc(I,F,6);o[M>>2]=I;I=of(e,M)|0;h=P;return I|0}function ys(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E,A,T,P,C){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;A=+A;T=+T;P=+P;C=+C;var M=0,F=0,I=0,O=0,D=0;M=h;h=h+256|0;F=M;I=M+160|0;O=M+192|0;D=M+8|0;c[F>>3]=u;l[I+16>>2]=t;l[I+8>>2]=r;i[I+20>>0]=s!=0&1;l[I+12>>2]=a;o[I+4>>2]=F;n[I+22>>1]=~~f;n[I+26>>1]=~~d;n[I+24>>1]=~~p;l[O>>2]=_;l[O+4>>2]=m;l[O+8>>2]=b;l[O+12>>2]=g;l[O+16>>2]=y;l[O+20>>2]=v;l[O+24>>2]=x;l[O+28>>2]=w;l[O+32>>2]=S;l[O+36>>2]=E;l[O+40>>2]=A;l[O+44>>2]=T;l[O+48>>2]=P;l[O+52>>2]=C;o[D>>2]=960;o[D+4>>2]=2;l[D+8>>2]=.009999999776482582;o[D+148>>2]=0;l[D+12>>2]=0;l[D+16>>2]=0;oc(D,O,7);o[I>>2]=D;D=of(e,I)|0;h=M;return D|0}function vs(e,t,r,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E,A,T,P,C,M,F){e=e|0;t=+t;r=+r;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;A=+A;T=+T;P=+P;C=+C;M=+M;F=+F;var I=0,O=0,D=0,k=0,R=0;I=h;h=h+256|0;O=I;D=I+160|0;k=I+192|0;R=I+8|0;c[O>>3]=u;l[D+16>>2]=t;l[D+8>>2]=r;i[D+20>>0]=s!=0&1;l[D+12>>2]=a;o[D+4>>2]=O;n[D+22>>1]=~~f;n[D+26>>1]=~~d;n[D+24>>1]=~~p;l[k>>2]=_;l[k+4>>2]=m;l[k+8>>2]=b;l[k+12>>2]=g;l[k+16>>2]=y;l[k+20>>2]=v;l[k+24>>2]=x;l[k+28>>2]=w;l[k+32>>2]=S;l[k+36>>2]=E;l[k+40>>2]=A;l[k+44>>2]=T;l[k+48>>2]=P;l[k+52>>2]=C;l[k+56>>2]=M;l[k+60>>2]=F;o[R>>2]=960;o[R+4>>2]=2;l[R+8>>2]=.009999999776482582;o[R+148>>2]=0;l[R+12>>2]=0;l[R+16>>2]=0;oc(R,k,8);o[D>>2]=R;R=of(e,D)|0;h=I;return R|0}function xs(e,t,r,n,s,a,u,f,d,p,_,m,b,g,y,v,x,w,S,E,A,T,P,C,M,F,I,O){e=e|0;t=+t;r=+r;n=+n;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;w=+w;S=+S;E=+E;A=+A;T=+T;P=+P;C=+C;M=+M;F=+F;I=+I;O=+O;var D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0;D=h;h=h+272|0;k=D;R=D+192|0;B=D+8|0;N=D+40|0;c[k>>3]=E;L=R+8|0;G=R+20|0;U=2440;z=o[U>>2]|0;j=o[U+4>>2]|0;U=L;o[U>>2]=z;o[U+4>>2]=j;U=G;o[U>>2]=z;o[U+4>>2]=j;j=R+40|0;o[j>>2]=0;o[j+4>>2]=0;o[j+8>>2]=0;o[j+12>>2]=0;o[j+16>>2]=0;o[j+20>>2]=0;o[j+24>>2]=0;l[R+16>>2]=t;l[R+28>>2]=r;i[R+32>>0]=~~n;i[R+33>>0]=~~s;i[R+34>>0]=~~a;i[R+35>>0]=~~u;o[R>>2]=~~f>>>0;o[R+72>>2]=0;o[R+4>>2]=~~p>>>0;l[R+64>>2]=_;l[G>>2]=m;l[R+24>>2]=b;l[L>>2]=g;l[R+12>>2]=y;o[R+60>>2]=0;o[R+56>>2]=~~x;o[R+48>>2]=0;o[R+44>>2]=0;l[R+36>>2]=w;l[R+52>>2]=S;o[R+68>>2]=k;l[B>>2]=A;l[B+4>>2]=T;l[B+8>>2]=P;l[B+12>>2]=C;l[B+16>>2]=M;l[B+20>>2]=F;l[B+24>>2]=I;l[B+28>>2]=O;o[N>>2]=960;o[N+4>>2]=2;l[N+8>>2]=.009999999776482582;o[N+148>>2]=0;l[N+12>>2]=0;l[N+16>>2]=0;oc(N,B,4);o[j>>2]=N;N=$f(e,R)|0;h=D;return N|0}function ws(e,t,r,i,n,s,a,u,c,f,d,p,_){e=e|0;t=+t;r=+r;i=+i;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;var m=0,b=0,g=0,y=0;m=h;h=h+208|0;b=m+168|0;g=m+16|0;y=m;l[b>>2]=t;l[b+4>>2]=r;l[b+8>>2]=i;l[b+12>>2]=n;l[b+16>>2]=s;l[b+20>>2]=a;l[b+24>>2]=u;l[b+28>>2]=c;o[g>>2]=960;o[g+4>>2]=2;l[g+8>>2]=.009999999776482582;o[g+148>>2]=0;l[g+12>>2]=0;l[g+16>>2]=0;oc(g,b,4);l[y>>2]=f;l[y+4>>2]=d;l[y+8>>2]=p;l[y+12>>2]=_;_=+(Kf(e,g,y,0)|0);h=m;return+_}function Ss(e,t,r){e=e|0;t=+t;r=+r;var i=0,s=0,a=0,u=0,c=0,h=0;i=t;if((o[e>>2]|0)!=2)return;s=e+4|0;a=n[s>>1]|0;if(r!=0&(a&2)==0?(u=a&65535,(u&2|0)==0):0){c=(u|2)&65535;n[s>>1]=c;l[e+160>>2]=0;h=c}else h=a;if(!(h&2))return;h=e+88|0;l[h>>2]=+l[h>>2]+i*+l[e+144>>2];return}function Es(e,t,r,i,s,a){e=e|0;t=+t;r=+r;i=+i;s=+s;a=+a;var u=0,c=0,h=0,f=0,d=0,p=0;u=t;t=r;r=i;i=s;if((o[e>>2]|0)!=2)return;c=e+4|0;h=n[c>>1]|0;if(a!=0&(h&2)==0?(f=h&65535,(f&2|0)==0):0){d=(f|2)&65535;n[c>>1]=d;l[e+160>>2]=0;p=d}else p=h;if(!(p&2))return;p=e+92|0;l[p>>2]=u+ +l[p>>2];p=e+96|0;l[p>>2]=t+ +l[p>>2];p=e+100|0;l[p>>2]=+l[p>>2]+(t*(r-+l[e+60>>2])-u*(i-+l[e+64>>2]));return}function As(e,t,r,i,s,a){e=e|0;t=+t;r=+r;i=+i;s=+s;a=+a;var u=0,c=0,h=0,f=0,d=0,p=0;u=t;t=r;r=i;i=s;if((o[e>>2]|0)!=2)return;c=e+4|0;h=n[c>>1]|0;if(a!=0&(h&2)==0?(f=h&65535,(f&2|0)==0):0){d=(f|2)&65535;n[c>>1]=d;l[e+160>>2]=0;p=d}else p=h;if(!(p&2))return;p=e+92|0;l[p>>2]=u+ +l[p>>2];p=e+96|0;l[p>>2]=t+ +l[p>>2];p=e+100|0;l[p>>2]=+l[p>>2]+(t*(r-+l[e+60>>2])-u*(i-+l[e+64>>2]));return}function Ts(e,t,r,i){e=e|0;t=+t;r=+r;i=+i;var s=0,a=0,u=0,c=0,h=0,f=0;s=t;t=r;if((o[e>>2]|0)!=2)return;a=e+4|0;u=n[a>>1]|0;if(i!=0&(u&2)==0?(c=u&65535,(c&2|0)==0):0){h=(c|2)&65535;n[a>>1]=h;l[e+160>>2]=0;f=h}else f=u;if(!(f&2))return;f=e+92|0;l[f>>2]=s+ +l[f>>2];f=e+96|0;l[f>>2]=t+ +l[f>>2];return}function Ps(e,t,r){e=e|0;t=+t;r=+r;var i=0,s=0,a=0,u=0,c=0,h=0;i=t;if((o[e>>2]|0)!=2)return;s=e+4|0;a=n[s>>1]|0;if(r!=0&(a&2)==0?(u=a&65535,(u&2|0)==0):0){c=(u|2)&65535;n[s>>1]=c;l[e+160>>2]=0;h=c}else h=a;if(!(h&2))return;h=e+100|0;l[h>>2]=i+ +l[h>>2];return}function Cs(e,t){e=e|0;t=t|0;sf(e,t);return}function Ms(e){e=e|0;return+ +l[e+72>>2]}function Fs(e){e=e|0;return+ +l[e+88>>2]}function Is(e){e=e|0;var t=0,r=0;t=+l[e+44>>2];r=+l[e+48>>2];return+(+l[e+140>>2]+ +l[e+132>>2]*(t*t+r*r))}function Os(e,t){e=e|0;t=t|0;var r=0;r=o[e+84>>2]|0;o[t>>2]=o[e+80>>2];o[t+4>>2]=r;return}function Ds(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0;n=t-+l[e+12>>2];t=r-+l[e+16>>2];r=+l[e+24>>2];o=+l[e+20>>2];l[i>>2]=n*r+t*o;l[i+4>>2]=r*t-n*o;return}function ks(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0;n=t-+l[e+12>>2];t=r-+l[e+16>>2];r=+l[e+24>>2];o=+l[e+20>>2];l[i>>2]=n*r+t*o;l[i+4>>2]=r*t-n*o;return}function Rs(e){e=e|0;return+ +l[e+132>>2]}function Bs(e,t){e=e|0;t=t|0;var r=0;r=o[e+16>>2]|0;o[t>>2]=o[e+12>>2];o[t+4>>2]=r;return}function Ns(e,t){e=e|0;t=t|0;o[t>>2]=o[e+12>>2];o[t+4>>2]=o[e+16>>2];o[t+8>>2]=o[e+20>>2];o[t+12>>2]=o[e+24>>2];return}function Ls(e){e=e|0;return+ +((o[e>>2]|0)>>>0)}function Gs(e,t){e=e|0;t=t|0;var r=0;r=o[e+64>>2]|0;o[t>>2]=o[e+60>>2];o[t+4>>2]=r;return}function Us(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0,s=0;n=t;t=r;r=+l[e+24>>2];o=+l[e+20>>2];s=t*r+n*o+ +l[e+16>>2];l[i>>2]=+l[e+12>>2]+(n*r-t*o);l[i+4>>2]=s;return}function zs(e,t,r,i){e=e|0;t=+t;r=+r;i=i|0;var n=0,o=0,s=0;n=t;t=r;r=+l[e+24>>2];o=+l[e+20>>2];s=t*r+n*o+ +l[e+16>>2];l[i>>2]=+l[e+12>>2]+(n*r-t*o);l[i+4>>2]=s;return}function js(e,t){e=e|0;t=+t;var r=0,i=0,s=0;r=e+4|0;i=a[r>>1]|0;if(!(t!=0)){n[r>>1]=i&65533;l[e+160>>2]=0;s=e+80|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[s+16>>2]=0;o[s+20>>2]=0;return}if(i&2)return;n[r>>1]=i|2;l[e+160>>2]=0;return}function Js(e,t){e=e|0;t=+t;hf(e,t!=0);return}function Xs(e,t){e=e|0;t=+t;var r=0,i=0,s=0;r=t;if(!(o[e>>2]|0))return;if(r*r>0?(i=e+4|0,s=a[i>>1]|0,(s&2|0)==0):0){n[i>>1]=s|2;l[e+160>>2]=0}l[e+88>>2]=r;return}function Hs(e,t,r){e=e|0;t=+t;r=+r;var i=0,s=0,u=0;i=t;t=r;if(!(o[e>>2]|0))return;if(i*i+t*t>0?(s=e+4|0,u=a[s>>1]|0,(u&2|0)==0):0){n[s>>1]=u|2;l[e+160>>2]=0}l[e+80>>2]=i;l[e+84>>2]=t;return}function Ws(e,t,r,i,n){e=e|0;t=+t;r=+r;i=+i;n=+n;var o=0,s=0;o=h;h=h+16|0;s=o;l[s>>2]=t;l[s+4>>2]=r;l[s+8>>2]=i;l[s+12>>2]=n;af(e,s);h=o;return}function Vs(e,t,r,i){e=e|0;t=+t;r=+r;i=+i;var n=0,o=0;n=h;h=h+16|0;o=n;l[o>>2]=t;l[o+4>>2]=r;lf(e,o,i);h=n;return}function Ys(e,t){e=e|0;t=+t;tf(e,~~t>>>0);return}function qs(e,t){e=e|0;t=+t;l[e+156>>2]=t;return}function Ks(e){e=e|0;return+ +l[e+156>>2]}function Zs(e,t){e=e|0;t=+t;l[e+148>>2]=t;return}function Qs(e){e=e|0;return+ +l[e+148>>2]}function $s(e,t){e=e|0;t=+t;l[e+152>>2]=t;return}function ea(e){e=e|0;return+ +l[e+152>>2]}function ta(e){e=e|0;return(n[e+4>>1]&2)!=0|0}function ra(e,t){e=e|0;t=+t;var r=0;r=e+4|0;e=a[r>>1]|0;n[r>>1]=t!=0?e|8:e&65527;return}function ia(e){e=e|0;return(n[e+4>>1]&8)!=0|0}function na(e,t){e=e|0;t=+t;var r=0,i=0,o=0;r=e+4|0;i=a[r>>1]|0;if(t!=0){n[r>>1]=i|4;return}o=i&65531;n[r>>1]=o;if(i&2)return;n[r>>1]=o|2;l[e+160>>2]=0;return}function oa(e){e=e|0;return(n[e+4>>1]&4)!=0|0}function sa(e,t){e=e|0;t=+t;cf(e,t!=0);return}function aa(e){e=e|0;return(n[e+4>>1]&32)!=0|0}function ua(e){e=e|0;return(n[e+4>>1]&16)!=0|0}function la(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0,s=0;i=h;h=h+16|0;n=i;l[n>>2]=t;l[n+4>>2]=r;s=o[e+12>>2]|0;r=+((hm[o[(o[s>>2]|0)+16>>2]&15](s,(o[e+8>>2]|0)+12|0,n)|0)&1);h=i;return+r}function ca(e){e=e|0;jo(e);return}function ha(e){e=e|0;return}function fa(e){e=e|0;return}function da(e,t){e=+e;t=+t;var r=0,i=0,n=0;r=h;h=h+16|0;i=r;n=ip(103048)|0;l[i>>2]=e;l[i+4>>2]=t;Jo(n,i);h=r;return n|0}function pa(e,t,r,n,s,a,u,c,f,d,p,_,m,b,g,y,v){e=e|0;t=+t;r=+r;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=v|0;var x=0,w=0,S=0;x=h;h=h+64|0;w=x;S=w+4|0;o[S>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;o[S+16>>2]=0;o[S+20>>2]=0;i[w+40>>0]=t!=0&1;i[w+36>>0]=r!=0&1;l[w+12>>2]=n;l[w+24>>2]=s;l[w+32>>2]=a;i[w+37>>0]=u!=0&1;i[w+39>>0]=c!=0&1;i[w+38>>0]=f!=0&1;l[w+48>>2]=d;l[w+28>>2]=p;l[w+16>>2]=_;l[w+20>>2]=m;l[S>>2]=b;l[w+8>>2]=g;o[w>>2]=~~y>>>0;o[w+44>>2]=v;v=Vo(e,w)|0;h=x;return v|0}function _a(e,t,r,n,s,a,u,c,f,d,p,_,m,b,g,y,v,x){e=e|0;t=+t;r=+r;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;x=+x;var w=0,S=0,E=0;w=h;h=h+96|0;S=w;i[S>>0]=0;l[S+4>>2]=1;l[S+8>>2]=1;o[S+16>>2]=0;l[S+72>>2]=t;l[S+24>>2]=r;i[S+76>>0]=n!=0&1;l[S+56>>2]=s;l[S+28>>2]=a;l[S+80>>2]=u;l[S+52>>2]=c;l[S+20>>2]=f;l[S+12>>2]=d;l[S+48>>2]=p;l[S+32>>2]=_;o[S+68>>2]=~~m;l[S+64>>2]=b;l[S+60>>2]=g;l[S+44>>2]=y;l[S+40>>2]=v;l[S+36>>2]=x;E=Zo(e,S)|0;h=w;return E|0}function ma(e){e=e|0;if(!e)return;Xo(e);op(e);return}function ba(e,t){e=e|0;t=t|0;Yo(e,t);return}function ga(e,t){e=e|0;t=t|0;qo(e,t);return}function ya(e,t){e=e|0;t=t|0;Ho(e,t);return}function va(e,t,r,i,n){e=e|0;t=+t;r=+r;i=+i;n=+n;var o=0,s=0;o=h;h=h+16|0;s=o;l[s>>2]=t;l[s+4>>2]=r;l[s+8>>2]=i;l[s+12>>2]=n;qh(e,724,s);h=o;return}function xa(e,t,r,i,n){e=e|0;t=+t;r=+r;i=+i;n=+n;var o=0,s=0,a=0;o=h;h=h+16|0;s=o+8|0;a=o;l[s>>2]=t;l[s+4>>2]=r;l[a>>2]=i;l[a+4>>2]=n;Kh(e,728,s,a);h=o;return}function wa(e){e=e|0;Wo(e,720);return}function Sa(e,t,r){e=e|0;t=+t;r=+r;l[e+102980>>2]=t;l[e+102984>>2]=r;return}function Ea(e,t,r,i){e=e|0;t=+t;r=+r;i=+i;Yh(e,t,~~r,~~i,3);return}function Aa(e){e=e|0;return e+64|0}function Ta(e){e=e|0;var t=0,r=0;t=o[e+48>>2]|0;r=o[e+52>>2]|0;th(732,e+64|0,(o[t+8>>2]|0)+12|0,+l[(o[t+12>>2]|0)+8>>2],(o[r+8>>2]|0)+12|0,+l[(o[r+12>>2]|0)+8>>2]);return 732}function Pa(e,t,r,n,s,a,u,c,f,d,p){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;var _=0,m=0,b=0;_=h;h=h+48|0;m=_;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=3;b=m+20|0;o[b>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[m+8>>2]=t;o[m+12>>2]=r;i[m+16>>0]=n!=0&1;l[m+44>>2]=s;l[m+40>>2]=a;l[m+36>>2]=u;l[b>>2]=c;l[m+24>>2]=f;l[m+28>>2]=d;l[m+32>>2]=p;b=Ko(e,m)|0;h=_;return b|0}function Ca(e,t,r,n,s,a,u,c,f,d){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;var p=0,_=0,m=0,b=0,g=0;p=h;h=h+64|0;_=p+16|0;m=p+8|0;b=p;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_>>2]=3;g=_+20|0;o[g>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;l[_+36>>2]=1;i[_+16>>0]=c!=0&1;l[_+44>>2]=f;l[_+40>>2]=d;l[m>>2]=n;l[m+4>>2]=s;l[b>>2]=a;l[b+4>>2]=u;Wh(_,t,r,m,b);b=Ko(e,_)|0;h=p;return b|0}function Ma(e,t){e=e|0;t=+t;l[e+104>>2]=t;return}function Fa(e,t){e=e|0;t=+t;l[e+68>>2]=t;return}function Ia(e,t){e=e|0;t=+t;l[e+72>>2]=t;return}function Oa(e,t,r,n,s,a,u,c,f,d){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;var p=0,_=0,m=0;p=h;h=h+48|0;_=p;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_>>2]=9;m=_+20|0;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;o[_+8>>2]=t;o[_+12>>2]=r;i[_+16>>0]=n!=0&1;l[m>>2]=s;l[_+24>>2]=a;l[_+28>>2]=u;l[_+32>>2]=c;l[_+36>>2]=f;l[_+40>>2]=d;m=Ko(e,_)|0;h=p;return m|0}function Da(e,t,r,n,s,a,u,c){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;var f=0,d=0,p=0,_=0;f=h;h=h+64|0;d=f+8|0;p=f;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d>>2]=9;_=d+20|0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;i[d+16>>0]=a!=0&1;l[d+36>>2]=u;l[d+40>>2]=c;l[p>>2]=n;l[p+4>>2]=s;Ar(d,t,r,p);p=Ko(e,d)|0;h=f;return p|0}function ka(e,t){e=e|0;t=+t;kr(e,t);return}function Ra(e,t){e=e|0;t=+t;Rr(e,t);return}function Ba(e,t){e=e|0;t=+t;ii(e,t);return}function Na(e,t,r,n,s,a,u){e=e|0;t=t|0;r=r|0;n=+n;s=s|0;a=a|0;u=+u;var c=0,f=0;c=h;h=h+32|0;f=c;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f>>2]=6;o[f+8>>2]=t;o[f+12>>2]=r;i[f+16>>0]=n!=0&1;o[f+20>>2]=s;o[f+24>>2]=a;l[f+28>>2]=u;a=Ko(e,f)|0;h=c;return a|0}function La(e){e=e|0;return o[e+48>>2]|0}function Ga(e){e=e|0;return o[e+52>>2]|0}function Ua(e){e=e|0;return+ +((o[e+4>>2]|0)>>>0)}function za(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;h=h+16|0;i=r;cm[o[o[e>>2]>>2]&63](i,e);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];h=r;return}function ja(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;h=h+16|0;i=r;cm[o[(o[e>>2]|0)+4>>2]&63](i,e);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];h=r;return}function Ja(e,t,r){e=e|0;t=+t;r=r|0;var i=0,n=0;i=h;h=h+16|0;n=i;pm[o[(o[e>>2]|0)+8>>2]&31](n,e,t);o[r>>2]=o[n>>2];o[r+4>>2]=o[n+4>>2];h=i;return}function Xa(e,t){e=e|0;t=+t;return+ +am[o[(o[e>>2]|0)+12>>2]&15](e,t)}function Ha(e){e=e|0;return zi(e)|0}function Wa(e){e=e|0;return(i[e+61>>0]|0)!=0|0}function Va(e,t){e=e|0;t=+t;jh(e,t);return}function Ya(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;l[n>>2]=t;l[n+4>>2]=r;zh(e,n);h=i;return}function qa(e,t){e=e|0;t=+t;Lh(e,t);return}function Ka(e,t){e=e|0;t=+t;Gh(e,t);return}function Za(e,t){e=e|0;t=+t;Uh(e,t);return}function Qa(e,t,r,n,s,a,u,c,f,d){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;var p=0,_=0;p=h;h=h+48|0;_=p;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_>>2]=11;o[_+8>>2]=t;o[_+12>>2]=r;i[_+16>>0]=n!=0&1;l[_+28>>2]=s;l[_+40>>2]=a;l[_+20>>2]=u;l[_+24>>2]=c;l[_+32>>2]=f;l[_+36>>2]=d;r=Ko(e,_)|0;h=p;return r|0}function $a(e,t,r,n,s,a,u){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;var c=0,f=0;c=h;h=h+48|0;f=c;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f>>2]=11;l[f+20>>2]=0;l[f+24>>2]=0;l[f+28>>2]=0;i[f+16>>0]=n!=0&1;l[f+40>>2]=s;l[f+32>>2]=a;l[f+36>>2]=u;Mh(f,t,r);r=Ko(e,f)|0;h=c;return r|0}function eu(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;l[n>>2]=t;l[n+4>>2]=r;ph(e,n);h=i;return}function tu(e,t){e=e|0;t=+t;_h(e,t);return}function ru(e,t){e=e|0;t=+t;mh(e,t);return}function iu(e,t){e=e|0;t=+t;bh(e,t);return}function nu(e,t,r,n,s,a,u,c,f){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;var d=0,p=0;d=h;h=h+48|0;p=d;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[p>>2]=5;o[p+8>>2]=t;o[p+12>>2]=r;i[p+16>>0]=n!=0&1;l[p+36>>2]=s;l[p+32>>2]=a;l[p+28>>2]=u;l[p+20>>2]=c;l[p+24>>2]=f;r=Ko(e,p)|0;h=d;return r|0}function ou(e,t){e=e|0;t=+t;gi(e,t!=0);return}function su(e,t){e=e|0;t=+t;xi(e,t!=0);return}function au(e){e=e|0;return+ +_i(e)}function uu(e){e=e|0;return+ +l[e+132>>2]}function lu(e,t){e=e|0;t=+t;return+ +Ei(e,t)}function cu(e){e=e|0;return+ +((bi(e)|0)&1)}function hu(e){e=e|0;return+ +((vi(e)|0)&1)}function fu(e,t){e=e|0;t=+t;wi(e,t);return}function du(e,t){e=e|0;t=t|0;var r=0;r=o[e+88>>2]|0;o[t>>2]=o[e+84>>2];o[t+4>>2]=r;return}function pu(e){e=e|0;return+ +mi(e)}function _u(e,t,r){e=e|0;t=+t;r=+r;yi(e,t,r);return}function mu(e,t){e=e|0;t=+t;Si(e,t);return}function bu(e,t,r,n,s,a,u,c,f,d,p,_,m,b,g,y,v){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;y=+y;v=+v;var x=0,w=0,S=0;x=h;h=h+80|0;w=x;o[w>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;o[w>>2]=2;S=w+20|0;o[S>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[w+8>>2]=t;o[w+12>>2]=r;i[w+16>>0]=n!=0&1;i[w+48>>0]=s!=0&1;i[w+60>>0]=a!=0&1;l[S>>2]=u;l[w+24>>2]=c;l[w+28>>2]=f;l[w+32>>2]=d;l[w+36>>2]=p;l[w+40>>2]=_;l[w+52>>2]=m;l[w+64>>2]=b;l[w+68>>2]=g;l[w+44>>2]=y;l[w+56>>2]=v;S=Ko(e,w)|0;h=x;return S|0}function gu(e,t,r,n,s,a,u,c,f,d,p,_,m,b){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;var g=0,y=0,v=0,x=0,w=0;g=h;h=h+96|0;y=g+16|0;v=g+8|0;x=g;o[y>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y>>2]=2;w=y+20|0;o[w>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;l[y+36>>2]=1;l[y+40>>2]=0;l[y+44>>2]=0;i[y+16>>0]=c!=0&1;i[y+48>>0]=f!=0&1;i[y+60>>0]=d!=0&1;l[y+52>>2]=p;l[y+64>>2]=_;l[y+68>>2]=m;l[y+56>>2]=b;l[v>>2]=n;l[v+4>>2]=s;l[x>>2]=a;l[x+4>>2]=u;si(y,t,r,v,x);x=Ko(e,y)|0;h=g;return x|0}function yu(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;h=h+16|0;i=r;Gn(i,e);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];h=r;return}function vu(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;h=h+16|0;i=r;Un(i,e);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];h=r;return}function xu(e){e=e|0;return+ +zn(e)}function wu(e){e=e|0;return+ +jn(e)}function Su(e,t,r,n,s,a,u,c,f,d,p,_,m,b,g){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;var y=0,v=0;y=h;h=h+64|0;v=y;o[v>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v>>2]=4;o[v+8>>2]=t;o[v+12>>2]=r;i[v+16>>0]=n!=0&1;l[v+20>>2]=s;l[v+24>>2]=a;l[v+28>>2]=u;l[v+32>>2]=c;l[v+52>>2]=f;l[v+56>>2]=d;l[v+36>>2]=p;l[v+40>>2]=_;l[v+44>>2]=m;l[v+48>>2]=b;l[v+60>>2]=g;r=Ko(e,v)|0;h=y;return r|0}function Eu(e,t,r,n,s,a,u,c,f,d,p,_,m){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;var b=0,g=0,y=0,v=0,x=0,w=0;b=h;h=h+96|0;g=b+32|0;y=b+24|0;v=b+16|0;x=b+8|0;w=b;o[g>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;o[g>>2]=4;l[g+20>>2]=-1;l[g+24>>2]=1;l[g+28>>2]=1;l[g+32>>2]=1;l[g+36>>2]=-1;l[g+40>>2]=0;l[g+44>>2]=1;l[g+48>>2]=0;l[g+52>>2]=0;l[g+56>>2]=0;l[g+60>>2]=1;i[g+16>>0]=m!=0&1;l[y>>2]=c;l[y+4>>2]=f;l[v>>2]=d;l[v+4>>2]=p;l[x>>2]=n;l[x+4>>2]=s;l[w>>2]=a;l[w+4>>2]=u;Fn(g,t,r,y,v,x,w,_);w=Ko(e,g)|0;h=b;return w|0}function Au(e,t){e=e|0;t=+t;un(e,t!=0);return}function Tu(e,t){e=e|0;t=+t;rn(e,t!=0);return}function Pu(e){e=e|0;return+ +$i(e)}function Cu(e){e=e|0;return+ +((an(e)|0)&1)}function Mu(e){e=e|0;return+ +((tn(e)|0)&1)}function Fu(e){e=e|0;return+ +en(e)}function Iu(e,t,r){e=e|0;t=+t;r=+r;ln(e,t,r);return}function Ou(e){e=e|0;return+ +l[e+108>>2]}function Du(e,t){e=e|0;t=+t;sn(e,t);return}function ku(e,t){e=e|0;t=+t;return+ +nn(e,t)}function Ru(e,t,r,n,s,a,u,c,f,d,p,_,m,b,g){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;var y=0,v=0,x=0;y=h;h=h+64|0;v=y;o[v>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;o[v>>2]=1;x=v+20|0;o[x>>2]=0;o[x+4>>2]=0;o[x+8>>2]=0;o[x+12>>2]=0;o[v+8>>2]=t;o[v+12>>2]=r;i[v+16>>0]=n!=0&1;i[v+40>>0]=s!=0&1;i[v+52>>0]=a!=0&1;l[x>>2]=c;l[v+24>>2]=f;l[v+28>>2]=d;l[v+32>>2]=p;l[v+44>>2]=u;l[v+60>>2]=_;l[v+56>>2]=m;l[v+36>>2]=b;l[v+48>>2]=g;x=Ko(e,v)|0;h=y;return x|0}function Bu(e,t,r,n,s,a,u,c,f,d,p,_){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;var m=0,b=0,g=0,y=0;m=h;h=h+80|0;b=m+8|0;g=m;o[b>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b>>2]=1;y=b+20|0;o[y>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y+16>>2]=0;i[b+16>>0]=a!=0&1;i[b+40>>0]=u!=0&1;i[b+52>>0]=c!=0&1;l[b+44>>2]=f;l[b+60>>2]=d;l[b+56>>2]=p;l[b+48>>2]=_;l[g>>2]=n;l[g+4>>2]=s;Xi(b,t,r,g);g=Ko(e,b)|0;h=m;return g|0}function Nu(e,t){e=e|0;t=+t;on(e,t);return}function Lu(e,t){e=e|0;t=+t;l[e+84>>2]=t;return}function Gu(e){e=e|0;return+ +((Ri(e)|0)>>>0)}function Uu(e,t,r,n,s,a,u,c,f){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;var d=0,p=0;d=h;h=h+48|0;p=d;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[p>>2]=10;o[p+8>>2]=t;o[p+12>>2]=r;i[p+16>>0]=n!=0&1;l[p+20>>2]=s;l[p+24>>2]=a;l[p+28>>2]=u;l[p+32>>2]=c;l[p+36>>2]=f;r=Ko(e,p)|0;h=d;return r|0}function zu(e,t){e=e|0;t=+t;l[e+68>>2]=t;return}function ju(e,t){e=e|0;t=+t;l[e+72>>2]=t;return}function Ju(e,t,r,n,s,a,u,c,f,d,p){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;var _=0,m=0,b=0;_=h;h=h+48|0;m=_;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=8;b=m+20|0;o[b>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[m+8>>2]=t;o[m+12>>2]=r;i[m+16>>0]=n!=0&1;l[m+44>>2]=s;l[m+40>>2]=a;l[b>>2]=u;l[m+24>>2]=c;l[m+28>>2]=f;l[m+32>>2]=d;l[m+36>>2]=p;b=Ko(e,m)|0;h=_;return b|0}function Xu(e,t,r,n,s,a,u,c){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;var f=0,d=0,p=0,_=0;f=h;h=h+64|0;d=f+8|0;p=f;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d>>2]=8;_=d+20|0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;i[d+16>>0]=a!=0&1;l[d+44>>2]=u;l[d+40>>2]=c;l[p>>2]=n;l[p+4>>2]=s;Lr(d,t,r,p);p=Ko(e,d)|0;h=f;return p|0}function Hu(e,t){e=e|0;t=+t;An(e,t);return}function Wu(e,t){e=e|0;t=+t;l[e+68>>2]=t;return}function Vu(e,t){e=e|0;t=t|0;var r=0;r=o[e+96>>2]|0;o[t>>2]=o[e+92>>2];o[t+4>>2]=r;return}function Yu(e){e=e|0;return+ +xn(e)}function qu(e){e=e|0;return+ +wn(e)}function Ku(e){e=e|0;return+ +((Sn(e)|0)&1)}function Zu(e,t){e=e|0;t=+t;En(e,t!=0);return}function Qu(e){e=e|0;return+ +l[e+124>>2]}function $u(e,t){e=e|0;t=+t;Tn(e,t);return}function el(e,t){e=e|0;t=+t;return+ +Pn(e,t)}function tl(e,t){e=e|0;t=+t;l[e+72>>2]=t;return}function rl(e,t,r,n,s,a,u,c,f,d,p,_,m,b,g){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;g=+g;var y=0,v=0,x=0;y=h;h=h+64|0;v=y;o[v>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;o[v>>2]=7;x=v+20|0;o[x>>2]=0;o[x+4>>2]=0;o[x+8>>2]=0;o[v+8>>2]=t;o[v+12>>2]=r;i[v+16>>0]=n!=0&1;l[v+60>>2]=s;i[v+44>>0]=a!=0&1;l[v+56>>2]=u;l[x>>2]=c;l[v+24>>2]=f;l[v+28>>2]=d;l[v+32>>2]=p;l[v+36>>2]=_;l[v+40>>2]=m;l[v+48>>2]=b;l[v+52>>2]=g;x=Ko(e,v)|0;h=y;return x|0}function il(e,t,r,n,s,a,u,c,f,d,p,_,m){e=e|0;t=t|0;r=r|0;n=+n;s=+s;a=+a;u=+u;c=+c;f=+f;d=+d;p=+p;_=+_;m=+m;var b=0,g=0,y=0,v=0,x=0;b=h;h=h+80|0;g=b+16|0;y=b+8|0;v=b;o[g>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;o[g>>2]=7;x=g+20|0;o[x>>2]=0;o[x+4>>2]=0;o[x+8>>2]=0;o[x+12>>2]=0;l[g+36>>2]=1;l[g+40>>2]=0;i[g+16>>0]=c!=0&1;l[g+60>>2]=f;i[g+44>>0]=d!=0&1;l[g+56>>2]=p;l[g+48>>2]=_;l[g+52>>2]=m;l[y>>2]=n;l[y+4>>2]=s;l[v>>2]=a;l[v+4>>2]=u;fn(g,t,r,y,v);v=Ko(e,g)|0;h=b;return v|0}function nl(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;l[n>>2]=t;l[n+4>>2]=r;Bf(e,n);h=i;return}function ol(e,t,r){e=e|0;t=+t;r=+r;var i=0,n=0;i=h;h=h+16|0;n=i;l[n>>2]=t;l[n+4>>2]=r;Nf(e,n);h=i;return}function sl(e,t){e=e|0;t=+t;Lf(e,t!=0);return}function al(e){e=e|0;return+ +(o[e+4>>2]|0)}function ul(e){e=e|0;return+ +((o[e+8>>2]|0)-(o[e+4>>2]|0)|0)}function ll(e,t,r,n,s,a,u,f,d,p,_,m,b){e=e|0;t=+t;r=+r;n=+n;s=+s;a=+a;u=+u;f=+f;d=+d;p=+p;_=+_;m=+m;b=+b;var g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;g=h;h=h+64|0;y=g+8|0;v=g;x=g+16|0;c[y>>3]=u;c[v>>3]=_;w=x+4|0;S=x+12|0;E=2440;A=o[E>>2]|0;T=o[E+4>>2]|0;E=w;o[E>>2]=A;o[E+4>>2]=T;E=S;o[E>>2]=A;o[E+4>>2]=T;i[x+20>>0]=~~t;i[x+21>>0]=~~n;i[x+22>>0]=~~r;i[x+23>>0]=~~s;o[x>>2]=~~a>>>0;o[x+32>>2]=y;l[x+24>>2]=f;l[w>>2]=d;l[x+8>>2]=p;o[x+28>>2]=v;l[S>>2]=m;l[x+16>>2]=b;b=+(Xf(e,x)|0);h=g;return+b}function cl(e){e=e|0;return jf(e)|0}function hl(e){e=e|0;return+ +(o[e+44>>2]|0)}function fl(e,t){e=e|0;t=+t;return+ +yt(e,~~t)}function dl(e){e=e|0;return o[e+96>>2]|0}function pl(e){e=e|0;return o[e+104>>2]|0}function _l(e,t){e=e|0;t=+t;l[e+340>>2]=t;return}function ml(e,t){e=e|0;t=+t;var r=0;r=t;l[e+320>>2]=r;l[e+28>>2]=1/r;return}function bl(e,t){e=e|0;t=+t;l[e+324>>2]=t;return}function gl(e,t){e=e|0;t=+t;o[e+332>>2]=~~t;return}function yl(e,t,r){e=e|0;t=+t;r=+r;Wf(e,~~t,r);return}function vl(e,t){e=e|0;t=+t;var r=0;r=t*2;l[e+32>>2]=r;l[e+40>>2]=r*r;l[e+36>>2]=1/r;return}function xl(e){e=e|0;op(e);return}function wl(e,t){e=e|0;t=t|0;Me(t|0);return}function Sl(e,t){e=e|0;t=t|0;et(t|0);return}function El(e,t,r){e=e|0;t=t|0;r=r|0;return}function Al(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return}function Tl(e,t,r){e=e|0;t=t|0;r=r|0;return}function Pl(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return}function Cl(e,t,r){e=e|0;t=t|0;r=r|0;ot(t|0,r|0);return}function Ml(e,t,r){e=e|0;t=t|0;r=r|0;rt(t|0,r|0);return}function Fl(e){e=e|0;op(e);return}function Il(e,t){e=e|0;t=t|0;return je(t|0)|0}function Ol(e,t,r){e=e|0;t=t|0;r=r|0;return 0}function Dl(e,t){e=e|0;t=t|0;return 1}function kl(e){e=e|0;op(e);return}function Rl(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=+n;return+ +qe(t|0,+ +l[r>>2],+ +l[r+4>>2],+ +l[i>>2],+ +l[i+4>>2],+n)}function Bl(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=+o;return 0}function Nl(e,t){e=e|0;t=t|0;return 1}function Ll(e){e=e|0;return}function Gl(){o[180]=772;o[181]=820;o[182]=848;return}function Ul(e,t){e=e|0;t=t|0;var r=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0,Ne=0,Le=0,Ge=0,Ue=0;r=h;h=h+320|0;s=r;a=r+280|0;u=r+244|0;c=r+140|0;f=r+152|0;p=r+16|0;_=r+40|0;m=r+12|0;b=r+8|0;Ld(s);o[219]=(o[219]|0)+1;o[e>>2]=0;g=o[t+128>>2]|0;y=e+4|0;o[y>>2]=g;v=t+28|0;x=a;w=t+56|0;S=x+36|0;do{o[x>>2]=o[w>>2];x=x+4|0;w=w+4|0}while((x|0)<(S|0));x=u;w=t+92|0;S=x+36|0;do{o[x>>2]=o[w>>2];x=x+4|0;w=w+4|0}while((x|0)<(S|0));w=a+24|0;E=+l[w>>2];A=+z(+(E/6.2831854820251465))*6.2831854820251465;T=E-A;l[w>>2]=T;w=a+28|0;E=+l[w>>2]-A;l[w>>2]=E;w=u+24|0;A=+l[w>>2];P=+z(+(A/6.2831854820251465))*6.2831854820251465;C=A-P;l[w>>2]=C;w=u+28|0;A=+l[w>>2]-P;l[w>>2]=A;P=(o[d>>2]=g,+l[d>>2]);M=+l[t+24>>2]+ +l[t+52>>2]+-.014999999664723873;F=M<.004999999888241291?.004999999888241291:M;n[c+4>>1]=0;o[f>>2]=o[t>>2];o[f+4>>2]=o[t+4>>2];o[f+8>>2]=o[t+8>>2];o[f+12>>2]=o[t+12>>2];o[f+16>>2]=o[t+16>>2];o[f+20>>2]=o[t+20>>2];o[f+24>>2]=o[t+24>>2];w=f+28|0;o[w>>2]=o[v>>2];o[w+4>>2]=o[v+4>>2];o[w+8>>2]=o[v+8>>2];o[w+12>>2]=o[v+12>>2];o[w+16>>2]=o[v+16>>2];o[w+20>>2]=o[v+20>>2];o[w+24>>2]=o[v+24>>2];i[f+88>>0]=0;w=f+56|0;x=f+60|0;S=f+64|0;I=f+68|0;O=f+72|0;D=f+76|0;k=f+80|0;R=f+84|0;B=p+16|0;M=F+.0012499999720603228;N=F+-.0012499999720603228;L=+l[a+8>>2];G=+l[a+12>>2];U=+l[a+16>>2];j=+l[a+20>>2];J=+l[a>>2];X=+l[a+4>>2];V=+l[u+8>>2];Y=+l[u+12>>2];q=+l[u+16>>2];K=+l[u+20>>2];Z=+l[u>>2];Q=+l[u+4>>2];$=0;ee=0;e:while(1){te=1-ee;re=te*T+ee*E;ie=+W(+re);ne=+H(+re);re=te*C+ee*A;oe=+W(+re);se=+H(+re);l[w>>2]=te*L+ee*U-(ne*J-ie*X);l[x>>2]=te*G+ee*j-(ie*J+ne*X);l[S>>2]=ie;l[I>>2]=ne;l[O>>2]=te*V+ee*q-(se*Z-oe*Q);l[D>>2]=te*Y+ee*K-(oe*Z+se*Q);l[k>>2]=oe;l[R>>2]=se;Wl(p,c,f);se=+l[B>>2];if(se<=0){ae=$;ue=3;break}if(se<M){le=$;ce=ee;ue=5;break}+zl(_,c,t,a,v,u,ee);he=0;se=P;while(1){oe=+jl(_,m,b,se);if(oe>M){fe=$;ue=8;break e}if(oe>N){de=se;break}pe=o[m>>2]|0;_e=o[b>>2]|0;te=+Jl(_,pe,_e,ee);if(te<N){me=$;be=ee;ue=11;break e}if(!(te<=M)){ge=ee;ye=se;ve=0;xe=te;we=oe}else{Se=$;Ee=ee;ue=13;break e}while(1){if(!(ve&1))Ae=(ge+ye)*.5;else Ae=ge+(F-xe)*(ye-ge)/(we-xe);ve=ve+1|0;o[222]=(o[222]|0)+1;oe=+Jl(_,pe,_e,Ae);te=oe-F;if((te>0?te:-te)<.0012499999720603228){Te=ve;Pe=Ae;break}Ce=oe>F;if((ve|0)==50){Te=50;Pe=se;break}else{ge=Ce?Ae:ge;ye=Ce?ye:Ae;xe=Ce?oe:xe;we=Ce?we:oe}}_e=o[223]|0;o[223]=(_e|0)>(Te|0)?_e:Te;he=he+1|0;if((he|0)==8){de=ee;break}else se=Pe}he=$+1|0;o[220]=(o[220]|0)+1;if((he|0)==20){Me=de;ue=21;break}$=he;ee=de}if((ue|0)==3){o[e>>2]=2;l[y>>2]=0;Fe=ae;Ie=o[221]|0;Oe=(Ie|0)>(Fe|0);De=Oe?Ie:Fe;o[221]=De;ke=+Ud(s);Re=+l[218];Be=Re>ke;Ne=Be?Re:ke;l[218]=Ne;Le=+l[217];Ge=ke+Le;l[217]=Ge;h=r;return}else if((ue|0)==5){o[e>>2]=3;l[y>>2]=ce;Fe=le;Ie=o[221]|0;Oe=(Ie|0)>(Fe|0);De=Oe?Ie:Fe;o[221]=De;ke=+Ud(s);Re=+l[218];Be=Re>ke;Ne=Be?Re:ke;l[218]=Ne;Le=+l[217];Ge=ke+Le;l[217]=Ge;h=r;return}else if((ue|0)==8){o[e>>2]=4;o[y>>2]=g;Ue=fe}else if((ue|0)==11){o[e>>2]=1;l[y>>2]=be;Ue=me}else if((ue|0)==13){o[e>>2]=3;l[y>>2]=Ee;Ue=Se}else if((ue|0)==21){o[e>>2]=1;l[y>>2]=Me;Fe=20;Ie=o[221]|0;Oe=(Ie|0)>(Fe|0);De=Oe?Ie:Fe;o[221]=De;ke=+Ud(s);Re=+l[218];Be=Re>ke;Ne=Be?Re:ke;l[218]=Ne;Le=+l[217];Ge=ke+Le;l[217]=Ge;h=r;return}o[220]=(o[220]|0)+1;Fe=Ue+1|0;Ie=o[221]|0;Oe=(Ie|0)>(Fe|0);De=Oe?Ie:Fe;o[221]=De;ke=+Ud(s);Re=+l[218];Be=Re>ke;Ne=Be?Re:ke;l[218]=Ne;Le=+l[217];Ge=ke+Le;l[217]=Ge;h=r;return}function zl(e,t,r,a,u,c,h){e=e|0;t=t|0;r=r|0;a=a|0;u=u|0;c=c|0;h=+h;var f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0;o[e>>2]=r;o[e+4>>2]=u;f=n[t+4>>1]|0;d=e+8|0;p=d;_=a;a=p+36|0;do{o[p>>2]=o[_>>2];p=p+4|0;_=_+4|0}while((p|0)<(a|0));m=e+44|0;p=m;_=c;a=p+36|0;do{o[p>>2]=o[_>>2];p=p+4|0;_=_+4|0}while((p|0)<(a|0));b=1-h;g=b*+l[e+32>>2]+ +l[e+36>>2]*h;y=+W(+g);v=+H(+g);g=+l[d>>2];x=+l[e+12>>2];w=b*+l[e+16>>2]+ +l[e+24>>2]*h-(v*g-y*x);S=b*+l[e+20>>2]+ +l[e+28>>2]*h-(y*g+v*x);x=b*+l[e+68>>2]+ +l[e+72>>2]*h;g=+W(+x);E=+H(+x);x=+l[m>>2];A=+l[e+48>>2];T=b*+l[e+52>>2]+ +l[e+60>>2]*h-(E*x-g*A);P=b*+l[e+56>>2]+ +l[e+64>>2]*h-(g*x+E*A);if(f<<16>>16==1){o[e+80>>2]=0;f=s[t+6>>0]|0;m=o[r+16>>2]|0;A=+l[m+(f<<3)>>2];x=+l[m+(f<<3)+4>>2];f=s[t+9>>0]|0;m=o[u+16>>2]|0;h=+l[m+(f<<3)>>2];b=+l[m+(f<<3)+4>>2];C=T+(E*h-g*b)-(w+(v*A-y*x));M=P+(g*h+E*b)-(S+(y*A+v*x));f=e+92|0;l[f>>2]=C;m=e+96|0;l[m>>2]=M;x=+J(+(C*C+M*M));if(x<1.1920928955078125E-7)F=0;else{A=1/x;l[f>>2]=C*A;l[m>>2]=M*A;F=x}m=2440;f=o[m+4>>2]|0;d=e+84|0;o[d>>2]=o[m>>2];o[d+4>>2]=f;I=F;return+I}f=t+6|0;d=t+7|0;m=e+80|0;if((i[f>>0]|0)==(i[d>>0]|0)){o[m>>2]=2;_=s[t+9>>0]|0;p=o[u+16>>2]|0;F=+l[p+(_<<3)>>2];x=+l[p+(_<<3)+4>>2];_=s[t+10>>0]|0;A=+l[p+(_<<3)>>2];M=+l[p+(_<<3)+4>>2];C=A-F;b=M-x;h=-C;_=e+92|0;l[_>>2]=b;p=e+96|0;l[p>>2]=h;O=+J(+(C*C+b*b));if(O<1.1920928955078125E-7){D=b;k=h}else{C=1/O;O=b*C;l[_>>2]=O;b=C*h;l[p>>2]=b;D=O;k=b}b=(F+A)*.5;A=(x+M)*.5;l[e+84>>2]=b;l[e+88>>2]=A;a=s[f>>0]|0;c=o[r+16>>2]|0;M=+l[c+(a<<3)>>2];x=+l[c+(a<<3)+4>>2];F=(E*D-g*k)*(w+(v*M-y*x)-(T+(E*b-g*A)))+(g*D+E*k)*(S+(y*M+v*x)-(P+(E*A+g*b)));if(!(F<0)){I=F;return+I}l[_>>2]=-D;l[p>>2]=-k;I=-F;return+I}else{o[m>>2]=1;m=s[f>>0]|0;f=o[r+16>>2]|0;F=+l[f+(m<<3)>>2];k=+l[f+(m<<3)+4>>2];m=s[d>>0]|0;D=+l[f+(m<<3)>>2];b=+l[f+(m<<3)+4>>2];A=D-F;x=b-k;M=-A;m=e+92|0;l[m>>2]=x;f=e+96|0;l[f>>2]=M;O=+J(+(A*A+x*x));if(O<1.1920928955078125E-7){R=x;B=M}else{A=1/O;O=x*A;l[m>>2]=O;x=A*M;l[f>>2]=x;R=O;B=x}x=(F+D)*.5;D=(k+b)*.5;l[e+84>>2]=x;l[e+88>>2]=D;e=s[t+9>>0]|0;t=o[u+16>>2]|0;b=+l[t+(e<<3)>>2];k=+l[t+(e<<3)+4>>2];F=(v*R-y*B)*(T+(E*b-g*k)-(w+(v*x-y*D)))+(y*R+v*B)*(P+(g*b+E*k)-(S+(v*D+y*x)));if(!(F<0)){I=F;return+I}l[m>>2]=-R;l[f>>2]=-B;I=-F;return+I}return+0}function jl(e,t,r,i){e=e|0;t=t|0;r=r|0;i=+i;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0;n=1-i;s=n*+l[e+32>>2]+ +l[e+36>>2]*i;a=+W(+s);u=+H(+s);s=+l[e+8>>2];c=+l[e+12>>2];h=n*+l[e+16>>2]+ +l[e+24>>2]*i-(u*s-a*c);f=n*+l[e+20>>2]+ +l[e+28>>2]*i-(a*s+u*c);c=n*+l[e+68>>2]+ +l[e+72>>2]*i;s=+W(+c);d=+H(+c);c=+l[e+44>>2];p=+l[e+48>>2];_=n*+l[e+52>>2]+ +l[e+60>>2]*i-(d*c-s*p);m=n*+l[e+56>>2]+ +l[e+64>>2]*i-(s*c+d*p);switch(o[e+80>>2]|0){case 0:{b=e+92|0;p=+l[b>>2];g=e+96|0;c=+l[g>>2];i=u*p+a*c;n=u*c-a*p;y=-p;p=-c;c=d*y+s*p;v=d*p-s*y;x=o[e>>2]|0;w=o[x+16>>2]|0;S=o[x+20>>2]|0;if((S|0)>1){x=0;y=i*+l[w>>2]+n*+l[w+4>>2];E=1;while(1){p=i*+l[w+(E<<3)>>2]+n*+l[w+(E<<3)+4>>2];A=p>y;T=A?E:x;E=E+1|0;if((E|0)==(S|0)){P=T;break}else{x=T;y=A?p:y}}}else P=0;o[t>>2]=P;P=o[e+4>>2]|0;x=o[P+16>>2]|0;S=o[P+20>>2]|0;if((S|0)>1){P=0;y=c*+l[x>>2]+v*+l[x+4>>2];E=1;while(1){n=c*+l[x+(E<<3)>>2]+v*+l[x+(E<<3)+4>>2];A=n>y;T=A?E:P;E=E+1|0;if((E|0)==(S|0)){C=T;break}else{P=T;y=A?n:y}}}else C=0;o[r>>2]=C;P=o[t>>2]|0;y=+l[w+(P<<3)>>2];v=+l[w+(P<<3)+4>>2];c=+l[x+(C<<3)>>2];n=+l[x+(C<<3)+4>>2];M=+l[b>>2]*(_+(d*c-s*n)-(h+(u*y-a*v)))+ +l[g>>2]*(m+(s*c+d*n)-(f+(a*y+u*v)));return+M}case 1:{v=+l[e+92>>2];y=+l[e+96>>2];n=u*v-a*y;c=a*v+u*y;y=+l[e+84>>2];v=+l[e+88>>2];i=h+(u*y-a*v);p=f+(a*y+u*v);v=-n;y=-c;F=d*v+s*y;I=d*y-s*v;o[t>>2]=-1;g=o[e+4>>2]|0;b=o[g+16>>2]|0;C=o[g+20>>2]|0;if((C|0)>1){g=0;v=F*+l[b>>2]+I*+l[b+4>>2];x=1;while(1){y=F*+l[b+(x<<3)>>2]+I*+l[b+(x<<3)+4>>2];P=y>v;w=P?x:g;x=x+1|0;if((x|0)==(C|0)){O=w;break}else{g=w;v=P?y:v}}}else O=0;o[r>>2]=O;v=+l[b+(O<<3)>>2];I=+l[b+(O<<3)+4>>2];M=n*(_+(d*v-s*I)-i)+c*(m+(s*v+d*I)-p);return+M}case 2:{p=+l[e+92>>2];I=+l[e+96>>2];v=d*p-s*I;c=s*p+d*I;I=+l[e+84>>2];p=+l[e+88>>2];i=_+(d*I-s*p);_=m+(s*I+d*p);p=-v;d=-c;I=u*p+a*d;s=u*d-a*p;o[r>>2]=-1;O=o[e>>2]|0;e=o[O+16>>2]|0;b=o[O+20>>2]|0;if((b|0)>1){O=0;p=I*+l[e>>2]+s*+l[e+4>>2];g=1;while(1){d=I*+l[e+(g<<3)>>2]+s*+l[e+(g<<3)+4>>2];C=d>p;x=C?g:O;g=g+1|0;if((g|0)==(b|0)){D=x;break}else{O=x;p=C?d:p}}}else D=0;o[t>>2]=D;p=+l[e+(D<<3)>>2];s=+l[e+(D<<3)+4>>2];M=v*(h+(u*p-a*s)-i)+c*(f+(a*p+u*s)-_);return+M}default:{o[t>>2]=-1;o[r>>2]=-1;M=0;return+M}}return+0}function Jl(e,t,r,i){e=e|0;t=t|0;r=r|0;i=+i;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;n=1-i;s=n*+l[e+32>>2]+ +l[e+36>>2]*i;a=+W(+s);u=+H(+s);s=+l[e+8>>2];c=+l[e+12>>2];h=n*+l[e+16>>2]+ +l[e+24>>2]*i-(u*s-a*c);f=n*+l[e+20>>2]+ +l[e+28>>2]*i-(a*s+u*c);c=n*+l[e+68>>2]+ +l[e+72>>2]*i;s=+W(+c);d=+H(+c);c=+l[e+44>>2];p=+l[e+48>>2];_=n*+l[e+52>>2]+ +l[e+60>>2]*i-(d*c-s*p);m=n*+l[e+56>>2]+ +l[e+64>>2]*i-(s*c+d*p);switch(o[e+80>>2]|0){case 0:{b=o[(o[e>>2]|0)+16>>2]|0;p=+l[b+(t<<3)>>2];c=+l[b+(t<<3)+4>>2];b=o[(o[e+4>>2]|0)+16>>2]|0;i=+l[b+(r<<3)>>2];n=+l[b+(r<<3)+4>>2];g=+l[e+92>>2]*(_+(d*i-s*n)-(h+(u*p-a*c)))+ +l[e+96>>2]*(m+(s*i+d*n)-(f+(a*p+u*c)));return+g}case 1:{c=+l[e+92>>2];p=+l[e+96>>2];n=+l[e+84>>2];i=+l[e+88>>2];b=o[(o[e+4>>2]|0)+16>>2]|0;y=+l[b+(r<<3)>>2];v=+l[b+(r<<3)+4>>2];g=(u*c-a*p)*(_+(d*y-s*v)-(h+(u*n-a*i)))+(a*c+u*p)*(m+(s*y+d*v)-(f+(a*n+u*i)));return+g}case 2:{i=+l[e+92>>2];n=+l[e+96>>2];v=+l[e+84>>2];y=+l[e+88>>2];r=o[(o[e>>2]|0)+16>>2]|0;p=+l[r+(t<<3)>>2];c=+l[r+(t<<3)+4>>2];g=(d*i-s*n)*(h+(u*p-a*c)-(_+(d*v-s*y)))+(s*i+d*n)*(f+(a*p+u*c)-(m+(s*v+d*y)));return+g}default:{g=0;return+g}}return+0}function Xl(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0;switch(o[t+4>>2]|0){case 0:{o[e+16>>2]=t+12;o[e+20>>2]=1;o[e+24>>2]=o[t+8>>2];return}case 2:{o[e+16>>2]=t+20;o[e+20>>2]=o[t+148>>2];o[e+24>>2]=o[t+8>>2];return}case 3:{i=t+12|0;n=(o[i>>2]|0)+(r<<3)|0;s=o[n+4>>2]|0;a=e;o[a>>2]=o[n>>2];o[a+4>>2]=s;s=r+1|0;r=e+8|0;if((s|0)<(o[t+16>>2]|0)){a=(o[i>>2]|0)+(s<<3)|0;s=o[a+4>>2]|0;n=r;o[n>>2]=o[a>>2];o[n+4>>2]=s}else{s=o[i>>2]|0;i=o[s+4>>2]|0;n=r;o[n>>2]=o[s>>2];o[n+4>>2]=i}o[e+16>>2]=e;o[e+20>>2]=2;o[e+24>>2]=o[t+8>>2];return}case 1:{o[e+16>>2]=t+12;o[e+20>>2]=2;o[e+24>>2]=o[t+8>>2];return}default:return}}function Hl(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;t=+l[e+16>>2];r=+l[e+20>>2];i=e+36|0;n=+l[e+52>>2];s=+l[e+56>>2];a=e+72|0;u=+l[e+88>>2];c=+l[e+92>>2];h=n-t;f=s-r;d=t*h+r*f;p=n*h+s*f;_=u-t;m=c-r;b=t*_+r*m;g=u*_+c*m;y=u-n;v=c-s;x=n*y+s*v;w=u*y+c*v;v=h*m-f*_;_=(n*c-s*u)*v;f=(r*u-t*c)*v;c=(t*s-r*n)*v;if(d>=-0&b>=-0){l[e+24>>2]=1;o[e+108>>2]=1;return}if(p>0&d<-0&c<=0){v=1/(p-d);l[e+24>>2]=p*v;l[e+60>>2]=-(d*v);o[e+108>>2]=2;return}if(g>0&b<-0&f<=0){v=1/(g-b);l[e+24>>2]=g*v;l[e+96>>2]=-(b*v);o[e+108>>2]=2;S=i;E=a;A=S+36|0;do{o[S>>2]=o[E>>2];S=S+4|0;E=E+4|0}while((S|0)<(A|0));return}if(p<=0&x>=-0){l[e+60>>2]=1;o[e+108>>2]=1;S=e;E=i;A=S+36|0;do{o[S>>2]=o[E>>2];S=S+4|0;E=E+4|0}while((S|0)<(A|0));return}if(g<=0&w<=0){l[e+96>>2]=1;o[e+108>>2]=1;S=e;E=a;A=S+36|0;do{o[S>>2]=o[E>>2];S=S+4|0;E=E+4|0}while((S|0)<(A|0));return}if(w>0&x<-0&_<=0){g=1/(w-x);l[e+60>>2]=w*g;l[e+96>>2]=-(x*g);o[e+108>>2]=2;S=e;E=a;A=S+36|0;do{o[S>>2]=o[E>>2];S=S+4|0;E=E+4|0}while((S|0)<(A|0));return}else{g=1/(c+(_+f));l[e+24>>2]=_*g;l[e+60>>2]=f*g;l[e+96>>2]=c*g;o[e+108>>2]=3;return}}function Wl(e,t,r){e=e|0;t=t|0;r=r|0;var s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0;s=h;h=h+176|0;a=s+152|0;u=s+136|0;c=s;f=s+124|0;p=s+112|0;o[224]=(o[224]|0)+1;_=r+56|0;o[a>>2]=o[_>>2];o[a+4>>2]=o[_+4>>2];o[a+8>>2]=o[_+8>>2];o[a+12>>2]=o[_+12>>2];_=r+72|0;o[u>>2]=o[_>>2];o[u+4>>2]=o[_+4>>2];o[u+8>>2]=o[_+8>>2];o[u+12>>2]=o[_+12>>2];Vl(c,t,r,a,r+28|0,u);o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;_=c+108|0;m=+l[a+12>>2];b=+l[a+8>>2];g=r+16|0;y=r+20|0;v=+l[a>>2];x=+l[a+4>>2];w=+l[u+12>>2];S=+l[u+8>>2];a=r+44|0;E=r+48|0;A=+l[u>>2];T=+l[u+4>>2];u=c+16|0;P=c+20|0;C=c+52|0;M=c+56|0;F=c+36|0;I=c+24|0;O=c+60|0;D=o[_>>2]|0;k=0;e:while(1){R=(D|0)>0;if(R){B=0;do{o[f+(B<<2)>>2]=o[c+(B*36|0)+28>>2];o[p+(B<<2)>>2]=o[c+(B*36|0)+32>>2];B=B+1|0}while((B|0)!=(D|0))}t:do{switch(D|0){case 3:{Hl(c);B=o[_>>2]|0;if((B|0)==3){N=k;L=11;break e}else{G=B;L=12}break}case 2:{U=+l[u>>2];z=+l[P>>2];j=+l[C>>2];X=+l[M>>2];H=j-U;W=X-z;V=U*H+z*W;if(V>=-0){l[I>>2]=1;o[_>>2]=1;L=13;break t}z=j*H+X*W;if(!(z<=0)){W=1/(z-V);l[I>>2]=z*W;l[O>>2]=-(V*W);o[_>>2]=2;L=14;break t}else{l[O>>2]=1;o[_>>2]=1;B=c;Y=F;q=B+36|0;do{o[B>>2]=o[Y>>2];B=B+4|0;Y=Y+4|0}while((B|0)<(q|0));L=13;break t}break}default:{G=D;L=12}}}while(0);t:do{if((L|0)==12){L=0;switch(G|0){case 1:{L=13;break t;break}case 2:{L=14;break t;break}default:{}}K=G;Z=o[610]|0;Q=o[611]|0}}while(0);do{if((L|0)==13){L=0;Y=(l[d>>2]=-+l[u>>2],o[d>>2]|0);K=1;Z=Y;Q=(l[d>>2]=-+l[P>>2],o[d>>2]|0)}else if((L|0)==14){L=0;W=+l[u>>2];V=+l[C>>2]-W;z=+l[P>>2];X=+l[M>>2]-z;if(W*X-V*z>0){Y=(l[d>>2]=-X,o[d>>2]|0);K=2;Z=Y;Q=(l[d>>2]=V,o[d>>2]|0);break}else{Y=(l[d>>2]=X,o[d>>2]|0);K=2;Z=Y;Q=(l[d>>2]=-V,o[d>>2]|0);break}}}while(0);V=(o[d>>2]=Z,+l[d>>2]);X=(o[d>>2]=Q,+l[d>>2]);if(X*X+V*V<1.4210854715202004E-14){$=K;ee=k;L=31;break}z=-V;W=-X;H=m*z+b*W;j=m*W-b*z;Y=o[g>>2]|0;B=o[y>>2]|0;if((B|0)>1){q=0;z=H*+l[Y>>2]+j*+l[Y+4>>2];te=1;while(1){W=H*+l[Y+(te<<3)>>2]+j*+l[Y+(te<<3)+4>>2];re=W>z;ie=re?te:q;te=te+1|0;if((te|0)==(B|0)){ne=ie;break}else{q=ie;z=re?W:z}}}else ne=0;o[c+(K*36|0)+28>>2]=ne;z=+l[Y+(ne<<3)>>2];j=+l[Y+(ne<<3)+4>>2];H=v+(m*z-b*j);W=z*b+m*j+x;l[c+(K*36|0)>>2]=H;l[c+(K*36|0)+4>>2]=W;j=V*w+X*S;z=X*w-V*S;q=o[a>>2]|0;B=o[E>>2]|0;if((B|0)>1){te=0;U=j*+l[q>>2]+z*+l[q+4>>2];re=1;while(1){oe=j*+l[q+(re<<3)>>2]+z*+l[q+(re<<3)+4>>2];ie=oe>U;se=ie?re:te;re=re+1|0;if((re|0)==(B|0)){ae=se;break}else{te=se;U=ie?oe:U}}}else ae=0;o[c+(K*36|0)+32>>2]=ae;U=+l[q+(ae<<3)>>2];z=+l[q+(ae<<3)+4>>2];j=A+(w*U-S*z);V=U*S+w*z+T;l[c+(K*36|0)+8>>2]=j;l[c+(K*36|0)+12>>2]=V;l[c+(K*36|0)+16>>2]=j-H;l[c+(K*36|0)+20>>2]=V-W;te=k+1|0;o[225]=(o[225]|0)+1;if(R){B=0;do{if((ne|0)==(o[f+(B<<2)>>2]|0)?(ae|0)==(o[p+(B<<2)>>2]|0):0){ue=te;L=30;break e}B=B+1|0}while((B|0)<(D|0))}B=(o[_>>2]|0)+1|0;o[_>>2]=B;if((te|0)<20){D=B;k=te}else{$=B;ee=te;L=31;break}}if((L|0)==11){k=o[226]|0;o[226]=(k|0)>(N|0)?k:N;le=N;L=35}else if((L|0)==30){$=o[_>>2]|0;ee=ue;L=31}e:do{if((L|0)==31){ue=o[226]|0;o[226]=(ue|0)>(ee|0)?ue:ee;ue=e+8|0;switch($|0){case 3:{le=ee;L=35;break e;break}case 1:{_=c;N=o[_>>2]|0;k=o[_+4>>2]|0;_=e;o[_>>2]=N;o[_+4>>2]=k;_=c+8|0;D=o[_>>2]|0;p=o[_+4>>2]|0;_=ue;o[_>>2]=D;o[_+4>>2]=p;T=(o[d>>2]=N,+l[d>>2]);w=(o[d>>2]=D,+l[d>>2]);S=(o[d>>2]=k,+l[d>>2]);ce=ue;he=e+4|0;fe=e+12|0;de=e;pe=w;_e=T;me=(o[d>>2]=p,+l[d>>2]);be=S;ge=1;ye=ee;break e;break}case 2:{S=+l[I>>2];T=+l[O>>2];w=S*+l[c>>2]+T*+l[c+36>>2];A=S*+l[c+4>>2]+T*+l[c+40>>2];l[e>>2]=w;p=e+4|0;l[p>>2]=A;x=S*+l[c+8>>2]+T*+l[c+44>>2];m=S*+l[c+12>>2]+T*+l[c+48>>2];l[ue>>2]=x;k=e+12|0;l[k>>2]=m;ce=ue;he=p;fe=k;de=e;pe=x;_e=w;me=m;be=A;ge=2;ye=ee;break e;break}default:{k=e+4|0;p=e+12|0;ce=ue;he=k;fe=p;de=e;pe=+l[ue>>2];_e=+l[e>>2];me=+l[p>>2];be=+l[k>>2];ge=$;ye=ee;break e}}}}while(0);if((L|0)==35){A=+l[I>>2];m=+l[O>>2];w=+l[c+96>>2];x=A*+l[c>>2]+m*+l[c+36>>2]+w*+l[c+72>>2];T=A*+l[c+4>>2]+m*+l[c+40>>2]+w*+l[c+76>>2];l[e>>2]=x;O=e+4|0;l[O>>2]=T;I=e+8|0;l[I>>2]=x;ee=e+12|0;l[ee>>2]=T;ce=I;he=O;fe=ee;de=e;pe=x;_e=x;me=T;be=T;ge=3;ye=le}T=_e-pe;pe=be-me;le=e+16|0;l[le>>2]=+J(+(T*T+pe*pe));o[e+20>>2]=ye;switch(ge|0){case 3:{pe=+l[u>>2];T=+l[P>>2];ve=(+l[C>>2]-pe)*(+l[c+92>>2]-T)-(+l[M>>2]-T)*(+l[c+88>>2]-pe);L=39;break}case 2:{pe=+l[u>>2]-+l[C>>2];T=+l[P>>2]-+l[M>>2];ve=+J(+(pe*pe+T*T));L=39;break}default:{l[t>>2]=0;n[t+4>>1]=ge;if((ge|0)>0){xe=0;L=41}}}if((L|0)==39){l[t>>2]=ve;n[t+4>>1]=ge;xe=0;L=41}if((L|0)==41)while(1){L=0;i[t+6+xe>>0]=o[c+(xe*36|0)+28>>2];i[t+9+xe>>0]=o[c+(xe*36|0)+32>>2];xe=xe+1|0;if((xe|0)>=(ge|0))break;else L=41}if(!(i[r+88>>0]|0)){h=s;return}ve=+l[r+24>>2];T=+l[r+52>>2];pe=+l[le>>2];me=ve+T;if(!(pe>me&pe>1.1920928955078125E-7)){be=(+l[de>>2]+ +l[ce>>2])*.5;_e=(+l[he>>2]+ +l[fe>>2])*.5;l[de>>2]=be;l[he>>2]=_e;l[ce>>2]=be;l[fe>>2]=_e;l[le>>2]=0;h=s;return}l[le>>2]=pe-me;me=+l[ce>>2];pe=+l[de>>2];_e=me-pe;be=+l[fe>>2];x=+l[he>>2];w=be-x;m=+J(+(_e*_e+w*w));if(m<1.1920928955078125E-7){we=_e;Se=w}else{A=1/m;we=_e*A;Se=w*A}l[de>>2]=ve*we+pe;l[he>>2]=ve*Se+x;l[ce>>2]=me-T*we;l[fe>>2]=be-T*Se;h=s;return}function Vl(e,t,r,i,a,u){e=e|0;t=t|0;r=r|0;i=i|0;a=a|0;u=u|0;var c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0;c=n[t+4>>1]|0;h=c&65535;f=e+108|0;o[f>>2]=h;if(!(c<<16>>16))d=h;else{h=r+16|0;c=a+16|0;p=i+12|0;_=i+8|0;m=i+4|0;b=u+12|0;g=u+8|0;y=u+4|0;v=0;do{x=s[t+6+v>>0]|0;o[e+(v*36|0)+28>>2]=x;w=s[t+9+v>>0]|0;o[e+(v*36|0)+32>>2]=w;S=o[h>>2]|0;E=+l[S+(x<<3)>>2];A=+l[S+(x<<3)+4>>2];x=o[c>>2]|0;T=+l[x+(w<<3)>>2];P=+l[x+(w<<3)+4>>2];C=+l[p>>2];M=+l[_>>2];F=+l[i>>2]+(E*C-A*M);I=A*C+E*M+ +l[m>>2];l[e+(v*36|0)>>2]=F;l[e+(v*36|0)+4>>2]=I;M=+l[b>>2];E=+l[g>>2];C=+l[u>>2]+(T*M-P*E);A=P*M+T*E+ +l[y>>2];l[e+(v*36|0)+8>>2]=C;l[e+(v*36|0)+12>>2]=A;l[e+(v*36|0)+16>>2]=C-F;l[e+(v*36|0)+20>>2]=A-I;l[e+(v*36|0)+24>>2]=0;v=v+1|0;w=o[f>>2]|0}while((v|0)<(w|0));d=w}if((d|0)<=1){if(d)return}else{I=+l[t>>2];switch(d|0){case 3:{A=+l[e+16>>2];F=+l[e+20>>2];O=(+l[e+52>>2]-A)*(+l[e+92>>2]-F)-(+l[e+56>>2]-F)*(+l[e+88>>2]-A);break}case 2:{A=+l[e+16>>2]-+l[e+52>>2];F=+l[e+20>>2]-+l[e+56>>2];O=+J(+(A*A+F*F));break}default:O=0}if(!(O<I*.5)?!(I*2<O|O<1.1920928955078125E-7):0)return;o[f>>2]=0}o[e+28>>2]=0;o[e+32>>2]=0;d=o[r+16>>2]|0;O=+l[d>>2];I=+l[d+4>>2];d=o[a+16>>2]|0;F=+l[d>>2];A=+l[d+4>>2];C=+l[i+12>>2];E=+l[i+8>>2];T=+l[i>>2]+(O*C-I*E);M=I*C+O*E+ +l[i+4>>2];l[e>>2]=T;l[e+4>>2]=M;E=+l[u+12>>2];O=+l[u+8>>2];C=+l[u>>2]+(F*E-A*O);I=A*E+F*O+ +l[u+4>>2];l[e+8>>2]=C;l[e+12>>2]=I;l[e+16>>2]=C-T;l[e+20>>2]=I-M;l[e+24>>2]=1;o[f>>2]=1;return}function Yl(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0;r=Od(t,48)|0;o[r>>2]=916;t=r+4|0;o[t>>2]=1;l[r+8>>2]=.009999999776482582;i=r+28|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;n[i+16>>1]=0;i=e+4|0;s=o[i+4>>2]|0;a=t;o[a>>2]=o[i>>2];o[a+4>>2]=s;s=r+12|0;a=e+12|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];o[s+16>>2]=o[a+16>>2];o[s+20>>2]=o[a+20>>2];o[s+24>>2]=o[a+24>>2];o[s+28>>2]=o[a+28>>2];n[s+32>>1]=n[a+32>>1]|0;return r|0}function ql(e){e=e|0;return 1}function Kl(e,t,r){e=e|0;t=t|0;r=r|0;return 0}function Zl(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;a=+l[t+12>>2];u=+l[e+12>>2];c=+l[t+8>>2];h=+l[e+16>>2];f=+l[t>>2];p=f+(a*u-c*h);_=+l[t+4>>2];m=u*c+a*h+_;h=+l[e+20>>2];u=+l[e+24>>2];b=f+(a*h-c*u);f=_+(c*h+a*u);u=+l[r>>2];a=u-p;h=+l[r+4>>2];c=h-m;_=b-p;p=f-m;m=a*_+c*p;do{if(m>0){g=_*_+p*p;if(m>g){y=h-f;v=u-b;break}else{x=m/g;y=c-p*x;v=a-_*x;break}}else{y=c;v=a}}while(0);a=+J(+(y*y+v*v));l[i>>2]=a;if(a>0){c=1/a;i=(l[d>>2]=v*c,o[d>>2]|0);w=i;S=(l[d>>2]=y*c,o[d>>2]|0);o[n>>2]=w;E=n+4|0;o[E>>2]=S;return}else{w=o[610]|0;S=o[611]|0;o[n>>2]=w;E=n+4|0;o[E>>2]=S;return}}function Ql(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var o=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0;o=+l[i>>2];s=+l[r>>2]-o;a=+l[i+4>>2];u=+l[r+4>>2]-a;c=+l[i+12>>2];h=+l[i+8>>2];f=s*c+u*h;d=c*u-s*h;s=+l[r+8>>2]-o;o=+l[r+12>>2]-a;a=c*s+h*o-f;u=c*o-h*s-d;s=+l[e+12>>2];o=+l[e+16>>2];p=+l[e+20>>2]-s;_=+l[e+24>>2]-o;m=-p;b=p*p+_*_;g=+J(+b);if(g<1.1920928955078125E-7){y=_;v=m}else{x=1/g;y=_*x;v=x*m}m=(o-d)*v+(s-f)*y;x=u*v+a*y;if(x==0){w=0;return w|0}g=m/x;if(g<0){w=0;return w|0}if(b==0?1:+l[r+16>>2]<g){w=0;return w|0}x=(p*(f+a*g-s)+_*(d+u*g-o))/b;if(x<0|x>1){w=0;return w|0}l[t+8>>2]=g;g=y*c-v*h;x=v*c+y*h;if(m>0){l[t>>2]=-g;l[t+4>>2]=-x;w=1;return w|0}else{l[t>>2]=g;l[t+4>>2]=x;w=1;return w|0}return 0}function $l(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0;n=+l[r+12>>2];o=+l[e+12>>2];s=+l[r+8>>2];a=+l[e+16>>2];u=+l[r>>2];c=u+(n*o-s*a);h=+l[r+4>>2];f=o*s+n*a+h;a=+l[e+20>>2];o=+l[e+24>>2];d=u+(n*a-s*o);u=h+(s*a+n*o);o=+l[e+8>>2];l[t>>2]=(c<d?c:d)-o;l[t+4>>2]=(f<u?f:u)-o;l[t+8>>2]=o+(c>d?c:d);l[t+12>>2]=o+(f>u?f:u);return}function ec(e,t,r){e=e|0;t=t|0;r=+r;l[t>>2]=0;r=(+l[e+16>>2]+ +l[e+24>>2])*.5;l[t+4>>2]=(+l[e+12>>2]+ +l[e+20>>2])*.5;l[t+8>>2]=r;l[t+12>>2]=0;return}function tc(e){e=e|0;return}function rc(e){e=e|0;op(e);return}function ic(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0;r=Od(t,152)|0;o[r>>2]=960;t=r+4|0;o[t>>2]=2;l[r+8>>2]=.009999999776482582;o[r+148>>2]=0;i=r+12|0;l[i>>2]=0;l[r+16>>2]=0;n=e+4|0;s=o[n+4>>2]|0;a=t;o[a>>2]=o[n>>2];o[a+4>>2]=s;p_(i|0,e+12|0,140)|0;return r|0}function nc(e){e=e|0;return 1}function oc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0;i=h;h=h+96|0;n=i+32|0;s=i;if((r|0)<3){o[e+148>>2]=4;l[e+20>>2]=-1;l[e+24>>2]=-1;l[e+28>>2]=1;l[e+32>>2]=-1;l[e+36>>2]=1;l[e+40>>2]=1;l[e+44>>2]=-1;l[e+48>>2]=1;l[e+84>>2]=0;l[e+88>>2]=-1;l[e+92>>2]=1;l[e+96>>2]=0;l[e+100>>2]=0;l[e+104>>2]=1;l[e+108>>2]=-1;l[e+112>>2]=0;l[e+12>>2]=0;l[e+16>>2]=0;h=i;return}a=(r|0)<8?r:8;r=0;u=0;while(1){c=o[t+(r<<3)>>2]|0;f=o[t+(r<<3)+4>>2]|0;e:do{if((u|0)>0){p=(o[d>>2]=c,+l[d>>2]);_=(o[d>>2]=f,+l[d>>2]);m=0;while(1){b=p-+l[n+(m<<3)>>2];g=_-+l[n+(m<<3)+4>>2];m=m+1|0;if(b*b+g*g<.0024999999441206455){y=u;break e}if((m|0)>=(u|0)){v=8;break}}}else v=8}while(0);if((v|0)==8){v=0;o[n+(u<<3)>>2]=c;o[n+(u<<3)+4>>2]=f;y=u+1|0}r=r+1|0;if((r|0)==(a|0)){x=y;break}else u=y}if((x|0)<3){o[e+148>>2]=4;l[e+20>>2]=-1;l[e+24>>2]=-1;l[e+28>>2]=1;l[e+32>>2]=-1;l[e+36>>2]=1;l[e+40>>2]=1;l[e+44>>2]=-1;l[e+48>>2]=1;l[e+84>>2]=0;l[e+88>>2]=-1;l[e+92>>2]=1;l[e+96>>2]=0;l[e+100>>2]=0;l[e+104>>2]=1;l[e+108>>2]=-1;l[e+112>>2]=0;l[e+12>>2]=0;l[e+16>>2]=0}else{y=0;u=1;_=+l[n>>2];while(1){p=+l[n+(u<<3)>>2];if(!(p>_))if(p==_?+l[n+(u<<3)+4>>2]<+l[n+(y<<3)+4>>2]:0)v=23;else{w=y;S=_}else v=23;if((v|0)==23){v=0;w=u;S=p}u=u+1|0;if((u|0)==(x|0)){E=w;break}else{y=w;_=S}}w=E;y=0;while(1){o[s+(y<<2)>>2]=w;u=n+(w<<3)|0;v=n+(w<<3)+4|0;a=0;r=1;while(1){if((a|0)!=(w|0)){S=+l[u>>2];_=+l[n+(a<<3)>>2]-S;p=+l[v>>2];g=+l[n+(a<<3)+4>>2]-p;b=+l[n+(r<<3)>>2]-S;S=+l[n+(r<<3)+4>>2]-p;p=_*S-g*b;t=p<0?r:a;if(p==0?b*b+S*S>_*_+g*g:0)A=r;else A=t}else A=r;r=r+1|0;if((r|0)==(x|0)){T=A;break}else a=A}a=y+1|0;if((T|0)==(E|0)){P=a;C=y;break}else{w=T;y=a}}o[e+148>>2]=P;y=(C|0)>-1;if(y){T=0;do{w=n+(o[s+(T<<2)>>2]<<3)|0;E=o[w+4>>2]|0;A=e+20+(T<<3)|0;o[A>>2]=o[w>>2];o[A+4>>2]=E;T=T+1|0}while((T|0)!=(P|0));if(y){y=0;do{T=y;y=y+1|0;s=(y|0)<(P|0)?y:0;g=+l[e+20+(s<<3)>>2]-+l[e+20+(T<<3)>>2];_=+l[e+20+(s<<3)+4>>2]-+l[e+20+(T<<3)+4>>2];S=-g;s=e+84+(T<<3)|0;l[s>>2]=_;n=e+84+(T<<3)+4|0;l[n>>2]=S;b=+J(+(g*g+_*_));if(!(b<1.1920928955078125E-7)){g=1/b;l[s>>2]=_*g;l[n>>2]=g*S}}while((y|0)!=(P|0))}}y=e+20|0;if((C|0)>-1){S=0;g=0;_=0;C=0;while(1){b=+l[e+20+(C<<3)>>2];p=+l[e+20+(C<<3)+4>>2];C=C+1|0;n=(C|0)<(P|0)?e+20+(C<<3)|0:y;M=+l[n>>2];F=+l[n+4>>2];I=(b*F-p*M)*.5;O=_+I;D=I*.3333333432674408;I=S+(b+0+M)*D;M=g+(p+0+F)*D;if((C|0)==(P|0)){k=I;R=M;B=O;break}else{S=I;g=M;_=O}}}else{k=0;R=0;B=0}_=1/B;l[e+12>>2]=k*_;l[e+16>>2]=R*_}h=i;return}function sc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0;i=+l[r>>2]-+l[t>>2];n=+l[r+4>>2]-+l[t+4>>2];s=+l[t+12>>2];a=+l[t+8>>2];u=i*s+n*a;c=s*n-i*a;t=o[e+148>>2]|0;if((t|0)>0)h=0;else{f=1;return f|0}while(1){if((u-+l[e+20+(h<<3)>>2])*+l[e+84+(h<<3)>>2]+(c-+l[e+20+(h<<3)+4>>2])*+l[e+84+(h<<3)+4>>2]>0){f=0;d=4;break}h=h+1|0;if((h|0)>=(t|0)){f=1;d=4;break}}if((d|0)==4)return f|0;return 0}function ac(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0;a=+l[r>>2]-+l[t>>2];u=+l[r+4>>2]-+l[t+4>>2];r=t+12|0;c=+l[r>>2];s=t+8|0;h=+l[s>>2];f=a*c+u*h;p=c*u-a*h;t=(l[d>>2]=f,o[d>>2]|0);_=(l[d>>2]=p,o[d>>2]|0);m=o[e+148>>2]|0;b=(m|0)>0;if(b){g=_;y=t;v=0;h=-3.4028234663852886E38;while(1){a=+l[e+84+(v<<3)>>2];u=+l[e+84+(v<<3)+4>>2];c=(f-+l[e+20+(v<<3)>>2])*a+(p-+l[e+20+(v<<3)+4>>2])*u;x=c>h;w=(l[d>>2]=u,o[d>>2]|0);S=x?w:g;w=x?(l[d>>2]=a,o[d>>2]|0):y;a=x?c:h;v=v+1|0;if((v|0)>=(m|0)){E=S;A=w;T=a;break}else{g=S;y=w;h=a}}if(T>0){h=T*T;if(b){b=E;y=A;g=0;a=h;while(1){c=f-+l[e+20+(g<<3)>>2];u=p-+l[e+20+(g<<3)+4>>2];v=(l[d>>2]=c,o[d>>2]|0);P=c*c+u*u;w=a>P;S=w?(l[d>>2]=u,o[d>>2]|0):b;x=w?v:y;u=w?P:a;g=g+1|0;if((g|0)>=(m|0)){C=S;M=x;F=u;break}else{b=S;y=x;a=u}}}else{C=E;M=A;F=h}l[i>>2]=+J(+F);F=+l[r>>2];h=(o[d>>2]=M,+l[d>>2]);a=+l[s>>2];p=(o[d>>2]=C,+l[d>>2]);f=h*F-p*a;u=p*F+h*a;l[n>>2]=f;C=n+4|0;l[C>>2]=u;a=+J(+(f*f+u*u));if(a<1.1920928955078125E-7)return;h=1/a;l[n>>2]=f*h;l[C>>2]=u*h;return}else{I=E;O=A;D=T}}else{I=_;O=t;D=-3.4028234663852886E38}l[i>>2]=D;D=+l[r>>2];T=(o[d>>2]=O,+l[d>>2]);h=+l[s>>2];u=(o[d>>2]=I,+l[d>>2]);l[n>>2]=T*D-u*h;l[n+4>>2]=u*D+T*h;return}function uc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;s=+l[i>>2];a=+l[r>>2]-s;u=+l[i+4>>2];c=+l[r+4>>2]-u;h=+l[i+12>>2];f=+l[i+8>>2];d=a*h+c*f;p=h*c-a*f;a=+l[r+8>>2]-s;s=+l[r+12>>2]-u;u=h*a+f*s-d;c=h*s-f*a-p;i=o[e+148>>2]|0;if((i|0)<=0){_=0;return _|0}n=0;m=-1;a=0;s=+l[r+16>>2];e:while(1){b=+l[e+84+(n<<3)>>2];g=+l[e+84+(n<<3)+4>>2];y=(+l[e+20+(n<<3)>>2]-d)*b+(+l[e+20+(n<<3)+4>>2]-p)*g;v=u*b+c*g;do{if(v==0)if(y<0){_=0;x=12;break e}else{w=m;S=a;E=s}else if(v<0&y<a*v){w=n;S=y/v;E=s;break}else{w=m;S=a;E=v>0&y<s*v?y/v:s;break}}while(0);n=n+1|0;if(E<S){_=0;x=12;break}if((n|0)>=(i|0)){A=w;T=S;x=10;break}else{m=w;a=S;s=E}}if((x|0)==10){if((A|0)<=-1){_=0;return _|0}l[t+8>>2]=T;T=+l[e+84+(A<<3)>>2];E=+l[e+84+(A<<3)+4>>2];l[t>>2]=h*T-f*E;l[t+4>>2]=T*f+h*E;_=1;return _|0}else if((x|0)==12)return _|0;return 0}function lc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0;n=+l[r+12>>2];s=+l[e+20>>2];a=+l[r+8>>2];u=+l[e+24>>2];c=+l[r>>2];h=+l[r+4>>2];r=(l[d>>2]=c+(n*s-a*u),o[d>>2]|0);i=(l[d>>2]=s*a+n*u+h,o[d>>2]|0);f=o[e+148>>2]|0;if((f|0)>1){p=r;_=i;m=r;b=i;g=1;while(1){u=+l[e+20+(g<<3)>>2];s=+l[e+20+(g<<3)+4>>2];y=c+(n*u-a*s);v=u*a+n*s+h;s=(o[d>>2]=p,+l[d>>2]);u=(o[d>>2]=_,+l[d>>2]);x=(l[d>>2]=s<y?s:y,o[d>>2]|0);w=(l[d>>2]=u<v?u:v,o[d>>2]|0);u=(o[d>>2]=m,+l[d>>2]);s=(o[d>>2]=b,+l[d>>2]);S=(l[d>>2]=u>y?u:y,o[d>>2]|0);E=(l[d>>2]=s>v?s:v,o[d>>2]|0);g=g+1|0;if((g|0)>=(f|0)){A=w;T=x;P=E;C=S;break}else{p=x;_=w;m=S;b=E}}}else{A=i;T=r;P=i;C=r}h=+l[e+8>>2];n=(o[d>>2]=T,+l[d>>2])-h;a=(o[d>>2]=A,+l[d>>2])-h;l[t>>2]=n;l[t+4>>2]=a;a=(o[d>>2]=C,+l[d>>2])+h;n=(o[d>>2]=P,+l[d>>2])+h;l[t+8>>2]=a;l[t+12>>2]=n;return}function cc(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0;i=o[e+148>>2]|0;n=(i|0)>0;if(n){s=0;a=0;u=0;while(1){c=s+ +l[e+20+(u<<3)>>2];h=a+ +l[e+20+(u<<3)+4>>2];u=u+1|0;if((u|0)>=(i|0)){f=c;d=h;break}else{s=c;a=h}}a=1/+(i|0);s=f*a;f=d*a;if(n){n=e+20|0;u=e+24|0;a=0;d=0;h=0;c=0;p=0;while(1){_=+l[e+20+(p<<3)>>2]-s;m=+l[e+20+(p<<3)+4>>2]-f;p=p+1|0;b=(p|0)<(i|0);g=+l[(b?e+20+(p<<3)|0:n)>>2]-s;y=+l[(b?e+20+(p<<3)+4|0:u)>>2]-f;v=_*y-m*g;x=v*.5;w=c+x;S=x*.3333333432674408;x=a+(_+g)*S;E=d+(m+y)*S;S=h+v*.0833333358168602*(g*g+(_*_+_*g)+(y*y+(m*m+m*y)));if(!b){A=E;T=x;P=s;C=f;M=S;F=w;break}else{a=x;d=E;h=S;c=w}}}else{A=0;T=0;P=s;C=f;M=0;F=0}}else{f=1/+(i|0);A=0;T=0;P=f*0;C=f*0;M=0;F=0}f=F*r;l[t>>2]=f;s=1/F;F=T*s;T=A*s;s=P+F;P=C+T;l[t+4>>2]=s;l[t+8>>2]=P;l[t+12>>2]=M*r+f*(s*s+P*P-(F*F+T*T));return}function hc(e){e=e|0;op(e);return}function fc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0;r=Od(t,20)|0;o[r>>2]=1004;t=r+4|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;i=e+4|0;n=o[i+4>>2]|0;s=t;o[s>>2]=o[i>>2];o[s+4>>2]=n;n=e+12|0;e=o[n+4>>2]|0;s=r+12|0;o[s>>2]=o[n>>2];o[s+4>>2]=e;return r|0}function dc(e){e=e|0;return 1}function pc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,o=0,s=0,a=0,u=0;i=+l[t+12>>2];n=+l[e+12>>2];o=+l[t+8>>2];s=+l[e+16>>2];a=+l[r>>2]-(+l[t>>2]+(i*n-o*s));u=+l[r+4>>2]-(+l[t+4>>2]+(n*o+i*s));s=+l[e+8>>2];return a*a+u*u<=s*s|0}function _c(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;var s=0,a=0,u=0,c=0,h=0,f=0;s=+l[t+12>>2];a=+l[e+12>>2];u=+l[t+8>>2];c=+l[e+16>>2];h=+l[r>>2]-(+l[t>>2]+(s*a-u*c));f=+l[r+4>>2]-(+l[t+4>>2]+(a*u+s*c));c=+J(+(h*h+f*f));l[i>>2]=c-+l[e+8>>2];s=1/c;l[n>>2]=h*s;l[n+4>>2]=f*s;return}function mc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var o=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0;o=+l[i+12>>2];s=+l[e+12>>2];a=+l[i+8>>2];u=+l[e+16>>2];c=+l[r>>2];h=c-(+l[i>>2]+(o*s-a*u));f=+l[r+4>>2];d=f-(+l[i+4>>2]+(s*a+o*u));u=+l[e+8>>2];o=+l[r+8>>2]-c;c=+l[r+12>>2]-f;f=h*o+d*c;a=o*o+c*c;s=f*f-(h*h+d*d-u*u)*a;if(a<1.1920928955078125E-7|s<0){p=0;return p|0}u=f+ +J(+s);s=-u;if(!(u<=-0)){p=0;return p|0}if(!(a*+l[r+16>>2]>=s)){p=0;return p|0}u=s/a;l[t+8>>2]=u;a=h+o*u;o=d+c*u;l[t>>2]=a;r=t+4|0;l[r>>2]=o;u=+J(+(a*a+o*o));if(u<1.1920928955078125E-7){p=1;return p|0}c=1/u;l[t>>2]=a*c;l[r>>2]=o*c;p=1;return p|0}function bc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0,s=0,a=0,u=0,c=0;n=+l[r+12>>2];o=+l[e+12>>2];s=+l[r+8>>2];a=+l[e+16>>2];u=+l[r>>2]+(n*o-s*a);c=+l[r+4>>2]+(o*s+n*a);a=+l[e+8>>2];l[t>>2]=u-a;l[t+4>>2]=c-a;l[t+8>>2]=u+a;l[t+12>>2]=c+a;return}function gc(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0;i=e+8|0;n=+l[i>>2];s=n*(r*3.1415927410125732*n);l[t>>2]=s;a=e+12|0;u=a;c=o[u+4>>2]|0;h=t+4|0;o[h>>2]=o[u>>2];o[h+4>>2]=c;n=+l[i>>2];r=+l[a>>2];f=+l[e+16>>2];l[t+12>>2]=s*(n*(n*.5)+(r*r+f*f));return}function yc(e){e=e|0;op(e);return}function vc(e){e=e|0;var t=0;o[e>>2]=1048;t=e+12|0;jd(o[t>>2]|0);o[t>>2]=0;o[e+16>>2]=0;return}function xc(e){e=e|0;o[e>>2]=1048;jd(o[e+12>>2]|0);op(e);return}function wc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,s=0;i=e+16|0;o[i>>2]=r;s=zd(r<<3)|0;o[e+12>>2]=s;p_(s|0,t|0,o[i>>2]<<3|0)|0;i=e+20|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;n[i+16>>1]=0;return}function Sc(e,t){e=e|0;t=t|0;var r=0,s=0,a=0,u=0,c=0,h=0,f=0;r=Od(t,40)|0;o[r>>2]=1048;o[r+4>>2]=3;l[r+8>>2]=.009999999776482582;t=r+12|0;o[t>>2]=0;s=r+16|0;o[s>>2]=0;a=r+36|0;i[a>>0]=0;u=r+37|0;i[u>>0]=0;c=o[e+12>>2]|0;h=o[e+16>>2]|0;o[s>>2]=h;f=zd(h<<3)|0;o[t>>2]=f;p_(f|0,c|0,o[s>>2]<<3|0)|0;s=r+20|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;n[s+16>>1]=0;c=e+20|0;f=o[c+4>>2]|0;t=s;o[t>>2]=o[c>>2];o[t+4>>2]=f;f=e+28|0;t=o[f+4>>2]|0;c=r+28|0;o[c>>2]=o[f>>2];o[c+4>>2]=t;i[a>>0]=i[e+36>>0]|0;i[u>>0]=i[e+37>>0]|0;return r|0}function Ec(e){e=e|0;return(o[e+16>>2]|0)+-1|0}function Ac(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0;o[t+4>>2]=1;o[t+8>>2]=o[e+8>>2];n=e+12|0;s=(o[n>>2]|0)+(r<<3)|0;a=o[s+4>>2]|0;u=t+12|0;o[u>>2]=o[s>>2];o[u+4>>2]=a;a=(o[n>>2]|0)+(r+1<<3)|0;u=o[a+4>>2]|0;s=t+20|0;o[s>>2]=o[a>>2];o[s+4>>2]=u;u=t+28|0;if((r|0)>0){s=(o[n>>2]|0)+(r+-1<<3)|0;a=o[s+4>>2]|0;l=u;o[l>>2]=o[s>>2];o[l+4>>2]=a;c=1}else{a=e+20|0;l=o[a+4>>2]|0;s=u;o[s>>2]=o[a>>2];o[s+4>>2]=l;c=i[e+36>>0]|0}i[t+44>>0]=c;c=t+36|0;if(((o[e+16>>2]|0)+-2|0)>(r|0)){l=(o[n>>2]|0)+(r+2<<3)|0;r=o[l+4>>2]|0;n=c;o[n>>2]=o[l>>2];o[n+4>>2]=r;h=1;f=t+45|0;i[f>>0]=h;return}else{r=e+28|0;n=o[r+4>>2]|0;l=c;o[l>>2]=o[r>>2];o[l+4>>2]=n;h=i[e+37>>0]|0;f=t+45|0;i[f>>0]=h;return}}function Tc(e,t,r,s,a,u){e=e|0;t=t|0;r=r|0;s=s|0;a=a|0;u=u|0;var l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0;l=h;h=h+48|0;c=l;o[c>>2]=916;f=c+28|0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;n[f+16>>1]=0;o[c+4>>2]=1;o[c+8>>2]=o[e+8>>2];f=o[e+12>>2]|0;d=f+(u<<3)|0;p=o[d+4>>2]|0;_=c+12|0;o[_>>2]=o[d>>2];o[_+4>>2]=p;p=f+(u+1<<3)|0;_=o[p+4>>2]|0;d=c+20|0;o[d>>2]=o[p>>2];o[d+4>>2]=_;_=c+28|0;if((u|0)>0){d=f+(u+-1<<3)|0;p=o[d+4>>2]|0;m=_;o[m>>2]=o[d>>2];o[m+4>>2]=p;b=1}else{p=e+20|0;m=o[p+4>>2]|0;d=_;o[d>>2]=o[p>>2];o[d+4>>2]=m;b=i[e+36>>0]|0}i[c+44>>0]=b;b=c+36|0;if(((o[e+16>>2]|0)+-2|0)>(u|0)){m=f+(u+2<<3)|0;u=o[m+4>>2]|0;f=b;o[f>>2]=o[m>>2];o[f+4>>2]=u;g=1;y=c+45|0;i[y>>0]=g;Zl(c,t,r,s,a,0);h=l;return}else{u=e+28|0;f=o[u+4>>2]|0;m=b;o[m>>2]=o[u>>2];o[m+4>>2]=f;g=i[e+37>>0]|0;y=c+45|0;i[y>>0]=g;Zl(c,t,r,s,a,0);h=l;return}}function Pc(e,t,r){e=e|0;t=t|0;r=r|0;return 0}function Cc(e,t,r,i,s){e=e|0;t=t|0;r=r|0;i=i|0;s=s|0;var a=0,u=0,c=0,f=0,d=0;a=h;h=h+48|0;u=a;o[u>>2]=916;o[u+4>>2]=1;l[u+8>>2]=.009999999776482582;c=u+28|0;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;n[c+16>>1]=0;c=s+1|0;f=(c|0)==(o[e+16>>2]|0)?0:c;c=o[e+12>>2]|0;e=c+(s<<3)|0;s=o[e+4>>2]|0;d=u+12|0;o[d>>2]=o[e>>2];o[d+4>>2]=s;s=c+(f<<3)|0;f=o[s+4>>2]|0;c=u+20|0;o[c>>2]=o[s>>2];o[c+4>>2]=f;f=Ql(u,t,r,i,0)|0;h=a;return f|0}function Mc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0;n=i+1|0;s=(n|0)==(o[e+16>>2]|0)?0:n;n=o[e+12>>2]|0;a=+l[r+12>>2];u=+l[n+(i<<3)>>2];c=+l[r+8>>2];h=+l[n+(i<<3)+4>>2];f=+l[r>>2];d=f+(a*u-c*h);p=+l[r+4>>2];_=u*c+a*h+p;h=+l[n+(s<<3)>>2];u=+l[n+(s<<3)+4>>2];m=f+(a*h-c*u);f=p+(c*h+a*u);l[t>>2]=d<m?d:m;l[t+4>>2]=_<f?_:f;l[t+8>>2]=d>m?d:m;l[t+12>>2]=_>f?_:f;return}function Fc(e,t,r){e=e|0;t=t|0;r=+r;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;return}function Ic(e){e=e|0;Uc(e);o[e+28>>2]=0;o[e+48>>2]=16;o[e+52>>2]=0;o[e+44>>2]=zd(128)|0;o[e+36>>2]=16;o[e+40>>2]=0;o[e+32>>2]=zd(64)|0;return}function Oc(e){e=e|0;jd(o[e+32>>2]|0);jd(o[e+44>>2]|0);zc(e);return}function Dc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0;i=Jc(e,t,r)|0;r=e+28|0;o[r>>2]=(o[r>>2]|0)+1;r=e+40|0;t=o[r>>2]|0;n=e+36|0;s=e+32|0;if((t|0)==(o[n>>2]|0)){e=o[s>>2]|0;o[n>>2]=t<<1;n=zd(t<<3)|0;o[s>>2]=n;p_(n|0,e|0,o[r>>2]<<2|0)|0;jd(e);a=o[r>>2]|0}else a=t;o[(o[s>>2]|0)+(a<<2)>>2]=i;o[r>>2]=(o[r>>2]|0)+1;return i|0}function kc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=e+40|0;i=o[r>>2]|0;if((i|0)>0){n=o[e+32>>2]|0;s=i;i=0;while(1){a=n+(i<<2)|0;if((o[a>>2]|0)==(t|0)){o[a>>2]=-1;u=o[r>>2]|0}else u=s;i=i+1|0;if((i|0)>=(u|0))break;else s=u}}u=e+28|0;o[u>>2]=(o[u>>2]|0)+-1;Hc(e,t);return}function Rc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0;if(!(Vc(e,t,r,i)|0))return;i=e+40|0;r=o[i>>2]|0;n=e+36|0;s=e+32|0;if((r|0)==(o[n>>2]|0)){e=o[s>>2]|0;o[n>>2]=r<<1;n=zd(r<<3)|0;o[s>>2]=n;p_(n|0,e|0,o[i>>2]<<2|0)|0;jd(e);a=o[i>>2]|0}else a=r;o[(o[s>>2]|0)+(a<<2)>>2]=t;o[i>>2]=(o[i>>2]|0)+1;return}function Bc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0;r=e+40|0;i=o[r>>2]|0;n=e+36|0;s=e+32|0;if((i|0)==(o[n>>2]|0)){e=o[s>>2]|0;o[n>>2]=i<<1;n=zd(i<<3)|0;o[s>>2]=n;p_(n|0,e|0,o[r>>2]<<2|0)|0;jd(e);a=o[r>>2]|0}else a=i;o[(o[s>>2]|0)+(a<<2)>>2]=t;o[r>>2]=(o[r>>2]|0)+1;return}function Nc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0;r=e+56|0;i=o[r>>2]|0;if((i|0)==(t|0))return 1;n=e+52|0;s=o[n>>2]|0;a=e+48|0;u=e+44|0;if((s|0)==(o[a>>2]|0)){e=o[u>>2]|0;o[a>>2]=s<<1;a=zd(s<<4)|0;o[u>>2]=a;p_(a|0,e|0,o[n>>2]<<3|0)|0;jd(e);l=o[r>>2]|0;c=o[n>>2]|0}else{l=i;c=s}s=o[u>>2]|0;o[s+(c<<3)>>2]=(l|0)>(t|0)?t:l;o[s+(c<<3)+4>>2]=(l|0)<(t|0)?t:l;o[n>>2]=c+1;return 1}function Lc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0;s=e+60|0;o[s>>2]=0;a=t+12|0;u=+l[r+12>>2];c=+l[a>>2];h=+l[r+8>>2];f=+l[t+16>>2];d=i+12|0;p=+l[n+12>>2];_=+l[d>>2];m=+l[n+8>>2];b=+l[i+16>>2];g=+l[n>>2]+(p*_-m*b)-(+l[r>>2]+(u*c-h*f));y=_*m+p*b+ +l[n+4>>2]-(c*h+u*f+ +l[r+4>>2]);f=+l[t+8>>2]+ +l[i+8>>2];if(g*g+y*y>f*f)return;o[e+56>>2]=0;i=a;a=o[i+4>>2]|0;t=e+48|0;o[t>>2]=o[i>>2];o[t+4>>2]=a;l[e+40>>2]=0;l[e+44>>2]=0;o[s>>2]=1;s=d;d=o[s+4>>2]|0;a=e;o[a>>2]=o[s>>2];o[a+4>>2]=d;o[e+16>>2]=0;return}function Gc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0;s=e+60|0;o[s>>2]=0;a=i+12|0;u=+l[n+12>>2];c=+l[a>>2];h=+l[n+8>>2];f=+l[i+16>>2];p=+l[n>>2]+(u*c-h*f)-+l[r>>2];_=c*h+u*f+ +l[n+4>>2]-+l[r+4>>2];f=+l[r+12>>2];u=+l[r+8>>2];h=p*f+_*u;c=f*_-p*u;u=+l[t+8>>2]+ +l[i+8>>2];i=o[t+148>>2]|0;do{if((i|0)>0){r=0;n=0;p=-3.4028234663852886E38;while(1){_=(h-+l[t+20+(r<<3)>>2])*+l[t+84+(r<<3)>>2]+(c-+l[t+20+(r<<3)+4>>2])*+l[t+84+(r<<3)+4>>2];if(_>u){m=19;break}b=_>p;f=b?_:p;g=b?r:n;r=r+1|0;if((r|0)>=(i|0)){y=g;v=f;m=4;break}else{n=g;p=f}}if((m|0)==4){x=y;w=v<1.1920928955078125E-7;break}else if((m|0)==19)return}else{x=0;w=1}}while(0);m=x+1|0;y=(m|0)<(i|0)?m:0;m=o[t+20+(x<<3)>>2]|0;i=o[t+20+(x<<3)+4>>2]|0;n=o[t+20+(y<<3)>>2]|0;r=o[t+20+(y<<3)+4>>2]|0;if(w){o[s>>2]=1;o[e+56>>2]=1;w=t+84+(x<<3)|0;y=o[w+4>>2]|0;g=e+40|0;o[g>>2]=o[w>>2];o[g+4>>2]=y;v=(o[d>>2]=m,+l[d>>2]);p=v+(o[d>>2]=n,+l[d>>2]);v=(o[d>>2]=i,+l[d>>2]);f=(v+(o[d>>2]=r,+l[d>>2]))*.5;l[e+48>>2]=p*.5;l[e+52>>2]=f;y=a;g=o[y+4>>2]|0;w=e;o[w>>2]=o[y>>2];o[w+4>>2]=g;o[e+16>>2]=0;return}f=(o[d>>2]=m,+l[d>>2]);p=h-f;v=(o[d>>2]=i,+l[d>>2]);_=c-v;S=(o[d>>2]=n,+l[d>>2]);E=(o[d>>2]=r,+l[d>>2]);A=h-S;T=c-E;if(p*(S-f)+_*(E-v)<=0){P=p*p+_*_;if(P>u*u)return;o[s>>2]=1;o[e+56>>2]=1;g=e+40|0;l[g>>2]=p;w=e+44|0;l[w>>2]=_;C=+J(+P);if(!(C<1.1920928955078125E-7)){P=1/C;l[g>>2]=p*P;l[w>>2]=_*P}o[e+48>>2]=m;o[e+52>>2]=i;i=a;m=o[i+4>>2]|0;w=e;o[w>>2]=o[i>>2];o[w+4>>2]=m;o[e+16>>2]=0;return}if(!(A*(f-S)+T*(v-E)<=0)){P=(f+S)*.5;S=(v+E)*.5;m=t+84+(x<<3)|0;if((h-P)*+l[m>>2]+(c-S)*+l[t+84+(x<<3)+4>>2]>u)return;o[s>>2]=1;o[e+56>>2]=1;x=m;m=o[x+4>>2]|0;t=e+40|0;o[t>>2]=o[x>>2];o[t+4>>2]=m;l[e+48>>2]=P;l[e+52>>2]=S;m=a;t=o[m+4>>2]|0;x=e;o[x>>2]=o[m>>2];o[x+4>>2]=t;o[e+16>>2]=0;return}S=A*A+T*T;if(S>u*u)return;o[s>>2]=1;o[e+56>>2]=1;s=e+40|0;l[s>>2]=A;t=e+44|0;l[t>>2]=T;u=+J(+S);if(!(u<1.1920928955078125E-7)){S=1/u;l[s>>2]=A*S;l[t>>2]=T*S}o[e+48>>2]=n;o[e+52>>2]=r;r=a;a=o[r+4>>2]|0;n=e;o[n>>2]=o[r>>2];o[n+4>>2]=a;o[e+16>>2]=0;return}function Uc(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0;o[e>>2]=-1;t=e+12|0;o[t>>2]=16;o[e+8>>2]=0;r=zd(576)|0;i=e+4|0;o[i>>2]=r;c_(r|0,0,(o[t>>2]|0)*36|0)|0;r=o[t>>2]|0;if((r|0)>1){n=o[i>>2]|0;s=0;do{a=s;s=s+1|0;o[n+(a*36|0)+20>>2]=s;o[n+(a*36|0)+32>>2]=-1;a=(o[t>>2]|0)+-1|0}while((s|0)<(a|0));u=a;l=n}else{u=r+-1|0;l=o[i>>2]|0}o[l+(u*36|0)+20>>2]=-1;o[l+(((o[t>>2]|0)+-1|0)*36|0)+32>>2]=-1;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;return}function zc(e){e=e|0;jd(o[e+4>>2]|0);return}function jc(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0;t=e+16|0;r=o[t>>2]|0;i=e+4|0;if((r|0)==-1){n=o[i>>2]|0;s=e+12|0;a=o[s>>2]|0;o[s>>2]=a<<1;u=zd(a*72|0)|0;o[i>>2]=u;a=e+8|0;p_(u|0,n|0,(o[a>>2]|0)*36|0)|0;jd(n);n=o[a>>2]|0;u=(o[s>>2]|0)+-1|0;l=o[i>>2]|0;if((n|0)<(u|0)){c=n;do{n=c;c=c+1|0;o[l+(n*36|0)+20>>2]=c;o[l+(n*36|0)+32>>2]=-1;n=(o[s>>2]|0)+-1|0}while((c|0)<(n|0));h=n}else h=u;o[l+(h*36|0)+20>>2]=-1;o[l+(((o[s>>2]|0)+-1|0)*36|0)+32>>2]=-1;s=o[a>>2]|0;o[t>>2]=s;f=a;d=l;p=s}else{f=e+8|0;d=o[i>>2]|0;p=r}r=d+(p*36|0)+20|0;o[t>>2]=o[r>>2];o[r>>2]=-1;o[d+(p*36|0)+24>>2]=-1;o[d+(p*36|0)+28>>2]=-1;o[d+(p*36|0)+32>>2]=0;o[d+(p*36|0)+16>>2]=0;o[f>>2]=(o[f>>2]|0)+1;return p|0}function Jc(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0;i=jc(e)|0;n=e+4|0;s=o[n>>2]|0;a=+l[t+4>>2]+-.10000000149011612;l[s+(i*36|0)>>2]=+l[t>>2]+-.10000000149011612;l[s+(i*36|0)+4>>2]=a;s=o[n>>2]|0;a=+l[t+12>>2]+.10000000149011612;l[s+(i*36|0)+8>>2]=+l[t+8>>2]+.10000000149011612;l[s+(i*36|0)+12>>2]=a;s=o[n>>2]|0;o[s+(i*36|0)+16>>2]=r;o[s+(i*36|0)+32>>2]=0;Xc(e,i);return i|0}function Xc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0;r=e+24|0;o[r>>2]=(o[r>>2]|0)+1;r=o[e>>2]|0;if((r|0)==-1){o[e>>2]=t;o[(o[e+4>>2]|0)+(t*36|0)+20>>2]=-1;return}i=e+4|0;n=o[i>>2]|0;s=+l[n+(t*36|0)>>2];a=+l[n+(t*36|0)+4>>2];u=+l[n+(t*36|0)+8>>2];c=+l[n+(t*36|0)+12>>2];h=o[n+(r*36|0)+24>>2]|0;e:do{if((h|0)==-1)f=r;else{d=h;p=r;while(1){_=o[n+(p*36|0)+28>>2]|0;m=+l[n+(p*36|0)+8>>2];b=+l[n+(p*36|0)>>2];g=+l[n+(p*36|0)+12>>2];y=+l[n+(p*36|0)+4>>2];v=((m>u?m:u)-(b<s?b:s)+((g>c?g:c)-(y<a?y:a)))*2;x=v*2;w=(v-(m-b+(g-y))*2)*2;y=+l[n+(d*36|0)>>2];g=s<y?s:y;b=+l[n+(d*36|0)+4>>2];m=a<b?a:b;v=+l[n+(d*36|0)+8>>2];S=u>v?u:v;E=+l[n+(d*36|0)+12>>2];A=c>E?c:E;if((o[n+(d*36|0)+24>>2]|0)==-1)T=(S-g+(A-m))*2;else T=(S-g+(A-m))*2-(v-y+(E-b))*2;b=w+T;E=+l[n+(_*36|0)>>2];y=s<E?s:E;v=+l[n+(_*36|0)+4>>2];m=a<v?a:v;A=+l[n+(_*36|0)+8>>2];g=u>A?u:A;S=+l[n+(_*36|0)+12>>2];P=c>S?c:S;if((o[n+(_*36|0)+24>>2]|0)==-1)C=(g-y+(P-m))*2;else C=(g-y+(P-m))*2-(A-E+(S-v))*2;v=w+C;if(x<b&x<v){f=p;break e}M=b<v?d:_;d=o[n+(M*36|0)+24>>2]|0;if((d|0)==-1){f=M;break}else p=M}}}while(0);r=o[n+(f*36|0)+20>>2]|0;n=jc(e)|0;h=o[i>>2]|0;o[h+(n*36|0)+20>>2]=r;o[h+(n*36|0)+16>>2]=0;C=+l[h+(f*36|0)>>2];T=+l[h+(f*36|0)+4>>2];l[h+(n*36|0)>>2]=s<C?s:C;l[h+(n*36|0)+4>>2]=a<T?a:T;T=+l[h+(f*36|0)+8>>2];a=+l[h+(f*36|0)+12>>2];l[h+(n*36|0)+8>>2]=u>T?u:T;l[h+(n*36|0)+12>>2]=c>a?c:a;h=o[i>>2]|0;o[h+(n*36|0)+32>>2]=(o[h+(f*36|0)+32>>2]|0)+1;if((r|0)==-1){o[h+(n*36|0)+24>>2]=f;o[h+(n*36|0)+28>>2]=t;o[h+(f*36|0)+20>>2]=n;p=h+(t*36|0)+20|0;o[p>>2]=n;o[e>>2]=n;F=o[p>>2]|0}else{p=h+(r*36|0)+24|0;if((o[p>>2]|0)==(f|0))o[p>>2]=n;else o[h+(r*36|0)+28>>2]=n;o[h+(n*36|0)+24>>2]=f;o[h+(n*36|0)+28>>2]=t;o[h+(f*36|0)+20>>2]=n;o[h+(t*36|0)+20>>2]=n;F=n}if((F|0)==-1)return;else I=F;do{F=Yc(e,I)|0;n=o[i>>2]|0;t=o[n+(F*36|0)+24>>2]|0;h=o[n+(F*36|0)+28>>2]|0;f=o[n+(t*36|0)+32>>2]|0;r=o[n+(h*36|0)+32>>2]|0;o[n+(F*36|0)+32>>2]=((f|0)>(r|0)?f:r)+1;a=+l[n+(t*36|0)>>2];c=+l[n+(h*36|0)>>2];T=+l[n+(t*36|0)+4>>2];u=+l[n+(h*36|0)+4>>2];l[n+(F*36|0)>>2]=a<c?a:c;l[n+(F*36|0)+4>>2]=T<u?T:u;u=+l[n+(t*36|0)+8>>2];T=+l[n+(h*36|0)+8>>2];c=+l[n+(t*36|0)+12>>2];a=+l[n+(h*36|0)+12>>2];l[n+(F*36|0)+8>>2]=u>T?u:T;l[n+(F*36|0)+12>>2]=c>a?c:a;I=o[(o[i>>2]|0)+(F*36|0)+20>>2]|0}while((I|0)!=-1);return}function Hc(e,t){e=e|0;t=t|0;var r=0,i=0;Wc(e,t);r=e+16|0;i=o[e+4>>2]|0;o[i+(t*36|0)+20>>2]=o[r>>2];o[i+(t*36|0)+32>>2]=-1;o[r>>2]=t;t=e+8|0;o[t>>2]=(o[t>>2]|0)+-1;return}function Wc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0;if((o[e>>2]|0)==(t|0)){o[e>>2]=-1;return}r=e+4|0;i=o[r>>2]|0;n=o[i+(t*36|0)+20>>2]|0;s=i+(n*36|0)+20|0;a=o[s>>2]|0;u=o[i+(n*36|0)+24>>2]|0;if((u|0)==(t|0))c=o[i+(n*36|0)+28>>2]|0;else c=u;if((a|0)==-1){o[e>>2]=c;o[i+(c*36|0)+20>>2]=-1;u=e+16|0;o[s>>2]=o[u>>2];o[i+(n*36|0)+32>>2]=-1;o[u>>2]=n;u=e+8|0;o[u>>2]=(o[u>>2]|0)+-1;return}u=i+(a*36|0)+24|0;if((o[u>>2]|0)==(n|0))o[u>>2]=c;else o[i+(a*36|0)+28>>2]=c;o[i+(c*36|0)+20>>2]=a;c=e+16|0;o[s>>2]=o[c>>2];o[i+(n*36|0)+32>>2]=-1;o[c>>2]=n;n=e+8|0;o[n>>2]=(o[n>>2]|0)+-1;n=a;do{a=Yc(e,n)|0;c=o[r>>2]|0;i=o[c+(a*36|0)+24>>2]|0;s=o[c+(a*36|0)+28>>2]|0;h=+l[c+(i*36|0)>>2];f=+l[c+(s*36|0)>>2];d=+l[c+(i*36|0)+4>>2];p=+l[c+(s*36|0)+4>>2];l[c+(a*36|0)>>2]=h<f?h:f;l[c+(a*36|0)+4>>2]=d<p?d:p;p=+l[c+(i*36|0)+8>>2];d=+l[c+(s*36|0)+8>>2];f=+l[c+(i*36|0)+12>>2];h=+l[c+(s*36|0)+12>>2];l[c+(a*36|0)+8>>2]=p>d?p:d;l[c+(a*36|0)+12>>2]=f>h?f:h;c=o[r>>2]|0;u=o[c+(i*36|0)+32>>2]|0;i=o[c+(s*36|0)+32>>2]|0;o[c+(a*36|0)+32>>2]=((u|0)>(i|0)?u:i)+1;n=o[c+(a*36|0)+20>>2]|0}while((n|0)!=-1);return}function Vc(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0;n=e+4|0;s=o[n>>2]|0;if(+l[s+(t*36|0)>>2]<=+l[r>>2]){a=r+4|0;if((+l[s+(t*36|0)+4>>2]<=+l[a>>2]?+l[r+8>>2]<=+l[s+(t*36|0)+8>>2]:0)?+l[r+12>>2]<=+l[s+(t*36|0)+12>>2]:0){u=0;return u|0}else c=a}else c=r+4|0;Wc(e,t);h=+l[r>>2]+-.10000000149011612;f=+l[c>>2]+-.10000000149011612;d=+l[r+8>>2]+.10000000149011612;p=+l[r+12>>2]+.10000000149011612;_=+l[i>>2]*2;m=+l[i+4>>2]*2;i=_<0;r=m<0;c=o[n>>2]|0;l[c+(t*36|0)>>2]=i?h+_:h;l[c+(t*36|0)+4>>2]=r?f+m:f;l[c+(t*36|0)+8>>2]=i?d:d+_;l[c+(t*36|0)+12>>2]=r?p:p+m;Xc(e,t);u=1;return u|0}function Yc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0;r=o[e+4>>2]|0;i=r+(t*36|0)|0;n=r+(t*36|0)+24|0;s=o[n>>2]|0;if((s|0)==-1){a=t;return a|0}u=r+(t*36|0)+32|0;if((o[u>>2]|0)<2){a=t;return a|0}c=r+(t*36|0)+28|0;h=o[c>>2]|0;f=r+(s*36|0)|0;d=r+(h*36|0)|0;p=r+(h*36|0)+32|0;_=r+(s*36|0)+32|0;m=(o[p>>2]|0)-(o[_>>2]|0)|0;if((m|0)>1){b=r+(h*36|0)+24|0;g=o[b>>2]|0;y=r+(h*36|0)+28|0;v=o[y>>2]|0;x=r+(g*36|0)|0;w=r+(v*36|0)|0;o[b>>2]=t;b=r+(t*36|0)+20|0;S=r+(h*36|0)+20|0;o[S>>2]=o[b>>2];o[b>>2]=h;b=o[S>>2]|0;do{if((b|0)!=-1){S=r+(b*36|0)+24|0;if((o[S>>2]|0)==(t|0)){o[S>>2]=h;break}else{o[r+(b*36|0)+28>>2]=h;break}}else o[e>>2]=h}while(0);b=r+(g*36|0)+32|0;S=r+(v*36|0)+32|0;if((o[b>>2]|0)>(o[S>>2]|0)){o[y>>2]=g;o[c>>2]=v;o[r+(v*36|0)+20>>2]=t;E=+l[f>>2];A=+l[w>>2];T=E<A?E:A;A=+l[r+(s*36|0)+4>>2];E=+l[r+(v*36|0)+4>>2];P=A<E?A:E;l[i>>2]=T;l[r+(t*36|0)+4>>2]=P;E=+l[r+(s*36|0)+8>>2];A=+l[r+(v*36|0)+8>>2];C=+l[r+(s*36|0)+12>>2];M=+l[r+(v*36|0)+12>>2];F=r+(t*36|0)+8|0;l[F>>2]=E>A?E:A;I=r+(t*36|0)+12|0;l[I>>2]=C>M?C:M;M=+l[x>>2];C=+l[r+(g*36|0)+4>>2];l[d>>2]=T<M?T:M;l[r+(h*36|0)+4>>2]=P<C?P:C;C=+l[F>>2];P=+l[r+(g*36|0)+8>>2];M=+l[I>>2];T=+l[r+(g*36|0)+12>>2];l[r+(h*36|0)+8>>2]=C>P?C:P;l[r+(h*36|0)+12>>2]=M>T?M:T;I=o[_>>2]|0;F=o[S>>2]|0;O=((I|0)>(F|0)?I:F)+1|0;o[u>>2]=O;F=o[b>>2]|0;D=(O|0)>(F|0)?O:F}else{o[y>>2]=v;o[c>>2]=g;o[r+(g*36|0)+20>>2]=t;T=+l[f>>2];M=+l[x>>2];P=T<M?T:M;M=+l[r+(s*36|0)+4>>2];T=+l[r+(g*36|0)+4>>2];C=M<T?M:T;l[i>>2]=P;l[r+(t*36|0)+4>>2]=C;T=+l[r+(s*36|0)+8>>2];M=+l[r+(g*36|0)+8>>2];A=+l[r+(s*36|0)+12>>2];E=+l[r+(g*36|0)+12>>2];g=r+(t*36|0)+8|0;l[g>>2]=T>M?T:M;x=r+(t*36|0)+12|0;l[x>>2]=A>E?A:E;E=+l[w>>2];A=+l[r+(v*36|0)+4>>2];l[d>>2]=P<E?P:E;l[r+(h*36|0)+4>>2]=C<A?C:A;A=+l[g>>2];C=+l[r+(v*36|0)+8>>2];E=+l[x>>2];P=+l[r+(v*36|0)+12>>2];l[r+(h*36|0)+8>>2]=A>C?A:C;l[r+(h*36|0)+12>>2]=E>P?E:P;v=o[_>>2]|0;x=o[b>>2]|0;b=((v|0)>(x|0)?v:x)+1|0;o[u>>2]=b;x=o[S>>2]|0;D=(b|0)>(x|0)?b:x}o[p>>2]=D+1;a=h;return a|0}if((m|0)>=-1){a=t;return a|0}m=r+(s*36|0)+24|0;D=o[m>>2]|0;x=r+(s*36|0)+28|0;b=o[x>>2]|0;S=r+(D*36|0)|0;v=r+(b*36|0)|0;o[m>>2]=t;m=r+(t*36|0)+20|0;g=r+(s*36|0)+20|0;o[g>>2]=o[m>>2];o[m>>2]=s;m=o[g>>2]|0;do{if((m|0)!=-1){g=r+(m*36|0)+24|0;if((o[g>>2]|0)==(t|0)){o[g>>2]=s;break}else{o[r+(m*36|0)+28>>2]=s;break}}else o[e>>2]=s}while(0);e=r+(D*36|0)+32|0;m=r+(b*36|0)+32|0;if((o[e>>2]|0)>(o[m>>2]|0)){o[x>>2]=D;o[n>>2]=b;o[r+(b*36|0)+20>>2]=t;P=+l[d>>2];E=+l[v>>2];C=P<E?P:E;E=+l[r+(h*36|0)+4>>2];P=+l[r+(b*36|0)+4>>2];A=E<P?E:P;l[i>>2]=C;l[r+(t*36|0)+4>>2]=A;P=+l[r+(h*36|0)+8>>2];E=+l[r+(b*36|0)+8>>2];M=+l[r+(h*36|0)+12>>2];T=+l[r+(b*36|0)+12>>2];g=r+(t*36|0)+8|0;l[g>>2]=P>E?P:E;w=r+(t*36|0)+12|0;l[w>>2]=M>T?M:T;T=+l[S>>2];M=+l[r+(D*36|0)+4>>2];l[f>>2]=C<T?C:T;l[r+(s*36|0)+4>>2]=A<M?A:M;M=+l[g>>2];A=+l[r+(D*36|0)+8>>2];T=+l[w>>2];C=+l[r+(D*36|0)+12>>2];l[r+(s*36|0)+8>>2]=M>A?M:A;l[r+(s*36|0)+12>>2]=T>C?T:C;w=o[p>>2]|0;g=o[m>>2]|0;c=((w|0)>(g|0)?w:g)+1|0;o[u>>2]=c;g=o[e>>2]|0;k=(c|0)>(g|0)?c:g}else{o[x>>2]=b;o[n>>2]=D;o[r+(D*36|0)+20>>2]=t;C=+l[d>>2];T=+l[S>>2];A=C<T?C:T;T=+l[r+(h*36|0)+4>>2];C=+l[r+(D*36|0)+4>>2];M=T<C?T:C;l[i>>2]=A;l[r+(t*36|0)+4>>2]=M;C=+l[r+(h*36|0)+8>>2];T=+l[r+(D*36|0)+8>>2];E=+l[r+(h*36|0)+12>>2];P=+l[r+(D*36|0)+12>>2];D=r+(t*36|0)+8|0;l[D>>2]=C>T?C:T;h=r+(t*36|0)+12|0;l[h>>2]=E>P?E:P;P=+l[v>>2];E=+l[r+(b*36|0)+4>>2];l[f>>2]=A<P?A:P;l[r+(s*36|0)+4>>2]=M<E?M:E;E=+l[D>>2];M=+l[r+(b*36|0)+8>>2];P=+l[h>>2];A=+l[r+(b*36|0)+12>>2];l[r+(s*36|0)+8>>2]=E>M?E:M;l[r+(s*36|0)+12>>2]=P>A?P:A;r=o[p>>2]|0;p=o[e>>2]|0;e=((r|0)>(p|0)?r:p)+1|0;o[u>>2]=e;u=o[m>>2]|0;k=(e|0)>(u|0)?e:u}o[_>>2]=k+1;a=s;return a|0}function qc(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;var a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0;a=e+60|0;o[a>>2]=0;u=n+12|0;c=+l[s+12>>2];h=+l[u>>2];f=+l[s+8>>2];p=+l[n+16>>2];_=+l[s>>2]+(c*h-f*p)-+l[r>>2];m=h*f+c*p+ +l[s+4>>2]-+l[r+4>>2];p=+l[r+12>>2];c=+l[r+8>>2];f=_*p+m*c;h=p*m-_*c;r=o[t+12>>2]|0;s=o[t+16>>2]|0;b=o[t+20>>2]|0;g=o[t+24>>2]|0;c=(o[d>>2]=b,+l[d>>2]);_=(o[d>>2]=r,+l[d>>2]);m=c-_;p=(o[d>>2]=g,+l[d>>2]);y=(o[d>>2]=s,+l[d>>2]);v=p-y;x=m*(c-f)+v*(p-h);w=f-_;S=h-y;E=w*m+S*v;A=+l[t+8>>2]+ +l[n+8>>2];if(E<=0){if(w*w+S*S>A*A)return;if((i[t+44>>0]|0)!=0?(_-f)*(_-+l[t+28>>2])+(y-h)*(y-+l[t+32>>2])>0:0)return;o[a>>2]=1;o[e+56>>2]=0;l[e+40>>2]=0;l[e+44>>2]=0;o[e+48>>2]=r;o[e+52>>2]=s;n=e+16|0;o[n>>2]=0;i[n>>0]=0;i[n+1>>0]=0;i[n+2>>0]=0;i[n+3>>0]=0;n=u;T=o[n+4>>2]|0;P=e;o[P>>2]=o[n>>2];o[P+4>>2]=T;return}if(!(x<=0)){C=1/(m*m+v*v);M=f-(_*x+c*E)*C;_=h-(y*x+p*E)*C;if(M*M+_*_>A*A)return;_=-v;T=S*m+w*_<0;w=T?-m:m;m=T?v:_;_=+J(+(m*m+w*w));if(_<1.1920928955078125E-7){F=w;I=m}else{v=1/_;F=w*v;I=m*v}o[a>>2]=1;o[e+56>>2]=1;l[e+40>>2]=I;l[e+44>>2]=F;o[e+48>>2]=r;o[e+52>>2]=s;s=e+16|0;o[s>>2]=0;i[s>>0]=0;i[s+1>>0]=0;i[s+2>>0]=1;i[s+3>>0]=0;s=u;r=o[s+4>>2]|0;T=e;o[T>>2]=o[s>>2];o[T+4>>2]=r;return}F=f-c;f=h-p;if(F*F+f*f>A*A)return;if((i[t+45>>0]|0)!=0?F*(+l[t+36>>2]-c)+f*(+l[t+40>>2]-p)>0:0)return;o[a>>2]=1;o[e+56>>2]=0;l[e+40>>2]=0;l[e+44>>2]=0;o[e+48>>2]=b;o[e+52>>2]=g;g=e+16|0;o[g>>2]=0;i[g>>0]=1;i[g+1>>0]=0;i[g+2>>0]=0;i[g+3>>0]=0;g=u;u=o[g+4>>2]|0;b=e;o[b>>2]=o[g>>2];o[b+4>>2]=u;return}function Kc(e,t,r,n,s,a){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;a=a|0;var u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0;u=h;h=h+144|0;c=u+128|0;f=u+24|0;p=u+72|0;_=u+48|0;m=u;b=+l[n+12>>2];g=+l[a+8>>2];y=+l[n+8>>2];v=+l[a+12>>2];x=b*g-y*v;w=g*y+b*v;v=+l[a>>2]-+l[n>>2];g=+l[a+4>>2]-+l[n+4>>2];S=b*v+y*g;E=b*g-y*v;n=e+132|0;l[n>>2]=S;a=e+136|0;l[a>>2]=E;A=e+140|0;l[A>>2]=x;T=e+144|0;l[T>>2]=w;v=+l[s+12>>2];y=+l[s+16>>2];g=S+(w*v-x*y);S=v*x+w*y+E;l[e+148>>2]=g;l[e+152>>2]=S;P=r+28|0;C=o[P>>2]|0;M=o[P+4>>2]|0;P=e+156|0;o[P>>2]=C;o[P+4>>2]=M;P=e+164|0;F=r+12|0;I=o[F>>2]|0;O=o[F+4>>2]|0;F=P;o[F>>2]=I;o[F+4>>2]=O;F=e+172|0;D=r+20|0;k=o[D>>2]|0;R=o[D+4>>2]|0;D=F;o[D>>2]=k;o[D+4>>2]=R;D=r+36|0;B=o[D>>2]|0;N=o[D+4>>2]|0;D=e+180|0;o[D>>2]=B;o[D+4>>2]=N;D=(i[r+44>>0]|0)!=0;L=(i[r+45>>0]|0)==0;E=(o[d>>2]=k,+l[d>>2]);y=(o[d>>2]=I,+l[d>>2]);w=E-y;x=(o[d>>2]=R,+l[d>>2]);R=e+168|0;v=(o[d>>2]=O,+l[d>>2]);b=x-v;G=+J(+(w*w+b*b));U=(o[d>>2]=C,+l[d>>2]);z=(o[d>>2]=M,+l[d>>2]);j=(o[d>>2]=B,+l[d>>2]);X=(o[d>>2]=N,+l[d>>2]);if(G<1.1920928955078125E-7){H=w;W=b}else{V=1/G;H=w*V;W=b*V}N=e+196|0;V=-H;l[N>>2]=W;B=e+200|0;l[B>>2]=V;b=(g-y)*W+(S-v)*V;if(D){V=y-U;y=v-z;v=+J(+(V*V+y*y));if(v<1.1920928955078125E-7){Y=V;q=y}else{w=1/v;Y=V*w;q=y*w}w=-Y;l[e+188>>2]=q;l[e+192>>2]=w;K=W*Y-H*q>=0;Z=(g-U)*q+(S-z)*w}else{K=0;Z=0}do{if(L){if(!D){M=b>=0;i[e+248>>0]=M&1;C=e+212|0;if(M){M=N;O=o[M>>2]|0;I=o[M+4>>2]|0;M=C;o[M>>2]=O;o[M+4>>2]=I;w=-(o[d>>2]=O,+l[d>>2]);l[e+228>>2]=w;l[e+232>>2]=H;l[e+236>>2]=w;l[e+240>>2]=H;break}else{l[C>>2]=-W;l[e+216>>2]=H;C=N;O=o[C>>2]|0;I=o[C+4>>2]|0;C=e+228|0;o[C>>2]=O;o[C+4>>2]=I;C=e+236|0;o[C>>2]=O;o[C+4>>2]=I;break}}I=Z>=0;C=b>=0;if(K){O=C|I;i[e+248>>0]=O&1;M=e+212|0;if(O){O=N;k=o[O>>2]|0;r=o[O+4>>2]|0;O=M;o[O>>2]=k;o[O+4>>2]=r;r=e+188|0;O=o[r+4>>2]|0;Q=e+228|0;o[Q>>2]=o[r>>2];o[Q+4>>2]=O;l[e+236>>2]=-(o[d>>2]=k,+l[d>>2]);l[e+240>>2]=H;break}else{l[M>>2]=-W;l[e+216>>2]=H;M=N;k=o[M>>2]|0;O=o[M+4>>2]|0;M=e+228|0;o[M>>2]=k;o[M+4>>2]=O;l[e+236>>2]=-(o[d>>2]=k,+l[d>>2]);l[e+240>>2]=H;break}}else{k=C&I;i[e+248>>0]=k&1;I=e+212|0;if(k){k=N;C=o[k>>2]|0;O=o[k+4>>2]|0;k=I;o[k>>2]=C;o[k+4>>2]=O;k=e+228|0;o[k>>2]=C;o[k+4>>2]=O;l[e+236>>2]=-(o[d>>2]=C,+l[d>>2]);l[e+240>>2]=H;break}else{l[I>>2]=-W;l[e+216>>2]=H;I=N;C=o[I+4>>2]|0;O=e+228|0;o[O>>2]=o[I>>2];o[O+4>>2]=C;w=-+l[e+192>>2];l[e+236>>2]=-+l[e+188>>2];l[e+240>>2]=w;break}}}else{w=j-E;z=X-x;q=+J(+(w*w+z*z));if(q<1.1920928955078125E-7){$=w;ee=z}else{U=1/q;$=w*U;ee=z*U}U=-$;l[e+204>>2]=ee;l[e+208>>2]=U;C=H*ee-W*$>0;z=(g-E)*ee+(S-x)*U;if(!D){O=b>=0;I=z>=0;if(C){k=O|I;i[e+248>>0]=k&1;M=e+212|0;if(k){k=N;Q=o[k>>2]|0;r=o[k+4>>2]|0;k=M;o[k>>2]=Q;o[k+4>>2]=r;l[e+228>>2]=-(o[d>>2]=Q,+l[d>>2]);l[e+232>>2]=H;Q=e+204|0;r=o[Q+4>>2]|0;k=e+236|0;o[k>>2]=o[Q>>2];o[k+4>>2]=r;break}else{U=-W;l[M>>2]=U;l[e+216>>2]=H;l[e+228>>2]=U;l[e+232>>2]=H;M=N;r=o[M+4>>2]|0;k=e+236|0;o[k>>2]=o[M>>2];o[k+4>>2]=r;break}}else{r=O&I;i[e+248>>0]=r&1;I=e+212|0;if(r){r=N;O=o[r>>2]|0;k=o[r+4>>2]|0;r=I;o[r>>2]=O;o[r+4>>2]=k;l[e+228>>2]=-(o[d>>2]=O,+l[d>>2]);l[e+232>>2]=H;r=e+236|0;o[r>>2]=O;o[r+4>>2]=k;break}else{l[I>>2]=-W;l[e+216>>2]=H;U=-+l[e+208>>2];l[e+228>>2]=-+l[e+204>>2];l[e+232>>2]=U;I=N;k=o[I+4>>2]|0;r=e+236|0;o[r>>2]=o[I>>2];o[r+4>>2]=k;break}}}if(K&C){k=b>=0|Z>=0|z>=0;i[e+248>>0]=k&1;r=e+212|0;if(k){k=N;I=o[k+4>>2]|0;O=r;o[O>>2]=o[k>>2];o[O+4>>2]=I;I=e+188|0;O=o[I+4>>2]|0;k=e+228|0;o[k>>2]=o[I>>2];o[k+4>>2]=O;O=e+204|0;k=o[O+4>>2]|0;I=e+236|0;o[I>>2]=o[O>>2];o[I+4>>2]=k;break}else{U=-W;l[r>>2]=U;l[e+216>>2]=H;l[e+228>>2]=U;l[e+232>>2]=H;l[e+236>>2]=U;l[e+240>>2]=H;break}}if(K){if(!(Z>=0)){r=b>=0&z>=0;i[e+248>>0]=r&1;k=e+212|0;if(r)te=k;else{U=-W;l[k>>2]=U;l[e+216>>2]=H;l[e+228>>2]=-ee;l[e+232>>2]=$;l[e+236>>2]=U;l[e+240>>2]=H;break}}else{i[e+248>>0]=1;te=e+212|0}k=N;r=o[k+4>>2]|0;I=te;o[I>>2]=o[k>>2];o[I+4>>2]=r;r=e+188|0;I=o[r+4>>2]|0;k=e+228|0;o[k>>2]=o[r>>2];o[k+4>>2]=I;I=N;k=o[I+4>>2]|0;r=e+236|0;o[r>>2]=o[I>>2];o[r+4>>2]=k;break}if(!C){C=b>=0&Z>=0&z>=0;i[e+248>>0]=C&1;k=e+212|0;if(C){C=N;r=o[C>>2]|0;I=o[C+4>>2]|0;C=k;o[C>>2]=r;o[C+4>>2]=I;C=e+228|0;o[C>>2]=r;o[C+4>>2]=I;C=e+236|0;o[C>>2]=r;o[C+4>>2]=I;break}else{l[k>>2]=-W;l[e+216>>2]=H;l[e+228>>2]=-ee;l[e+232>>2]=$;U=-+l[e+192>>2];l[e+236>>2]=-+l[e+188>>2];l[e+240>>2]=U;break}}if(!(z>=0)){k=b>=0&Z>=0;i[e+248>>0]=k&1;I=e+212|0;if(k)re=I;else{z=-W;l[I>>2]=z;l[e+216>>2]=H;l[e+228>>2]=z;l[e+232>>2]=H;z=-+l[e+192>>2];l[e+236>>2]=-+l[e+188>>2];l[e+240>>2]=z;break}}else{i[e+248>>0]=1;re=e+212|0}I=N;k=o[I+4>>2]|0;C=re;o[C>>2]=o[I>>2];o[C+4>>2]=k;k=N;C=o[k+4>>2]|0;I=e+228|0;o[I>>2]=o[k>>2];o[I+4>>2]=C;C=e+204|0;I=o[C+4>>2]|0;k=e+236|0;o[k>>2]=o[C>>2];o[k+4>>2]=I}}while(0);re=s+148|0;te=o[re>>2]|0;K=e+128|0;o[K>>2]=te;if((te|0)>0){D=0;do{H=+l[T>>2];W=+l[s+20+(D<<3)>>2];Z=+l[A>>2];b=+l[s+20+(D<<3)+4>>2];$=W*Z+H*b+ +l[a>>2];l[e+(D<<3)>>2]=+l[n>>2]+(H*W-Z*b);l[e+(D<<3)+4>>2]=$;$=+l[T>>2];b=+l[s+84+(D<<3)>>2];Z=+l[A>>2];W=+l[s+84+(D<<3)+4>>2];l[e+64+(D<<3)>>2]=$*b-Z*W;l[e+64+(D<<3)+4>>2]=b*Z+$*W;D=D+1|0}while((D|0)<(o[re>>2]|0));ie=o[K>>2]|0}else ie=te;te=e+244|0;l[te>>2]=.019999999552965164;re=t+60|0;o[re>>2]=0;D=e+248|0;if((ie|0)<=0){h=u;return}W=+l[e+164>>2];$=+l[R>>2];Z=+l[e+212>>2];b=+l[e+216>>2];H=3.4028234663852886E38;R=0;while(1){ee=Z*(+l[e+(R<<3)>>2]-W)+b*(+l[e+(R<<3)+4>>2]-$);x=ee<H?ee:H;R=R+1|0;if((R|0)==(ie|0)){ne=x;break}else H=x}if(ne>.019999999552965164){h=u;return}Zc(c,e);ie=o[c>>2]|0;if(ie){H=+l[c+8>>2];if(H>+l[te>>2]){h=u;return}if(H>ne*.9800000190734863+.0010000000474974513){R=o[c+4>>2]|0;c=t+56|0;if((ie|0)==1){oe=p;se=f;ae=c;ue=60}else{o[c>>2]=2;c=P;ie=o[c+4>>2]|0;L=f;o[L>>2]=o[c>>2];o[L+4>>2]=ie;ie=f+8|0;i[ie>>0]=0;L=R&255;i[ie+1>>0]=L;i[ie+2>>0]=0;i[ie+3>>0]=1;ie=F;c=o[ie+4>>2]|0;I=f+12|0;o[I>>2]=o[ie>>2];o[I+4>>2]=c;c=f+20|0;i[c>>0]=0;i[c+1>>0]=L;i[c+2>>0]=0;i[c+3>>0]=1;o[p>>2]=R;c=R+1|0;L=(c|0)<(o[K>>2]|0)?c:0;o[p+4>>2]=L;c=p+8|0;I=e+(R<<3)|0;ie=o[I>>2]|0;k=o[I+4>>2]|0;I=c;o[I>>2]=ie;o[I+4>>2]=k;I=e+(L<<3)|0;L=o[I>>2]|0;C=o[I+4>>2]|0;I=p+16|0;o[I>>2]=L;o[I+4>>2]=C;I=p+24|0;r=e+64+(R<<3)|0;O=o[r>>2]|0;M=o[r+4>>2]|0;r=I;o[r>>2]=O;o[r+4>>2]=M;le=C;ce=L;he=k;fe=ie;de=c;pe=p;_e=I;me=0;be=p;ge=(o[d>>2]=O,+l[d>>2]);ye=M;ve=f;xe=R}}else ue=58}else ue=58;if((ue|0)==58){oe=p;se=f;ae=t+56|0;ue=60}do{if((ue|0)==60){o[ae>>2]=1;R=o[K>>2]|0;if((R|0)>1){ne=+l[e+212>>2];H=+l[e+216>>2];M=0;$=ne*+l[e+64>>2]+H*+l[e+68>>2];O=1;while(1){b=ne*+l[e+64+(O<<3)>>2]+H*+l[e+64+(O<<3)+4>>2];I=b<$;c=I?O:M;O=O+1|0;if((O|0)>=(R|0)){we=c;break}else{M=c;$=I?b:$}}}else we=0;M=we+1|0;O=(M|0)<(R|0)?M:0;M=e+(we<<3)|0;I=o[M+4>>2]|0;c=f;o[c>>2]=o[M>>2];o[c+4>>2]=I;I=f+8|0;i[I>>0]=0;i[I+1>>0]=we;i[I+2>>0]=1;i[I+3>>0]=0;I=e+(O<<3)|0;c=o[I+4>>2]|0;M=f+12|0;o[M>>2]=o[I>>2];o[M+4>>2]=c;c=f+20|0;i[c>>0]=0;i[c+1>>0]=O;i[c+2>>0]=1;i[c+3>>0]=0;if(!(i[D>>0]|0)){o[p>>2]=1;o[p+4>>2]=0;c=p+8|0;O=F;M=o[O>>2]|0;I=o[O+4>>2]|0;O=c;o[O>>2]=M;o[O+4>>2]=I;O=P;ie=o[O>>2]|0;k=o[O+4>>2]|0;O=p+16|0;o[O>>2]=ie;o[O+4>>2]=k;$=-+l[N>>2];H=-+l[B>>2];l[p+24>>2]=$;l[p+28>>2]=H;le=k;ce=ie;he=I;fe=M;de=c;pe=p;_e=p+24|0;me=1;be=oe;ge=$;ye=(l[d>>2]=H,o[d>>2]|0);ve=se;xe=1;break}else{o[p>>2]=0;o[p+4>>2]=1;c=p+8|0;M=P;I=o[M>>2]|0;ie=o[M+4>>2]|0;M=c;o[M>>2]=I;o[M+4>>2]=ie;M=F;k=o[M>>2]|0;O=o[M+4>>2]|0;M=p+16|0;o[M>>2]=k;o[M+4>>2]=O;M=p+24|0;L=N;C=o[L>>2]|0;r=o[L+4>>2]|0;L=M;o[L>>2]=C;o[L+4>>2]=r;le=O;ce=k;he=ie;fe=I;de=c;pe=p;_e=M;me=1;be=oe;ge=(o[d>>2]=C,+l[d>>2]);ye=r;ve=se;xe=0;break}}}while(0);H=(o[d>>2]=fe,+l[d>>2]);$=(o[d>>2]=he,+l[d>>2]);ne=(o[d>>2]=ce,+l[d>>2]);b=(o[d>>2]=le,+l[d>>2]);le=p+32|0;ce=p+28|0;he=p+24|0;W=-ge;o[le>>2]=ye;l[p+36>>2]=W;fe=p+44|0;Z=(o[d>>2]=ye,+l[d>>2]);x=-Z;l[fe>>2]=x;l[p+48>>2]=ge;ye=p+8|0;se=p+12|0;ee=Z*H+$*W;l[p+40>>2]=ee;oe=p+52|0;l[oe>>2]=ne*x+ge*b;if((rh(_,ve,le,ee,xe)|0)>=2?(rh(m,_,fe,+l[oe>>2],o[p+4>>2]|0)|0)>=2:0){p=t+40|0;if(me){me=_e;_e=o[me>>2]|0;oe=o[me+4>>2]|0;me=p;o[me>>2]=_e;o[me+4>>2]=oe;oe=de;de=o[oe>>2]|0;me=o[oe+4>>2]|0;oe=t+48|0;o[oe>>2]=de;o[oe+4>>2]=me;ee=(o[d>>2]=de,+l[d>>2]);b=(o[d>>2]=_e,+l[d>>2]);ge=+l[se>>2];x=+l[ce>>2];ne=+l[m>>2];W=+l[m+4>>2];$=+l[te>>2];if(!((ne-ee)*b+(W-ge)*x<=$)){Se=$;Ee=0}else{$=ne-+l[n>>2];ne=W-+l[a>>2];W=+l[T>>2];H=+l[A>>2];l[t>>2]=$*W+ne*H;l[t+4>>2]=W*ne-$*H;o[t+16>>2]=o[m+8>>2];Se=+l[te>>2];Ee=1}H=+l[m+12>>2];$=+l[m+16>>2];if(!((H-ee)*b+($-ge)*x<=Se))Ae=Ee;else{Se=H-+l[n>>2];H=$-+l[a>>2];$=+l[T>>2];x=+l[A>>2];l[t+(Ee*20|0)>>2]=Se*$+H*x;l[t+(Ee*20|0)+4>>2]=$*H-Se*x;o[t+(Ee*20|0)+16>>2]=o[m+20>>2];Ae=Ee+1|0}}else{Ee=o[pe>>2]|0;pe=s+84+(Ee<<3)|0;A=o[pe+4>>2]|0;T=p;o[T>>2]=o[pe>>2];o[T+4>>2]=A;A=s+20+(Ee<<3)|0;Ee=o[A+4>>2]|0;s=t+48|0;o[s>>2]=o[A>>2];o[s+4>>2]=Ee;x=+l[ye>>2];Se=+l[he>>2];H=+l[se>>2];$=+l[ce>>2];ge=+l[te>>2];if(!((+l[m>>2]-x)*Se+(+l[m+4>>2]-H)*$<=ge)){Te=ge;Pe=0}else{ce=m;se=o[ce+4>>2]|0;he=t;o[he>>2]=o[ce>>2];o[he+4>>2]=se;se=m+8|0;he=t+16|0;i[he+2>>0]=i[se+3>>0]|0;i[he+3>>0]=i[se+2>>0]|0;i[he>>0]=i[se+1>>0]|0;i[he+1>>0]=i[se>>0]|0;Te=+l[te>>2];Pe=1}te=m+12|0;if(!((+l[te>>2]-x)*Se+(+l[m+16>>2]-H)*$<=Te))Ae=Pe;else{se=te;te=o[se+4>>2]|0;he=t+(Pe*20|0)|0;o[he>>2]=o[se>>2];o[he+4>>2]=te;te=m+20|0;m=t+(Pe*20|0)+16|0;i[m+2>>0]=i[te+3>>0]|0;i[m+3>>0]=i[te+2>>0]|0;i[m>>0]=i[te+1>>0]|0;i[m+1>>0]=i[te>>0]|0;Ae=Pe+1|0}}o[re>>2]=Ae}h=u;return}function Zc(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0;o[e>>2]=0;r=e+4|0;o[r>>2]=-1;i=e+8|0;l[i>>2]=-3.4028234663852886E38;n=+l[t+216>>2];s=+l[t+212>>2];a=o[t+128>>2]|0;if((a|0)<=0)return;u=+l[t+164>>2];c=+l[t+168>>2];h=+l[t+172>>2];f=+l[t+176>>2];d=+l[t+244>>2];p=t+228|0;_=t+232|0;m=t+236|0;b=t+240|0;g=-3.4028234663852886E38;y=0;while(1){v=+l[t+64+(y<<3)>>2];x=-v;w=-+l[t+64+(y<<3)+4>>2];S=+l[t+(y<<3)>>2];E=+l[t+(y<<3)+4>>2];A=(S-u)*x+(E-c)*w;T=(S-h)*x+(E-f)*w;E=A<T?A:T;if(E>d){P=E;C=y;break}if(!(n*v+s*w>=0))if(E>g?!((x-+l[p>>2])*s+(w-+l[_>>2])*n<-.03490658849477768):0)M=8;else F=g;else if(E>g?!((x-+l[m>>2])*s+(w-+l[b>>2])*n<-.03490658849477768):0)M=8;else F=g;if((M|0)==8){M=0;o[e>>2]=2;o[r>>2]=y;l[i>>2]=E;F=E}y=y+1|0;if((y|0)>=(a|0)){M=10;break}else g=F}if((M|0)==10)return;o[e>>2]=2;o[r>>2]=C;l[i>>2]=P;return}function Qc(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var o=0;o=h;h=h+256|0;Kc(o,e,t,r,i,n);h=o;return}function $c(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;var a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0;a=h;h=h+96|0;u=a+92|0;c=a+88|0;f=a+64|0;d=a+56|0;p=a+32|0;_=a+8|0;m=a;b=e+60|0;o[b>>2]=0;g=+l[t+8>>2]+ +l[n+8>>2];o[u>>2]=0;y=+eh(u,t,r,n,s);if(y>g){h=a;return}o[c>>2]=0;v=+eh(c,n,s,t,r);if(v>g){h=a;return}x=+l[s>>2];w=+l[s+4>>2];S=+l[s+8>>2];E=+l[s+12>>2];A=+l[r>>2];T=+l[r+4>>2];P=+l[r+8>>2];C=+l[r+12>>2];if(v>y+5.000000237487257E-4){M=2;F=x;I=w;O=E;D=S;k=C;R=P;B=A;N=T;L=c;G=1;U=n;z=t}else{M=1;F=A;I=T;O=C;D=P;k=E;R=S;B=x;N=w;L=u;G=0;U=t;z=n}n=o[L>>2]|0;o[e+56>>2]=M;M=o[z+148>>2]|0;w=+l[U+84+(n<<3)>>2];x=+l[U+84+(n<<3)+4>>2];S=O*w-D*x;E=D*w+O*x;x=k*S+R*E;w=k*E-R*S;if((M|0)>0){L=0;t=0;S=3.4028234663852886E38;while(1){E=x*+l[z+84+(L<<3)>>2]+w*+l[z+84+(L<<3)+4>>2];u=E<S;c=u?L:t;L=L+1|0;if((L|0)==(M|0)){j=c;break}else{t=c;S=u?E:S}}}else j=0;t=j+1|0;L=(t|0)<(M|0)?t:0;S=+l[z+20+(j<<3)>>2];w=+l[z+20+(j<<3)+4>>2];l[f>>2]=B+(k*S-R*w);l[f+4>>2]=N+(R*S+k*w);t=n&255;M=f+8|0;i[M>>0]=t;i[M+1>>0]=j;i[M+2>>0]=1;i[M+3>>0]=0;w=+l[z+20+(L<<3)>>2];S=+l[z+20+(L<<3)+4>>2];l[f+12>>2]=B+(k*w-R*S);l[f+16>>2]=N+(R*w+k*S);z=f+20|0;i[z>>0]=t;i[z+1>>0]=L;i[z+2>>0]=1;i[z+3>>0]=0;z=n+1|0;L=(z|0)<(o[U+148>>2]|0)?z:0;S=+l[U+20+(n<<3)>>2];w=+l[U+20+(n<<3)+4>>2];x=+l[U+20+(L<<3)>>2];E=+l[U+20+(L<<3)+4>>2];P=x-S;C=E-w;T=+J(+(P*P+C*C));if(T<1.1920928955078125E-7){X=P;H=C}else{A=1/T;X=P*A;H=C*A}A=O*X-D*H;C=O*H+D*X;l[d>>2]=A;l[d+4>>2]=C;P=-A;T=F+(O*S-D*w);y=I+(D*S+O*w);v=y*P+T*C;l[m>>2]=P;l[m+4>>2]=-C;if((rh(p,f,m,g-(T*A+y*C),n)|0)<2){h=a;return}if((rh(_,p,d,g+((F+(O*x-D*E))*A+(I+(D*x+O*E))*C),L)|0)<2){h=a;return}l[e+40>>2]=H;l[e+44>>2]=-X;l[e+48>>2]=(S+x)*.5;l[e+52>>2]=(w+E)*.5;E=+l[_>>2];w=+l[_+4>>2];L=!(C*E+w*P-v<=g);if(!(G<<24>>24)){if(L)W=0;else{x=E-B;S=w-N;l[e>>2]=k*x+R*S;l[e+4>>2]=k*S-R*x;o[e+16>>2]=o[_+8>>2];W=1}x=+l[_+12>>2];S=+l[_+16>>2];if(!(C*x+S*P-v<=g))V=W;else{X=x-B;x=S-N;l[e+(W*20|0)>>2]=k*X+R*x;l[e+(W*20|0)+4>>2]=k*x-R*X;o[e+(W*20|0)+16>>2]=o[_+20>>2];V=W+1|0}}else{if(L)Y=0;else{X=E-B;E=w-N;l[e>>2]=k*X+R*E;l[e+4>>2]=k*E-R*X;L=e+16|0;W=o[_+8>>2]|0;o[L>>2]=W;i[L>>0]=W>>>8;i[L+1>>0]=W;i[L+2>>0]=W>>>24;i[L+3>>0]=W>>>16;Y=1}X=+l[_+12>>2];E=+l[_+16>>2];if(!(C*X+E*P-v<=g))V=Y;else{g=X-B;B=E-N;l[e+(Y*20|0)>>2]=k*g+R*B;l[e+(Y*20|0)+4>>2]=k*B-R*g;W=e+(Y*20|0)+16|0;e=o[_+20>>2]|0;o[W>>2]=e;i[W>>0]=e>>>8;i[W+1>>0]=e;i[W+2>>0]=e>>>24;i[W+3>>0]=e>>>16;V=Y+1|0}}o[b>>2]=V;h=a;return}function eh(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0;s=o[t+148>>2]|0;a=o[i+148>>2]|0;u=+l[n+12>>2];c=+l[r+8>>2];h=+l[n+8>>2];f=+l[r+12>>2];d=u*c-h*f;p=c*h+u*f;f=+l[r>>2]-+l[n>>2];c=+l[r+4>>2]-+l[n+4>>2];_=u*f+h*c;m=u*c-h*f;if((s|0)<=0){b=0;g=-3.4028234663852886E38;o[e>>2]=b;return+g}if((a|0)>0){y=0;v=0;x=-3.4028234663852886E38}else{n=0;r=0;f=-3.4028234663852886E38;while(1){w=f<3.4028234663852886E38;h=w?3.4028234663852886E38:f;S=w?r:n;r=r+1|0;if((r|0)==(s|0)){b=S;g=h;break}else{n=S;f=h}}o[e>>2]=b;return+g}while(1){f=+l[t+84+(v<<3)>>2];h=+l[t+84+(v<<3)+4>>2];c=p*f-d*h;u=d*f+p*h;h=+l[t+20+(v<<3)>>2];f=+l[t+20+(v<<3)+4>>2];E=_+(p*h-d*f);A=m+(d*h+p*f);n=0;f=3.4028234663852886E38;while(1){h=c*(+l[i+20+(n<<3)>>2]-E)+u*(+l[i+20+(n<<3)+4>>2]-A);T=h<f?h:f;n=n+1|0;if((n|0)==(a|0)){P=T;break}else f=T}n=P>x;f=n?P:x;r=n?v:y;v=v+1|0;if((v|0)==(s|0)){b=r;g=f;break}else{y=r;x=f}}o[e>>2]=b;return+g}function th(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=+i;n=n|0;s=+s;var a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0;a=t+60|0;if(!(o[a>>2]|0))return;switch(o[t+56>>2]|0){case 0:{l[e>>2]=1;u=e+4|0;l[u>>2]=0;c=+l[r+12>>2];h=+l[t+48>>2];f=+l[r+8>>2];d=+l[t+52>>2];p=+l[r>>2]+(c*h-f*d);_=h*f+c*d+ +l[r+4>>2];d=+l[n+12>>2];c=+l[t>>2];f=+l[n+8>>2];h=+l[t+4>>2];m=+l[n>>2]+(d*c-f*h);b=c*f+d*h+ +l[n+4>>2];h=p-m;d=_-b;if(h*h+d*d>1.4210854715202004E-14){d=m-p;h=b-_;l[e>>2]=d;l[u>>2]=h;f=+J(+(h*h+d*d));if(f<1.1920928955078125E-7){g=d;y=h}else{c=1/f;f=d*c;l[e>>2]=f;d=h*c;l[u>>2]=d;g=f;y=d}}else{g=1;y=0}d=p+g*i;p=_+y*i;_=m-g*s;m=b-y*s;l[e+8>>2]=(d+_)*.5;l[e+12>>2]=(p+m)*.5;l[e+24>>2]=g*(_-d)+y*(m-p);return}case 1:{u=r+12|0;p=+l[u>>2];m=+l[t+40>>2];v=r+8|0;y=+l[v>>2];d=+l[t+44>>2];_=p*m-y*d;g=m*y+p*d;l[e>>2]=_;x=e+4|0;l[x>>2]=g;d=+l[u>>2];p=+l[t+48>>2];y=+l[v>>2];m=+l[t+52>>2];b=+l[r>>2]+(d*p-y*m);f=p*y+d*m+ +l[r+4>>2];if((o[a>>2]|0)<=0)return;v=n+12|0;u=n+8|0;w=n+4|0;m=_;_=g;S=0;while(1){g=+l[v>>2];d=+l[t+(S*20|0)>>2];y=+l[u>>2];p=+l[t+(S*20|0)+4>>2];c=+l[n>>2]+(g*d-y*p);h=d*y+g*p+ +l[w>>2];p=i-(m*(c-b)+(h-f)*_);g=c+m*p;y=h+_*p;p=c-m*s;c=h-_*s;l[e+8+(S<<3)>>2]=(p+g)*.5;l[e+8+(S<<3)+4>>2]=(c+y)*.5;l[e+24+(S<<2)>>2]=+l[e>>2]*(p-g)+ +l[x>>2]*(c-y);E=S+1|0;if((E|0)>=(o[a>>2]|0))break;m=+l[e>>2];_=+l[x>>2];S=E}return}case 2:{S=n+12|0;_=+l[S>>2];m=+l[t+40>>2];x=n+8|0;f=+l[x>>2];b=+l[t+44>>2];y=_*m-f*b;c=m*f+_*b;l[e>>2]=y;w=e+4|0;l[w>>2]=c;b=+l[S>>2];_=+l[t+48>>2];f=+l[x>>2];m=+l[t+52>>2];g=+l[n>>2]+(b*_-f*m);p=_*f+b*m+ +l[n+4>>2];if((o[a>>2]|0)>0){n=r+12|0;x=r+8|0;S=r+4|0;m=y;b=c;u=0;while(1){f=+l[n>>2];_=+l[t+(u*20|0)>>2];h=+l[x>>2];d=+l[t+(u*20|0)+4>>2];A=+l[r>>2]+(f*_-h*d);T=_*h+f*d+ +l[S>>2];d=s-(m*(A-g)+(T-p)*b);f=A+m*d;h=T+b*d;d=A-m*i;A=T-b*i;l[e+8+(u<<3)>>2]=(d+f)*.5;l[e+8+(u<<3)+4>>2]=(A+h)*.5;l[e+24+(u<<2)>>2]=+l[e>>2]*(d-f)+ +l[w>>2]*(A-h);u=u+1|0;h=+l[e>>2];A=+l[w>>2];if((u|0)>=(o[a>>2]|0)){P=h;C=A;break}else{m=h;b=A}}}else{P=y;C=c}l[e>>2]=-P;l[w>>2]=-C;return}default:return}}function rh(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=+n;s=s|0;var a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0;a=+l[r>>2];u=+l[r+4>>2];r=t+4|0;c=a*+l[t>>2]+u*+l[r>>2]-n;h=t+12|0;f=t+16|0;d=a*+l[h>>2]+u*+l[f>>2]-n;if(!(c<=0))p=0;else{o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];p=1}if(!(d<=0))_=p;else{m=e+(p*12|0)|0;o[m>>2]=o[h>>2];o[m+4>>2]=o[h+4>>2];o[m+8>>2]=o[h+8>>2];_=p+1|0}if(!(c*d<0)){b=_;return b|0}n=c/(c-d);d=+l[t>>2];c=+l[r>>2];u=c+n*(+l[f>>2]-c);l[e+(_*12|0)>>2]=d+n*(+l[h>>2]-d);l[e+(_*12|0)+4>>2]=u;h=e+(_*12|0)+8|0;i[h>>0]=s;i[h+1>>0]=i[t+8+1>>0]|0;i[h+2>>0]=0;i[h+3>>0]=1;b=_+1|0;return b|0}function ih(e,t,r,s,a,u){e=e|0;t=t|0;r=r|0;s=s|0;a=a|0;u=u|0;var c=0,f=0,d=0,p=0;c=h;h=h+128|0;f=c+36|0;d=c+24|0;p=c;o[f+16>>2]=0;o[f+20>>2]=0;l[f+24>>2]=0;o[f+44>>2]=0;o[f+48>>2]=0;l[f+52>>2]=0;Xl(f,e,t);Xl(f+28|0,r,s);s=f+56|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];a=f+72|0;o[a>>2]=o[u>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];i[f+88>>0]=1;n[d+4>>1]=0;Wl(p,d,f);h=c;return+l[p+16>>2]<1.1920928955078125E-6|0}function nh(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0;a=e+40|0;o[a>>2]=t;o[e+44>>2]=r;o[e+48>>2]=i;o[e+28>>2]=0;o[e+36>>2]=0;o[e+32>>2]=0;o[e>>2]=n;o[e+4>>2]=s;o[e+8>>2]=Qd(n,t<<2)|0;o[e+12>>2]=Qd(o[e>>2]|0,r<<2)|0;o[e+16>>2]=Qd(o[e>>2]|0,i<<2)|0;o[e+24>>2]=Qd(o[e>>2]|0,(o[a>>2]|0)*12|0)|0;o[e+20>>2]=Qd(o[e>>2]|0,(o[a>>2]|0)*12|0)|0;return}function oh(e){e=e|0;ep(o[e>>2]|0,o[e+20>>2]|0);ep(o[e>>2]|0,o[e+24>>2]|0);ep(o[e>>2]|0,o[e+16>>2]|0);ep(o[e>>2]|0,o[e+12>>2]|0);ep(o[e>>2]|0,o[e+8>>2]|0);return}function sh(e,t,r,s,u){e=e|0;t=t|0;r=r|0;s=s|0;u=u|0;var c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,V=0,Y=0,q=0,K=0,Z=0;c=h;h=h+176|0;f=c+148|0;p=c;_=c+112|0;m=c+64|0;b=c+8|0;Ld(p);g=+l[r>>2];y=e+28|0;if((o[y>>2]|0)>0){v=e+8|0;x=s+4|0;w=e+20|0;S=e+24|0;E=0;do{A=o[(o[v>>2]|0)+(E<<2)>>2]|0;T=A+60|0;P=o[T>>2]|0;C=o[T+4>>2]|0;T=o[A+72>>2]|0;M=o[A+80>>2]|0;F=o[A+84>>2]|0;I=+l[A+88>>2];O=A+52|0;o[O>>2]=P;o[O+4>>2]=C;o[A+68>>2]=T;if((o[A>>2]|0)==2){D=+l[A+156>>2];k=+l[A+136>>2];R=(o[d>>2]=M,+l[d>>2])+g*(D*+l[s>>2]+k*+l[A+92>>2]);B=(o[d>>2]=F,+l[d>>2])+g*(D*+l[x>>2]+k*+l[A+96>>2]);k=1/(g*+l[A+148>>2]+1);O=(l[d>>2]=R*k,o[d>>2]|0);N=O;L=(l[d>>2]=B*k,o[d>>2]|0);G=(I+g*+l[A+144>>2]*+l[A+100>>2])*(1/(g*+l[A+152>>2]+1))}else{N=M;L=F;G=I}F=(o[w>>2]|0)+(E*12|0)|0;o[F>>2]=P;o[F+4>>2]=C;o[(o[w>>2]|0)+(E*12|0)+8>>2]=T;T=o[S>>2]|0;o[T+(E*12|0)>>2]=N;o[T+(E*12|0)+4>>2]=L;l[(o[S>>2]|0)+(E*12|0)+8>>2]=G;E=E+1|0}while((E|0)<(o[y>>2]|0));U=S;z=w}else{U=e+24|0;z=e+20|0}o[_>>2]=o[r>>2];o[_+4>>2]=o[r+4>>2];o[_+8>>2]=o[r+8>>2];o[_+12>>2]=o[r+12>>2];o[_+16>>2]=o[r+16>>2];o[_+20>>2]=o[r+20>>2];o[_+24>>2]=o[r+24>>2];w=o[z>>2]|0;o[_+28>>2]=w;S=o[U>>2]|0;o[_+32>>2]=S;o[m>>2]=o[r>>2];o[m+4>>2]=o[r+4>>2];o[m+8>>2]=o[r+8>>2];o[m+12>>2]=o[r+12>>2];o[m+16>>2]=o[r+16>>2];o[m+20>>2]=o[r+20>>2];o[m+24>>2]=o[r+24>>2];E=e+12|0;o[m+28>>2]=o[E>>2];L=e+36|0;o[m+32>>2]=o[L>>2];o[m+36>>2]=w;o[m+40>>2]=S;o[m+44>>2]=o[e>>2];co(b,m);fo(b);if(i[r+24>>0]|0)po(b);m=e+32|0;if((o[m>>2]|0)>0){S=e+16|0;w=0;do{N=o[(o[S>>2]|0)+(w<<2)>>2]|0;cm[o[(o[N>>2]|0)+32>>2]&63](N,_);w=w+1|0}while((w|0)<(o[m>>2]|0))}l[t+12>>2]=+Ud(p);w=r+12|0;if((o[w>>2]|0)>0){S=e+16|0;N=0;do{if((o[m>>2]|0)>0){x=0;do{s=o[(o[S>>2]|0)+(x<<2)>>2]|0;cm[o[(o[s>>2]|0)+36>>2]&63](s,_);x=x+1|0}while((x|0)<(o[m>>2]|0))}_o(b);N=N+1|0}while((N|0)<(o[w>>2]|0))}mo(b);l[t+16>>2]=+Ud(p);if((o[y>>2]|0)>0){w=o[U>>2]|0;N=0;do{S=o[z>>2]|0;x=S+(N*12|0)|0;s=S+(N*12|0)+4|0;v=o[w+(N*12|0)>>2]|0;T=o[w+(N*12|0)+4>>2]|0;G=+l[w+(N*12|0)+8>>2];I=(o[d>>2]=v,+l[d>>2]);k=g*I;B=(o[d>>2]=T,+l[d>>2]);R=g*B;D=k*k+R*R;if(D>4){R=2/+J(+D);C=(l[d>>2]=I*R,o[d>>2]|0);j=C;X=(l[d>>2]=B*R,o[d>>2]|0)}else{j=v;X=T}R=g*G;if(R*R>2.4674012660980225)V=G*(1.5707963705062866/(R>0?R:-R));else V=G;G=g*(o[d>>2]=j,+l[d>>2]);R=+l[s>>2]+g*(o[d>>2]=X,+l[d>>2]);B=+l[S+(N*12|0)+8>>2]+g*V;l[x>>2]=+l[x>>2]+G;l[s>>2]=R;l[(o[z>>2]|0)+(N*12|0)+8>>2]=B;s=o[U>>2]|0;o[s+(N*12|0)>>2]=j;o[s+(N*12|0)+4>>2]=X;w=o[U>>2]|0;l[w+(N*12|0)+8>>2]=V;N=N+1|0}while((N|0)<(o[y>>2]|0))}N=r+16|0;e:do{if((o[N>>2]|0)>0){r=e+16|0;w=0;while(1){X=bo(b)|0;if((o[m>>2]|0)>0){j=0;s=1;while(1){x=o[(o[r>>2]|0)+(j<<2)>>2]|0;S=s&(bm[o[(o[x>>2]|0)+40>>2]&31](x,_)|0);j=j+1|0;if((j|0)>=(o[m>>2]|0)){Y=S;break}else s=S}}else Y=1;w=w+1|0;if(X&Y){q=0;break e}if((w|0)>=(o[N>>2]|0)){q=1;break}}}else q=1}while(0);if((o[y>>2]|0)>0){N=e+8|0;Y=0;do{m=o[(o[N>>2]|0)+(Y<<2)>>2]|0;_=(o[z>>2]|0)+(Y*12|0)|0;w=o[_>>2]|0;r=o[_+4>>2]|0;_=m+60|0;o[_>>2]=w;o[_+4>>2]=r;_=o[(o[z>>2]|0)+(Y*12|0)+8>>2]|0;o[m+72>>2]=_;s=(o[U>>2]|0)+(Y*12|0)|0;j=o[s+4>>2]|0;S=m+80|0;o[S>>2]=o[s>>2];o[S+4>>2]=j;o[m+88>>2]=o[(o[U>>2]|0)+(Y*12|0)+8>>2];V=(o[d>>2]=_,+l[d>>2]);B=+W(+V);l[m+20>>2]=B;R=+H(+V);l[m+24>>2]=R;V=+l[m+44>>2];G=+l[m+48>>2];I=(o[d>>2]=w,+l[d>>2])-(R*V-B*G);D=(o[d>>2]=r,+l[d>>2])-(B*V+R*G);l[m+12>>2]=I;l[m+16>>2]=D;Y=Y+1|0}while((Y|0)<(o[y>>2]|0))}l[t+20>>2]=+Ud(p);p=o[b+44>>2]|0;t=e+4|0;if((o[t>>2]|0)!=0?(o[L>>2]|0)>0:0){Y=f+16|0;U=0;do{z=o[(o[E>>2]|0)+(U<<2)>>2]|0;N=o[p+(U*156|0)+148>>2]|0;o[Y>>2]=N;if((N|0)>0){m=0;do{o[f+(m<<2)>>2]=o[p+(U*156|0)+(m*36|0)+16>>2];o[f+8+(m<<2)>>2]=o[p+(U*156|0)+(m*36|0)+20>>2];m=m+1|0}while((m|0)!=(N|0))}N=o[t>>2]|0;fm[o[(o[N>>2]|0)+36>>2]&7](N,z,f);U=U+1|0}while((U|0)<(o[L>>2]|0))}if(!u){ho(b);h=c;return}u=o[y>>2]|0;L=(u|0)>0;if(L){U=o[e+8>>2]|0;f=0;D=3.4028234663852886E38;while(1){t=o[U+(f<<2)>>2]|0;do{if(!(o[t>>2]|0))K=D;else{if(((n[t+4>>1]&4)!=0?(I=+l[t+88>>2],!(I*I>.001218469929881394)):0)?(I=+l[t+80>>2],G=+l[t+84>>2],!(I*I+G*G>9.999999747378752E-5)):0){p=t+160|0;G=g+ +l[p>>2];l[p>>2]=G;K=D<G?D:G;break}l[t+160>>2]=0;K=0}}while(0);f=f+1|0;if((f|0)>=(u|0)){Z=K;break}else D=K}}else Z=3.4028234663852886E38;if(q|!(Z>=.5)|L^1){ho(b);h=c;return}L=e+8|0;e=0;do{q=o[(o[L>>2]|0)+(e<<2)>>2]|0;u=q+4|0;n[u>>1]=a[u>>1]&65533;l[q+160>>2]=0;u=q+80|0;o[u>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;o[u+16>>2]=0;o[u+20>>2]=0;e=e+1|0}while((e|0)<(o[y>>2]|0));ho(b);h=c;return}function ah(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0;n=h;h=h+128|0;s=n+104|0;a=n+56|0;u=n;c=e+28|0;if((o[c>>2]|0)>0){f=e+8|0;p=e+20|0;_=e+24|0;m=0;do{b=o[(o[f>>2]|0)+(m<<2)>>2]|0;g=b+60|0;y=o[g+4>>2]|0;v=(o[p>>2]|0)+(m*12|0)|0;o[v>>2]=o[g>>2];o[v+4>>2]=y;o[(o[p>>2]|0)+(m*12|0)+8>>2]=o[b+72>>2];y=b+80|0;v=o[y+4>>2]|0;g=(o[_>>2]|0)+(m*12|0)|0;o[g>>2]=o[y>>2];o[g+4>>2]=v;v=o[_>>2]|0;o[v+(m*12|0)+8>>2]=o[b+88>>2];m=m+1|0}while((m|0)<(o[c>>2]|0));x=v;w=_;S=p;E=x}else{x=e+24|0;w=x;S=e+20|0;E=o[x>>2]|0}x=e+12|0;o[a+28>>2]=o[x>>2];p=e+36|0;o[a+32>>2]=o[p>>2];o[a+44>>2]=o[e>>2];o[a>>2]=o[t>>2];o[a+4>>2]=o[t+4>>2];o[a+8>>2]=o[t+8>>2];o[a+12>>2]=o[t+12>>2];o[a+16>>2]=o[t+16>>2];o[a+20>>2]=o[t+20>>2];o[a+24>>2]=o[t+24>>2];o[a+36>>2]=o[S>>2];o[a+40>>2]=E;co(u,a);a=t+16|0;if((o[a>>2]|0)>0){E=0;do{E=E+1|0;_=(go(u,r,i)|0)^1}while((E|0)<(o[a>>2]|0)&_)}a=e+8|0;E=(o[S>>2]|0)+(r*12|0)|0;_=o[E+4>>2]|0;m=(o[(o[a>>2]|0)+(r<<2)>>2]|0)+52|0;o[m>>2]=o[E>>2];o[m+4>>2]=_;_=o[S>>2]|0;m=o[a>>2]|0;o[(o[m+(r<<2)>>2]|0)+68>>2]=o[_+(r*12|0)+8>>2];r=_+(i*12|0)|0;_=o[r+4>>2]|0;E=(o[m+(i<<2)>>2]|0)+52|0;o[E>>2]=o[r>>2];o[E+4>>2]=_;o[(o[(o[a>>2]|0)+(i<<2)>>2]|0)+68>>2]=o[(o[S>>2]|0)+(i*12|0)+8>>2];fo(u);i=t+12|0;if((o[i>>2]|0)>0){_=0;do{_o(u);_=_+1|0}while((_|0)<(o[i>>2]|0))}A=+l[t>>2];if((o[c>>2]|0)>0){t=0;do{i=o[S>>2]|0;_=i+(t*12|0)|0;E=i+(t*12|0)+4|0;r=o[w>>2]|0;m=o[r+(t*12|0)>>2]|0;f=o[r+(t*12|0)+4>>2]|0;T=+l[r+(t*12|0)+8>>2];P=(o[d>>2]=m,+l[d>>2]);C=A*P;M=(o[d>>2]=f,+l[d>>2]);F=A*M;I=C*C+F*F;if(I>4){F=2/+J(+I);r=(l[d>>2]=P*F,o[d>>2]|0);O=r;D=(l[d>>2]=M*F,o[d>>2]|0)}else{O=m;D=f}F=A*T;if(F*F>2.4674012660980225)k=T*(1.5707963705062866/(F>0?F:-F));else k=T;T=A*(o[d>>2]=O,+l[d>>2]);F=+l[_>>2]+T;T=+l[E>>2]+A*(o[d>>2]=D,+l[d>>2]);M=+l[i+(t*12|0)+8>>2]+A*k;l[_>>2]=F;l[E>>2]=T;l[(o[S>>2]|0)+(t*12|0)+8>>2]=M;E=o[w>>2]|0;o[E+(t*12|0)>>2]=O;o[E+(t*12|0)+4>>2]=D;l[(o[w>>2]|0)+(t*12|0)+8>>2]=k;E=o[(o[a>>2]|0)+(t<<2)>>2]|0;l[E+60>>2]=F;l[E+64>>2]=T;l[E+72>>2]=M;o[E+80>>2]=O;o[E+84>>2]=D;l[E+88>>2]=k;P=+W(+M);l[E+20>>2]=P;I=+H(+M);l[E+24>>2]=I;M=+l[E+44>>2];C=+l[E+48>>2];l[E+12>>2]=F-(I*M-P*C);l[E+16>>2]=T-(P*M+I*C);t=t+1|0}while((t|0)<(o[c>>2]|0))}c=o[u+44>>2]|0;t=e+4|0;if(!(o[t>>2]|0)){ho(u);h=n;return}if((o[p>>2]|0)<=0){ho(u);h=n;return}e=s+16|0;D=0;do{O=o[(o[x>>2]|0)+(D<<2)>>2]|0;a=o[c+(D*156|0)+148>>2]|0;o[e>>2]=a;if((a|0)>0){w=0;do{o[s+(w<<2)>>2]=o[c+(D*156|0)+(w*36|0)+16>>2];o[s+8+(w<<2)>>2]=o[c+(D*156|0)+(w*36|0)+20>>2];w=w+1|0}while((w|0)!=(a|0))}a=o[t>>2]|0;fm[o[(o[a>>2]|0)+36>>2]&7](a,O,s);D=D+1|0}while((D|0)<(o[p>>2]|0));ho(u);h=n;return}function uh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;e=n[t+36>>1]|0;if(!(e<<16>>16==0?1:e<<16>>16!=(n[r+36>>1]|0))){i=e<<16>>16>0;return i|0}if(!((n[r+32>>1]&n[t+34>>1])<<16>>16)){i=0;return i|0}i=(n[r+34>>1]&n[t+32>>1])<<16>>16!=0;return i|0}function lh(e){e=e|0;return}function ch(e){e=e|0;op(e);return}function hh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return 1}function fh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return 1}function dh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0;Ui(e,t);o[e>>2]=1120;r=t+20|0;i=o[r>>2]|0;n=o[r+4>>2]|0;r=e+76|0;o[r>>2]=i;o[r+4>>2]=n;r=o[e+52>>2]|0;s=(o[d>>2]=i,+l[d>>2])-+l[r+12>>2];a=(o[d>>2]=n,+l[d>>2])-+l[r+16>>2];u=+l[r+24>>2];c=+l[r+20>>2];l[e+68>>2]=s*u+a*c;l[e+72>>2]=u*a-s*c;o[e+104>>2]=o[t+28>>2];l[e+96>>2]=0;l[e+100>>2]=0;o[e+84>>2]=o[t+32>>2];o[e+88>>2]=o[t+36>>2];l[e+92>>2]=0;l[e+108>>2]=0;return}function ph(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0;r=o[e+52>>2]|0;i=r+4|0;s=n[i>>1]|0;if((s&2)==0?(a=s&65535,(a&2|0)==0):0){n[i>>1]=a|2;l[r+160>>2]=0}r=t;t=o[r+4>>2]|0;a=e+76|0;o[a>>2]=o[r>>2];o[a+4>>2]=t;return}function _h(e,t){e=e|0;t=+t;l[e+104>>2]=t;return}function mh(e,t){e=e|0;t=+t;l[e+84>>2]=t;return}function bh(e,t){e=e|0;t=+t;l[e+88>>2]=t;return}function gh(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0;r=o[e+52>>2]|0;n=o[r+8>>2]|0;s=e+116|0;o[s>>2]=n;a=r+44|0;u=o[a>>2]|0;c=o[a+4>>2]|0;a=e+128|0;o[a>>2]=u;o[a+4>>2]=c;a=o[r+136>>2]|0;h=e+136|0;o[h>>2]=a;f=o[r+144>>2]|0;p=e+140|0;o[p>>2]=f;_=o[t+28>>2]|0;m=+l[_+(n*12|0)>>2];b=+l[_+(n*12|0)+4>>2];g=+l[_+(n*12|0)+8>>2];_=t+32|0;y=o[_>>2]|0;v=o[y+(n*12|0)>>2]|0;x=o[y+(n*12|0)+4>>2]|0;w=+l[y+(n*12|0)+8>>2];S=+W(+g);E=+H(+g);g=+l[r+132>>2];A=+l[e+84>>2]*6.2831854820251465;T=+l[t>>2];P=T*(g*(A*A));C=T*(A*(g*2*+l[e+88>>2])+P);g=C!=0?1/C:C;l[e+108>>2]=g;C=P*g;l[e+92>>2]=C;P=+l[e+68>>2]-(o[d>>2]=u,+l[d>>2]);A=+l[e+72>>2]-(o[d>>2]=c,+l[d>>2]);T=E*P-S*A;M=S*P+E*A;l[e+120>>2]=T;l[e+124>>2]=M;A=(o[d>>2]=a,+l[d>>2]);E=(o[d>>2]=f,+l[d>>2]);P=g+(A+M*(E*M));S=E*T;E=M*S;F=g+(A+T*S);S=P*F-E*E;A=S!=0?1/S:S;S=E*A;l[e+144>>2]=F*A;l[e+148>>2]=S;l[e+152>>2]=S;l[e+156>>2]=P*A;A=b+M-+l[e+80>>2];l[e+160>>2]=C*(m+T-+l[e+76>>2]);l[e+164>>2]=C*A;A=w*.9800000190734863;f=e+96|0;if(!(i[t+24>>0]|0)){l[f>>2]=0;l[e+100>>2]=0;I=v;O=x;D=A;k=o[s>>2]|0;R=o[_>>2]|0;B=R+(k*12|0)|0;o[B>>2]=I;N=R+(k*12|0)+4|0;o[N>>2]=O;L=o[s>>2]|0;G=o[_>>2]|0;U=G+(L*12|0)+8|0;l[U>>2]=D;return}else{w=+l[t+8>>2];C=w*+l[f>>2];l[f>>2]=C;f=e+100|0;m=w*+l[f>>2];l[f>>2]=m;w=+l[h>>2];h=(l[d>>2]=(o[d>>2]=v,+l[d>>2])+w*C,o[d>>2]|0);I=h;O=(l[d>>2]=(o[d>>2]=x,+l[d>>2])+m*w,o[d>>2]|0);D=A+ +l[p>>2]*(m*T-C*M);k=o[s>>2]|0;R=o[_>>2]|0;B=R+(k*12|0)|0;o[B>>2]=I;N=R+(k*12|0)+4|0;o[N>>2]=O;L=o[s>>2]|0;G=o[_>>2]|0;U=G+(L*12|0)+8|0;l[U>>2]=D;return}}function yh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0;r=e+116|0;i=o[r>>2]|0;n=t+32|0;s=o[n>>2]|0;a=s+(i*12|0)|0;u=+l[a>>2];c=s+(i*12|0)+4|0;h=+l[c>>2];f=+l[s+(i*12|0)+8>>2];d=+l[e+124>>2];p=+l[e+120>>2];_=+l[e+108>>2];i=e+96|0;m=+l[i>>2];s=e+100|0;b=+l[s>>2];g=-(u-f*d+ +l[e+160>>2]+_*m);y=-(h+f*p+ +l[e+164>>2]+_*b);_=+l[e+148>>2]*g+ +l[e+156>>2]*y;v=m+(+l[e+144>>2]*g+ +l[e+152>>2]*y);l[i>>2]=v;y=_+b;l[s>>2]=y;_=+l[t>>2]*+l[e+104>>2];g=y*y+v*v;if(g>_*_){x=_/+J(+g);g=v*x;l[i>>2]=g;_=x*y;l[s>>2]=_;w=g;S=_}else{w=v;S=y}y=w-m;m=S-b;b=+l[e+136>>2];S=f+ +l[e+140>>2]*(m*p-y*d);l[a>>2]=u+y*b;l[c>>2]=h+m*b;l[(o[n>>2]|0)+((o[r>>2]|0)*12|0)+8>>2]=S;return}function vh(e,t){e=e|0;t=t|0;return 1}function xh(e,t){e=e|0;t=t|0;var r=0,i=0;r=t+76|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function wh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=o[t+52>>2]|0;i=+l[r+24>>2];n=+l[t+68>>2];s=+l[r+20>>2];a=+l[t+72>>2];u=n*s+i*a+ +l[r+16>>2];l[e>>2]=+l[r+12>>2]+(i*n-s*a);l[e+4>>2]=u;return}function Sh(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+100>>2]*r;l[e>>2]=+l[t+96>>2]*r;l[e+4>>2]=i;return}function Eh(e,t){e=e|0;t=+t;return+(t*0)}function Ah(e,t){e=e|0;t=t|0;var r=0;r=e+76|0;l[r>>2]=+l[r>>2]-+l[t>>2];r=e+80|0;l[r>>2]=+l[r>>2]-+l[t+4>>2];return}function Th(e){e=e|0;e=h;h=h+16|0;Jd(3610,e);h=e;return}function Ph(e){e=e|0;return}function Ch(e){e=e|0;op(e);return}function Mh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0;o[e+8>>2]=t;o[e+12>>2]=r;i=+l[r+12>>2]-+l[t+12>>2];n=+l[r+16>>2]-+l[t+16>>2];s=+l[t+24>>2];a=+l[t+20>>2];l[e+20>>2]=i*s+n*a;l[e+24>>2]=s*n-i*a;l[e+28>>2]=+l[r+72>>2]-+l[t+72>>2];return}function Fh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;Ui(e,t);o[e>>2]=1172;r=t+20|0;i=o[r+4>>2]|0;n=e+68|0;o[n>>2]=o[r>>2];o[n+4>>2]=i;o[e+76>>2]=o[t+28>>2];l[e+80>>2]=0;l[e+84>>2]=0;l[e+88>>2]=0;o[e+92>>2]=o[t+32>>2];o[e+96>>2]=o[t+36>>2];o[e+100>>2]=o[t+40>>2];return}function Ih(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0;r=o[e+48>>2]|0;n=o[r+8>>2]|0;s=e+104|0;o[s>>2]=n;a=o[e+52>>2]|0;u=o[a+8>>2]|0;c=e+108|0;o[c>>2]=u;h=r+44|0;f=o[h>>2]|0;p=o[h+4>>2]|0;h=e+128|0;o[h>>2]=f;o[h+4>>2]=p;h=a+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+136|0;o[h>>2]=_;o[h+4>>2]=m;h=o[r+136>>2]|0;o[e+156>>2]=h;b=o[a+136>>2]|0;o[e+160>>2]=b;g=o[r+144>>2]|0;o[e+164>>2]=g;r=o[a+144>>2]|0;o[e+168>>2]=r;a=o[t+28>>2]|0;y=+l[a+(n*12|0)>>2];v=+l[a+(n*12|0)+4>>2];x=+l[a+(n*12|0)+8>>2];w=t+32|0;S=o[w>>2]|0;E=o[S+(n*12|0)>>2]|0;A=o[S+(n*12|0)+4>>2]|0;T=+l[S+(n*12|0)+8>>2];P=+l[a+(u*12|0)>>2];C=+l[a+(u*12|0)+4>>2];M=+l[a+(u*12|0)+8>>2];a=o[S+(u*12|0)>>2]|0;n=o[S+(u*12|0)+4>>2]|0;F=+l[S+(u*12|0)+8>>2];I=+W(+x);O=+H(+x);D=+W(+M);k=+H(+M);R=-(o[d>>2]=f,+l[d>>2]);B=-(o[d>>2]=p,+l[d>>2]);N=O*R-I*B;L=I*R+O*B;p=e+112|0;l[p>>2]=N;l[e+116>>2]=L;B=-(o[d>>2]=_,+l[d>>2]);R=-(o[d>>2]=m,+l[d>>2]);G=k*B-D*R;U=D*B+k*R;l[e+120>>2]=G;l[e+124>>2]=U;R=(o[d>>2]=h,+l[d>>2]);k=(o[d>>2]=b,+l[d>>2]);B=(o[d>>2]=g,+l[d>>2]);D=(o[d>>2]=r,+l[d>>2]);z=R+k;j=z+L*(B*L)+U*(D*U);J=B*N;X=D*G;V=-(L*J)-U*X;Y=z+N*J+G*X;X=j*Y-V*V;J=X!=0?1/X:X;X=-(V*J);l[e+172>>2]=Y*J;l[e+176>>2]=X;l[e+180>>2]=X;l[e+184>>2]=j*J;J=B+D;l[e+188>>2]=J>0?1/J:J;J=+l[e+68>>2];j=+l[e+72>>2];l[e+144>>2]=P+G-y-N-(O*J-I*j);l[e+148>>2]=C+U-v-L-(I*J+O*j);l[e+152>>2]=M-x-+l[e+76>>2];r=e+80|0;if(!(i[t+24>>0]|0)){l[r>>2]=0;l[e+84>>2]=0;l[e+88>>2]=0;q=E;K=A;Z=a;Q=n;$=T;ee=F;te=o[s>>2]|0;re=o[w>>2]|0;ie=re+(te*12|0)|0;o[ie>>2]=q;ne=re+(te*12|0)+4|0;o[ne>>2]=K;oe=o[s>>2]|0;se=o[w>>2]|0;ae=se+(oe*12|0)+8|0;l[ae>>2]=$;ue=o[c>>2]|0;le=se+(ue*12|0)|0;o[le>>2]=Z;ce=se+(ue*12|0)+4|0;o[ce>>2]=Q;he=o[c>>2]|0;fe=o[w>>2]|0;de=fe+(he*12|0)+8|0;l[de>>2]=ee;return}else{x=+l[t+8>>2];M=x*+l[r>>2];l[r>>2]=M;r=e+84|0;j=x*+l[r>>2];l[r>>2]=j;r=e+88|0;O=x*+l[r>>2];l[r>>2]=O;r=(l[d>>2]=(o[d>>2]=E,+l[d>>2])-R*M,o[d>>2]|0);E=(l[d>>2]=(o[d>>2]=A,+l[d>>2])-R*j,o[d>>2]|0);A=(l[d>>2]=(o[d>>2]=a,+l[d>>2])+k*M,o[d>>2]|0);q=r;K=E;Z=A;Q=(l[d>>2]=(o[d>>2]=n,+l[d>>2])+k*j,o[d>>2]|0);$=T-B*(O+(j*+l[p>>2]-M*L));ee=F+D*(O+(j*G-M*U));te=o[s>>2]|0;re=o[w>>2]|0;ie=re+(te*12|0)|0;o[ie>>2]=q;ne=re+(te*12|0)+4|0;o[ne>>2]=K;oe=o[s>>2]|0;se=o[w>>2]|0;ae=se+(oe*12|0)+8|0;l[ae>>2]=$;ue=o[c>>2]|0;le=se+(ue*12|0)|0;o[le>>2]=Z;ce=se+(ue*12|0)+4|0;o[ce>>2]=Q;he=o[c>>2]|0;fe=o[w>>2]|0;de=fe+(he*12|0)+8|0;l[de>>2]=ee;return}}function Oh(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0;r=e+104|0;i=o[r>>2]|0;n=t+32|0;s=o[n>>2]|0;a=+l[s+(i*12|0)>>2];u=+l[s+(i*12|0)+4>>2];c=+l[s+(i*12|0)+8>>2];i=e+108|0;h=o[i>>2]|0;f=+l[s+(h*12|0)>>2];d=+l[s+(h*12|0)+4>>2];p=+l[s+(h*12|0)+8>>2];_=+l[e+156>>2];m=+l[e+160>>2];b=+l[e+164>>2];g=+l[e+168>>2];y=+l[t>>2];v=+l[t+4>>2]*+l[e+100>>2];t=e+88|0;x=+l[t>>2];w=y*+l[e+96>>2];S=x-+l[e+188>>2]*(p-c+v*+l[e+152>>2]);E=-w;A=S<w?S:w;w=A<E?E:A;l[t>>2]=w;A=w-x;x=c-b*A;c=p+g*A;A=+l[e+124>>2];p=+l[e+120>>2];w=+l[e+116>>2];E=+l[e+112>>2];S=+l[e+144>>2]*v+(w*x+(f-A*c-a));T=v*+l[e+148>>2]+(d+p*c-u-E*x);v=+l[e+176>>2]*S+ +l[e+184>>2]*T;t=e+80|0;P=+l[t>>2];h=e+84|0;C=+l[h>>2];M=P-(+l[e+172>>2]*S+ +l[e+180>>2]*T);l[t>>2]=M;T=C-v;l[h>>2]=T;v=y*+l[e+92>>2];y=M*M+T*T;if(y>v*v){S=+J(+y);if(S<1.1920928955078125E-7){F=M;I=T}else{y=1/S;S=M*y;l[t>>2]=S;O=T*y;l[h>>2]=O;F=S;I=O}O=v*F;l[t>>2]=O;F=v*I;l[h>>2]=F;D=O;k=F}else{D=M;k=T}T=D-P;P=k-C;h=o[r>>2]|0;t=o[n>>2]|0;l[t+(h*12|0)>>2]=a-_*T;l[t+(h*12|0)+4>>2]=u-_*P;h=o[n>>2]|0;l[h+((o[r>>2]|0)*12|0)+8>>2]=x-b*(E*P-T*w);r=o[i>>2]|0;l[h+(r*12|0)>>2]=f+m*T;l[h+(r*12|0)+4>>2]=d+m*P;l[(o[n>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=c+g*(P*p-T*A);return}function Dh(e,t){e=e|0;t=t|0;return 1}function kh(e,t){e=e|0;t=t|0;var r=0,i=0;r=(o[t+48>>2]|0)+12|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function Rh(e,t){e=e|0;t=t|0;var r=0,i=0;r=(o[t+52>>2]|0)+12|0;t=o[r+4>>2]|0;i=e;o[i>>2]=o[r>>2];o[i+4>>2]=t;return}function Bh(e,t,r){e=e|0;t=t|0;r=+r;var i=0;i=+l[t+84>>2]*r;l[e>>2]=+l[t+80>>2]*r;l[e+4>>2]=i;return}function Nh(e,t){e=e|0;t=+t;return+(+l[e+88>>2]*t)}function Lh(e,t){e=e|0;t=+t;l[e+92>>2]=t;return}function Gh(e,t){e=e|0;t=+t;l[e+96>>2]=t;return}function Uh(e,t){e=e|0;t=+t;l[e+100>>2]=t;return}function zh(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,u=0;r=e+68|0;if(!(+l[t>>2]!=+l[r>>2])?!(+l[t+4>>2]!=+l[e+72>>2]):0)return;i=o[e+48>>2]|0;s=i+4|0;u=a[s>>1]|0;if(!(u&2)){n[s>>1]=u|2;l[i+160>>2]=0}i=o[e+52>>2]|0;e=i+4|0;u=a[e>>1]|0;if(!(u&2)){n[e>>1]=u|2;l[i+160>>2]=0}i=t;t=o[i+4>>2]|0;u=r;o[u>>2]=o[i>>2];o[u+4>>2]=t;return}function jh(e,t){e=e|0;t=+t;var r=0,i=0,s=0,u=0;r=e+76|0;if(!(+l[r>>2]!=t))return;i=o[e+48>>2]|0;s=i+4|0;u=a[s>>1]|0;if(!(u&2)){n[s>>1]=u|2;l[i+160>>2]=0}i=o[e+52>>2]|0;e=i+4|0;u=a[e>>1]|0;if(!(u&2)){n[e>>1]=u|2;l[i+160>>2]=0}l[r>>2]=t;return}function Jh(e){e=e|0;var t=0,r=0,i=0,n=0,a=0,u=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;t=h;h=h+96|0;r=t+80|0;i=t+72|0;n=t+64|0;a=t+56|0;u=t+48|0;f=t+32|0;d=t+24|0;p=t+16|0;_=t+8|0;m=o[(o[e+48>>2]|0)+8>>2]|0;b=o[(o[e+52>>2]|0)+8>>2]|0;Jd(3664,t);o[_>>2]=m;Jd(4769,_);o[p>>2]=b;Jd(4795,p);o[d>>2]=s[e+61>>0];Jd(4821,d);g=+l[e+72>>2];c[f>>3]=+l[e+68>>2];c[f+8>>3]=g;Jd(3687,f);c[u>>3]=+l[e+76>>2];Jd(3729,u);c[a>>3]=+l[e+92>>2];Jd(3906,a);c[n>>3]=+l[e+96>>2];Jd(3932,n);c[i>>3]=+l[e+100>>2];Jd(3760,i);o[r>>2]=o[e+56>>2];Jd(5099,r);h=t;return}function Xh(e,t){e=e|0;t=t|0;return}function Hh(e){e=e|0;op(e);return}function Wh(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,c=0,h=0;o[e+8>>2]=t;o[e+12>>2]=r;s=+l[i>>2]-+l[t+12>>2];a=i+4|0;u=+l[a>>2]-+l[t+16>>2];c=+l[t+24>>2];h=+l[t+20>>2];l[e+20>>2]=s*c+u*h;l[e+24>>2]=c*u-s*h;h=+l[n>>2]-+l[r+12>>2];t=n+4|0;s=+l[t>>2]-+l[r+16>>2];u=+l[r+24>>2];c=+l[r+20>>2];l[e+28>>2]=h*u+s*c;l[e+32>>2]=u*s-h*c;c=+l[n>>2]-+l[i>>2];h=+l[t>>2]-+l[a>>2];l[e+36>>2]=+J(+(c*c+h*h));return}function Vh(e,t){e=e|0;t=t|0;var r=0,s=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0,Ne=0,Le=0,Ge=0,Ue=0,ze=0,je=0,Je=0,Xe=0,He=0,We=0,Ve=0,Ye=0,qe=0,Ke=0,Ze=0,Qe=0,$e=0,et=0,tt=0;r=h;h=h+304|0;s=r+252|0;u=r+120|0;c=r+112|0;f=r+76|0;p=r+32|0;_=r+40|0;m=r;b=e+102880|0;g=e+102952|0;nh(s,64,32,0,e+76|0,o[g>>2]|0);y=e+103007|0;if(i[y>>0]|0){v=o[e+102960>>2]|0;if(v){x=v;do{v=x+4|0;n[v>>1]=a[v>>1]&65534;l[x+76>>2]=0;x=o[x+112>>2]|0}while((x|0)!=0)}x=e+102940|0;v=o[x>>2]|0;if(!v)w=x;else{S=v;do{v=S+4|0;o[v>>2]=o[v>>2]&-34;o[S+128>>2]=0;l[S+132>>2]=1;S=o[S+12>>2]|0}while((S|0)!=0);w=x}}else w=e+102940|0;x=s+28|0;S=s+36|0;v=s+32|0;E=s+8|0;A=s+12|0;T=p+4|0;P=s+40|0;C=s+44|0;M=m+4|0;F=m+8|0;I=m+16|0;O=t+12|0;D=m+12|0;k=t+20|0;R=m+20|0;B=m+24|0;N=e+103006|0;e=u+16|0;L=u+20|0;G=u+24|0;U=u+44|0;z=u+48|0;j=u+52|0;J=u+28|0;X=u+56|0;V=u+92|0;Y=u+128|0;q=c+4|0;K=o[w>>2]|0;e:do{if(K){Z=K;Q=1;$=0;while(1){ee=Z+4|0;te=o[ee>>2]|0;do{if((te&4|0)!=0?(o[Z+128>>2]|0)<=8:0){if(!(te&32)){re=o[Z+48>>2]|0;ie=o[Z+52>>2]|0;if(i[re+38>>0]|0){ne=Q;oe=$;break}if(i[ie+38>>0]|0){ne=Q;oe=$;break}se=o[re+8>>2]|0;ae=o[ie+8>>2]|0;ue=o[se>>2]|0;le=o[ae>>2]|0;ce=n[se+4>>1]|0;he=n[ae+4>>1]|0;if(!((ue|0)!=0&(ce&2)!=0|(le|0)!=0&(he&2)!=0)){ne=Q;oe=$;break}if(!((ue|0)!=2|(ce&8)!=0|((le|0)!=2|(he&8)!=0))){ne=Q;oe=$;break}he=se+44|0;le=se+76|0;fe=+l[le>>2];ce=ae+44|0;ue=ae+76|0;de=+l[ue>>2];if(!(fe<de))if(de<fe){pe=(fe-de)/(1-de);_e=ae+52|0;me=+l[_e>>2];be=ae+56|0;ge=+l[be>>2];ye=pe*(+l[ae+64>>2]-ge);l[_e>>2]=me+pe*(+l[ae+60>>2]-me);l[be>>2]=ge+ye;be=ae+68|0;ye=+l[be>>2];l[be>>2]=ye+pe*(+l[ae+72>>2]-ye);l[ue>>2]=fe;ve=fe}else ve=fe;else{ye=(de-fe)/(1-fe);ue=se+52|0;fe=+l[ue>>2];ae=se+56|0;pe=+l[ae>>2];ge=ye*(+l[se+64>>2]-pe);l[ue>>2]=fe+ye*(+l[se+60>>2]-fe);l[ae>>2]=pe+ge;ae=se+68|0;ge=+l[ae>>2];l[ae>>2]=ge+ye*(+l[se+72>>2]-ge);l[le>>2]=de;ve=de}le=o[Z+56>>2]|0;se=o[Z+60>>2]|0;o[e>>2]=0;o[L>>2]=0;l[G>>2]=0;o[U>>2]=0;o[z>>2]=0;l[j>>2]=0;Xl(u,o[re+12>>2]|0,le);Xl(J,o[ie+12>>2]|0,se);xe=X;we=he;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));xe=V;we=ce;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));l[Y>>2]=1;Ul(c,u);if((o[c>>2]|0)==3){de=ve+(1-ve)*+l[q>>2];Ee=de<1?de:1}else Ee=1;l[Z+132>>2]=Ee;o[ee>>2]=o[ee>>2]|32;Ae=Ee}else Ae=+l[Z+132>>2];if(Ae<Q){ne=Ae;oe=Z}else{ne=Q;oe=$}}else{ne=Q;oe=$}}while(0);ee=o[Z+12>>2]|0;if(ee){Z=ee;Q=ne;$=oe;continue}if(ne>.9999988079071045|(oe|0)==0)break e;ee=o[(o[oe+48>>2]|0)+8>>2]|0;te=o[(o[oe+52>>2]|0)+8>>2]|0;ce=ee+44|0;xe=u;we=ce;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));he=te+44|0;xe=f;we=he;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));se=ee+76|0;de=+l[se>>2];ge=(ne-de)/(1-de);ie=ee+60|0;le=ee+52|0;de=+l[le>>2];re=ee+64|0;ae=ee+56|0;ye=+l[ae>>2];pe=ge*(+l[re>>2]-ye);l[le>>2]=de+ge*(+l[ie>>2]-de);l[ae>>2]=ye+pe;ae=ee+72|0;le=ee+68|0;pe=+l[le>>2];ye=pe+ge*(+l[ae>>2]-pe);l[le>>2]=ye;l[se>>2]=ne;se=ee+52|0;le=o[se>>2]|0;ue=o[se+4>>2]|0;se=ee+60|0;o[se>>2]=le;o[se+4>>2]=ue;l[ae>>2]=ye;pe=+W(+ye);se=ee+20|0;l[se>>2]=pe;ge=+H(+ye);be=ee+24|0;l[be>>2]=ge;_e=ee+44|0;ye=+l[_e>>2];Te=ee+48|0;de=+l[Te>>2];fe=(o[d>>2]=le,+l[d>>2])-(ge*ye-pe*de);me=(o[d>>2]=ue,+l[d>>2])-(pe*ye+ge*de);ue=ee+12|0;l[ue>>2]=fe;le=ee+16|0;l[le>>2]=me;Pe=te+76|0;me=+l[Pe>>2];fe=(ne-me)/(1-me);Ce=te+60|0;Me=te+52|0;me=+l[Me>>2];Fe=te+64|0;Ie=te+56|0;de=+l[Ie>>2];ge=fe*(+l[Fe>>2]-de);l[Me>>2]=me+fe*(+l[Ce>>2]-me);l[Ie>>2]=de+ge;Ie=te+72|0;Me=te+68|0;ge=+l[Me>>2];de=ge+fe*(+l[Ie>>2]-ge);l[Me>>2]=de;l[Pe>>2]=ne;Pe=te+52|0;Me=o[Pe>>2]|0;Oe=o[Pe+4>>2]|0;Pe=te+60|0;o[Pe>>2]=Me;o[Pe+4>>2]=Oe;l[Ie>>2]=de;ge=+W(+de);Pe=te+20|0;l[Pe>>2]=ge;fe=+H(+de);De=te+24|0;l[De>>2]=fe;ke=te+44|0;de=+l[ke>>2];Re=te+48|0;me=+l[Re>>2];ye=(o[d>>2]=Me,+l[d>>2])-(fe*de-ge*me);pe=(o[d>>2]=Oe,+l[d>>2])-(ge*de+fe*me);Oe=te+12|0;l[Oe>>2]=ye;Me=te+16|0;l[Me>>2]=pe;eo(oe,o[g>>2]|0);Be=oe+4|0;Ne=o[Be>>2]|0;Le=Ne&-33;o[Be>>2]=Le;Ge=oe+128|0;o[Ge>>2]=(o[Ge>>2]|0)+1;if((Ne&6|0)==6){Ge=ee+4|0;Ue=n[Ge>>1]|0;ze=Ue&65535;if(!(ze&2)){je=(ze|2)&65535;n[Ge>>1]=je;l[ee+160>>2]=0;Je=je}else Je=Ue;Ue=te+4|0;je=a[Ue>>1]|0;if(!(je&2)){n[Ue>>1]=je|2;l[te+160>>2]=0;Xe=n[Ge>>1]|0}else Xe=Je;o[v>>2]=0;je=ee+8|0;o[je>>2]=0;o[o[E>>2]>>2]=ee;ze=te+8|0;o[ze>>2]=1;o[(o[E>>2]|0)+4>>2]=te;o[x>>2]=2;o[S>>2]=1;o[o[A>>2]>>2]=oe;n[Ge>>1]=Xe&65535|1;n[Ue>>1]=a[Ue>>1]|1;o[Be>>2]=Le|1;o[p>>2]=ee;o[T>>2]=te;Le=ee;Ue=0;while(1){t:do{if((o[Le>>2]|0)==2?(Ge=o[Le+128>>2]|0,(Ge|0)!=0):0){He=Le+4|0;We=Ge;do{if((o[x>>2]|0)==(o[P>>2]|0))break t;if((o[S>>2]|0)==(o[C>>2]|0))break t;Ge=o[We+4>>2]|0;Ve=Ge+4|0;r:do{if(!(o[Ve>>2]&1)){Ye=o[We>>2]|0;do{if((o[Ye>>2]|0)==2){if(n[He>>1]&8)break;if(!(n[Ye+4>>1]&8))break r}}while(0);if(i[(o[Ge+48>>2]|0)+38>>0]|0)break;if(i[(o[Ge+52>>2]|0)+38>>0]|0)break;qe=Ye+44|0;xe=_;we=qe;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));Ke=Ye+4|0;if(!(n[Ke>>1]&1)){Ze=Ye+76|0;pe=+l[Ze>>2];ye=(ne-pe)/(1-pe);Qe=Ye+52|0;pe=+l[Qe>>2];$e=Ye+56|0;me=+l[$e>>2];fe=ye*(+l[Ye+64>>2]-me);l[Qe>>2]=pe+ye*(+l[Ye+60>>2]-pe);l[$e>>2]=me+fe;$e=Ye+72|0;Qe=Ye+68|0;fe=+l[Qe>>2];me=fe+ye*(+l[$e>>2]-fe);l[Qe>>2]=me;l[Ze>>2]=ne;Ze=Ye+52|0;Qe=o[Ze>>2]|0;et=o[Ze+4>>2]|0;Ze=Ye+60|0;o[Ze>>2]=Qe;o[Ze+4>>2]=et;l[$e>>2]=me;fe=+W(+me);l[Ye+20>>2]=fe;ye=+H(+me);l[Ye+24>>2]=ye;me=+l[Ye+44>>2];pe=+l[Ye+48>>2];de=(o[d>>2]=Qe,+l[d>>2])-(ye*me-fe*pe);ge=(o[d>>2]=et,+l[d>>2])-(fe*me+ye*pe);l[Ye+12>>2]=de;l[Ye+16>>2]=ge}eo(Ge,o[g>>2]|0);et=o[Ve>>2]|0;do{if(!(et&4)){xe=qe;we=_;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));ge=+l[Ye+72>>2];de=+W(+ge);l[Ye+20>>2]=de;pe=+H(+ge);l[Ye+24>>2]=pe;ge=+l[Ye+44>>2];ye=+l[Ye+48>>2];me=+l[Ye+64>>2]-(de*ge+pe*ye);l[Ye+12>>2]=+l[Ye+60>>2]-(pe*ge-de*ye);l[Ye+16>>2]=me}else{if(!(et&2)){xe=qe;we=_;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));me=+l[Ye+72>>2];ye=+W(+me);l[Ye+20>>2]=ye;de=+H(+me);l[Ye+24>>2]=de;me=+l[Ye+44>>2];ge=+l[Ye+48>>2];pe=+l[Ye+64>>2]-(ye*me+de*ge);l[Ye+12>>2]=+l[Ye+60>>2]-(de*me-ye*ge);l[Ye+16>>2]=pe;break}o[Ve>>2]=et|1;Qe=o[S>>2]|0;o[S>>2]=Qe+1;o[(o[A>>2]|0)+(Qe<<2)>>2]=Ge;Qe=a[Ke>>1]|0;if(Qe&1)break;n[Ke>>1]=Qe|1;if((Qe&2|0)==0&(o[Ye>>2]|0)!=0){n[Ke>>1]=Qe|3;l[Ye+160>>2]=0}Qe=o[x>>2]|0;o[Ye+8>>2]=Qe;o[(o[E>>2]|0)+(Qe<<2)>>2]=Ye;o[x>>2]=Qe+1}}while(0)}}while(0);We=o[We+12>>2]|0}while((We|0)!=0)}}while(0);We=Ue+1|0;if((We|0)>=2)break;Le=o[p+(We<<2)>>2]|0;Ue=We}pe=(1-ne)*+l[t>>2];l[m>>2]=pe;l[M>>2]=1/pe;l[F>>2]=1;o[I>>2]=20;o[D>>2]=o[O>>2];o[R>>2]=o[k>>2];i[B>>0]=0;ah(s,m,o[je>>2]|0,o[ze>>2]|0);Ue=o[x>>2]|0;if((Ue|0)>0){Le=Ue;Ue=0;while(1){ee=o[(o[E>>2]|0)+(Ue<<2)>>2]|0;te=ee+4|0;n[te>>1]=a[te>>1]&65534;if((o[ee>>2]|0)==2){nf(ee);te=o[ee+128>>2]|0;if(te){ee=te;do{te=(o[ee+4>>2]|0)+4|0;o[te>>2]=o[te>>2]&-34;ee=o[ee+12>>2]|0}while((ee|0)!=0)}tt=o[x>>2]|0}else tt=Le;Ue=Ue+1|0;if((Ue|0)>=(tt|0))break;else Le=tt}}_f(b);if(i[N>>0]|0)break}else{o[Be>>2]=Ne&-37;xe=ce;we=u;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));xe=he;we=f;Se=xe+36|0;do{o[xe>>2]=o[we>>2];xe=xe+4|0;we=we+4|0}while((xe|0)<(Se|0));pe=+l[ae>>2];ge=+W(+pe);l[se>>2]=ge;ye=+H(+pe);l[be>>2]=ye;pe=+l[_e>>2];me=+l[Te>>2];de=+l[re>>2]-(ge*pe+ye*me);l[ue>>2]=+l[ie>>2]-(ye*pe-ge*me);l[le>>2]=de;de=+l[Ie>>2];me=+W(+de);l[Pe>>2]=me;ge=+H(+de);l[De>>2]=ge;de=+l[ke>>2];pe=+l[Re>>2];ye=+l[Fe>>2]-(me*de+ge*pe);l[Oe>>2]=+l[Ce>>2]-(ge*de-me*pe);l[Me>>2]=ye}Z=o[w>>2]|0;if(!Z)break e;else{Q=1;$=0}}i[y>>0]=0;oh(s);h=r;return}}while(0);i[y>>0]=1;oh(s);h=r;return}function Yh(e,t,r,n,s){e=e|0;t=+t;r=r|0;n=n|0;s=s|0;var a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0;a=h;h=h+64|0;u=a+24|0;c=a+32|0;f=a+16|0;d=a+8|0;p=a;Ld(u);_=e+102876|0;m=o[_>>2]|0;if(!(m&1))b=m;else{_f(e+102880|0);m=o[_>>2]&-2;o[_>>2]=m;b=m}o[_>>2]=b|2;l[c>>2]=t;o[c+12>>2]=r;o[c+16>>2]=n;o[c+20>>2]=s;s=t>0;n=c+4|0;l[n>>2]=s?1/t:0;r=e+103E3|0;l[c+8>>2]=+l[r>>2]*t;i[c+24>>0]=i[e+103004>>0]|0;Ld(f);pf(e+102880|0);l[e+103012>>2]=+Ud(f);if((i[e+103007>>0]|0)!=0&s){Ld(d);s=o[e+102968>>2]|0;if(s){f=s;do{at(f,c);f=o[f+408>>2]|0}while((f|0)!=0)}Qo(e,c);l[e+103016>>2]=+Ud(d);g=+l[c>>2]}else g=t;if((i[e+103005>>0]|0)!=0&g>0){Ld(p);Vh(e,c);l[e+103036>>2]=+Ud(p);y=+l[c>>2]}else y=g;if(y>0)o[r>>2]=o[n>>2];n=o[_>>2]|0;if(!(n&4)){v=n&-3;o[_>>2]=v;x=+Ud(u);w=e+103008|0;l[w>>2]=x;h=a;return}r=o[e+102960>>2]|0;if(!r){v=n&-3;o[_>>2]=v;x=+Ud(u);w=e+103008|0;l[w>>2]=x;h=a;return}else S=r;do{l[S+92>>2]=0;l[S+96>>2]=0;l[S+100>>2]=0;S=o[S+112>>2]|0}while((S|0)!=0);v=n&-3;o[_>>2]=v;x=+Ud(u);w=e+103008|0;l[w>>2]=x;h=a;return}function qh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0;i=h;h=h+16|0;n=i;s=e+102880|0;o[n>>2]=s;o[n+4>>2]=t;Zh(s,n,r);n=o[e+102968>>2]|0;if(!n){h=i;return}e=n;do{if(bm[o[(o[t>>2]|0)+16>>2]&31](t,e)|0)wt(e,t,r);e=o[e+408>>2]|0}while((e|0)!=0);h=i;return}function Kh(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,d=0;n=h;h=h+32|0;s=n+24|0;a=n;u=e+102880|0;o[s>>2]=u;o[s+4>>2]=t;l[a+16>>2]=1;c=r;f=o[c+4>>2]|0;d=a;o[d>>2]=o[c>>2];o[d+4>>2]=f;f=i;d=o[f+4>>2]|0;c=a+8|0;o[c>>2]=o[f>>2];o[c+4>>2]=d;Qh(u,s,a);a=o[e+102968>>2]|0;if(!a){h=n;return}e=a;do{if(bm[o[(o[t>>2]|0)+16>>2]&31](t,e)|0)St(e,t,r,i);e=o[e+408>>2]|0}while((e|0)!=0);h=n;return}function Zh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;i=h;h=h+1040|0;n=i;s=n+4|0;o[n>>2]=s;a=n+1028|0;o[a>>2]=0;u=n+1032|0;o[u>>2]=256;o[s>>2]=o[e>>2];c=o[a>>2]|0;f=c+1|0;o[a>>2]=f;e:do{if((c|0)>-1){d=e+4|0;p=r+4|0;_=r+8|0;m=r+12|0;b=t+4|0;g=f;while(1){y=g+-1|0;o[a>>2]=y;v=o[n>>2]|0;x=o[v+(y<<2)>>2]|0;do{if((x|0)!=-1?(w=o[d>>2]|0,!((+l[r>>2]-+l[w+(x*36|0)+8>>2]>0?1:+l[p>>2]-+l[w+(x*36|0)+12>>2]>0)|+l[w+(x*36|0)>>2]-+l[_>>2]>0|+l[w+(x*36|0)+4>>2]-+l[m>>2]>0)):0){S=w+(x*36|0)+24|0;if((o[S>>2]|0)==-1){E=o[b>>2]|0;if(!(bm[o[(o[E>>2]|0)+8>>2]&31](E,o[(o[(o[(o[t>>2]|0)+4>>2]|0)+(x*36|0)+16>>2]|0)+16>>2]|0)|0))break e;A=o[a>>2]|0;break}if((y|0)==(o[u>>2]|0)?(o[u>>2]=y<<1,E=zd(y<<3)|0,o[n>>2]=E,p_(E|0,v|0,o[a>>2]<<2|0)|0,(v|0)!=(s|0)):0)jd(v);E=o[n>>2]|0;o[E+(o[a>>2]<<2)>>2]=o[S>>2];S=(o[a>>2]|0)+1|0;o[a>>2]=S;T=w+(x*36|0)+28|0;if((S|0)==(o[u>>2]|0)?(o[u>>2]=S<<1,w=zd(S<<3)|0,o[n>>2]=w,p_(w|0,E|0,o[a>>2]<<2|0)|0,(E|0)!=(s|0)):0)jd(E);o[(o[n>>2]|0)+(o[a>>2]<<2)>>2]=o[T>>2];T=(o[a>>2]|0)+1|0;o[a>>2]=T;A=T}else A=y}while(0);if((A|0)>0)g=A;else break}}}while(0);A=o[n>>2]|0;if((A|0)==(s|0)){h=i;return}jd(A);o[n>>2]=0;h=i;return}function Qh(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0;i=h;h=h+1088|0;n=i+1064|0;s=i+1056|0;a=i+20|0;u=i;c=+l[r>>2];f=+l[r+4>>2];p=r+8|0;_=+l[p>>2]-c;m=+l[r+12>>2]-f;b=+J(+(_*_+m*m));if(b<1.1920928955078125E-7){g=m;y=_}else{v=1/b;g=m*v;y=_*v}v=-g;b=g<-0?v:g;g=y>0?y:-y;x=+l[r+16>>2];w=c+_*x;S=f+m*x;E=a+4|0;o[a>>2]=E;A=a+1028|0;o[A>>2]=0;T=a+1032|0;o[T>>2]=256;o[E>>2]=o[e>>2];P=o[A>>2]|0;C=P+1|0;o[A>>2]=C;e:do{if((P|0)>-1){M=(l[d>>2]=f>S?f:S,o[d>>2]|0);F=(l[d>>2]=c>w?c:w,o[d>>2]|0);I=(l[d>>2]=f<S?f:S,o[d>>2]|0);O=e+4|0;D=u+8|0;k=u+16|0;R=n+8|0;B=u+4|0;N=u+8|0;L=u+12|0;G=s+4|0;U=t+4|0;z=C;j=M;M=F;F=I;I=(l[d>>2]=c<w?c:w,o[d>>2]|0);X=E;H=x;while(1){W=(o[d>>2]=I,+l[d>>2]);V=(o[d>>2]=F,+l[d>>2]);Y=(o[d>>2]=M,+l[d>>2]);q=(o[d>>2]=j,+l[d>>2]);K=z;Z=X;while(1){Q=K+-1|0;o[A>>2]=Q;$=o[Z+(Q<<2)>>2]|0;if(($|0)==-1){ee=Q;te=Z}else{re=o[O>>2]|0;ie=+l[re+($*36|0)+8>>2];ne=+l[re+($*36|0)+12>>2];oe=+l[re+($*36|0)>>2];se=+l[re+($*36|0)+4>>2];if(W-ie>0|V-ne>0|oe-Y>0|se-q>0){ae=j;ue=M;le=F;ce=I;he=H;break}fe=(c-(ie+oe)*.5)*v+y*(f-(ne+se)*.5);if((fe>0?fe:-fe)-(b*((ie-oe)*.5)+g*((ne-se)*.5))>0){ae=j;ue=M;le=F;ce=I;he=H;break}de=re+($*36|0)+24|0;if((o[de>>2]|0)==-1){pe=$;_e=13;break}if((Q|0)==(o[T>>2]|0)?(o[T>>2]=Q<<1,me=zd(Q<<3)|0,o[a>>2]=me,p_(me|0,Z|0,o[A>>2]<<2|0)|0,(Z|0)!=(E|0)):0)jd(Z);me=o[a>>2]|0;o[me+(o[A>>2]<<2)>>2]=o[de>>2];de=(o[A>>2]|0)+1|0;o[A>>2]=de;Q=re+($*36|0)+28|0;if((de|0)==(o[T>>2]|0)?(o[T>>2]=de<<1,$=zd(de<<3)|0,o[a>>2]=$,p_($|0,me|0,o[A>>2]<<2|0)|0,(me|0)!=(E|0)):0)jd(me);me=o[a>>2]|0;o[me+(o[A>>2]<<2)>>2]=o[Q>>2];Q=(o[A>>2]|0)+1|0;o[A>>2]=Q;ee=Q;te=me}if((ee|0)>0){K=ee;Z=te}else break e}if((_e|0)==13){_e=0;Z=r;K=o[Z+4>>2]|0;me=u;o[me>>2]=o[Z>>2];o[me+4>>2]=K;K=p;me=o[K+4>>2]|0;Z=D;o[Z>>2]=o[K>>2];o[Z+4>>2]=me;l[k>>2]=H;me=o[(o[(o[t>>2]|0)+4>>2]|0)+(pe*36|0)+16>>2]|0;Z=o[me+16>>2]|0;K=o[Z+12>>2]|0;if(gm[o[(o[K>>2]|0)+24>>2]&15](K,n,u,(o[Z+8>>2]|0)+12|0,o[me+20>>2]|0)|0){q=+l[R>>2];Y=1-q;V=Y*+l[B>>2]+q*+l[L>>2];l[s>>2]=+l[u>>2]*Y+q*+l[N>>2];l[G>>2]=V;me=o[U>>2]|0;be=+lm[o[(o[me>>2]|0)+8>>2]&1](me,Z,s,n,q)}else be=+l[k>>2];if(be==0)break e;if(be>0){q=c+_*be;V=f+m*be;Z=(l[d>>2]=c<q?c:q,o[d>>2]|0);me=(l[d>>2]=f<V?f:V,o[d>>2]|0);K=(l[d>>2]=c>q?c:q,o[d>>2]|0);ae=(l[d>>2]=f>V?f:V,o[d>>2]|0);ue=K;le=me;ce=Z;he=be}else{ae=j;ue=M;le=F;ce=I;he=H}}Z=o[A>>2]|0;if((Z|0)<=0)break e;z=Z;j=ae;M=ue;F=le;I=ce;X=o[a>>2]|0;H=he}}}while(0);ce=o[a>>2]|0;if((ce|0)==(E|0)){h=i;return}jd(ce);o[a>>2]=0;h=i;return}function $h(e,t,r){e=e|0;t=t|0;r=r|0;var s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0;s=e+12|0;a=e+28|0;u=e+4|0;c=(i[t+39>>0]|0)==0?0:8;n[u>>1]=c;if(!(i[t+38>>0]|0))h=c;else{f=(c&65535|16)&65535;n[u>>1]=f;h=f}if(!(i[t+36>>0]|0))d=h;else{f=(h&65535|4)&65535;n[u>>1]=f;d=f}if(!(i[t+37>>0]|0))p=d;else{f=(d&65535|2)&65535;n[u>>1]=f;p=f}if(i[t+40>>0]|0)n[u>>1]=p&65535|32;o[e+104>>2]=r;r=t+4|0;p=o[r>>2]|0;u=o[r+4>>2]|0;r=s;o[r>>2]=p;o[r+4>>2]=u;r=t+12|0;_=+l[r>>2];l[e+20>>2]=+W(+_);l[e+24>>2]=+H(+_);o[a>>2]=o[s>>2];o[a+4>>2]=o[s+4>>2];o[a+8>>2]=o[s+8>>2];o[a+12>>2]=o[s+12>>2];l[e+44>>2]=0;l[e+48>>2]=0;s=e+52|0;o[s>>2]=p;o[s+4>>2]=u;s=e+60|0;o[s>>2]=p;o[s+4>>2]=u;u=o[r>>2]|0;o[e+68>>2]=u;o[e+72>>2]=u;l[e+76>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;u=t+16|0;r=o[u+4>>2]|0;s=e+80|0;o[s>>2]=o[u>>2];o[s+4>>2]=r;o[e+88>>2]=o[t+24>>2];o[e+148>>2]=o[t+28>>2];o[e+152>>2]=o[t+32>>2];o[e+156>>2]=o[t+48>>2];l[e+92>>2]=0;l[e+96>>2]=0;l[e+100>>2]=0;l[e+160>>2]=0;r=o[t>>2]|0;o[e>>2]=r;s=(r|0)==2;l[e+132>>2]=s?1:0;l[e+136>>2]=s?1:0;l[e+140>>2]=0;l[e+144>>2]=0;o[e+164>>2]=o[t+44>>2];o[e+116>>2]=0;o[e+120>>2]=0;return}function ef(e){e=e|0;return}function tf(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;r=h;h=h+16|0;i=r;s=e+104|0;if(o[(o[s>>2]|0)+102876>>2]&2){h=r;return}if((o[e>>2]|0)==(t|0)){h=r;return}o[e>>2]=t;rf(e);if((o[e>>2]|0)==0?(l[e+80>>2]=0,l[e+84>>2]=0,l[e+88>>2]=0,t=o[e+72>>2]|0,o[e+68>>2]=t,u=e+60|0,c=o[u>>2]|0,f=o[u+4>>2]|0,u=e+52|0,o[u>>2]=c,o[u+4>>2]=f,p=(o[d>>2]=t,+l[d>>2]),_=+W(+p),l[i+8>>2]=_,m=+H(+p),l[i+12>>2]=m,p=+l[e+44>>2],b=+l[e+48>>2],g=(o[d>>2]=c,+l[d>>2])-(m*p-_*b),y=(o[d>>2]=f,+l[d>>2])-(_*p+m*b),l[i>>2]=g,l[i+4>>2]=y,f=(o[s>>2]|0)+102880|0,c=o[e+116>>2]|0,(c|0)!=0):0){t=e+12|0;u=c;do{zo(u,f,i,t);u=o[u+4>>2]|0}while((u|0)!=0)}u=e+4|0;t=a[u>>1]|0;if(!(t&2)){n[u>>1]=t|2;l[e+160>>2]=0}l[e+92>>2]=0;l[e+96>>2]=0;l[e+100>>2]=0;t=e+128|0;u=o[t>>2]|0;if(u){i=u;do{u=i;i=o[i+12>>2]|0;df((o[s>>2]|0)+102880|0,o[u+4>>2]|0)}while((i|0)!=0)}o[t>>2]=0;t=(o[s>>2]|0)+102880|0;s=o[e+116>>2]|0;if(!s){h=r;return}else v=s;do{s=o[v+28>>2]|0;if((s|0)>0){e=v+24|0;i=0;do{Bc(t,o[(o[e>>2]|0)+(i*28|0)+24>>2]|0);i=i+1|0}while((i|0)!=(s|0))}v=o[v+4>>2]|0}while((v|0)!=0);h=r;return}function rf(e){e=e|0;var t=0,r=0,i=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0;t=h;h=h+16|0;r=t;i=e+132|0;s=e+136|0;a=e+140|0;u=e+144|0;c=e+44|0;l[c>>2]=0;f=e+48|0;l[f>>2]=0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;if((o[e>>2]|0)>>>0<2){p=e+12|0;_=o[p>>2]|0;m=o[p+4>>2]|0;p=e+52|0;o[p>>2]=_;o[p+4>>2]=m;p=e+60|0;o[p>>2]=_;o[p+4>>2]=m;o[e+68>>2]=o[e+72>>2];h=t;return}m=o[610]|0;p=o[611]|0;_=o[e+116>>2]|0;if(_){b=r+4|0;g=r+8|0;y=r+12|0;v=0;x=0;w=m;S=p;E=_;while(1){A=+l[E>>2];if(A==0){T=v;P=x;C=S;M=w}else{_=o[E+12>>2]|0;pm[o[(o[_>>2]|0)+32>>2]&31](_,r,A);A=+l[r>>2];F=A+ +l[i>>2];l[i>>2]=F;_=(l[d>>2]=(o[d>>2]=w,+l[d>>2])+A*+l[b>>2],o[d>>2]|0);I=(l[d>>2]=(o[d>>2]=S,+l[d>>2])+A*+l[g>>2],o[d>>2]|0);A=+l[y>>2]+ +l[a>>2];l[a>>2]=A;T=A;P=F;C=I;M=_}E=o[E+4>>2]|0;if(!E){O=T;D=P;k=C;R=M;break}else{v=T;x=P;w=M;S=C}}if(D>0){P=1/D;l[s>>2]=P;C=(l[d>>2]=(o[d>>2]=R,+l[d>>2])*P,o[d>>2]|0);B=O;N=C;L=(l[d>>2]=(o[d>>2]=k,+l[d>>2])*P,o[d>>2]|0);G=D}else{U=k;z=R;j=O;J=10}}else{U=p;z=m;j=0;J=10}if((J|0)==10){l[i>>2]=1;l[s>>2]=1;B=j;N=z;L=U;G=1}if(B>0?(n[e+4>>1]&16)==0:0){j=(o[d>>2]=N,+l[d>>2]);O=(o[d>>2]=L,+l[d>>2]);D=B-(O*O+j*j)*G;l[a>>2]=D;X=O;H=j;W=1/D}else{l[a>>2]=0;D=(o[d>>2]=N,+l[d>>2]);X=(o[d>>2]=L,+l[d>>2]);H=D;W=0}l[u>>2]=W;u=e+60|0;W=+l[u>>2];a=e+64|0;D=+l[a>>2];o[c>>2]=N;o[f>>2]=L;j=+l[e+24>>2];O=+l[e+20>>2];G=+l[e+12>>2]+(j*H-O*X);B=H*O+j*X+ +l[e+16>>2];l[u>>2]=G;l[a>>2]=B;l[e+52>>2]=G;l[e+56>>2]=B;X=+l[e+88>>2];a=e+80|0;l[a>>2]=+l[a>>2]-X*(B-D);a=e+84|0;l[a>>2]=X*(G-W)+ +l[a>>2];h=t;return}function nf(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0;t=h;h=h+16|0;r=t;i=+l[e+68>>2];n=+W(+i);l[r+8>>2]=n;s=+H(+i);l[r+12>>2]=s;i=+l[e+44>>2];a=+l[e+48>>2];u=+l[e+56>>2]-(i*n+s*a);l[r>>2]=+l[e+52>>2]-(s*i-n*a);l[r+4>>2]=u;c=(o[e+104>>2]|0)+102880|0;f=o[e+116>>2]|0;if(!f){h=t;return}d=e+12|0;e=f;do{zo(e,c,r,d);e=o[e+4>>2]|0}while((e|0)!=0);h=t;return}function of(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0;r=e+104|0;i=o[r>>2]|0;if(o[i+102876>>2]&2){s=0;return s|0}a=Od(i,44)|0;Bo(a);No(a,i,e,t);if(n[e+4>>1]&32)Go(a,(o[r>>2]|0)+102880|0,e+12|0);t=e+116|0;o[a+4>>2]=o[t>>2];o[t>>2]=a;t=e+120|0;o[t>>2]=(o[t>>2]|0)+1;o[a+8>>2]=e;if(+l[a>>2]>0)rf(e);e=(o[r>>2]|0)+102876|0;o[e>>2]=o[e>>2]|1;s=a;return s|0}function sf(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0,u=0,l=0;r=e+104|0;if(o[(o[r>>2]|0)+102876>>2]&2)return;i=e+116|0;s=o[i>>2]|0;e:do{if(s){a=s;u=i;while(1){if((a|0)==(t|0)){l=u;break}u=a+4|0;a=o[u>>2]|0;if(!a)break e}o[l>>2]=o[t+4>>2]}}while(0);l=o[e+128>>2]|0;if(l){i=l;do{l=o[i+4>>2]|0;i=o[i+12>>2]|0;if((o[l+48>>2]|0)==(t|0)?1:(o[l+52>>2]|0)==(t|0))df((o[r>>2]|0)+102880|0,l)}while((i|0)!=0)}i=o[r>>2]|0;if(n[e+4>>1]&32)Uo(t,i+102880|0);Lo(t,i);o[t+8>>2]=0;o[t+4>>2]=0;Dd(i,t,44);t=e+120|0;o[t>>2]=(o[t>>2]|0)+-1;rf(e);return}function af(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0;if(o[(o[e+104>>2]|0)+102876>>2]&2)return;if((o[e>>2]|0)!=2)return;r=e+140|0;l[r>>2]=0;i=e+144|0;l[i>>2]=0;s=+l[t>>2];a=!(s<=0)?s:1;l[e+132>>2]=a;l[e+136>>2]=1/a;s=+l[t+12>>2];if(s>0?(n[e+4>>1]&16)==0:0){u=+l[t+4>>2];c=+l[t+8>>2];h=s-a*(u*u+c*c);l[r>>2]=h;l[i>>2]=1/h}i=e+60|0;h=+l[i>>2];r=e+64|0;c=+l[r>>2];f=t+4|0;t=o[f>>2]|0;p=o[f+4>>2]|0;f=e+44|0;o[f>>2]=t;o[f+4>>2]=p;u=+l[e+24>>2];a=(o[d>>2]=t,+l[d>>2]);s=+l[e+20>>2];_=(o[d>>2]=p,+l[d>>2]);m=+l[e+12>>2]+(u*a-s*_);b=a*s+u*_+ +l[e+16>>2];l[i>>2]=m;l[r>>2]=b;l[e+52>>2]=m;l[e+56>>2]=b;_=+l[e+88>>2];r=e+80|0;l[r>>2]=+l[r>>2]-_*(b-c);r=e+84|0;l[r>>2]=_*(m-h)+ +l[r>>2];return}function uf(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0;if((o[e>>2]|0)!=2?(o[t>>2]|0)!=2:0){r=0;return r|0}n=o[e+124>>2]|0;if(!n){r=1;return r|0}else s=n;while(1){if((o[s>>2]|0)==(t|0)?(i[(o[s+4>>2]|0)+61>>0]|0)==0:0){r=0;a=7;break}s=o[s+12>>2]|0;if(!s){r=1;a=7;break}}if((a|0)==7)return r|0;return 0}function lf(e,t,r){e=e|0;t=t|0;r=+r;var i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0;i=o[e+104>>2]|0;if(o[i+102876>>2]&2)return;n=e+12|0;s=+W(+r);l[e+20>>2]=s;a=+H(+r);l[e+24>>2]=a;u=t;t=o[u>>2]|0;c=o[u+4>>2]|0;u=n;o[u>>2]=t;o[u+4>>2]=c;u=e+28|0;o[u>>2]=o[n>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];u=e+60|0;h=+l[e+44>>2];f=+l[e+48>>2];p=(o[d>>2]=t,+l[d>>2])+(a*h-s*f);_=h*s+a*f+(o[d>>2]=c,+l[d>>2]);l[u>>2]=p;l[e+64>>2]=_;l[e+72>>2]=r;c=u;u=o[c+4>>2]|0;t=e+52|0;o[t>>2]=o[c>>2];o[t+4>>2]=u;l[e+68>>2]=r;u=i+102880|0;i=o[e+116>>2]|0;if(!i)return;else m=i;do{zo(m,u,n,n);m=o[m+4>>2]|0}while((m|0)!=0);return}function cf(e,t){e=e|0;t=t|0;var r=0,i=0,s=0,a=0,u=0;r=e+4|0;i=n[r>>1]|0;if(!((i&32)!=0^t))return;s=i&65535;if(t){n[r>>1]=s|32;t=(o[e+104>>2]|0)+102880|0;i=o[e+116>>2]|0;if(!i)return;a=e+12|0;u=i;do{Go(u,t,a);u=o[u+4>>2]|0}while((u|0)!=0);return}n[r>>1]=s&65503;s=e+104|0;r=(o[s>>2]|0)+102880|0;u=o[e+116>>2]|0;if(u){a=u;do{Uo(a,r);a=o[a+4>>2]|0}while((a|0)!=0)}a=e+128|0;e=o[a>>2]|0;if(e){r=e;do{e=r;r=o[r+12>>2]|0;df((o[s>>2]|0)+102880|0,o[e+4>>2]|0)}while((r|0)!=0)}o[a>>2]=0;return}function hf(e,t){e=e|0;t=t|0;var r=0,i=0;r=e+4|0;i=a[r>>1]|0;if(!((i&16|0)!=0^t))return;n[r>>1]=t?i|16:i&65519;l[e+88>>2]=0;rf(e);return}function ff(e){e=e|0;Ic(e);o[e+60>>2]=0;o[e+64>>2]=0;o[e+68>>2]=2088;o[e+72>>2]=2092;o[e+76>>2]=0;return}function df(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0;r=o[(o[t+48>>2]|0)+8>>2]|0;i=o[(o[t+52>>2]|0)+8>>2]|0;n=o[e+72>>2]|0;if((n|0)!=0?(o[t+4>>2]&2|0)!=0:0)cm[o[(o[n>>2]|0)+12>>2]&63](n,t);n=o[t+8>>2]|0;s=t+12|0;if(n)o[n+12>>2]=o[s>>2];a=o[s>>2]|0;if(a)o[a+8>>2]=n;n=e+60|0;if((o[n>>2]|0)==(t|0))o[n>>2]=a;a=o[t+24>>2]|0;n=t+28|0;if(a)o[a+12>>2]=o[n>>2];s=o[n>>2]|0;if(s)o[s+8>>2]=a;a=r+128|0;if((t+16|0)==(o[a>>2]|0))o[a>>2]=s;s=o[t+40>>2]|0;a=t+44|0;if(s)o[s+12>>2]=o[a>>2];r=o[a>>2]|0;if(r)o[r+8>>2]=s;s=i+128|0;if((t+32|0)!=(o[s>>2]|0)){u=e+76|0;l=o[u>>2]|0;Qn(t,l);c=e+64|0;h=o[c>>2]|0;f=h+-1|0;o[c>>2]=f;return}o[s>>2]=r;u=e+76|0;l=o[u>>2]|0;Qn(t,l);c=e+64|0;h=o[c>>2]|0;f=h+-1|0;o[c>>2]=f;return}function pf(e){e=e|0;var t=0,r=0,i=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;t=o[e+60>>2]|0;if(!t)return;r=e+4|0;i=e+72|0;s=e+68|0;a=t;while(1){t=o[a+48>>2]|0;u=o[a+52>>2]|0;c=o[a+56>>2]|0;h=o[a+60>>2]|0;f=o[t+8>>2]|0;d=o[u+8>>2]|0;p=a+4|0;do{if(!(o[p>>2]&8))_=11;else{if(!(uf(d,f)|0)){m=o[a+12>>2]|0;df(e,a);b=m;break}m=o[s>>2]|0;if((m|0)!=0?!(hm[o[(o[m>>2]|0)+8>>2]&15](m,t,u)|0):0){m=o[a+12>>2]|0;df(e,a);b=m;break}o[p>>2]=o[p>>2]&-9;_=11}}while(0);do{if((_|0)==11){_=0;if(!(n[f+4>>1]&2))g=0;else g=(o[f>>2]|0)!=0;if(!(n[d+4>>1]&2))y=0;else y=(o[d>>2]|0)!=0;if(!(g|y)){b=o[a+12>>2]|0;break}p=o[(o[t+24>>2]|0)+(c*28|0)+24>>2]|0;m=o[(o[u+24>>2]|0)+(h*28|0)+24>>2]|0;v=o[r>>2]|0;if((+l[v+(m*36|0)>>2]-+l[v+(p*36|0)+8>>2]>0?1:+l[v+(m*36|0)+4>>2]-+l[v+(p*36|0)+12>>2]>0)|+l[v+(p*36|0)>>2]-+l[v+(m*36|0)+8>>2]>0|+l[v+(p*36|0)+4>>2]-+l[v+(m*36|0)+12>>2]>0){m=o[a+12>>2]|0;df(e,a);b=m;break}else{eo(a,o[i>>2]|0);b=o[a+12>>2]|0;break}}}while(0);if(!b)break;else a=b}return}function _f(e){e=e|0;bf(e,e);return}function mf(e,t,r){e=e|0;t=t|0;r=r|0;var s=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0;s=o[t+16>>2]|0;u=o[r+16>>2]|0;c=o[t+20>>2]|0;t=o[r+20>>2]|0;r=o[s+8>>2]|0;h=o[u+8>>2]|0;if((r|0)==(h|0))return;f=o[h+128>>2]|0;e:do{if(f){d=f;while(1){if((o[d>>2]|0)==(r|0)){p=o[d+4>>2]|0;_=o[p+48>>2]|0;m=o[p+52>>2]|0;b=o[p+56>>2]|0;g=o[p+60>>2]|0;if((_|0)==(s|0)&(m|0)==(u|0)&(b|0)==(c|0)&(g|0)==(t|0)){y=24;break}if((_|0)==(u|0)&(m|0)==(s|0)&(b|0)==(t|0)&(g|0)==(c|0)){y=24;break}}d=o[d+12>>2]|0;if(!d)break e}if((y|0)==24)return}}while(0);if(!(uf(h,r)|0))return;r=o[e+68>>2]|0;if((r|0)!=0?!(hm[o[(o[r>>2]|0)+8>>2]&15](r,s,u)|0):0)return;r=Zn(s,c,u,t,o[e+76>>2]|0)|0;if(!r)return;t=o[r+48>>2]|0;u=o[r+52>>2]|0;c=o[t+8>>2]|0;s=o[u+8>>2]|0;o[r+8>>2]=0;h=e+60|0;y=o[h>>2]|0;o[r+12>>2]=y;if(y)o[y+8>>2]=r;o[h>>2]=r;h=r+16|0;o[r+20>>2]=r;o[h>>2]=s;o[r+24>>2]=0;y=c+128|0;f=o[y>>2]|0;o[r+28>>2]=f;if(f)o[f+8>>2]=h;o[y>>2]=h;h=r+32|0;o[r+36>>2]=r;o[h>>2]=c;o[r+40>>2]=0;y=s+128|0;f=o[y>>2]|0;o[r+44>>2]=f;if(f)o[f+8>>2]=h;o[y>>2]=h;if((i[t+38>>0]|0)==0?(i[u+38>>0]|0)==0:0){u=c+4|0;t=a[u>>1]|0;if(!(t&2)){n[u>>1]=t|2;l[c+160>>2]=0}c=s+4|0;t=a[c>>1]|0;if(!(t&2)){n[c>>1]=t|2;l[s+160>>2]=0}}s=e+64|0;o[s>>2]=(o[s>>2]|0)+1;return}function bf(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0;r=h;h=h+16|0;i=r;n=e+52|0;o[n>>2]=0;s=e+40|0;a=o[s>>2]|0;if((a|0)>0){u=e+32|0;l=e+56|0;c=e+4|0;f=a;a=0;while(1){d=o[(o[u>>2]|0)+(a<<2)>>2]|0;o[l>>2]=d;if((d|0)==-1)p=f;else{Sf(e,e,(o[c>>2]|0)+(d*36|0)|0);p=o[s>>2]|0}a=a+1|0;if((a|0)>=(p|0))break;else f=p}_=o[n>>2]|0}else _=0;o[s>>2]=0;s=e+44|0;p=o[s>>2]|0;o[i>>2]=26;Af(p,p+(_<<3)|0,i);if((o[n>>2]|0)<=0){h=r;return}i=e+4|0;e=0;e:while(1){_=o[s>>2]|0;p=_+(e<<3)|0;f=o[i>>2]|0;a=_+(e<<3)+4|0;mf(t,o[f+((o[p>>2]|0)*36|0)+16>>2]|0,o[f+((o[a>>2]|0)*36|0)+16>>2]|0);f=o[n>>2]|0;_=e;while(1){c=_+1|0;if((c|0)>=(f|0))break e;l=o[s>>2]|0;if((o[l+(c<<3)>>2]|0)!=(o[p>>2]|0)){e=c;continue e}if((o[l+(c<<3)+4>>2]|0)==(o[a>>2]|0))_=c;else{e=c;continue e}}}h=r;return}function gf(e){e=e|0;op(e);return}function yf(e,t){e=e|0;t=t|0;return}function vf(e,t){e=e|0;t=t|0;return}function xf(e,t,r){e=e|0;t=t|0;r=r|0;return}function wf(e,t,r){e=e|0;t=t|0;r=r|0;return}function Sf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;i=h;h=h+1040|0;n=i;s=n+4|0;o[n>>2]=s;a=n+1028|0;o[a>>2]=0;u=n+1032|0;o[u>>2]=256;o[s>>2]=o[e>>2];c=o[a>>2]|0;f=c+1|0;o[a>>2]=f;e:do{if((c|0)>-1){d=e+4|0;p=r+4|0;_=r+8|0;m=r+12|0;b=f;while(1){g=b+-1|0;o[a>>2]=g;y=o[n>>2]|0;v=o[y+(g<<2)>>2]|0;do{if((v|0)!=-1?(x=o[d>>2]|0,!((+l[r>>2]-+l[x+(v*36|0)+8>>2]>0?1:+l[p>>2]-+l[x+(v*36|0)+12>>2]>0)|+l[x+(v*36|0)>>2]-+l[_>>2]>0|+l[x+(v*36|0)+4>>2]-+l[m>>2]>0)):0){w=x+(v*36|0)+24|0;if((o[w>>2]|0)==-1){if(!(Nc(t,v)|0))break e;S=o[a>>2]|0;break}if((g|0)==(o[u>>2]|0)?(o[u>>2]=g<<1,E=zd(g<<3)|0,o[n>>2]=E,p_(E|0,y|0,o[a>>2]<<2|0)|0,(y|0)!=(s|0)):0)jd(y);E=o[n>>2]|0;o[E+(o[a>>2]<<2)>>2]=o[w>>2];w=(o[a>>2]|0)+1|0;o[a>>2]=w;A=x+(v*36|0)+28|0;if((w|0)==(o[u>>2]|0)?(o[u>>2]=w<<1,x=zd(w<<3)|0,o[n>>2]=x,p_(x|0,E|0,o[a>>2]<<2|0)|0,(E|0)!=(s|0)):0)jd(E);o[(o[n>>2]|0)+(o[a>>2]<<2)>>2]=o[A>>2];A=(o[a>>2]|0)+1|0;o[a>>2]=A;S=A}else S=g}while(0);if((S|0)>0)b=S;else break}}}while(0);S=o[n>>2]|0;if((S|0)==(s|0)){h=i;return}jd(S);o[n>>2]=0;h=i;return}function Ef(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=o[e>>2]|0;i=o[t>>2]|0;if((r|0)<(i|0)){n=1;return n|0}if((r|0)!=(i|0)){n=0;return n|0}n=(o[e+4>>2]|0)<(o[t+4>>2]|0);return n|0}function Af(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0;i=e;e=t;e:while(1){t=e;n=e+-8|0;s=i;t:while(1){a=s;u=t-a|0;l=u>>3;switch(l|0){case 2:{c=s;h=n;f=n;d=4;break e;break}case 3:{p=s;_=n;m=n;d=6;break e;break}case 4:{b=s;g=n;d=14;break e;break}case 5:{y=s;v=n;x=n;d=15;break e;break}case 1:case 0:{d=69;break e;break}default:{}}if((u|0)<248){w=s;S=e;d=21;break e}E=(l|0)/2|0;A=s+(E<<3)|0;do{if((u|0)>7992){T=(l|0)/4|0;P=s+(T<<3)|0;C=s+(T+E<<3)|0;T=Tf(s,P,A,C,r)|0;if(bm[o[r>>2]&31](n,C)|0){M=C;F=o[M>>2]|0;I=o[M+4>>2]|0;M=n;O=o[M+4>>2]|0;D=C;o[D>>2]=o[M>>2];o[D+4>>2]=O;O=n;o[O>>2]=F;o[O+4>>2]=I;I=T+1|0;if(bm[o[r>>2]&31](C,A)|0){O=A;F=o[O>>2]|0;D=o[O+4>>2]|0;O=C;M=o[O+4>>2]|0;k=A;o[k>>2]=o[O>>2];o[k+4>>2]=M;M=C;o[M>>2]=F;o[M+4>>2]=D;D=T+2|0;if(bm[o[r>>2]&31](A,P)|0){M=P;F=o[M>>2]|0;C=o[M+4>>2]|0;M=A;k=o[M+4>>2]|0;O=P;o[O>>2]=o[M>>2];o[O+4>>2]=k;k=A;o[k>>2]=F;o[k+4>>2]=C;if(bm[o[r>>2]&31](P,s)|0){C=s;k=o[C>>2]|0;F=o[C+4>>2]|0;C=P;O=o[C+4>>2]|0;M=s;o[M>>2]=o[C>>2];o[M+4>>2]=O;O=P;o[O>>2]=k;o[O+4>>2]=F;R=T+4|0}else R=T+3|0}else R=D}else R=I}else R=T}else{T=bm[o[r>>2]&31](A,s)|0;I=bm[o[r>>2]&31](n,A)|0;if(!T){if(!I){R=0;break}T=A;D=o[T>>2]|0;F=o[T+4>>2]|0;T=n;O=o[T+4>>2]|0;k=A;o[k>>2]=o[T>>2];o[k+4>>2]=O;O=n;o[O>>2]=D;o[O+4>>2]=F;if(!(bm[o[r>>2]&31](A,s)|0)){R=1;break}F=s;O=o[F>>2]|0;D=o[F+4>>2]|0;F=A;k=o[F+4>>2]|0;T=s;o[T>>2]=o[F>>2];o[T+4>>2]=k;k=A;o[k>>2]=O;o[k+4>>2]=D;R=2;break}D=s;k=o[D>>2]|0;O=o[D+4>>2]|0;if(I){I=n;D=o[I+4>>2]|0;T=s;o[T>>2]=o[I>>2];o[T+4>>2]=D;D=n;o[D>>2]=k;o[D+4>>2]=O;R=1;break}D=A;T=o[D+4>>2]|0;I=s;o[I>>2]=o[D>>2];o[I+4>>2]=T;T=A;o[T>>2]=k;o[T+4>>2]=O;if(bm[o[r>>2]&31](n,A)|0){O=A;T=o[O>>2]|0;k=o[O+4>>2]|0;O=n;I=o[O+4>>2]|0;D=A;o[D>>2]=o[O>>2];o[D+4>>2]=I;I=n;o[I>>2]=T;o[I+4>>2]=k;R=2}else R=1}}while(0);do{if(bm[o[r>>2]&31](s,A)|0){B=n;N=R}else{E=n;while(1){l=E+-8|0;if((s|0)==(l|0))break;if(bm[o[r>>2]&31](l,A)|0){L=l;d=51;break}else E=l}if((d|0)==51){d=0;E=s;l=o[E>>2]|0;u=o[E+4>>2]|0;E=L;k=o[E+4>>2]|0;I=s;o[I>>2]=o[E>>2];o[I+4>>2]=k;k=L;o[k>>2]=l;o[k+4>>2]=u;B=L;N=R+1|0;break}u=s+8|0;if(bm[o[r>>2]&31](s,n)|0)G=u;else{if((u|0)==(n|0)){d=69;break e}else{U=s;z=u}while(1){if(bm[o[r>>2]&31](s,z)|0){j=U;J=z;break}u=z+8|0;if((u|0)==(n|0)){d=69;break e}else{k=z;z=u;U=k}}k=J;u=o[k>>2]|0;l=o[k+4>>2]|0;k=n;I=o[k+4>>2]|0;E=J;o[E>>2]=o[k>>2];o[E+4>>2]=I;I=n;o[I>>2]=u;o[I+4>>2]=l;G=j+16|0}if((G|0)==(n|0)){d=69;break e}else{X=G;H=n}while(1){l=X;while(1){I=l+8|0;if(bm[o[r>>2]&31](s,l)|0){W=I;V=l;break}else l=I}l=H;while(1){I=l+-8|0;if(bm[o[r>>2]&31](s,I)|0)l=I;else{Y=I;break}}if(V>>>0>=Y>>>0){s=V;continue t}l=V;I=o[l>>2]|0;u=o[l+4>>2]|0;l=Y;E=o[l+4>>2]|0;k=V;o[k>>2]=o[l>>2];o[k+4>>2]=E;E=Y;o[E>>2]=I;o[E+4>>2]=u;X=W;H=Y}}}while(0);u=s+8|0;r:do{if(u>>>0<B>>>0){E=u;I=B;k=A;l=N;while(1){T=E;while(1){D=T+8|0;if(bm[o[r>>2]&31](T,k)|0)T=D;else{q=D;K=T;break}}T=I;while(1){D=T+-8|0;if(bm[o[r>>2]&31](D,k)|0){Z=D;break}else T=D}if(K>>>0>Z>>>0){Q=K;$=k;ee=l;break r}T=K;D=o[T>>2]|0;O=o[T+4>>2]|0;T=Z;F=o[T+4>>2]|0;P=K;o[P>>2]=o[T>>2];o[P+4>>2]=F;F=Z;o[F>>2]=D;o[F+4>>2]=O;E=q;I=Z;k=(k|0)==(K|0)?Z:k;l=l+1|0}}else{Q=u;$=A;ee=N}}while(0);if((Q|0)!=($|0)?bm[o[r>>2]&31]($,Q)|0:0){A=Q;u=o[A>>2]|0;l=o[A+4>>2]|0;A=$;k=o[A+4>>2]|0;I=Q;o[I>>2]=o[A>>2];o[I+4>>2]=k;k=$;o[k>>2]=u;o[k+4>>2]=l;te=ee+1|0}else te=ee;if(!te){re=Cf(s,Q,r)|0;l=Q+8|0;if(Cf(l,e,r)|0){d=64;break}if(re){s=l;continue}}l=Q;if((l-a|0)>=(t-l|0)){ie=s;ne=Q;d=68;break}Af(s,Q,r);s=Q+8|0}if((d|0)==64){d=0;if(re){d=69;break}else{i=s;e=Q;continue}}else if((d|0)==68){d=0;Af(ne+8|0,e,r);i=ie;e=ne;continue}}if((d|0)==4){if(!(bm[o[r>>2]&31](h,c)|0))return;h=c;ne=o[h>>2]|0;e=o[h+4>>2]|0;h=f;ie=o[h+4>>2]|0;i=c;o[i>>2]=o[h>>2];o[i+4>>2]=ie;ie=f;o[ie>>2]=ne;o[ie+4>>2]=e;return}else if((d|0)==6){e=p+8|0;ie=bm[o[r>>2]&31](e,p)|0;ne=bm[o[r>>2]&31](_,e)|0;if(!ie){if(!ne)return;ie=e;f=o[ie>>2]|0;i=o[ie+4>>2]|0;ie=m;h=o[ie+4>>2]|0;c=e;o[c>>2]=o[ie>>2];o[c+4>>2]=h;h=m;o[h>>2]=f;o[h+4>>2]=i;if(!(bm[o[r>>2]&31](e,p)|0))return;i=p;h=o[i>>2]|0;f=o[i+4>>2]|0;i=e;c=o[i+4>>2]|0;ie=p;o[ie>>2]=o[i>>2];o[ie+4>>2]=c;c=e;o[c>>2]=h;o[c+4>>2]=f;return}f=p;c=o[f>>2]|0;h=o[f+4>>2]|0;if(ne){ne=m;f=o[ne+4>>2]|0;ie=p;o[ie>>2]=o[ne>>2];o[ie+4>>2]=f;f=m;o[f>>2]=c;o[f+4>>2]=h;return}f=e;ie=o[f+4>>2]|0;ne=p;o[ne>>2]=o[f>>2];o[ne+4>>2]=ie;ie=e;o[ie>>2]=c;o[ie+4>>2]=h;if(!(bm[o[r>>2]&31](_,e)|0))return;_=e;h=o[_>>2]|0;ie=o[_+4>>2]|0;_=m;c=o[_+4>>2]|0;ne=e;o[ne>>2]=o[_>>2];o[ne+4>>2]=c;c=m;o[c>>2]=h;o[c+4>>2]=ie;return}else if((d|0)==14){Tf(b,b+8|0,b+16|0,g,r)|0;return}else if((d|0)==15){g=y+8|0;b=y+16|0;ie=y+24|0;Tf(y,g,b,ie,r)|0;if(!(bm[o[r>>2]&31](v,ie)|0))return;v=ie;c=o[v>>2]|0;h=o[v+4>>2]|0;v=x;m=o[v+4>>2]|0;ne=ie;o[ne>>2]=o[v>>2];o[ne+4>>2]=m;m=x;o[m>>2]=c;o[m+4>>2]=h;if(!(bm[o[r>>2]&31](ie,b)|0))return;h=b;m=o[h>>2]|0;c=o[h+4>>2]|0;h=ie;x=o[h+4>>2]|0;ne=b;o[ne>>2]=o[h>>2];o[ne+4>>2]=x;x=ie;o[x>>2]=m;o[x+4>>2]=c;if(!(bm[o[r>>2]&31](b,g)|0))return;c=g;x=o[c>>2]|0;m=o[c+4>>2]|0;c=b;ie=o[c+4>>2]|0;ne=g;o[ne>>2]=o[c>>2];o[ne+4>>2]=ie;ie=b;o[ie>>2]=x;o[ie+4>>2]=m;if(!(bm[o[r>>2]&31](g,y)|0))return;m=y;ie=o[m>>2]|0;x=o[m+4>>2]|0;m=g;b=o[m+4>>2]|0;ne=y;o[ne>>2]=o[m>>2];o[ne+4>>2]=b;b=g;o[b>>2]=ie;o[b+4>>2]=x;return}else if((d|0)==21){Pf(w,S,r);return}else if((d|0)==69)return}function Tf(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0;s=bm[o[n>>2]&31](t,e)|0;a=bm[o[n>>2]&31](r,t)|0;do{if(s){u=e;l=o[u>>2]|0;c=o[u+4>>2]|0;if(a){u=r;h=o[u+4>>2]|0;f=e;o[f>>2]=o[u>>2];o[f+4>>2]=h;h=r;o[h>>2]=l;o[h+4>>2]=c;d=1;break}h=t;f=o[h+4>>2]|0;u=e;o[u>>2]=o[h>>2];o[u+4>>2]=f;f=t;o[f>>2]=l;o[f+4>>2]=c;if(bm[o[n>>2]&31](r,t)|0){c=t;f=o[c>>2]|0;l=o[c+4>>2]|0;c=r;u=o[c+4>>2]|0;h=t;o[h>>2]=o[c>>2];o[h+4>>2]=u;u=r;o[u>>2]=f;o[u+4>>2]=l;d=2}else d=1}else if(a){l=t;u=o[l>>2]|0;f=o[l+4>>2]|0;l=r;h=o[l+4>>2]|0;c=t;o[c>>2]=o[l>>2];o[c+4>>2]=h;h=r;o[h>>2]=u;o[h+4>>2]=f;if(bm[o[n>>2]&31](t,e)|0){f=e;h=o[f>>2]|0;u=o[f+4>>2]|0;f=t;c=o[f+4>>2]|0;l=e;o[l>>2]=o[f>>2];o[l+4>>2]=c;c=t;o[c>>2]=h;o[c+4>>2]=u;d=2}else d=1}else d=0}while(0);if(!(bm[o[n>>2]&31](i,r)|0)){p=d;return p|0}a=r;s=o[a>>2]|0;u=o[a+4>>2]|0;a=i;c=o[a+4>>2]|0;h=r;o[h>>2]=o[a>>2];o[h+4>>2]=c;c=i;o[c>>2]=s;o[c+4>>2]=u;if(!(bm[o[n>>2]&31](r,t)|0)){p=d+1|0;return p|0}u=t;c=o[u>>2]|0;s=o[u+4>>2]|0;u=r;i=o[u+4>>2]|0;h=t;o[h>>2]=o[u>>2];o[h+4>>2]=i;i=r;o[i>>2]=c;o[i+4>>2]=s;if(!(bm[o[n>>2]&31](t,e)|0)){p=d+2|0;return p|0}n=e;s=o[n>>2]|0;i=o[n+4>>2]|0;n=t;c=o[n+4>>2]|0;r=e;o[r>>2]=o[n>>2];o[r+4>>2]=c;c=t;o[c>>2]=s;o[c+4>>2]=i;p=d+3|0;return p|0}function Pf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;i=h;h=h+16|0;n=i;s=e+16|0;a=e+8|0;u=bm[o[r>>2]&31](a,e)|0;l=bm[o[r>>2]&31](s,a)|0;do{if(u){c=e;f=o[c>>2]|0;d=o[c+4>>2]|0;if(l){c=s;p=o[c+4>>2]|0;_=e;o[_>>2]=o[c>>2];o[_+4>>2]=p;p=s;o[p>>2]=f;o[p+4>>2]=d;break}p=a;_=o[p+4>>2]|0;c=e;o[c>>2]=o[p>>2];o[c+4>>2]=_;_=a;o[_>>2]=f;o[_+4>>2]=d;if(bm[o[r>>2]&31](s,a)|0){d=a;_=o[d>>2]|0;f=o[d+4>>2]|0;d=s;c=o[d+4>>2]|0;p=a;o[p>>2]=o[d>>2];o[p+4>>2]=c;c=s;o[c>>2]=_;o[c+4>>2]=f}}else if(l?(f=a,c=o[f>>2]|0,_=o[f+4>>2]|0,f=s,p=o[f+4>>2]|0,d=a,o[d>>2]=o[f>>2],o[d+4>>2]=p,p=s,o[p>>2]=c,o[p+4>>2]=_,bm[o[r>>2]&31](a,e)|0):0){_=e;p=o[_>>2]|0;c=o[_+4>>2]|0;_=a;d=o[_+4>>2]|0;f=e;o[f>>2]=o[_>>2];o[f+4>>2]=d;d=a;o[d>>2]=p;o[d+4>>2]=c}}while(0);a=e+24|0;if((a|0)==(t|0)){h=i;return}else{m=a;b=s}while(1){if(bm[o[r>>2]&31](m,b)|0){s=m;a=o[s+4>>2]|0;l=n;o[l>>2]=o[s>>2];o[l+4>>2]=a;a=m;l=b;while(1){s=l;u=o[s+4>>2]|0;c=a;o[c>>2]=o[s>>2];o[c+4>>2]=u;if((l|0)==(e|0)){g=l;break}u=l+-8|0;if(bm[o[r>>2]&31](n,u)|0){c=l;l=u;a=c}else{g=l;break}}l=n;a=o[l+4>>2]|0;c=g;o[c>>2]=o[l>>2];o[c+4>>2]=a}a=m+8|0;if((a|0)==(t|0))break;else{c=m;m=a;b=c}}h=i;return}function Cf(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0;i=h;h=h+16|0;n=i;switch(t-e>>3|0){case 2:{s=t+-8|0;if(!(bm[o[r>>2]&31](s,e)|0)){a=1;h=i;return a|0}u=e;l=o[u>>2]|0;c=o[u+4>>2]|0;u=s;f=o[u+4>>2]|0;d=e;o[d>>2]=o[u>>2];o[d+4>>2]=f;f=s;o[f>>2]=l;o[f+4>>2]=c;a=1;h=i;return a|0}case 3:{c=e+8|0;f=t+-8|0;l=bm[o[r>>2]&31](c,e)|0;s=bm[o[r>>2]&31](f,c)|0;if(!l){if(!s){a=1;h=i;return a|0}l=c;d=o[l>>2]|0;u=o[l+4>>2]|0;l=f;p=o[l+4>>2]|0;_=c;o[_>>2]=o[l>>2];o[_+4>>2]=p;p=f;o[p>>2]=d;o[p+4>>2]=u;if(!(bm[o[r>>2]&31](c,e)|0)){a=1;h=i;return a|0}u=e;p=o[u>>2]|0;d=o[u+4>>2]|0;u=c;_=o[u+4>>2]|0;l=e;o[l>>2]=o[u>>2];o[l+4>>2]=_;_=c;o[_>>2]=p;o[_+4>>2]=d;a=1;h=i;return a|0}d=e;_=o[d>>2]|0;p=o[d+4>>2]|0;if(s){s=f;d=o[s+4>>2]|0;l=e;o[l>>2]=o[s>>2];o[l+4>>2]=d;d=f;o[d>>2]=_;o[d+4>>2]=p;a=1;h=i;return a|0}d=c;l=o[d+4>>2]|0;s=e;o[s>>2]=o[d>>2];o[s+4>>2]=l;l=c;o[l>>2]=_;o[l+4>>2]=p;if(!(bm[o[r>>2]&31](f,c)|0)){a=1;h=i;return a|0}p=c;l=o[p>>2]|0;_=o[p+4>>2]|0;p=f;s=o[p+4>>2]|0;d=c;o[d>>2]=o[p>>2];o[d+4>>2]=s;s=f;o[s>>2]=l;o[s+4>>2]=_;a=1;h=i;return a|0}case 4:{Tf(e,e+8|0,e+16|0,t+-8|0,r)|0;a=1;h=i;return a|0}case 5:{_=e+8|0;s=e+16|0;l=e+24|0;f=t+-8|0;Tf(e,_,s,l,r)|0;if(!(bm[o[r>>2]&31](f,l)|0)){a=1;h=i;return a|0}d=l;p=o[d>>2]|0;c=o[d+4>>2]|0;d=f;u=o[d+4>>2]|0;m=l;o[m>>2]=o[d>>2];o[m+4>>2]=u;u=f;o[u>>2]=p;o[u+4>>2]=c;if(!(bm[o[r>>2]&31](l,s)|0)){a=1;h=i;return a|0}c=s;u=o[c>>2]|0;p=o[c+4>>2]|0;c=l;f=o[c+4>>2]|0;m=s;o[m>>2]=o[c>>2];o[m+4>>2]=f;f=l;o[f>>2]=u;o[f+4>>2]=p;if(!(bm[o[r>>2]&31](s,_)|0)){a=1;h=i;return a|0}p=_;f=o[p>>2]|0;u=o[p+4>>2]|0;p=s;l=o[p+4>>2]|0;m=_;o[m>>2]=o[p>>2];o[m+4>>2]=l;l=s;o[l>>2]=f;o[l+4>>2]=u;if(!(bm[o[r>>2]&31](_,e)|0)){a=1;h=i;return a|0}u=e;l=o[u>>2]|0;f=o[u+4>>2]|0;u=_;s=o[u+4>>2]|0;m=e;o[m>>2]=o[u>>2];o[m+4>>2]=s;s=_;o[s>>2]=l;o[s+4>>2]=f;a=1;h=i;return a|0}case 1:case 0:{a=1;h=i;return a|0}default:{f=e+16|0;s=e+8|0;l=bm[o[r>>2]&31](s,e)|0;_=bm[o[r>>2]&31](f,s)|0;do{if(l){m=e;u=o[m>>2]|0;p=o[m+4>>2]|0;if(_){m=f;c=o[m+4>>2]|0;d=e;o[d>>2]=o[m>>2];o[d+4>>2]=c;c=f;o[c>>2]=u;o[c+4>>2]=p;break}c=s;d=o[c+4>>2]|0;m=e;o[m>>2]=o[c>>2];o[m+4>>2]=d;d=s;o[d>>2]=u;o[d+4>>2]=p;if(bm[o[r>>2]&31](f,s)|0){p=s;d=o[p>>2]|0;u=o[p+4>>2]|0;p=f;m=o[p+4>>2]|0;c=s;o[c>>2]=o[p>>2];o[c+4>>2]=m;m=f;o[m>>2]=d;o[m+4>>2]=u}}else if(_?(u=s,m=o[u>>2]|0,d=o[u+4>>2]|0,u=f,c=o[u+4>>2]|0,p=s,o[p>>2]=o[u>>2],o[p+4>>2]=c,c=f,o[c>>2]=m,o[c+4>>2]=d,bm[o[r>>2]&31](s,e)|0):0){d=e;c=o[d>>2]|0;m=o[d+4>>2]|0;d=s;p=o[d+4>>2]|0;u=e;o[u>>2]=o[d>>2];o[u+4>>2]=p;p=s;o[p>>2]=c;o[p+4>>2]=m}}while(0);s=e+24|0;if((s|0)==(t|0)){a=1;h=i;return a|0}else{b=0;g=s;y=f}while(1){if(bm[o[r>>2]&31](g,y)|0){f=g;s=o[f+4>>2]|0;_=n;o[_>>2]=o[f>>2];o[_+4>>2]=s;s=g;_=y;while(1){f=_;l=o[f+4>>2]|0;m=s;o[m>>2]=o[f>>2];o[m+4>>2]=l;if((_|0)==(e|0)){v=_;break}l=_+-8|0;if(bm[o[r>>2]&31](n,l)|0){m=_;_=l;s=m}else{v=_;break}}_=n;s=o[_+4>>2]|0;m=v;o[m>>2]=o[_>>2];o[m+4>>2]=s;s=b+1|0;if((s|0)==8){x=g;break}else w=s}else w=b;s=g+8|0;if((s|0)==(t|0)){a=1;S=34;break}else{m=g;b=w;g=s;y=m}}if((S|0)==34){h=i;return a|0}a=(x+8|0)==(t|0);h=i;return a|0}}return 0}function Mf(e,t,r){e=e|0;t=t|0;r=r|0;o[e>>2]=t;o[e+4>>2]=Qd(t,r<<4)|0;o[e+8>>2]=r;r=e+12|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;return}function Ff(e){e=e|0;var t=0;t=o[e+24>>2]|0;if(t)ep(o[e>>2]|0,t);ep(o[e>>2]|0,o[e+4>>2]|0);return}function If(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,a=0,u=0;s=e+12|0;a=o[s>>2]|0;o[s>>2]=a+1;s=o[e+4>>2]|0;e=t;t=o[e+4>>2]|0;u=s+(a<<4)|0;o[u>>2]=o[e>>2];o[u+4>>2]=t;o[s+(a<<4)+8>>2]=r;i[s+(a<<4)+12>>0]=n&1;return}function Of(e,t,r){e=e|0;t=+t;r=+r;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0,Ne=0,Le=0,Ge=0,Ue=0,ze=0,je=0,Je=0,Xe=0,He=0,We=0,Ve=0,Ye=0,qe=0,Ke=0,Ze=0,Qe=0,$e=0,et=0,tt=0,rt=0,it=0,nt=0,ot=0,st=0,at=0,ut=0,lt=0,ct=0,ht=0,ft=0,dt=0,pt=0,_t=0,mt=0,bt=0,gt=0,yt=0,vt=0,xt=0,wt=0,St=0,Et=0,At=0,Tt=0,Pt=0,Ct=0,Mt=0,Ft=0,It=0,Ot=0,Dt=0,kt=0,Rt=0,Bt=0,Nt=0,Lt=0,Gt=0,Ut=0,zt=0,jt=0,Jt=0,Xt=0,Ht=0,Wt=0,Vt=0,Yt=0,qt=0,Kt=0,Zt=0,Qt=0,$t=0,er=0,tr=0,rr=0,ir=0,nr=0,or=0,sr=0,ar=0,ur=0,lr=0,cr=0,hr=0,fr=0,dr=0,pr=0;n=1/t;s=e+12|0;a=o[s>>2]|0;if((a|0)>0){u=o[e+4>>2]|0;c=2139095039;h=2139095039;f=-8388609;p=-8388609;_=0;while(1){if(!(i[u+(_<<4)+12>>0]|0)){m=h;b=c;g=p;y=f}else{t=(o[d>>2]=c,+l[d>>2]);v=+l[u+(_<<4)>>2];x=(o[d>>2]=h,+l[d>>2]);w=+l[u+(_<<4)+4>>2];S=(l[d>>2]=t<v?t:v,o[d>>2]|0);E=(l[d>>2]=x<w?x:w,o[d>>2]|0);x=(o[d>>2]=f,+l[d>>2]);t=(o[d>>2]=p,+l[d>>2]);A=(l[d>>2]=x>v?x:v,o[d>>2]|0);m=E;b=S;g=(l[d>>2]=t>w?t:w,o[d>>2]|0);y=A}_=_+1|0;if((_|0)>=(a|0)){T=m;P=b;C=g;M=y;break}else{c=b;h=m;f=y;p=g}}}else{T=2139095039;P=2139095039;C=-8388609;M=-8388609}w=(o[d>>2]=P,+l[d>>2])-r;t=(o[d>>2]=T,+l[d>>2])-r;v=(o[d>>2]=M,+l[d>>2])+r;x=(o[d>>2]=C,+l[d>>2])+r;C=~~(n*(v-w))+1|0;M=e+16|0;o[M>>2]=C;T=~~(n*(x-t))+1|0;P=e+20|0;o[P>>2]=T;g=Qd(o[e>>2]|0,te(T<<2,C)|0)|0;C=e+24|0;o[C>>2]=g;T=o[M>>2]|0;p=o[P>>2]|0;y=te(p,T)|0;if((y|0)>0?(o[g>>2]=0,(y|0)>1):0){g=1;do{o[(o[C>>2]|0)+(g<<2)>>2]=0;g=g+1|0}while((g|0)<(y|0))}y=o[e>>2]|0;g=te(T<<2,p)|0;p=Qd(y,g<<4)|0;if((o[s>>2]|0)>0){T=e+4|0;e=p;f=0;m=g;h=0;while(1){b=o[T>>2]|0;c=b+(h<<4)|0;a=b+(h<<4)+4|0;x=n*(+l[c>>2]-w);v=n*(+l[a>>2]-t);l[c>>2]=x;l[a>>2]=v;a=~~x;b=~~v;if(((b|a|0)>-1?(_=o[M>>2]|0,(a|0)<(_|0)):0)?(b|0)<(o[P>>2]|0):0){u=(te(_,b)|0)+a|0;if((f|0)<(m|0)){F=e;I=m}else{if((f|0)>0){_=0;do{_=_+1|0}while((_|0)!=(f|0))}_=(m|0)>0?m<<1:1;F=$d(y,e,_<<4)|0;I=_}o[F+(f<<4)>>2]=a;o[F+(f<<4)+4>>2]=b;o[F+(f<<4)+8>>2]=u;o[F+(f<<4)+12>>2]=c;O=I;D=f+1|0;k=F}else{O=m;D=f;k=e}h=h+1|0;if((h|0)>=(o[s>>2]|0)){R=O;B=D;N=0;L=k;break}else{e=k;f=D;m=O}}}else{R=g;B=0;N=0;L=p}e:while(1){p=N;while(1){if((p|0)==(B|0)){G=R;U=B;z=L;break e}g=o[L+(p<<4)+8>>2]|0;O=p+1|0;m=(o[C>>2]|0)+(g<<2)|0;if(!(o[m>>2]|0)){j=p;J=g;X=O;H=m;break}else p=O}p=o[L+(j<<4)>>2]|0;c=o[L+(j<<4)+4>>2]|0;u=o[L+(j<<4)+12>>2]|0;o[H>>2]=u;if((p|0)>0){b=p+-1|0;a=J+-1|0;if((B|0)>=(R|0)){if((B|0)>(X|0)){O=X;do{m=L+(O-X<<4)|0;g=L+(O<<4)|0;o[m>>2]=o[g>>2];o[m+4>>2]=o[g+4>>2];o[m+8>>2]=o[g+8>>2];o[m+12>>2]=o[g+12>>2];O=O+1|0}while((O|0)!=(B|0))}O=B-X|0;if((O|0)<(R|0)){W=L;V=O;Y=R;q=0}else{g=(R|0)>0?R<<1:1;W=$d(y,L,g<<4)|0;V=O;Y=g;q=0}}else{W=L;V=B;Y=R;q=X}o[W+(V<<4)>>2]=b;o[W+(V<<4)+4>>2]=c;o[W+(V<<4)+8>>2]=a;o[W+(V<<4)+12>>2]=u;K=V+1|0;Z=Y;Q=q;$=W}else{K=B;Z=R;Q=X;$=L}if((c|0)>0){g=c+-1|0;O=J-(o[M>>2]|0)|0;if((K|0)>=(Z|0)){if((K|0)>(Q|0)){m=Q;do{D=$+(m-Q<<4)|0;f=$+(m<<4)|0;o[D>>2]=o[f>>2];o[D+4>>2]=o[f+4>>2];o[D+8>>2]=o[f+8>>2];o[D+12>>2]=o[f+12>>2];m=m+1|0}while((m|0)!=(K|0))}m=K-Q|0;if((m|0)<(Z|0)){ee=$;re=m;ie=Z;ne=0}else{a=(Z|0)>0?Z<<1:1;ee=$d(y,$,a<<4)|0;re=m;ie=a;ne=0}}else{ee=$;re=K;ie=Z;ne=Q}o[ee+(re<<4)>>2]=p;o[ee+(re<<4)+4>>2]=g;o[ee+(re<<4)+8>>2]=O;o[ee+(re<<4)+12>>2]=u;oe=re+1|0;se=ie;ae=ne;ue=ee}else{oe=K;se=Z;ae=Q;ue=$}if((p|0)<((o[M>>2]|0)+-1|0)){a=p+1|0;m=J+1|0;if((oe|0)>=(se|0)){if((oe|0)>(ae|0)){b=ae;do{f=ue+(b-ae<<4)|0;D=ue+(b<<4)|0;o[f>>2]=o[D>>2];o[f+4>>2]=o[D+4>>2];o[f+8>>2]=o[D+8>>2];o[f+12>>2]=o[D+12>>2];b=b+1|0}while((b|0)!=(oe|0))}b=oe-ae|0;if((b|0)<(se|0)){le=ue;ce=b;he=se;fe=0}else{O=(se|0)>0?se<<1:1;le=$d(y,ue,O<<4)|0;ce=b;he=O;fe=0}}else{le=ue;ce=oe;he=se;fe=ae}o[le+(ce<<4)>>2]=a;o[le+(ce<<4)+4>>2]=c;o[le+(ce<<4)+8>>2]=m;o[le+(ce<<4)+12>>2]=u;de=ce+1|0;pe=he;_e=fe;me=le}else{de=oe;pe=se;_e=ae;me=ue}if((c|0)>=((o[P>>2]|0)+-1|0)){R=pe;B=de;N=_e;L=me;continue}O=c+1|0;b=(o[M>>2]|0)+J|0;if((de|0)>=(pe|0)){if((de|0)>(_e|0)){g=_e;do{D=me+(g-_e<<4)|0;f=me+(g<<4)|0;o[D>>2]=o[f>>2];o[D+4>>2]=o[f+4>>2];o[D+8>>2]=o[f+8>>2];o[D+12>>2]=o[f+12>>2];g=g+1|0}while((g|0)!=(de|0))}g=de-_e|0;if((g|0)<(pe|0)){be=me;ge=g;ye=pe;ve=0}else{c=(pe|0)>0?pe<<1:1;be=$d(y,me,c<<4)|0;ge=g;ye=c;ve=0}}else{be=me;ge=de;ye=pe;ve=_e}o[be+(ge<<4)>>2]=p;o[be+(ge<<4)+4>>2]=O;o[be+(ge<<4)+8>>2]=b;o[be+(ge<<4)+12>>2]=u;R=ye;B=ge+1|0;N=ve;L=be}be=o[P>>2]|0;if((be|0)<=0){xe=z;ep(y,xe);return}L=o[M>>2]|0;ve=be;be=z;z=U;N=U;U=G;G=0;while(1){if((L|0)>1){ge=L;B=N;ye=U;R=z;_e=be;pe=0;while(1){de=(te(ge,G)|0)+pe|0;me=o[C>>2]|0;J=o[me+(de<<2)>>2]|0;ue=de+1|0;ae=o[me+(ue<<2)>>2]|0;if((J|0)==(ae|0)){we=pe+1|0;Se=ge;Ee=ye;Ae=B;Te=R;Pe=_e}else{if((B|0)>=(ye|0)){if((B|0)>(R|0)){me=R;do{se=_e+(me-R<<4)|0;oe=_e+(me<<4)|0;o[se>>2]=o[oe>>2];o[se+4>>2]=o[oe+4>>2];o[se+8>>2]=o[oe+8>>2];o[se+12>>2]=o[oe+12>>2];me=me+1|0}while((me|0)!=(B|0))}me=B-R|0;if((me|0)<(ye|0)){Ce=_e;Me=me;Fe=ye;Ie=0}else{oe=(ye|0)>0?ye<<1:1;Ce=$d(y,_e,oe<<4)|0;Me=me;Fe=oe;Ie=0}}else{Ce=_e;Me=B;Fe=ye;Ie=R}o[Ce+(Me<<4)>>2]=pe;o[Ce+(Me<<4)+4>>2]=G;o[Ce+(Me<<4)+8>>2]=de;o[Ce+(Me<<4)+12>>2]=ae;oe=Me+1|0;me=pe+1|0;if((oe|0)>=(Fe|0)){if((Me|0)>=(Ie|0)){se=Ie;do{le=Ce+(se-Ie<<4)|0;fe=Ce+(se<<4)|0;o[le>>2]=o[fe>>2];o[le+4>>2]=o[fe+4>>2];o[le+8>>2]=o[fe+8>>2];o[le+12>>2]=o[fe+12>>2];se=se+1|0}while((se|0)<(oe|0))}se=oe-Ie|0;if((se|0)<(Fe|0)){Oe=Ce;De=se;ke=Fe;Re=0}else{ae=(Fe|0)>0?Fe<<1:1;Oe=$d(y,Ce,ae<<4)|0;De=se;ke=ae;Re=0}}else{Oe=Ce;De=oe;ke=Fe;Re=Ie}o[Oe+(De<<4)>>2]=me;o[Oe+(De<<4)+4>>2]=G;o[Oe+(De<<4)+8>>2]=ue;o[Oe+(De<<4)+12>>2]=J;we=me;Se=o[M>>2]|0;Ee=ke;Ae=De+1|0;Te=Re;Pe=Oe}if((we|0)<(Se+-1|0)){ge=Se;B=Ae;ye=Ee;R=Te;_e=Pe;pe=we}else{Be=Se;Ne=Ee;Le=Ae;Ge=Te;Ue=Pe;break}}ze=Ne;je=Le;Je=Ge;Xe=Ue;He=o[P>>2]|0;We=Be}else{ze=U;je=N;Je=z;Xe=be;He=ve;We=L}G=G+1|0;if((G|0)>=(He|0)){Ve=ze;Ye=je;qe=Je;Ke=Xe;Ze=He;break}else{L=We;ve=He;be=Xe;z=Je;N=je;U=ze}}if((Ze|0)>1){ze=o[M>>2]|0;U=Ze;Ze=Ke;je=qe;N=Ye;Je=Ve;z=0;while(1){Xe=z;z=z+1|0;if((ze|0)>0){be=ze;He=N;ve=Je;We=je;L=Ze;G=0;while(1){Be=(te(be,Xe)|0)+G|0;Ue=o[C>>2]|0;Ge=o[Ue+(Be<<2)>>2]|0;Le=o[Ue+(Be+be<<2)>>2]|0;if((Ge|0)==(Le|0)){Qe=be;$e=ve;et=He;tt=We;rt=L}else{if((He|0)>=(ve|0)){if((He|0)>(We|0)){Ue=We;do{Ne=L+(Ue-We<<4)|0;Pe=L+(Ue<<4)|0;o[Ne>>2]=o[Pe>>2];o[Ne+4>>2]=o[Pe+4>>2];o[Ne+8>>2]=o[Pe+8>>2];o[Ne+12>>2]=o[Pe+12>>2];Ue=Ue+1|0}while((Ue|0)!=(He|0))}Ue=He-We|0;if((Ue|0)<(ve|0)){it=L;nt=Ue;ot=ve;st=0}else{me=(ve|0)>0?ve<<1:1;it=$d(y,L,me<<4)|0;nt=Ue;ot=me;st=0}}else{it=L;nt=He;ot=ve;st=We}o[it+(nt<<4)>>2]=G;o[it+(nt<<4)+4>>2]=Xe;o[it+(nt<<4)+8>>2]=Be;o[it+(nt<<4)+12>>2]=Le;me=nt+1|0;Ue=(o[M>>2]|0)+Be|0;if((me|0)>=(ot|0)){if((nt|0)>=(st|0)){J=st;do{ue=it+(J-st<<4)|0;oe=it+(J<<4)|0;o[ue>>2]=o[oe>>2];o[ue+4>>2]=o[oe+4>>2];o[ue+8>>2]=o[oe+8>>2];o[ue+12>>2]=o[oe+12>>2];J=J+1|0}while((J|0)<(me|0))}J=me-st|0;if((J|0)<(ot|0)){at=it;ut=J;lt=ot;ct=0}else{Be=(ot|0)>0?ot<<1:1;at=$d(y,it,Be<<4)|0;ut=J;lt=Be;ct=0}}else{at=it;ut=me;lt=ot;ct=st}o[at+(ut<<4)>>2]=G;o[at+(ut<<4)+4>>2]=z;o[at+(ut<<4)+8>>2]=Ue;o[at+(ut<<4)+12>>2]=Ge;Qe=o[M>>2]|0;$e=lt;et=ut+1|0;tt=ct;rt=at}G=G+1|0;if((G|0)>=(Qe|0)){ht=Qe;ft=$e;dt=et;pt=tt;_t=rt;break}else{be=Qe;He=et;ve=$e;We=tt;L=rt}}mt=ft;bt=dt;gt=pt;yt=_t;vt=o[P>>2]|0;xt=ht}else{mt=Je;bt=N;gt=je;yt=Ze;vt=U;xt=ze}if((z|0)>=(vt+-1|0)){wt=mt;St=bt;Et=gt;At=yt;break}else{ze=xt;U=vt;Ze=yt;je=gt;N=bt;Je=mt}}}else{wt=Ve;St=Ye;Et=qe;At=Ke}if((Et|0)==(St|0)){xe=At;ep(y,xe);return}else{Tt=wt;Pt=St;Ct=Et;Mt=At}e:while(1){At=o[C>>2]|0;Et=Ct;while(1){St=o[Mt+(Et<<4)>>2]|0;wt=o[Mt+(Et<<4)+4>>2]|0;Ke=o[Mt+(Et<<4)+8>>2]|0;qe=o[Mt+(Et<<4)+12>>2]|0;Et=Et+1|0;Ye=At+(Ke<<2)|0;Ve=o[Ye>>2]|0;if((Ve|0)!=(qe|0)?(t=+(St|0),n=+l[Ve>>2]-t,w=+(wt|0),v=+l[Ve+4>>2]-w,x=+l[qe>>2]-t,t=+l[qe+4>>2]-w,n*n+v*v>x*x+t*t):0){Ft=St;It=wt;Ot=Ke;Dt=qe;kt=Et;Rt=Ye;break}if((Pt|0)==(Et|0)){xe=Mt;Bt=122;break e}}o[Rt>>2]=Dt;if((Ft|0)>0){Et=Ft+-1|0;At=Ot+-1|0;if((Pt|0)>=(Tt|0)){if((Pt|0)>(kt|0)){Ye=kt;do{qe=Mt+(Ye-kt<<4)|0;Ke=Mt+(Ye<<4)|0;o[qe>>2]=o[Ke>>2];o[qe+4>>2]=o[Ke+4>>2];o[qe+8>>2]=o[Ke+8>>2];o[qe+12>>2]=o[Ke+12>>2];Ye=Ye+1|0}while((Ye|0)!=(Pt|0))}Ye=Pt-kt|0;if((Ye|0)<(Tt|0)){Nt=Mt;Lt=Ye;Gt=Tt;Ut=0}else{Ke=(Tt|0)>0?Tt<<1:1;Nt=$d(y,Mt,Ke<<4)|0;Lt=Ye;Gt=Ke;Ut=0}}else{Nt=Mt;Lt=Pt;Gt=Tt;Ut=kt}o[Nt+(Lt<<4)>>2]=Et;o[Nt+(Lt<<4)+4>>2]=It;o[Nt+(Lt<<4)+8>>2]=At;o[Nt+(Lt<<4)+12>>2]=Dt;zt=Lt+1|0;jt=Gt;Jt=Ut;Xt=Nt}else{zt=Pt;jt=Tt;Jt=kt;Xt=Mt}if((It|0)>0){Ke=It+-1|0;Ye=Ot-(o[M>>2]|0)|0;if((zt|0)>=(jt|0)){if((zt|0)>(Jt|0)){qe=Jt;do{wt=Xt+(qe-Jt<<4)|0;St=Xt+(qe<<4)|0;o[wt>>2]=o[St>>2];o[wt+4>>2]=o[St+4>>2];o[wt+8>>2]=o[St+8>>2];o[wt+12>>2]=o[St+12>>2];qe=qe+1|0}while((qe|0)!=(zt|0))}qe=zt-Jt|0;if((qe|0)<(jt|0)){Ht=Xt;Wt=qe;Vt=jt;Yt=0}else{At=(jt|0)>0?jt<<1:1;Ht=$d(y,Xt,At<<4)|0;Wt=qe;Vt=At;Yt=0}}else{Ht=Xt;Wt=zt;Vt=jt;Yt=Jt}o[Ht+(Wt<<4)>>2]=Ft;o[Ht+(Wt<<4)+4>>2]=Ke;o[Ht+(Wt<<4)+8>>2]=Ye;o[Ht+(Wt<<4)+12>>2]=Dt;qt=Wt+1|0;Kt=Vt;Zt=Yt;Qt=Ht}else{qt=zt;Kt=jt;Zt=Jt;Qt=Xt}if((Ft|0)<((o[M>>2]|0)+-1|0)){At=Ft+1|0;qe=Ot+1|0;if((qt|0)>=(Kt|0)){if((qt|0)>(Zt|0)){Et=Zt;do{St=Qt+(Et-Zt<<4)|0;wt=Qt+(Et<<4)|0;o[St>>2]=o[wt>>2];o[St+4>>2]=o[wt+4>>2];o[St+8>>2]=o[wt+8>>2];o[St+12>>2]=o[wt+12>>2];Et=Et+1|0}while((Et|0)!=(qt|0))}Et=qt-Zt|0;if((Et|0)<(Kt|0)){$t=Qt;er=Et;tr=Kt;rr=0}else{Ye=(Kt|0)>0?Kt<<1:1;$t=$d(y,Qt,Ye<<4)|0;er=Et;tr=Ye;rr=0}}else{$t=Qt;er=qt;tr=Kt;rr=Zt}o[$t+(er<<4)>>2]=At;o[$t+(er<<4)+4>>2]=It;o[$t+(er<<4)+8>>2]=qe;o[$t+(er<<4)+12>>2]=Dt;ir=er+1|0;nr=tr;or=rr;sr=$t}else{ir=qt;nr=Kt;or=Zt;sr=Qt}if((It|0)<((o[P>>2]|0)+-1|0)){Ye=It+1|0;Et=(o[M>>2]|0)+Ot|0;if((ir|0)>=(nr|0)){if((ir|0)>(or|0)){Ke=or;do{wt=sr+(Ke-or<<4)|0;St=sr+(Ke<<4)|0;o[wt>>2]=o[St>>2];o[wt+4>>2]=o[St+4>>2];o[wt+8>>2]=o[St+8>>2];o[wt+12>>2]=o[St+12>>2];Ke=Ke+1|0}while((Ke|0)!=(ir|0))}Ke=ir-or|0;if((Ke|0)<(nr|0)){ar=sr;ur=Ke;lr=nr;cr=0}else{qe=(nr|0)>0?nr<<1:1;ar=$d(y,sr,qe<<4)|0;ur=Ke;lr=qe;cr=0}}else{ar=sr;ur=ir;lr=nr;cr=or}o[ar+(ur<<4)>>2]=Ft;o[ar+(ur<<4)+4>>2]=Ye;o[ar+(ur<<4)+8>>2]=Et;o[ar+(ur<<4)+12>>2]=Dt;hr=lr;fr=ur+1|0;dr=cr;pr=ar}else{hr=nr;fr=ir;dr=or;pr=sr}if((dr|0)==(fr|0)){xe=pr;Bt=122;break}else{Tt=hr;Pt=fr;Ct=dr;Mt=pr}}if((Bt|0)==122){ep(y,xe);return}}function Df(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0;r=e+20|0;if((o[r>>2]|0)<=1)return;n=e+16|0;s=e+24|0;e=o[n>>2]|0;a=0;while(1){if((e|0)>1){u=e;l=0;while(1){c=(te(u,a)|0)+l|0;h=o[s>>2]|0;f=o[h+(c<<2)>>2]|0;d=c+1|0;p=o[h+(d<<2)>>2]|0;_=o[h+(c+u<<2)>>2]|0;c=o[h+(d+u<<2)>>2]|0;do{if((p|0)!=(_|0)){do{if(!((f|0)==(p|0)|(f|0)==(_|0))){if(((i[f+12>>0]|0)==0?(i[p+12>>0]|0)==0:0)?(i[_+12>>0]|0)==0:0)break;ym[o[(o[t>>2]|0)+8>>2]&31](t,o[f+8>>2]|0,o[p+8>>2]|0,o[_+8>>2]|0)}}while(0);if(!((c|0)==(p|0)|(c|0)==(_|0))){if(((i[p+12>>0]|0)==0?(i[c+12>>0]|0)==0:0)?(i[_+12>>0]|0)==0:0)break;ym[o[(o[t>>2]|0)+8>>2]&31](t,o[p+8>>2]|0,o[c+8>>2]|0,o[_+8>>2]|0)}}}while(0);l=l+1|0;_=o[n>>2]|0;if((l|0)>=(_+-1|0)){m=_;break}else u=_}}else m=e;a=a+1|0;if((a|0)>=((o[r>>2]|0)+-1|0))break;else e=m}return}function kf(e){e=e|0;var t=0,r=0,i=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;l[e+16>>2]=1;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=-1;l[e+32>>2]=0;l[e+36>>2]=0;t=2440;r=o[t+4>>2]|0;i=e+40|0;o[i>>2]=o[t>>2];o[i+4>>2]=r;r=2440;i=o[r+4>>2]|0;t=e+48|0;o[t>>2]=o[r>>2];o[t+4>>2]=i;i=e+56|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;l[e+72>>2]=1;o[e+76>>2]=0;return}function Rf(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0;t=e+28|0;r=o[e>>2]|0;i=o[r+4>>2]|0;if((o[t>>2]|0)==(i|0))return;n=+l[r+32>>2]*.75;s=n*(+l[r+320>>2]*n);a=e+32|0;l[a>>2]=0;u=e+40|0;c=e+44|0;h=e+48|0;f=e+52|0;o[u>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;d=o[e+4>>2]|0;p=o[e+8>>2]|0;_=(d|0)<(p|0);if(_){m=o[r+96>>2]|0;b=o[r+104>>2]|0;n=0;g=0;y=0;v=0;x=0;w=d;while(1){S=s+n;E=s*+l[m+(w<<3)+4>>2];A=s*+l[m+(w<<3)>>2]+g;l[u>>2]=A;T=E+y;l[c>>2]=T;E=s*+l[b+(w<<3)+4>>2];P=s*+l[b+(w<<3)>>2]+v;l[h>>2]=P;C=E+x;l[f>>2]=C;w=w+1|0;if((w|0)>=(p|0)){M=S;F=A;I=T;O=P;D=C;break}else{n=S;g=A;y=T;v=P;x=C}}l[a>>2]=M;if(M>0){x=1/M;M=x*F;l[u>>2]=M;v=x*I;l[c>>2]=v;y=x*O;l[h>>2]=y;g=x*D;l[f>>2]=g;k=M;R=v;B=y;N=g}else{k=F;R=I;B=O;N=D}f=e+36|0;l[f>>2]=0;h=e+56|0;l[h>>2]=0;if(_){_=o[r+96>>2]|0;c=o[r+104>>2]|0;D=0;O=0;r=d;while(1){I=+l[_+(r<<3)>>2]-k;F=+l[_+(r<<3)+4>>2]-R;g=s*(I*I+F*F)+D;y=O+s*(I*(+l[c+(r<<3)+4>>2]-N)-F*(+l[c+(r<<3)>>2]-B));r=r+1|0;if((r|0)>=(p|0)){L=g;G=y;break}else{D=g;O=y}}l[f>>2]=L;l[h>>2]=G;if(L>0)l[h>>2]=1/L*G}}else{l[e+36>>2]=0;l[e+56>>2]=0}o[t>>2]=i;return}function Bf(e,t){e=e|0;t=t|0;vt(o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,t);return}function Nf(e,t){e=e|0;t=t|0;xt(o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,t);return}function Lf(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0;r=o[e>>2]|0;if(o[(o[r+400>>2]|0)+102876>>2]&2)return;i=o[e+4>>2]|0;n=e+8|0;if((i|0)>=(o[n>>2]|0))return;qf(r,i,t);r=i+1|0;if((r|0)<(o[n>>2]|0))s=r;else return;do{qf(o[e>>2]|0,s,t);s=s+1|0}while((s|0)<(o[n>>2]|0));return}function Gf(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0;n=e+52|0;o[e+56>>2]=n;o[n>>2]=n;o[e+60>>2]=256;n=e+64|0;o[e+68>>2]=n;o[n>>2]=n;n=e+72|0;o[e+76>>2]=n;o[n>>2]=n;n=e+80|0;o[e+136>>2]=0;o[e+140>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;s=e+196|0;o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;o[n+20>>2]=0;o[n+24>>2]=0;o[n+28>>2]=0;n=e+160|0;a=n+36|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(a|0));o[s>>2]=r;o[e+200>>2]=0;o[e+204>>2]=0;o[e+208>>2]=0;o[e+212>>2]=r;o[e+216>>2]=0;o[e+220>>2]=0;o[e+224>>2]=0;o[e+228>>2]=r;o[e+232>>2]=0;o[e+236>>2]=0;o[e+240>>2]=0;o[e+244>>2]=r;o[e+248>>2]=0;o[e+252>>2]=0;o[e+256>>2]=0;o[e+260>>2]=r;o[e+264>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+276>>2]=r;s=e+280|0;u=e+316|0;i[u>>0]=0;c=e+320|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;l[c>>2]=1;h=e+324|0;l[h>>2]=1;l[e+328>>2]=1;f=e+332|0;o[f>>2]=0;l[e+336>>2]=.05000000074505806;l[e+340>>2]=1;l[e+344>>2]=.25;l[e+348>>2]=.25;l[e+352>>2]=.25;l[e+356>>2]=.20000000298023224;l[e+360>>2]=.20000000298023224;l[e+364>>2]=1;l[e+368>>2]=.5;l[e+372>>2]=.5;l[e+376>>2]=.20000000298023224;l[e+380>>2]=.20000000298023224;o[e+384>>2]=8;l[e+388>>2]=.5;d=e+392|0;i[d>>0]=1;l[e+396>>2]=.01666666753590107;i[e>>0]=0;o[e+4>>2]=0;o[e+8>>2]=0;i[e+12>>0]=0;o[e+16>>2]=0;i[e+20>>0]=0;i[e+21>>0]=0;o[e+24>>2]=0;i[u>>0]=i[t>>0]|0;p=+l[t+4>>2];l[c>>2]=p;l[e+28>>2]=1/p;o[h>>2]=o[t+8>>2];p=+l[t+12>>2]*2;l[e+32>>2]=p;l[e+40>>2]=p*p;l[e+36>>2]=1/p;o[f>>2]=o[t+16>>2];o[e+44>>2]=0;f=e+48|0;o[f>>2]=0;h=e+112|0;o[e+144>>2]=0;o[e+308>>2]=0;o[e+312>>2]=0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h+16>>2]=0;o[h+20>>2]=0;n=u;u=t;a=n+84|0;do{o[n>>2]=o[u>>2];n=n+4|0;u=u+4|0}while((n|0)<(a|0));u=e+400|0;o[u>>2]=r;o[e+156>>2]=0;r=e+296|0;o[r>>2]=0;o[r+4>>2]=0;i[e+304>>0]=0;r=i[d>>0]|0;if(!(r<<24>>24)){i[d>>0]=r;return}n=o[s>>2]|0;if(!n){Jf(e,256);e=Od(o[u>>2]|0,o[f>>2]<<2)|0;c_(e|0,0,o[f>>2]<<2|0)|0;_=e}else _=n;o[s>>2]=_;i[d>>0]=r;return}function Uf(e){e=e|0;var t=0,r=0,i=0,n=0;t=e+312|0;while(1){r=o[t>>2]|0;if(!r)break;zf(e,r)}if((o[e+84>>2]|0)==0?(t=e+80|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+92>>2]|0)==0?(t=e+88|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+164>>2]|0)==0?(t=e+160|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+172>>2]|0)==0?(t=e+168|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+180>>2]|0)==0?(t=e+176|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+100>>2]|0)==0?(t=e+96|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<3);o[t>>2]=0}if((o[e+108>>2]|0)==0?(t=e+104|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<3);o[t>>2]=0}if((o[e+140>>2]|0)==0?(t=e+136|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+152>>2]|0)==0?(t=e+148|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+284>>2]|0)==0?(t=e+280|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+292>>2]|0)==0?(t=e+288|0,r=o[t>>2]|0,(r|0)!=0):0){Dd(o[e+400>>2]|0,r,o[e+48>>2]<<2);o[t>>2]=0}t=e+112|0;r=e+48|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<3);o[t>>2]=0}t=e+116|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<2);o[t>>2]=0}t=e+120|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<2);o[t>>2]=0}t=e+124|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<2);o[t>>2]=0}t=e+128|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<3);o[t>>2]=0}t=e+132|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<2);o[t>>2]=0}t=e+144|0;i=o[t>>2]|0;if(i){Dd(o[e+400>>2]|0,i,o[r>>2]<<2);o[t>>2]=0}t=e+264|0;r=o[t>>2]|0;if(r){i=e+272|0;Dd(o[e+276>>2]|0,r,(o[i>>2]|0)*60|0);o[t>>2]=0;o[i>>2]=0;o[e+268>>2]=0}i=e+248|0;t=o[i>>2]|0;if(t){r=e+256|0;Dd(o[e+260>>2]|0,t,(o[r>>2]|0)*20|0);o[i>>2]=0;o[r>>2]=0;o[e+252>>2]=0}r=e+232|0;i=o[r>>2]|0;if(i){t=e+240|0;Dd(o[e+244>>2]|0,i,(o[t>>2]|0)*28|0);o[r>>2]=0;o[t>>2]=0;o[e+236>>2]=0}t=e+216|0;r=o[t>>2]|0;if(r){i=e+224|0;Dd(o[e+228>>2]|0,r,(o[i>>2]|0)*24|0);o[t>>2]=0;o[i>>2]=0;o[e+220>>2]=0}i=e+200|0;t=o[i>>2]|0;if(t){r=e+208|0;Dd(o[e+212>>2]|0,t,o[r>>2]<<3);o[i>>2]=0;o[r>>2]=0;o[e+204>>2]=0}r=e+184|0;i=o[r>>2]|0;if(!i){n=e+52|0;Et(n);return}t=e+192|0;Dd(o[e+196>>2]|0,i,o[t>>2]<<2);o[r>>2]=0;o[t>>2]=0;o[e+188>>2]=0;n=e+52|0;Et(n);return}function zf(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0;r=e+400|0;n=o[(o[r>>2]|0)+102992>>2]|0;if(n)cm[o[(o[n>>2]|0)+16>>2]&63](n,t);n=t+12|0;s=o[n>>2]|0;a=s<<4;u=a&16;if(((a|-17)^16)&s)i[e+20>>0]=1;s=e+16|0;a=o[s>>2]|0;if(u&~a)o[s>>2]=a|u;o[n>>2]=u;u=o[t+4>>2]|0;n=o[t+8>>2]|0;if((u|0)<(n|0)){a=e+144|0;s=u;do{o[(o[a>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)<(n|0))}n=o[t+20>>2]|0;s=t+24|0;if(n)o[n+24>>2]=o[s>>2];a=o[s>>2]|0;if(a)o[a+20>>2]=n;n=e+312|0;if((o[n>>2]|0)!=(t|0)){l=e+308|0;c=o[l>>2]|0;h=c+-1|0;o[l>>2]=h;f=o[r>>2]|0;Dd(f,t,80);return}o[n>>2]=a;l=e+308|0;c=o[l>>2]|0;h=c+-1|0;o[l>>2]=h;f=o[r>>2]|0;Dd(f,t,80);return}function jf(e){e=e|0;var t=0,r=0,i=0,n=0,s=0;t=e+136|0;r=o[t>>2]|0;if(r){i=r;o[t>>2]=i;return i|0}r=e+48|0;n=o[r>>2]|0;if(!n){Jf(e,256);s=o[r>>2]|0}else s=n;n=Od(o[e+400>>2]|0,s<<2)|0;c_(n|0,0,o[r>>2]<<2|0)|0;i=n;o[t>>2]=i;return i|0}function Jf(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0;r=o[e+332>>2]|0;i=(r|0)!=0&(r|0)<(t|0)?r:t;t=e+92|0;r=o[t>>2]|0;n=(r|0)!=0&(i|0)>(r|0)?r:i;i=e+100|0;s=o[i>>2]|0;a=(s|0)!=0&(n|0)>(s|0)?s:n;n=e+108|0;s=o[n>>2]|0;u=(s|0)!=0&(a|0)>(s|0)?s:a;a=e+140|0;s=o[a>>2]|0;l=(s|0)!=0&(u|0)>(s|0)?s:u;u=e+152|0;s=o[u>>2]|0;c=(s|0)!=0&(l|0)>(s|0)?s:l;l=e+48|0;s=o[l>>2]|0;if((s|0)>=(c|0))return;h=e+80|0;f=o[h>>2]|0;if((f|0)==0|(o[e+84>>2]|0)!=0){d=f;p=s;_=r}else{r=e+400|0;m=Od(o[r>>2]|0,c<<2)|0;b=s<<2;p_(m|0,f|0,b|0)|0;Dd(o[r>>2]|0,f,b);d=m;p=o[l>>2]|0;_=o[t>>2]|0}o[h>>2]=d;o[e+60>>2]=c-p;d=e+88|0;h=o[d>>2]|0;if(!_){_=e+400|0;t=Od(o[_>>2]|0,c<<2)|0;if(!h)g=t;else{m=p<<2;p_(t|0,h|0,m|0)|0;Dd(o[_>>2]|0,h,m);g=t}}else g=h;o[d>>2]=g;g=(o[e+156>>2]|0)>0;d=o[l>>2]|0;h=e+160|0;t=o[h>>2]|0;m=(t|0)==0;if(!((o[e+164>>2]|0)!=0|g&m)){_=e+400|0;p=Od(o[_>>2]|0,c<<2)|0;if(m)y=p;else{m=d<<2;p_(p|0,t|0,m|0)|0;Dd(o[_>>2]|0,t,m);y=p}}else y=t;o[h>>2]=y;y=o[l>>2]|0;h=e+168|0;t=o[h>>2]|0;p=(t|0)==0;if(!((o[e+172>>2]|0)!=0|g&p)){m=e+400|0;_=Od(o[m>>2]|0,c<<2)|0;if(p)v=_;else{p=y<<2;p_(_|0,t|0,p|0)|0;Dd(o[m>>2]|0,t,p);v=_}}else v=t;o[h>>2]=v;v=o[l>>2]|0;h=e+176|0;t=o[h>>2]|0;_=(t|0)==0;if(!((o[e+180>>2]|0)!=0|g&_)){g=e+400|0;p=Od(o[g>>2]|0,c<<2)|0;if(_)x=p;else{_=v<<2;p_(p|0,t|0,_|0)|0;Dd(o[g>>2]|0,t,_);x=p}}else x=t;o[h>>2]=x;x=o[l>>2]|0;h=e+96|0;t=o[h>>2]|0;if(!(o[i>>2]|0)){i=e+400|0;p=Od(o[i>>2]|0,c<<3)|0;if(!t)w=p;else{_=x<<3;p_(p|0,t|0,_|0)|0;Dd(o[i>>2]|0,t,_);w=p}}else w=t;o[h>>2]=w;w=o[l>>2]|0;h=e+104|0;t=o[h>>2]|0;if(!(o[n>>2]|0)){n=e+400|0;p=c<<3;_=Od(o[n>>2]|0,p)|0;if(!t){S=_;E=p;A=n}else{i=w<<3;p_(_|0,t|0,i|0)|0;Dd(o[n>>2]|0,t,i);S=_;E=p;A=n}}else{S=t;E=c<<3;A=e+400|0}o[h>>2]=S;S=e+112|0;h=o[S>>2]|0;t=o[l>>2]|0;n=Od(o[A>>2]|0,E)|0;if(h){p=t<<3;p_(n|0,h|0,p|0)|0;Dd(o[A>>2]|0,h,p)}o[S>>2]=n;n=e+116|0;S=o[n>>2]|0;p=o[l>>2]|0;h=c<<2;t=Od(o[A>>2]|0,h)|0;if(S){_=p<<2;p_(t|0,S|0,_|0)|0;Dd(o[A>>2]|0,S,_)}o[n>>2]=t;t=e+120|0;n=o[t>>2]|0;if(!n)T=0;else{_=o[l>>2]|0;S=Od(o[A>>2]|0,h)|0;p=_<<2;p_(S|0,n|0,p|0)|0;Dd(o[A>>2]|0,n,p);T=S}o[t>>2]=T;T=e+124|0;t=o[T>>2]|0;S=o[l>>2]|0;p=Od(o[A>>2]|0,h)|0;if(t){n=S<<2;p_(p|0,t|0,n|0)|0;Dd(o[A>>2]|0,t,n)}o[T>>2]=p;p=e+128|0;T=o[p>>2]|0;if(!T)P=0;else{n=o[l>>2]|0;t=Od(o[A>>2]|0,E)|0;E=n<<3;p_(t|0,T|0,E|0)|0;Dd(o[A>>2]|0,T,E);P=t}o[p>>2]=P;P=e+132|0;p=o[P>>2]|0;if(!p)C=0;else{t=o[l>>2]|0;E=Od(o[A>>2]|0,h)|0;T=t<<2;p_(E|0,p|0,T|0)|0;Dd(o[A>>2]|0,p,T);C=E}o[P>>2]=C;C=e+136|0;P=o[C>>2]|0;if((P|0)==0|(o[a>>2]|0)!=0)M=P;else{a=o[l>>2]|0;E=Od(o[A>>2]|0,h)|0;T=a<<2;p_(E|0,P|0,T|0)|0;Dd(o[A>>2]|0,P,T);M=E}o[C>>2]=M;M=e+144|0;C=o[M>>2]|0;E=o[l>>2]|0;T=Od(o[A>>2]|0,h)|0;if(C){P=E<<2;p_(T|0,C|0,P|0)|0;Dd(o[A>>2]|0,C,P)}o[M>>2]=T;T=e+148|0;M=o[T>>2]|0;if((M|0)==0|(o[u>>2]|0)!=0)F=M;else{u=o[l>>2]|0;P=Od(o[A>>2]|0,h)|0;C=u<<2;p_(P|0,M|0,C|0)|0;Dd(o[A>>2]|0,M,C);F=P}o[T>>2]=F;F=e+280|0;T=o[F>>2]|0;if((T|0)==0|(o[e+284>>2]|0)!=0)I=T;else{P=o[l>>2]|0;C=Od(o[A>>2]|0,h)|0;M=P<<2;p_(C|0,T|0,M|0)|0;Dd(o[A>>2]|0,T,M);I=C}o[F>>2]=I;I=e+288|0;F=o[I>>2]|0;if((F|0)==0|(o[e+292>>2]|0)!=0)O=F;else{e=o[l>>2]|0;C=Od(o[A>>2]|0,h)|0;h=e<<2;p_(C|0,F|0,h|0)|0;Dd(o[A>>2]|0,F,h);O=C}o[I>>2]=O;o[l>>2]=c;return}function Xf(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0;r=e+400|0;if(o[(o[r>>2]|0)+102876>>2]&2){n=0;return n|0}s=e+44|0;a=o[s>>2]|0;u=e+48|0;c=o[u>>2]|0;if((a|0)<(c|0)){h=a;f=c}else{Jf(e,(a|0)==0?256:a<<1);h=o[s>>2]|0;f=o[u>>2]|0}do{if((h|0)>=(f|0))if(!(i[e+392>>0]|0)){n=-1;return n|0}else{a=o[e+288>>2]|0;c=o[a+(h+-1<<2)>>2]|0;d=(o[(o[e+280>>2]|0)+(c<<2)>>2]|0)>0?c:o[a>>2]|0;a=e+88|0;Yf(e,d,o[(o[a>>2]|0)+(d<<2)>>2]|2);Hf(e);p=a;_=o[s>>2]|0;break}else{p=e+88|0;_=h}}while(0);h=_+1|0;o[s>>2]=h;o[(o[p>>2]|0)+(_<<2)>>2]=0;p=o[e+160>>2]|0;if(p)o[p+(_<<2)>>2]=0;p=o[e+168>>2]|0;if(p)o[p+(_<<2)>>2]=0;p=o[e+176>>2]|0;if(p)o[p+(_<<2)>>2]=0;p=t+4|0;s=o[p+4>>2]|0;f=(o[e+96>>2]|0)+(_<<3)|0;o[f>>2]=o[p>>2];o[f+4>>2]=s;s=t+12|0;f=o[s+4>>2]|0;p=(o[e+104>>2]|0)+(_<<3)|0;o[p>>2]=o[s>>2];o[p+4>>2]=f;l[(o[e+116>>2]|0)+(_<<2)>>2]=0;f=2440;p=o[f+4>>2]|0;s=(o[e+112>>2]|0)+(_<<3)|0;o[s>>2]=o[f>>2];o[s+4>>2]=p;p=o[e+120>>2]|0;if(p)l[p+(_<<2)>>2]=0;p=o[e+132>>2]|0;if(p)l[p+(_<<2)>>2]=0;p=e+136|0;s=o[p>>2]|0;f=t+20|0;do{if(!s){if((((i[f>>0]|0)==0?(i[t+21>>0]|0)==0:0)?(i[t+22>>0]|0)==0:0)?(i[t+23>>0]|0)==0:0)break;a=o[u>>2]|0;if(!a){Jf(e,256);m=o[u>>2]|0}else m=a;a=Od(o[r>>2]|0,m<<2)|0;c_(a|0,0,o[u>>2]<<2|0)|0;b=a;g=26}else{b=s;g=26}}while(0);if((g|0)==26){o[p>>2]=b;p=i[t+21>>0]|0;s=i[t+22>>0]|0;m=i[t+23>>0]|0;i[b+(_<<2)>>0]=i[f>>0]|0;i[b+(_<<2)+1>>0]=p;i[b+(_<<2)+2>>0]=s;i[b+(_<<2)+3>>0]=m}m=e+148|0;b=o[m>>2]|0;s=t+28|0;if(!b){if(o[s>>2]|0){p=o[u>>2]|0;if(!p){Jf(e,256);y=o[u>>2]|0}else y=p;p=Od(o[r>>2]|0,y<<2)|0;c_(p|0,0,o[u>>2]<<2|0)|0;v=p;g=32}}else{v=b;g=32}if((g|0)==32){o[m>>2]=v;o[v+(_<<2)>>2]=o[s>>2]}s=o[e+80>>2]|0;if(s)o[s+(_<<2)>>2]=0;s=e+200|0;v=e+204|0;m=o[v>>2]|0;g=e+208|0;b=o[g>>2]|0;if((m|0)>=(b|0)?(p=(b|0)==0?256:b<<1,(b|0)<(p|0)):0){b=e+212|0;u=Od(o[b>>2]|0,p<<3)|0;y=o[s>>2]|0;if(!y)x=s;else{p_(u|0,y|0,o[v>>2]<<3|0)|0;Dd(o[b>>2]|0,o[s>>2]|0,o[g>>2]<<3);x=s}o[g>>2]=p;o[x>>2]=u;w=o[v>>2]|0}else w=m;o[v>>2]=w+1;v=o[s>>2]|0;S=+l[t+24>>2];s=S>0;if(s|(o[e+280>>2]|0)!=0){if(s)E=S;else{s=o[e+296+4>>2]|0;E=+l[e+396>>2]*+(((s|0)<0?0-s|0:0)-s|0)}Wf(e,_,E);o[(o[e+288>>2]|0)+(_<<2)>>2]=_}o[v+(w<<3)>>2]=_;w=o[t+32>>2]|0;o[(o[e+144>>2]|0)+(_<<2)>>2]=w;do{if(w){v=w+4|0;s=o[v>>2]|0;m=w+8|0;u=o[m>>2]|0;if((s|0)<(u|0)){Vf(e,s,u,_);o[m>>2]=h;break}else{o[v>>2]=_;o[m>>2]=h;break}}}while(0);Yf(e,_,o[t>>2]|0);n=_;return n|0}function Hf(e){e=e|0;var t=0,r=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0;t=e+400|0;r=e+44|0;n=Qd((o[t>>2]|0)+76|0,o[r>>2]<<2)|0;if((o[r>>2]|0)>0){s=e+88|0;a=e+80|0;u=e+160|0;l=e+168|0;c=e+176|0;h=e+96|0;f=e+104|0;d=e+144|0;p=e+21|0;_=e+120|0;m=e+132|0;b=e+136|0;g=e+148|0;y=e+280|0;v=e+112|0;x=e+64|0;w=0;S=0;E=0;while(1){A=o[s>>2]|0;T=o[A+(S<<2)>>2]|0;if(!(T&2)){o[n+(S<<2)>>2]=E;if((S|0)!=(E|0)){P=o[a>>2]|0;if(!P)C=A;else{A=o[P+(S<<2)>>2]|0;if(A)o[A+8>>2]=E;o[P+(E<<2)>>2]=A;C=o[s>>2]|0}o[C+(E<<2)>>2]=o[C+(S<<2)>>2];A=o[u>>2]|0;if(A)o[A+(E<<2)>>2]=o[A+(S<<2)>>2];A=o[l>>2]|0;if(A)o[A+(E<<2)>>2]=o[A+(S<<2)>>2];A=o[c>>2]|0;if(A)o[A+(E<<2)>>2]=o[A+(S<<2)>>2];A=o[h>>2]|0;P=A+(S<<3)|0;M=o[P+4>>2]|0;F=A+(E<<3)|0;o[F>>2]=o[P>>2];o[F+4>>2]=M;M=o[f>>2]|0;F=M+(S<<3)|0;P=o[F+4>>2]|0;A=M+(E<<3)|0;o[A>>2]=o[F>>2];o[A+4>>2]=P;P=o[d>>2]|0;o[P+(E<<2)>>2]=o[P+(S<<2)>>2];if(i[p>>0]|0){P=o[v>>2]|0;A=P+(S<<3)|0;F=o[A+4>>2]|0;M=P+(E<<3)|0;o[M>>2]=o[A>>2];o[M+4>>2]=F}F=o[_>>2]|0;if(F)o[F+(E<<2)>>2]=o[F+(S<<2)>>2];F=o[m>>2]|0;if(F)o[F+(E<<2)>>2]=o[F+(S<<2)>>2];F=o[b>>2]|0;if(F){M=i[F+(S<<2)+1>>0]|0;A=i[F+(S<<2)+2>>0]|0;P=i[F+(S<<2)+3>>0]|0;i[F+(E<<2)>>0]=i[F+(S<<2)>>0]|0;i[F+(E<<2)+1>>0]=M;i[F+(E<<2)+2>>0]=A;i[F+(E<<2)+3>>0]=P}P=o[g>>2]|0;if(P)o[P+(E<<2)>>2]=o[P+(S<<2)>>2];P=o[y>>2]|0;if(P)o[P+(E<<2)>>2]=o[P+(S<<2)>>2]}I=T|w;O=E+1|0}else{P=o[(o[t>>2]|0)+102992>>2]|0;if((T&512|0)!=0&(P|0)!=0)fm[o[(o[P>>2]|0)+20>>2]&7](P,e,S);P=o[a>>2]|0;if((P|0)!=0?(T=P+(S<<2)|0,P=o[T>>2]|0,(P|0)!=0):0){o[P+8>>2]=-1;o[T>>2]=0;Md(x,P)}o[n+(S<<2)>>2]=-1;I=w;O=E}S=S+1|0;if((S|0)>=(o[r>>2]|0)){D=I;k=O;break}else{w=I;E=O}}}else{D=0;k=0}O=e+204|0;E=o[O>>2]|0;I=e+200|0;w=o[I>>2]|0;if((E|0)>0){S=0;do{x=w+(S<<3)|0;o[x>>2]=o[n+(o[x>>2]<<2)>>2];S=S+1|0}while((S|0)<(E|0))}S=w+(E<<3)|0;e:do{if(!E){R=w;B=40}else{x=w;while(1){if((o[x>>2]|0)<0){R=x;B=40;break e}x=x+8|0;if((x|0)==(S|0)){N=S;L=w;break}}}}while(0);if((B|0)==40)if((R|0)==(S|0)){N=S;L=w}else{w=R;E=R;e:while(1){R=E;while(1){x=R+8|0;if((x|0)==(S|0)){G=w;break e}if((o[x>>2]|0)<0)R=x;else{U=x;break}}R=U;x=o[R+4>>2]|0;a=w;o[a>>2]=o[R>>2];o[a+4>>2]=x;w=w+8|0;E=U}N=G;L=o[I>>2]|0}o[O>>2]=N-L>>3;L=e+220|0;N=o[L>>2]|0;O=e+216|0;I=o[O>>2]|0;if((N|0)>0){G=0;do{U=I+(G*24|0)|0;E=I+(G*24|0)+4|0;w=o[n+(o[E>>2]<<2)>>2]|0;o[U>>2]=o[n+(o[U>>2]<<2)>>2];o[E>>2]=w;G=G+1|0}while((G|0)<(N|0))}G=I+(N*24|0)|0;e:do{if(!N){z=I;B=52}else{w=I;while(1){if((o[w>>2]|0)<0){z=w;B=52;break e}if((o[w+4>>2]|0)<0){z=w;B=52;break e}w=w+24|0;if((w|0)==(G|0)){j=G;J=I;break}}}}while(0);if((B|0)==52)if((z|0)==(G|0)){j=G;J=I}else{I=z+24|0;e:do{if((I|0)==(G|0))X=z;else{N=z;w=I;E=z;while(1){U=w;S=E;while(1){if((o[U>>2]|0)>=0?(o[S+28>>2]|0)>=0:0){H=U;break}x=U+24|0;if((x|0)==(G|0)){X=N;break e}else{a=U;U=x;S=a}}o[N>>2]=o[H>>2];o[N+4>>2]=o[H+4>>2];o[N+8>>2]=o[H+8>>2];o[N+12>>2]=o[H+12>>2];o[N+16>>2]=o[H+16>>2];o[N+20>>2]=o[H+20>>2];S=N+24|0;U=H+24|0;if((U|0)==(G|0)){X=S;break}else{N=S;w=U;E=H}}}}while(0);j=X;J=o[O>>2]|0}o[L>>2]=(j-J|0)/24|0;J=e+236|0;j=o[J>>2]|0;L=e+232|0;O=o[L>>2]|0;if((j|0)>0){X=0;do{H=O+(X*28|0)|0;o[H>>2]=o[n+(o[H>>2]<<2)>>2];X=X+1|0}while((X|0)<(j|0))}X=O+(j*28|0)|0;e:do{if(!j){W=O;B=65}else{H=O;while(1){if((o[H>>2]|0)<0){W=H;B=65;break e}H=H+28|0;if((H|0)==(X|0)){V=X;Y=O;break}}}}while(0);if((B|0)==65)if((W|0)==(X|0)){V=X;Y=O}else{O=W;j=W;e:while(1){W=j;while(1){H=W+28|0;if((H|0)==(X|0)){q=O;break e}if((o[H>>2]|0)<0)W=H;else{K=H;break}}o[O>>2]=o[K>>2];o[O+4>>2]=o[K+4>>2];o[O+8>>2]=o[K+8>>2];o[O+12>>2]=o[K+12>>2];o[O+16>>2]=o[K+16>>2];o[O+20>>2]=o[K+20>>2];o[O+24>>2]=o[K+24>>2];O=O+28|0;j=K}V=q;Y=o[L>>2]|0}o[J>>2]=(V-Y|0)/28|0;Y=e+252|0;V=o[Y>>2]|0;J=e+248|0;L=o[J>>2]|0;if((V|0)>0){q=0;do{K=L+(q*20|0)|0;o[K>>2]=o[n+(o[K>>2]<<2)>>2];K=L+(q*20|0)+4|0;o[K>>2]=o[n+(o[K>>2]<<2)>>2];q=q+1|0}while((q|0)<(V|0))}q=L+(V*20|0)|0;e:do{if(!V){Z=L;B=76}else{K=L;while(1){if((o[K+4>>2]|o[K>>2]|0)<0){Z=K;B=76;break e}K=K+20|0;if((K|0)==(q|0)){Q=q;$=L;break}}}}while(0);if((B|0)==76)if((Z|0)==(q|0)){Q=q;$=L}else{L=Z;V=Z;e:while(1){Z=V;while(1){K=Z+20|0;if((K|0)==(q|0)){ee=L;break e}if((o[Z+24>>2]|o[K>>2]|0)<0)Z=K;else{te=K;break}}o[L>>2]=o[te>>2];o[L+4>>2]=o[te+4>>2];o[L+8>>2]=o[te+8>>2];o[L+12>>2]=o[te+12>>2];o[L+16>>2]=o[te+16>>2];L=L+20|0;V=te}Q=ee;$=o[J>>2]|0}o[Y>>2]=(Q-$|0)/20|0;$=e+268|0;Q=o[$>>2]|0;Y=e+264|0;J=o[Y>>2]|0;if((Q|0)>0){ee=0;do{te=J+(ee*60|0)|0;o[te>>2]=o[n+(o[te>>2]<<2)>>2];te=J+(ee*60|0)+4|0;o[te>>2]=o[n+(o[te>>2]<<2)>>2];te=J+(ee*60|0)+8|0;o[te>>2]=o[n+(o[te>>2]<<2)>>2];ee=ee+1|0}while((ee|0)<(Q|0))}ee=J+(Q*60|0)|0;e:do{if(!Q){re=J;B=89}else{te=J;while(1){if((o[te>>2]|0)<0){re=te;B=89;break e}if((o[te+4>>2]|0)<0){re=te;B=89;break e}if((o[te+8>>2]|0)<0){re=te;B=89;break e}te=te+60|0;if((te|0)==(ee|0)){ie=ee;ne=J;break}}}}while(0);if((B|0)==89)if((re|0)==(ee|0)){ie=ee;ne=J}else{J=re+60|0;e:do{if((J|0)==(ee|0))oe=re;else{B=re;Q=J;te=re;while(1){V=Q;L=te;while(1){if(((o[V>>2]|0)>=0?(o[L+64>>2]|0)>=0:0)?(o[L+68>>2]|0)>=0:0){se=V;break}q=V+60|0;if((q|0)==(ee|0)){oe=B;break e}else{Z=V;V=q;L=Z}}L=B;V=se;Z=L+60|0;do{o[L>>2]=o[V>>2];L=L+4|0;V=V+4|0}while((L|0)<(Z|0));V=B+60|0;L=se+60|0;if((L|0)==(ee|0)){oe=V;break}else{B=V;Q=L;te=se}}}}while(0);ie=oe;ne=o[Y>>2]|0}o[$>>2]=(ie-ne|0)/60|0;ne=o[e+288>>2]|0;if((ne|0)!=0?(ie=o[r>>2]|0,(ie|0)>0):0){$=ie;ie=0;Y=0;while(1){oe=o[n+(o[ne+(ie<<2)>>2]<<2)>>2]|0;if((oe|0)==-1){ae=$;ue=Y}else{o[ne+(Y<<2)>>2]=oe;ae=o[r>>2]|0;ue=Y+1|0}ie=ie+1|0;if((ie|0)>=(ae|0))break;else{$=ae;Y=ue}}}ue=e+312|0;Y=o[ue>>2]|0;if(Y){ae=e+16|0;$=e+132|0;ie=e+48|0;ne=e+20|0;oe=Y;do{Y=oe+4|0;se=o[Y>>2]|0;ee=oe+8|0;re=o[ee>>2]|0;if((se|0)<(re|0)){J=k;te=se;se=0;Q=0;while(1){B=o[n+(te<<2)>>2]|0;if((B|0)>-1){L=B+1|0;le=(J|0)<(B|0)?J:B;ce=(se|0)>(L|0)?se:L;he=Q}else{le=J;ce=se;he=1}te=te+1|0;if((te|0)>=(re|0)){fe=le;de=ce;pe=he;break}else{J=le;se=ce;Q=he}}}else{fe=k;de=0;pe=0}if((fe|0)<(de|0)){o[Y>>2]=fe;o[ee>>2]=de;if(pe?(Q=oe+12|0,se=o[Q>>2]|0,(se&1|0)!=0):0){J=se|16;se=o[ae>>2]|0;if(J&~se){re=o[$>>2]|0;if(!re){te=o[ie>>2]|0;if(!te){Jf(e,256);_e=o[ie>>2]|0}else _e=te;te=Od(o[t>>2]|0,_e<<2)|0;c_(te|0,0,o[ie>>2]<<2|0)|0;me=te;be=o[ae>>2]|0}else{me=re;be=se}o[$>>2]=me;o[ae>>2]=be|J}o[Q>>2]=J}}else{o[Y>>2]=0;o[ee>>2]=0;J=oe+12|0;Q=o[J>>2]|0;if(!(Q&4)){se=Q|8;if((Q&-9^-9)&Q)i[ne>>0]=1;re=o[ae>>2]|0;if(se&~re){if(!(Q&1))ge=re;else{Q=o[$>>2]|0;if(!Q){te=o[ie>>2]|0;if(!te){Jf(e,256);ye=o[ie>>2]|0}else ye=te;te=Od(o[t>>2]|0,ye<<2)|0;c_(te|0,0,o[ie>>2]<<2|0)|0;ve=te;xe=o[ae>>2]|0}else{ve=Q;xe=re}o[$>>2]=ve;ge=xe}o[ae>>2]=ge|se}o[J>>2]=se}}oe=o[oe+24>>2]|0}while((oe|0)!=0)}o[r>>2]=k;ep((o[t>>2]|0)+76|0,n);o[e+8>>2]=D;i[e+12>>0]=0;D=o[ue>>2]|0;if(!D)return;else we=D;do{D=we;we=o[we+24>>2]|0;if(o[D+12>>2]&8)zf(e,D)}while((we|0)!=0);return}function Wf(e,t,r){e=e|0;t=t|0;r=+r;var n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;n=e+288|0;s=o[n>>2]|0;a=(s|0)==0;u=e+280|0;c=o[u>>2]|0;if(!c){h=e+48|0;f=o[h>>2]|0;if(!f){Jf(e,256);d=o[h>>2]|0}else d=f;f=Od(o[e+400>>2]|0,d<<2)|0;c_(f|0,0,o[h>>2]<<2|0)|0;p=f;_=o[n>>2]|0}else{p=c;_=s}o[u>>2]=p;if(!_){p=e+48|0;s=o[p>>2]|0;if(!s){Jf(e,256);m=o[p>>2]|0}else m=s;s=Od(o[e+400>>2]|0,m<<2)|0;c_(s|0,0,o[p>>2]<<2|0)|0;b=s}else b=_;o[n>>2]=b;if(a?(a=o[e+44>>2]|0,(a|0)>0):0){n=0;do{o[b+(n<<2)>>2]=n;n=n+1|0}while((n|0)!=(a|0))}a=~~(r/+l[e+396>>2]);if((a|0)>0)g=(o[e+296+4>>2]|0)+a|0;else g=a;a=(o[u>>2]|0)+(t<<2)|0;if((g|0)==(o[a>>2]|0))return;o[a>>2]=g;i[e+304>>0]=1;return}function Vf(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0;if((t|0)==(r|0)|(n|0)==(r|0))return;a=o[e+88>>2]|0;u=a+(t<<2)|0;l=a+(r<<2)|0;c=a+(n<<2)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){h=a+(n+-1<<2)|0;f=o[h>>2]|0;d=h-u|0;__(a+(n-(d>>2)<<2)|0,u|0,d|0)|0;o[u>>2]=f;break}f=l;d=f-u>>2;h=c;p=h-f>>2;if((d|0)==(p|0)){f=u;_=l;while(1){m=o[f>>2]|0;o[f>>2]=o[_>>2];o[_>>2]=m;f=f+4|0;if((f|0)==(l|0))break e;else _=_+4|0}}else{b=d;g=p}while(1){_=(b|0)%(g|0)|0;if(!_){y=g;break}else{f=g;g=_;b=f}}if(y){p=d+-1|0;f=d+t|0;_=a+(y+t<<2)|0;do{m=_;_=_+-4|0;v=o[_>>2]|0;x=_;w=m+(p<<2)|0;while(1){o[x>>2]=o[w>>2];m=h-w>>2;S=(d|0)<(m|0)?w+(d<<2)|0:a+(f-m<<2)|0;if((S|0)==(_|0)){E=w;break}else{m=w;w=S;x=m}}o[E>>2]=v}while((_|0)!=(u|0))}}else{_=o[u>>2]|0;f=c-l|0;__(u|0,l|0,f|0)|0;o[a+((f>>2)+t<<2)>>2]=_}}while(0);a=o[e+160>>2]|0;e:do{if(a){l=a+(t<<2)|0;u=a+(r<<2)|0;c=a+(n<<2)|0;if((t+1|0)==(r|0)){E=o[l>>2]|0;y=c-u|0;__(l|0,u|0,y|0)|0;o[a+((y>>2)+t<<2)>>2]=E;break}if((r+1|0)==(n|0)){E=a+(n+-1<<2)|0;y=o[E>>2]|0;b=E-l|0;__(a+(n-(b>>2)<<2)|0,l|0,b|0)|0;o[l>>2]=y;break}y=u;b=y-l>>2;E=c;c=E-y>>2;if((b|0)==(c|0)){y=l;g=u;while(1){_=o[y>>2]|0;o[y>>2]=o[g>>2];o[g>>2]=_;y=y+4|0;if((y|0)==(u|0))break e;else g=g+4|0}}else{A=b;T=c}while(1){g=(A|0)%(T|0)|0;if(!g){P=T;break}else{u=T;T=g;A=u}}if(P){c=b+-1|0;u=b+t|0;g=a+(P+t<<2)|0;do{y=g;g=g+-4|0;_=o[g>>2]|0;f=g;d=y+(c<<2)|0;while(1){o[f>>2]=o[d>>2];y=E-d>>2;h=(b|0)<(y|0)?d+(b<<2)|0:a+(u-y<<2)|0;if((h|0)==(g|0)){C=d;break}else{y=d;d=h;f=y}}o[C>>2]=_}while((g|0)!=(l|0))}}}while(0);C=o[e+168>>2]|0;e:do{if(C){a=C+(t<<2)|0;P=C+(r<<2)|0;A=C+(n<<2)|0;if((t+1|0)==(r|0)){T=o[a>>2]|0;l=A-P|0;__(a|0,P|0,l|0)|0;o[C+((l>>2)+t<<2)>>2]=T;break}if((r+1|0)==(n|0)){T=C+(n+-1<<2)|0;l=o[T>>2]|0;g=T-a|0;__(C+(n-(g>>2)<<2)|0,a|0,g|0)|0;o[a>>2]=l;break}l=P;g=l-a>>2;T=A;A=T-l>>2;if((g|0)==(A|0)){l=a;u=P;while(1){b=o[l>>2]|0;o[l>>2]=o[u>>2];o[u>>2]=b;l=l+4|0;if((l|0)==(P|0))break e;else u=u+4|0}}else{M=g;F=A}while(1){u=(M|0)%(F|0)|0;if(!u){I=F;break}else{P=F;F=u;M=P}}if(I){A=g+-1|0;P=g+t|0;u=C+(I+t<<2)|0;do{l=u;u=u+-4|0;b=o[u>>2]|0;E=u;c=l+(A<<2)|0;while(1){o[E>>2]=o[c>>2];l=T-c>>2;f=(g|0)<(l|0)?c+(g<<2)|0:C+(P-l<<2)|0;if((f|0)==(u|0)){O=c;break}else{l=c;c=f;E=l}}o[O>>2]=b}while((u|0)!=(a|0))}}}while(0);O=o[e+176>>2]|0;e:do{if(O){C=O+(t<<2)|0;I=O+(r<<2)|0;M=O+(n<<2)|0;if((t+1|0)==(r|0)){F=o[C>>2]|0;a=M-I|0;__(C|0,I|0,a|0)|0;o[O+((a>>2)+t<<2)>>2]=F;break}if((r+1|0)==(n|0)){F=O+(n+-1<<2)|0;a=o[F>>2]|0;u=F-C|0;__(O+(n-(u>>2)<<2)|0,C|0,u|0)|0;o[C>>2]=a;break}a=I;u=a-C>>2;F=M;M=F-a>>2;if((u|0)==(M|0)){a=C;P=I;while(1){g=o[a>>2]|0;o[a>>2]=o[P>>2];o[P>>2]=g;a=a+4|0;if((a|0)==(I|0))break e;else P=P+4|0}}else{D=u;k=M}while(1){P=(D|0)%(k|0)|0;if(!P){R=k;break}else{I=k;k=P;D=I}}if(R){M=u+-1|0;I=u+t|0;P=O+(R+t<<2)|0;do{a=P;P=P+-4|0;g=o[P>>2]|0;T=P;A=a+(M<<2)|0;while(1){o[T>>2]=o[A>>2];a=F-A>>2;E=(u|0)<(a|0)?A+(u<<2)|0:O+(I-a<<2)|0;if((E|0)==(P|0)){B=A;break}else{a=A;A=E;T=a}}o[B>>2]=g}while((P|0)!=(C|0))}}}while(0);B=o[e+96>>2]|0;O=B+(t<<3)|0;R=B+(r<<3)|0;D=B+(n<<3)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){k=B+(n+-1<<3)|0;C=k;P=o[C>>2]|0;I=o[C+4>>2]|0;C=k-O|0;__(B+(n-(C>>3)<<3)|0,O|0,C|0)|0;C=O;o[C>>2]=P;o[C+4>>2]=I;break}I=R;C=I-O>>3;P=D;k=P-I>>3;if((C|0)==(k|0)){I=O;u=R;while(1){F=I;M=o[F>>2]|0;T=o[F+4>>2]|0;F=u;A=o[F+4>>2]|0;b=I;o[b>>2]=o[F>>2];o[b+4>>2]=A;A=u;o[A>>2]=M;o[A+4>>2]=T;I=I+8|0;if((I|0)==(R|0))break e;else u=u+8|0}}else{N=C;L=k}while(1){u=(N|0)%(L|0)|0;if(!u){G=L;break}else{I=L;L=u;N=I}}if(G){k=C+-1|0;I=C+t|0;u=B+(G+t<<3)|0;do{T=u;u=u+-8|0;A=u;M=o[A>>2]|0;b=o[A+4>>2]|0;A=u;F=T+(k<<3)|0;while(1){T=F;a=o[T+4>>2]|0;E=A;o[E>>2]=o[T>>2];o[E+4>>2]=a;a=P-F>>3;E=(C|0)<(a|0)?F+(C<<3)|0:B+(I-a<<3)|0;if((E|0)==(u|0)){U=F;break}else{a=F;F=E;A=a}}A=U;o[A>>2]=M;o[A+4>>2]=b}while((u|0)!=(O|0))}}else{u=O;I=o[u>>2]|0;C=o[u+4>>2]|0;u=D-R|0;__(O|0,R|0,u|0)|0;P=B+((u>>3)+t<<3)|0;o[P>>2]=I;o[P+4>>2]=C}}while(0);B=o[e+104>>2]|0;R=B+(t<<3)|0;O=B+(r<<3)|0;D=B+(n<<3)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){U=B+(n+-1<<3)|0;G=U;N=o[G>>2]|0;L=o[G+4>>2]|0;G=U-R|0;__(B+(n-(G>>3)<<3)|0,R|0,G|0)|0;G=R;o[G>>2]=N;o[G+4>>2]=L;break}L=O;G=L-R>>3;N=D;U=N-L>>3;if((G|0)==(U|0)){L=R;C=O;while(1){P=L;I=o[P>>2]|0;u=o[P+4>>2]|0;P=C;k=o[P+4>>2]|0;A=L;o[A>>2]=o[P>>2];o[A+4>>2]=k;k=C;o[k>>2]=I;o[k+4>>2]=u;L=L+8|0;if((L|0)==(O|0))break e;else C=C+8|0}}else{z=G;j=U}while(1){C=(z|0)%(j|0)|0;if(!C){J=j;break}else{L=j;j=C;z=L}}if(J){U=G+-1|0;L=G+t|0;C=B+(J+t<<3)|0;do{u=C;C=C+-8|0;k=C;I=o[k>>2]|0;A=o[k+4>>2]|0;k=C;P=u+(U<<3)|0;while(1){u=P;F=o[u+4>>2]|0;g=k;o[g>>2]=o[u>>2];o[g+4>>2]=F;F=N-P>>3;g=(G|0)<(F|0)?P+(G<<3)|0:B+(L-F<<3)|0;if((g|0)==(C|0)){X=P;break}else{F=P;P=g;k=F}}k=X;o[k>>2]=I;o[k+4>>2]=A}while((C|0)!=(R|0))}}else{C=R;L=o[C>>2]|0;G=o[C+4>>2]|0;C=D-O|0;__(R|0,O|0,C|0)|0;N=B+((C>>3)+t<<3)|0;o[N>>2]=L;o[N+4>>2]=G}}while(0);B=o[e+144>>2]|0;O=B+(t<<2)|0;R=B+(r<<2)|0;D=B+(n<<2)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){X=B+(n+-1<<2)|0;J=o[X>>2]|0;z=X-O|0;__(B+(n-(z>>2)<<2)|0,O|0,z|0)|0;o[O>>2]=J;break}J=R;z=J-O>>2;X=D;j=X-J>>2;if((z|0)==(j|0)){J=O;G=R;while(1){N=o[J>>2]|0;o[J>>2]=o[G>>2];o[G>>2]=N;J=J+4|0;if((J|0)==(R|0))break e;else G=G+4|0}}else{H=z;W=j}while(1){G=(H|0)%(W|0)|0;if(!G){V=W;break}else{J=W;W=G;H=J}}if(V){j=z+-1|0;J=z+t|0;G=B+(V+t<<2)|0;do{N=G;G=G+-4|0;L=o[G>>2]|0;C=G;U=N+(j<<2)|0;while(1){o[C>>2]=o[U>>2];N=X-U>>2;k=(z|0)<(N|0)?U+(z<<2)|0:B+(J-N<<2)|0;if((k|0)==(G|0)){Y=U;break}else{N=U;U=k;C=N}}o[Y>>2]=L}while((G|0)!=(O|0))}}else{G=o[O>>2]|0;J=D-R|0;__(O|0,R|0,J|0)|0;o[B+((J>>2)+t<<2)>>2]=G}}while(0);e:do{if(i[e+21>>0]|0){B=o[e+112>>2]|0;R=B+(t<<3)|0;O=B+(r<<3)|0;D=B+(n<<3)|0;if((t+1|0)==(r|0)){Y=R;V=o[Y>>2]|0;H=o[Y+4>>2]|0;Y=D-O|0;__(R|0,O|0,Y|0)|0;W=B+((Y>>3)+t<<3)|0;o[W>>2]=V;o[W+4>>2]=H;break}if((r+1|0)==(n|0)){H=B+(n+-1<<3)|0;W=H;V=o[W>>2]|0;Y=o[W+4>>2]|0;W=H-R|0;__(B+(n-(W>>3)<<3)|0,R|0,W|0)|0;W=R;o[W>>2]=V;o[W+4>>2]=Y;break}Y=O;W=Y-R>>3;V=D;D=V-Y>>3;if((W|0)==(D|0)){Y=R;H=O;while(1){G=Y;J=o[G>>2]|0;z=o[G+4>>2]|0;G=H;X=o[G+4>>2]|0;j=Y;o[j>>2]=o[G>>2];o[j+4>>2]=X;X=H;o[X>>2]=J;o[X+4>>2]=z;Y=Y+8|0;if((Y|0)==(O|0))break e;else H=H+8|0}}else{q=W;K=D}while(1){H=(q|0)%(K|0)|0;if(!H){Z=K;break}else{O=K;K=H;q=O}}if(Z){D=W+-1|0;O=W+t|0;H=B+(Z+t<<3)|0;do{Y=H;H=H+-8|0;z=H;X=o[z>>2]|0;J=o[z+4>>2]|0;z=H;j=Y+(D<<3)|0;while(1){Y=j;G=o[Y+4>>2]|0;C=z;o[C>>2]=o[Y>>2];o[C+4>>2]=G;G=V-j>>3;C=(W|0)<(G|0)?j+(W<<3)|0:B+(O-G<<3)|0;if((C|0)==(H|0)){Q=j;break}else{G=j;j=C;z=G}}z=Q;o[z>>2]=X;o[z+4>>2]=J}while((H|0)!=(R|0))}}}while(0);Q=o[e+120>>2]|0;e:do{if(Q){Z=Q+(t<<2)|0;q=Q+(r<<2)|0;K=Q+(n<<2)|0;if((t+1|0)==(r|0)){R=o[Z>>2]|0;H=K-q|0;__(Z|0,q|0,H|0)|0;o[Q+((H>>2)+t<<2)>>2]=R;break}if((r+1|0)==(n|0)){R=Q+(n+-1<<2)|0;H=o[R>>2]|0;O=R-Z|0;__(Q+(n-(O>>2)<<2)|0,Z|0,O|0)|0;o[Z>>2]=H;break}H=q;O=H-Z>>2;R=K;K=R-H>>2;if((O|0)==(K|0)){H=Z;B=q;while(1){W=o[H>>2]|0;o[H>>2]=o[B>>2];o[B>>2]=W;H=H+4|0;if((H|0)==(q|0))break e;else B=B+4|0}}else{$=O;ee=K}while(1){B=($|0)%(ee|0)|0;if(!B){te=ee;break}else{q=ee;ee=B;$=q}}if(te){K=O+-1|0;q=O+t|0;B=Q+(te+t<<2)|0;do{H=B;B=B+-4|0;W=o[B>>2]|0;V=B;D=H+(K<<2)|0;while(1){o[V>>2]=o[D>>2];H=R-D>>2;z=(O|0)<(H|0)?D+(O<<2)|0:Q+(q-H<<2)|0;if((z|0)==(B|0)){re=D;break}else{H=D;D=z;V=H}}o[re>>2]=W}while((B|0)!=(Z|0))}}}while(0);re=o[e+132>>2]|0;e:do{if(re){Q=re+(t<<2)|0;te=re+(r<<2)|0;$=re+(n<<2)|0;if((t+1|0)==(r|0)){ee=o[Q>>2]|0;Z=$-te|0;__(Q|0,te|0,Z|0)|0;o[re+((Z>>2)+t<<2)>>2]=ee;break}if((r+1|0)==(n|0)){ee=re+(n+-1<<2)|0;Z=o[ee>>2]|0;B=ee-Q|0;__(re+(n-(B>>2)<<2)|0,Q|0,B|0)|0;o[Q>>2]=Z;break}Z=te;B=Z-Q>>2;ee=$;$=ee-Z>>2;if((B|0)==($|0)){Z=Q;q=te;while(1){O=o[Z>>2]|0;o[Z>>2]=o[q>>2];o[q>>2]=O;Z=Z+4|0;if((Z|0)==(te|0))break e;else q=q+4|0}}else{ie=B;ne=$}while(1){q=(ie|0)%(ne|0)|0;if(!q){oe=ne;break}else{te=ne;ne=q;ie=te}}if(oe){$=B+-1|0;te=B+t|0;q=re+(oe+t<<2)|0;do{Z=q;q=q+-4|0;O=o[q>>2]|0;R=q;K=Z+($<<2)|0;while(1){o[R>>2]=o[K>>2];Z=ee-K>>2;V=(B|0)<(Z|0)?K+(B<<2)|0:re+(te-Z<<2)|0;if((V|0)==(q|0)){se=K;break}else{Z=K;K=V;R=Z}}o[se>>2]=O}while((q|0)!=(Q|0))}}}while(0);se=o[e+136>>2]|0;e:do{if(se){re=se+(r<<2)|0;oe=se+(n<<2)|0;ie=n<<2;ne=r<<2;Q=se+(t<<2)|0;q=re;te=re;while(1){re=s[Q>>0]|s[Q+1>>0]<<8|s[Q+2>>0]<<16|s[Q+3>>0]<<24;B=te+1|0;ee=i[B>>0]|0;$=te+2|0;R=i[$>>0]|0;K=te+3|0;W=i[K>>0]|0;i[Q>>0]=i[te>>0]|0;i[Q+1>>0]=ee;i[Q+2>>0]=R;i[Q+3>>0]=W;i[te>>0]=re;i[B>>0]=re>>>8;i[$>>0]=re>>>16;i[K>>0]=re>>>24;re=Q+4|0;K=te+4|0;ae=(re|0)==(q|0);if((K|0)==(oe|0))break;Q=re;q=ae?K:q;te=K}if(!ae){te=se+(t+1+((ie+-4-ne|0)>>>2)<<2)|0;Q=q;K=q;while(1){re=te;$=K;while(1){B=s[re>>0]|s[re+1>>0]<<8|s[re+2>>0]<<16|s[re+3>>0]<<24;W=$+1|0;R=i[W>>0]|0;ee=$+2|0;Z=i[ee>>0]|0;V=$+3|0;D=i[V>>0]|0;i[re>>0]=i[$>>0]|0;i[re+1>>0]=R;i[re+2>>0]=Z;i[re+3>>0]=D;i[$>>0]=B;i[W>>0]=B>>>8;i[ee>>0]=B>>>16;i[V>>0]=B>>>24;re=re+4|0;B=$+4|0;V=(re|0)==(Q|0);if((B|0)!=(oe|0)){ue=re;le=B;ce=V;break}if(V)break e;else $=Q}te=ue;Q=ce?le:Q;K=le}}}}while(0);le=o[e+148>>2]|0;e:do{if(le){ce=le+(t<<2)|0;ue=le+(r<<2)|0;se=le+(n<<2)|0;if((t+1|0)==(r|0)){ae=o[ce>>2]|0;K=se-ue|0;__(ce|0,ue|0,K|0)|0;o[le+((K>>2)+t<<2)>>2]=ae;break}if((r+1|0)==(n|0)){ae=le+(n+-1<<2)|0;K=o[ae>>2]|0;Q=ae-ce|0;__(le+(n-(Q>>2)<<2)|0,ce|0,Q|0)|0;o[ce>>2]=K;break}K=ue;Q=K-ce>>2;ae=se;se=ae-K>>2;if((Q|0)==(se|0)){K=ce;te=ue;while(1){oe=o[K>>2]|0;o[K>>2]=o[te>>2];o[te>>2]=oe;K=K+4|0;if((K|0)==(ue|0))break e;else te=te+4|0}}else{he=Q;fe=se}while(1){te=(he|0)%(fe|0)|0;if(!te){de=fe;break}else{ue=fe;fe=te;he=ue}}if(de){se=Q+-1|0;ue=Q+t|0;te=le+(de+t<<2)|0;do{K=te;te=te+-4|0;oe=o[te>>2]|0;q=te;ne=K+(se<<2)|0;while(1){o[q>>2]=o[ne>>2];K=ae-ne>>2;ie=(Q|0)<(K|0)?ne+(Q<<2)|0:le+(ue-K<<2)|0;if((ie|0)==(te|0)){pe=ne;break}else{K=ne;ne=ie;q=K}}o[pe>>2]=oe}while((te|0)!=(ce|0))}}}while(0);pe=e+80|0;le=o[pe>>2]|0;if(le){de=le+(t<<2)|0;he=le+(r<<2)|0;fe=le+(n<<2)|0;e:do{if((t+1|0)!=(r|0)){if((r+1|0)==(n|0)){ce=le+(n+-1<<2)|0;te=o[ce>>2]|0;ue=ce-de|0;__(le+(n-(ue>>2)<<2)|0,de|0,ue|0)|0;o[de>>2]=te;break}te=he;ue=te-de>>2;ce=fe;Q=ce-te>>2;if((ue|0)==(Q|0)){te=de;ae=he;while(1){se=o[te>>2]|0;o[te>>2]=o[ae>>2];o[ae>>2]=se;te=te+4|0;if((te|0)==(he|0))break e;else ae=ae+4|0}}else{_e=ue;me=Q}while(1){ae=(_e|0)%(me|0)|0;if(!ae){be=me;break}else{te=me;me=ae;_e=te}}if(be){Q=ue+-1|0;te=ue+t|0;ae=le+(be+t<<2)|0;do{se=ae;ae=ae+-4|0;q=o[ae>>2]|0;ne=ae;K=se+(Q<<2)|0;while(1){o[ne>>2]=o[K>>2];se=ce-K>>2;ie=(ue|0)<(se|0)?K+(ue<<2)|0:le+(te-se<<2)|0;if((ie|0)==(ae|0)){ge=K;break}else{se=K;K=ie;ne=se}}o[ge>>2]=q}while((ae|0)!=(de|0))}}else{ae=o[de>>2]|0;te=fe-he|0;__(de|0,he|0,te|0)|0;o[le+((te>>2)+t<<2)>>2]=ae}}while(0);if((t|0)<(n|0)){le=o[pe>>2]|0;pe=n-r|0;he=t-r|0;de=t;do{fe=o[le+(de<<2)>>2]|0;if(fe){ge=fe+8|0;fe=o[ge>>2]|0;do{if((fe|0)>=(t|0))if((fe|0)<(r|0)){ye=pe+fe|0;break}else{ye=fe+((fe|0)<(n|0)?he:0)|0;break}else ye=fe}while(0);o[ge>>2]=ye}de=de+1|0}while((de|0)!=(n|0))}}de=o[e+280>>2]|0;if(de){ye=de+(t<<2)|0;he=de+(r<<2)|0;pe=de+(n<<2)|0;e:do{if((t+1|0)==(r|0)){le=o[ye>>2]|0;fe=pe-he|0;__(ye|0,he|0,fe|0)|0;o[de+((fe>>2)+t<<2)>>2]=le}else{if((r+1|0)==(n|0)){le=de+(n+-1<<2)|0;fe=o[le>>2]|0;be=le-ye|0;__(de+(n-(be>>2)<<2)|0,ye|0,be|0)|0;o[ye>>2]=fe;break}fe=he;be=fe-ye>>2;le=pe;_e=le-fe>>2;if((be|0)==(_e|0)){fe=ye;me=he;while(1){ae=o[fe>>2]|0;o[fe>>2]=o[me>>2];o[me>>2]=ae;fe=fe+4|0;if((fe|0)==(he|0))break e;else me=me+4|0}}else{ve=be;xe=_e}while(1){me=(ve|0)%(xe|0)|0;if(!me){we=xe;break}else{fe=xe;xe=me;ve=fe}}if(!we)break;_e=be+-1|0;fe=be+t|0;me=de+(we+t<<2)|0;do{ge=me;me=me+-4|0;ae=o[me>>2]|0;te=me;ue=ge+(_e<<2)|0;while(1){o[te>>2]=o[ue>>2];ge=le-ue>>2;ce=(be|0)<(ge|0)?ue+(be<<2)|0:de+(fe-ge<<2)|0;if((ce|0)==(me|0)){Se=ue;break}else{ge=ue;ue=ce;te=ge}}o[Se>>2]=ae}while((me|0)!=(ye|0))}}while(0);ye=o[e+44>>2]|0;Se=o[e+288>>2]|0;if((ye|0)>0){de=n-r|0;we=t-r|0;ve=0;do{xe=Se+(ve<<2)|0;he=o[xe>>2]|0;do{if((he|0)>=(t|0))if((he|0)<(r|0)){Ee=de+he|0;break}else{Ee=he+((he|0)<(n|0)?we:0)|0;break}else Ee=he}while(0);o[xe>>2]=Ee;ve=ve+1|0}while((ve|0)!=(ye|0))}}ye=o[e+204>>2]|0;if((ye|0)>0){ve=o[e+200>>2]|0;Ee=n-r|0;we=t-r|0;de=0;do{Se=ve+(de<<3)|0;he=o[Se>>2]|0;do{if((he|0)>=(t|0))if((he|0)<(r|0)){Ae=Ee+he|0;break}else{Ae=he+((he|0)<(n|0)?we:0)|0;break}else Ae=he}while(0);o[Se>>2]=Ae;de=de+1|0}while((de|0)<(ye|0))}ye=o[e+220>>2]|0;if((ye|0)>0){de=o[e+216>>2]|0;Ae=n-r|0;we=t-r|0;Ee=0;do{ve=de+(Ee*24|0)|0;he=o[ve>>2]|0;do{if((he|0)>=(t|0))if((he|0)<(r|0)){Te=Ae+he|0;break}else{Te=he+((he|0)<(n|0)?we:0)|0;break}else Te=he}while(0);he=de+(Ee*24|0)+4|0;Se=o[he>>2]|0;do{if((Se|0)>=(t|0))if((Se|0)<(r|0)){Pe=Ae+Se|0;break}else{Pe=Se+((Se|0)<(n|0)?we:0)|0;break}else Pe=Se}while(0);o[ve>>2]=Te;o[he>>2]=Pe;Ee=Ee+1|0}while((Ee|0)<(ye|0))}ye=o[e+236>>2]|0;if((ye|0)>0){Ee=o[e+232>>2]|0;Pe=n-r|0;Te=t-r|0;we=0;do{Ae=Ee+(we*28|0)|0;de=o[Ae>>2]|0;do{if((de|0)>=(t|0))if((de|0)<(r|0)){Ce=Pe+de|0;break}else{Ce=de+((de|0)<(n|0)?Te:0)|0;break}else Ce=de}while(0);o[Ae>>2]=Ce;we=we+1|0}while((we|0)<(ye|0))}ye=o[e+252>>2]|0;if((ye|0)>0){we=o[e+248>>2]|0;Ce=n-r|0;Te=t-r|0;Pe=0;do{Ee=we+(Pe*20|0)|0;de=o[Ee>>2]|0;do{if((de|0)>=(t|0))if((de|0)<(r|0)){Me=Ce+de|0;break}else{Me=de+((de|0)<(n|0)?Te:0)|0;break}else Me=de}while(0);o[Ee>>2]=Me;de=we+(Pe*20|0)+4|0;Ae=o[de>>2]|0;do{if((Ae|0)>=(t|0))if((Ae|0)<(r|0)){Fe=Ce+Ae|0;break}else{Fe=Ae+((Ae|0)<(n|0)?Te:0)|0;break}else Fe=Ae}while(0);o[de>>2]=Fe;Pe=Pe+1|0}while((Pe|0)<(ye|0))}ye=o[e+268>>2]|0;if((ye|0)>0){Pe=o[e+264>>2]|0;Fe=n-r|0;Te=t-r|0;Ce=0;do{we=Pe+(Ce*60|0)|0;Me=o[we>>2]|0;do{if((Me|0)>=(t|0))if((Me|0)<(r|0)){Ie=Fe+Me|0;break}else{Ie=Me+((Me|0)<(n|0)?Te:0)|0;break}else Ie=Me}while(0);o[we>>2]=Ie;Me=Pe+(Ce*60|0)+4|0;de=o[Me>>2]|0;do{if((de|0)>=(t|0))if((de|0)<(r|0)){Oe=Fe+de|0;break}else{Oe=de+((de|0)<(n|0)?Te:0)|0;break}else Oe=de}while(0);o[Me>>2]=Oe;de=Pe+(Ce*60|0)+8|0;we=o[de>>2]|0;do{if((we|0)>=(t|0))if((we|0)<(r|0)){De=Fe+we|0;break}else{De=we+((we|0)<(n|0)?Te:0)|0;break}else De=we}while(0);o[de>>2]=De;Ce=Ce+1|0}while((Ce|0)<(ye|0))}ye=o[e+312>>2]|0;if(!ye)return;e=t-r|0;Ce=n-r|0;De=ye;do{ye=De+4|0;Te=o[ye>>2]|0;do{if((Te|0)>=(t|0))if((Te|0)<(r|0)){ke=Ce+Te|0;break}else{ke=Te+((Te|0)<(n|0)?e:0)|0;break}else ke=Te}while(0);o[ye>>2]=ke;Te=De+8|0;de=o[Te>>2]|0;Fe=de+-1|0;do{if((de|0)>(t|0))if((de|0)>(r|0)){Re=Fe+((de|0)>(n|0)?0:e)|0;break}else{Re=Ce+Fe|0;break}else Re=Fe}while(0);o[Te>>2]=Re+1;De=o[De+24>>2]|0}while((De|0)!=0);return}function Yf(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0;n=(o[e+88>>2]|0)+(t<<2)|0;if(o[n>>2]&~r)i[e+12>>0]=1;t=e+8|0;if(!(~o[t>>2]&r)){o[n>>2]=r;return}if(r&128){s=e+128|0;a=o[s>>2]|0;if(!a){u=e+48|0;l=o[u>>2]|0;if(!l){Jf(e,256);c=o[u>>2]|0}else c=l;l=Od(o[e+400>>2]|0,c<<3)|0;c_(l|0,0,o[u>>2]<<3|0)|0;h=l}else h=a;o[s>>2]=h}if(r&256){h=e+136|0;s=o[h>>2]|0;if(!s){a=e+48|0;l=o[a>>2]|0;if(!l){Jf(e,256);f=o[a>>2]|0}else f=l;l=Od(o[e+400>>2]|0,f<<2)|0;c_(l|0,0,o[a>>2]<<2|0)|0;d=l}else d=s;o[h>>2]=d}o[t>>2]=o[t>>2]|r;o[n>>2]=r;return}function qf(e,t,r){e=e|0;t=t|0;r=r|0;Yf(e,t,o[(o[e+88>>2]|0)+(t<<2)>>2]|(r?514:2));return}function Kf(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,f=0;s=h;h=h+64|0;a=s+16|0;u=s;l=e+400|0;if(o[(o[l>>2]|0)+102876>>2]&2){c=0;h=s;return c|0}o[a>>2]=2152;f=a+12|0;o[a+4>>2]=e;o[a+8>>2]=t;o[f>>2]=o[r>>2];o[f+4>>2]=o[r+4>>2];o[f+8>>2]=o[r+8>>2];o[f+12>>2]=o[r+12>>2];i[a+28>>0]=n&1;n=a+32|0;o[n>>2]=0;ym[o[(o[t>>2]|0)+28>>2]&31](t,u,r,0);qh(o[l>>2]|0,a,u);c=o[n>>2]|0;h=s;return c|0}function Zf(e,t,r,s){e=e|0;t=t|0;r=r|0;s=s|0;var a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0;a=h;h=h+96|0;u=a+48|0;c=a;f=+l[r+52>>2];if(f==0)d=+l[e+32>>2]*.75;else d=f;p=om[o[(o[t>>2]|0)+12>>2]&7](t)|0;if((p|0)<=0){h=a;return}_=c+4|0;m=c+8|0;b=c+28|0;g=t+4|0;y=c+12|0;v=t+12|0;x=c+20|0;w=c+12|0;S=c+24|0;E=c+16|0;A=u+4|0;T=u+12|0;P=u+20|0;C=u+21|0;M=u+22|0;F=u+23|0;I=u+24|0;O=u+28|0;D=u+32|0;k=s+12|0;R=s+8|0;B=s+4|0;N=u+8|0;L=r+28|0;G=r+8|0;U=r+12|0;z=r+20|0;j=r+24|0;X=u+16|0;H=r+32|0;W=r+33|0;V=r+34|0;Y=r+35|0;q=r+64|0;K=r+68|0;Z=0;f=0;while(1){o[c>>2]=916;o[_>>2]=1;l[m>>2]=.009999999776482582;o[b>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;n[b+16>>1]=0;if((o[g>>2]|0)==1){Q=g;$=o[Q+4>>2]|0;ee=_;o[ee>>2]=o[Q>>2];o[ee+4>>2]=$;o[y>>2]=o[v>>2];o[y+4>>2]=o[v+4>>2];o[y+8>>2]=o[v+8>>2];o[y+12>>2]=o[v+12>>2];o[y+16>>2]=o[v+16>>2];o[y+20>>2]=o[v+20>>2];o[y+24>>2]=o[v+24>>2];o[y+28>>2]=o[v+28>>2];n[y+32>>1]=n[v+32>>1]|0}else Ac(t,c,Z);te=+l[w>>2];re=+l[x>>2]-te;ie=+l[E>>2];ne=+l[S>>2]-ie;oe=+J(+(re*re+ne*ne));e:do{if(f<oe){se=te;ae=ie;ue=f;while(1){le=ue/oe;ce=se+re*le;he=ne*le+ae;$=2440;ee=o[$>>2]|0;Q=o[$+4>>2]|0;$=A;o[$>>2]=ee;o[$+4>>2]=Q;$=T;o[$>>2]=ee;o[$+4>>2]=Q;o[D>>2]=0;o[u>>2]=o[r>>2];le=+l[k>>2];fe=+l[R>>2];de=+l[s>>2]+(ce*le-he*fe);pe=he*le+ce*fe+ +l[B>>2];l[A>>2]=de;l[N>>2]=pe;fe=+l[L>>2];ce=fe*(de-+l[G>>2])+ +l[j>>2];l[T>>2]=+l[z>>2]-fe*(pe-+l[U>>2]);l[X>>2]=ce;Q=i[W>>0]|0;$=i[V>>0]|0;ee=i[Y>>0]|0;i[P>>0]=i[H>>0]|0;i[C>>0]=Q;i[M>>0]=$;i[F>>0]=ee;o[I>>2]=o[q>>2];o[O>>2]=o[K>>2];Xf(e,u)|0;ce=d+ue;if(!(ce<oe)){_e=ce;break e}se=+l[w>>2];ae=+l[E>>2];ue=ce}}else _e=f}while(0);Z=Z+1|0;if((Z|0)==(p|0))break;else f=_e-oe}h=a;return}function Qf(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0;s=h;h=h+80|0;a=s+40|0;u=s+24|0;c=s+8|0;f=s;d=+l[r+52>>2];if(d==0)p=+l[e+32>>2]*.75;else p=d;l[u>>2]=0;l[u+4>>2]=0;l[u+8>>2]=0;l[u+12>>2]=1;ym[o[(o[t>>2]|0)+28>>2]&31](t,c,u,0);d=p*+z(+(+l[c+4>>2]/p));_=c+12|0;m=+l[_>>2];if(!(d<m)){h=s;return}b=c+8|0;g=f+4|0;y=a+4|0;v=a+12|0;x=a+20|0;w=a+21|0;S=a+22|0;E=a+23|0;A=a+24|0;T=a+28|0;P=a+32|0;C=n+12|0;M=n+8|0;F=n+4|0;I=a+8|0;O=r+28|0;D=r+8|0;k=r+12|0;R=r+20|0;B=r+24|0;N=a+16|0;L=r+32|0;G=r+33|0;U=r+34|0;j=r+35|0;J=r+64|0;X=r+68|0;H=m;m=+l[b>>2];W=d;while(1){d=p*+z(+(+l[c>>2]/p));if(d<m){V=d;do{l[f>>2]=V;l[g>>2]=W;if(hm[o[(o[t>>2]|0)+16>>2]&15](t,u,f)|0){Y=2440;q=o[Y>>2]|0;K=o[Y+4>>2]|0;Y=y;o[Y>>2]=q;o[Y+4>>2]=K;Y=v;o[Y>>2]=q;o[Y+4>>2]=K;o[P>>2]=0;o[a>>2]=o[r>>2];d=+l[C>>2];Z=+l[f>>2];Q=+l[M>>2];$=+l[g>>2];ee=+l[n>>2]+(d*Z-Q*$);te=Z*Q+d*$+ +l[F>>2];l[y>>2]=ee;l[I>>2]=te;$=+l[O>>2];d=$*(ee-+l[D>>2])+ +l[B>>2];l[v>>2]=+l[R>>2]-$*(te-+l[k>>2]);l[N>>2]=d;K=i[G>>0]|0;Y=i[U>>0]|0;q=i[j>>0]|0;i[x>>0]=i[L>>0]|0;i[w>>0]=K;i[S>>0]=Y;i[E>>0]=q;o[A>>2]=o[J>>2];o[T>>2]=o[X>>2];Xf(e,a)|0}V=p+V;d=+l[b>>2]}while(V<d);re=d;ie=+l[_>>2];ne=re}else{ie=H;ne=m}W=p+W;if(!(W<ie))break;else{H=ie;m=ne}}h=s;return}function $f(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0;r=h;h=h+64|0;n=r+20|0;s=r;a=r+16|0;u=e+400|0;if(o[(o[u>>2]|0)+102876>>2]&2){c=0;h=r;return c|0}f=+l[t+16>>2];p=t+8|0;_=o[p>>2]|0;m=o[p+4>>2]|0;p=s;o[p>>2]=_;o[p+4>>2]=m;b=+W(+f);l[s+8>>2]=b;g=+H(+f);l[s+12>>2]=g;p=e+44|0;y=o[p>>2]|0;v=o[t+40>>2]|0;f=(o[d>>2]=_,+l[d>>2]);x=(o[d>>2]=m,+l[d>>2]);e:do{if(v)switch(o[v+4>>2]|0){case 3:case 1:{Zf(e,v,t,s);break e;break}case 0:case 2:{Qf(e,v,t,s);break e;break}default:break e}}while(0);v=o[t+44>>2]|0;if(v){m=o[t+48>>2]|0;o[n>>2]=2180;o[n+12>>2]=v;o[n+16>>2]=m;Qf(e,n,t,s)}m=t+56|0;if((o[m>>2]|0)>0){v=t+60|0;_=n+4|0;w=n+12|0;S=n+20|0;E=n+21|0;A=n+22|0;T=n+23|0;P=n+24|0;C=n+28|0;M=n+32|0;F=n+8|0;I=t+28|0;O=t+8|0;D=t+12|0;k=t+20|0;R=t+24|0;B=n+16|0;N=t+32|0;L=t+33|0;G=t+34|0;U=t+35|0;z=t+64|0;j=t+68|0;J=0;do{X=o[v>>2]|0;V=+l[X+(J<<3)>>2];Y=+l[X+(J<<3)+4>>2];X=2440;q=o[X>>2]|0;K=o[X+4>>2]|0;X=_;o[X>>2]=q;o[X+4>>2]=K;X=w;o[X>>2]=q;o[X+4>>2]=K;o[M>>2]=0;o[n>>2]=o[t>>2];Z=f+(V*g-Y*b);Q=Y*g+V*b+x;l[_>>2]=Z;l[F>>2]=Q;V=+l[I>>2];Y=V*(Z-+l[O>>2])+ +l[R>>2];l[w>>2]=+l[k>>2]-V*(Q-+l[D>>2]);l[B>>2]=Y;K=i[L>>0]|0;X=i[G>>0]|0;q=i[U>>0]|0;i[S>>0]=i[N>>0]|0;i[E>>0]=K;i[A>>0]=X;i[T>>0]=q;o[P>>2]=o[z>>2];o[C>>2]=o[j>>2];Xf(e,n)|0;J=J+1|0}while((J|0)<(o[m>>2]|0))}m=o[p>>2]|0;p=Od(o[u>>2]|0,80)|0;kf(p);o[p>>2]=e;o[p+4>>2]=y;o[p+8>>2]=m;o[p+16>>2]=o[t+36>>2];o[p+76>>2]=o[t+68>>2];J=p+60|0;o[J>>2]=o[s>>2];o[J+4>>2]=o[s+4>>2];o[J+8>>2]=o[s+8>>2];o[J+12>>2]=o[s+12>>2];o[p+20>>2]=0;s=e+312|0;J=o[s>>2]|0;o[p+24>>2]=J;if(J)o[J+20>>2]=p;o[s>>2]=p;s=e+308|0;o[s>>2]=(o[s>>2]|0)+1;if((y|0)<(m|0)){s=e+144|0;J=y;do{o[(o[s>>2]|0)+(J<<2)>>2]=p;J=J+1|0}while((J|0)!=(m|0))}J=o[t+4>>2]|0;s=p+12|0;n=o[s>>2]|0;j=(n^J)<<4&16|J;if(n&~j)i[e+20>>0]=1;n=e+16|0;C=o[n>>2]|0;if(j&~C){if(!(J&1))$=C;else{J=e+132|0;z=o[J>>2]|0;if(!z){P=e+48|0;T=o[P>>2]|0;if(!T){Jf(e,256);ee=o[P>>2]|0}else ee=T;T=Od(o[u>>2]|0,ee<<2)|0;c_(T|0,0,o[P>>2]<<2|0)|0;te=T;re=o[n>>2]|0}else{te=z;re=C}o[J>>2]=te;$=re}o[n>>2]=$|j}o[s>>2]=j;o[a>>2]=2224;ed(e,1);td(e,y,m,a);a=t+72|0;t=o[a>>2]|0;if(!t){c=p;h=r;return c|0}rd(e,t,p);c=o[a>>2]|0;h=r;return c|0}function ed(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;r=h;h=h+32|0;i=r;n=r+8|0;s=o[e+204>>2]|0;a=o[e+200>>2]|0;u=a+(s<<3)|0;if((s|0)>0){s=o[e+96>>2]|0;c=+l[e+36>>2];f=a;do{d=o[f>>2]|0;o[f+4>>2]=(~~(c*+l[s+(d<<3)+4>>2]+2048)>>>0<<20)+(~~(c*+l[s+(d<<3)>>2]*256+524288)>>>0);f=f+8|0}while(f>>>0<u>>>0)}At(a,u,i);i=e+400|0;u=o[i>>2]|0;o[n>>2]=0;o[n+4>>2]=0;a=n+8|0;o[a>>2]=0;f=n+12|0;o[f>>2]=u+76;s=e+8|0;if((o[s>>2]&32768|0)!=0?(o[u+102952>>2]|0)!=0:0)ad(n,o[e+216>>2]|0,o[e+220>>2]|0,o[e+88>>2]|0);u=e+216|0;sd(e,u);if((o[s>>2]&131072|0)!=0?(s=o[(o[i>>2]|0)+102948>>2]|0,(s|0)!=0):0){i=o[u>>2]|0;d=e+220|0;p=o[d>>2]|0;_=i+(p*24|0)|0;e:do{if(!p){m=i;b=14}else{g=i;while(1){if((o[g+20>>2]&131072|0)!=0?!(_m[o[(o[s>>2]|0)+16>>2]&7](s,e,o[g>>2]|0,o[g+4>>2]|0)|0):0){m=g;b=14;break e}g=g+24|0;if((g|0)==(_|0)){y=_;break}}}}while(0);e:do{if((b|0)==14)if((m|0)==(_|0))y=_;else{i=m;p=m;while(1){g=p;while(1){v=g+24|0;if((v|0)==(_|0)){y=i;break e}if(!(o[g+44>>2]&131072)){x=v;break}if(_m[o[(o[s>>2]|0)+16>>2]&7](s,e,o[v>>2]|0,o[g+28>>2]|0)|0){x=v;break}else g=v}o[i>>2]=o[x>>2];o[i+4>>2]=o[x+4>>2];o[i+8>>2]=o[x+8>>2];o[i+12>>2]=o[x+12>>2];o[i+16>>2]=o[x+16>>2];o[i+20>>2]=o[x+20>>2];i=i+24|0;p=x}}}while(0);o[d>>2]=(y-(o[u>>2]|0)|0)/24|0}ud(e,n);if(t){t=o[u>>2]|0;y=e+220|0;e=o[y>>2]|0;d=t+(e*24|0)|0;e:do{if(!e){w=t;b=26}else{x=t;while(1){if(o[x+20>>2]&2){w=x;b=26;break e}x=x+24|0;if((x|0)==(d|0)){S=d;E=t;break}}}}while(0);if((b|0)==26)if((w|0)==(d|0)){S=d;E=t}else{t=w;b=w;e:while(1){w=b;while(1){e=w+24|0;if((e|0)==(d|0)){A=t;break e}if(!(o[w+44>>2]&2)){T=e;break}else w=e}o[t>>2]=o[T>>2];o[t+4>>2]=o[T+4>>2];o[t+8>>2]=o[T+8>>2];o[t+12>>2]=o[T+12>>2];o[t+16>>2]=o[T+16>>2];o[t+20>>2]=o[T+20>>2];t=t+24|0;b=T}S=A;E=o[u>>2]|0}o[y>>2]=(S-E|0)/24|0}E=o[n>>2]|0;if(!E){h=r;return}ep(o[f>>2]|0,E);o[n>>2]=0;o[a>>2]=0;h=r;return}function td(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0;n=h;h=h+48|0;s=n+40|0;a=n+12|0;u=n;c=(r|0)>(t|0);if(!c){h=n;return}f=o[e+88>>2]|0;d=t;p=0;while(1){_=o[f+(d<<2)>>2]|p;d=d+1|0;if((d|0)==(r|0)){m=_;break}else p=_}if(m&1032){p=e+220|0;if((o[p>>2]|0)>0){d=e+216|0;f=e+88|0;_=e+144|0;b=e+248|0;g=e+252|0;y=e+256|0;v=e+96|0;x=e+260|0;w=0;do{S=o[d>>2]|0;E=o[S+(w*24|0)>>2]|0;A=o[S+(w*24|0)+4>>2]|0;T=o[f>>2]|0;P=o[T+(E<<2)>>2]|0;C=o[T+(A<<2)>>2]|0;T=o[_>>2]|0;M=o[T+(E<<2)>>2]|0;F=o[T+(A<<2)>>2]|0;do{if((A|0)<(r|0)&(((E|0)>=(r|0)|(E|0)<(t|0)|(A|0)<(t|0))^1)?(T=C|P,!((T&2|0)!=0|(T&1032|0)==0)):0){if(!(bm[o[(o[i>>2]|0)+8>>2]&31](i,E)|0)?!(bm[o[(o[i>>2]|0)+8>>2]&31](i,A)|0):0)break;if(!(P&28)){if(!M)break;if(!(o[M+12>>2]&2))break}if(!(C&28)){if(!F)break;if(!(o[F+12>>2]&2))break}if(hm[o[(o[i>>2]|0)+12>>2]&15](i,E,A)|0){T=o[g>>2]|0;I=o[y>>2]|0;if((T|0)>=(I|0)?(O=(I|0)==0?256:I<<1,(I|0)<(O|0)):0){I=Od(o[x>>2]|0,O*20|0)|0;D=o[b>>2]|0;if(D){p_(I|0,D|0,(o[g>>2]|0)*20|0)|0;Dd(o[x>>2]|0,o[b>>2]|0,(o[y>>2]|0)*20|0)}o[y>>2]=O;o[b>>2]=I;k=o[g>>2]|0}else k=T;o[g>>2]=k+1;T=o[b>>2]|0;o[T+(k*20|0)>>2]=E;o[T+(k*20|0)+4>>2]=A;o[T+(k*20|0)+8>>2]=o[S+(w*24|0)+20>>2];if(!M)R=1;else R=+l[M+16>>2];if(!F)B=1;else B=+l[F+16>>2];l[T+(k*20|0)+12>>2]=R<B?R:B;I=o[v>>2]|0;N=+l[I+(E<<3)>>2]-+l[I+(A<<3)>>2];L=+l[I+(E<<3)+4>>2]-+l[I+(A<<3)+4>>2];l[T+(k*20|0)+16>>2]=+J(+(N*N+L*L))}}}while(0);w=w+1|0}while((w|0)<(o[p>>2]|0));G=g}else G=e+252|0;g=e+248|0;p=o[g>>2]|0;w=o[G>>2]|0;k=p+(w*20|0)|0;o[s>>2]=27;v=w*20|0;w=(v|0)/20|0;if((v|0)>2560){v=w;while(1){b=np(v*20|0,6948)|0;if(b){U=v;z=b;j=32;break}if((v|0)>1)v=(v|0)/2|0;else{X=0;H=0;break}}if((j|0)==32){X=z;H=U}W=X;V=H;Y=X}else{W=0;V=0;Y=0}Tt(p,k,s,w,W,V);if(Y)op(Y);Y=o[g>>2]|0;V=o[G>>2]|0;W=Y+(V*20|0)|0;e:do{switch(V|0){case 0:{q=Y;j=42;break}case 1:{K=W;Z=Y;break}default:{w=Y;k=Y+20|0;while(1){if((o[w>>2]|0)==(o[w+20>>2]|0)?(o[w+4>>2]|0)==(o[w+24>>2]|0):0){q=w;j=42;break e}p=k+20|0;if((p|0)==(W|0)){K=W;Z=Y;break}else{X=k;k=p;w=X}}}}}while(0);if((j|0)==42)if((q|0)==(W|0)){K=W;Z=Y}else{Y=q;V=q+20|0;e:while(1){q=Y+4|0;w=V;while(1){k=w+20|0;if((k|0)==(W|0)){Q=Y;break e}if((o[Y>>2]|0)!=(o[k>>2]|0)){$=k;break}if((o[q>>2]|0)==(o[w+24>>2]|0))w=k;else{$=k;break}}w=Y+20|0;o[w>>2]=o[$>>2];o[w+4>>2]=o[$+4>>2];o[w+8>>2]=o[$+8>>2];o[w+12>>2]=o[$+12>>2];o[w+16>>2]=o[$+16>>2];Y=w;V=$}K=Q+20|0;Z=o[g>>2]|0}o[G>>2]=(K-Z|0)/20|0}if(!(m&16)){h=n;return}Mf(a,(o[e+400>>2]|0)+76|0,r-t|0);if(c){c=e+88|0;m=e+144|0;Z=e+96|0;K=t;do{t=o[(o[c>>2]|0)+(K<<2)>>2]|0;do{if(!(t&2)){G=o[(o[m>>2]|0)+(K<<2)>>2]|0;if(!(t&28)){if(!G)break;if(!(o[G+12>>2]&2))break}G=o[Z>>2]|0;If(a,G+(K<<3)|0,K,bm[o[(o[i>>2]|0)+8>>2]&31](i,K)|0)}}while(0);K=K+1|0}while((K|0)<(r|0))}B=+l[e+32>>2]*.75;Of(a,B*.5,B*2);o[u>>2]=2252;o[u+4>>2]=e;o[u+8>>2]=i;Df(a,u);u=e+264|0;i=o[u>>2]|0;r=e+268|0;e=o[r>>2]|0;K=i+(e*60|0)|0;o[s>>2]=28;Z=e*60|0;e=(Z|0)/60|0;if((Z|0)>7680){Z=e;while(1){m=np(Z*60|0,6948)|0;if(m){ee=Z;te=m;j=62;break}if((Z|0)>1)Z=(Z|0)/2|0;else{re=0;ie=0;break}}if((j|0)==62){re=te;ie=ee}ne=re;oe=ie;se=re}else{ne=0;oe=0;se=0}Pt(i,K,s,e,ne,oe);if(se)op(se);se=o[u>>2]|0;oe=o[r>>2]|0;ne=se+(oe*60|0)|0;e:do{switch(oe|0){case 0:{ae=se;j=73;break}case 1:{ue=ne;le=se;break}default:{e=se;s=se+60|0;while(1){if(((o[e>>2]|0)==(o[e+60>>2]|0)?(o[e+4>>2]|0)==(o[e+64>>2]|0):0)?(o[e+8>>2]|0)==(o[e+68>>2]|0):0){ae=e;j=73;break e}K=s+60|0;if((K|0)==(ne|0)){ue=ne;le=se;break}else{i=s;s=K;e=i}}}}}while(0);if((j|0)==73)if((ae|0)==(ne|0)){ue=ne;le=se}else{se=ae;j=ae+60|0;e:while(1){ae=se+4|0;oe=se+8|0;e=j;while(1){s=e+60|0;if((s|0)==(ne|0)){ce=se;break e}if((o[se>>2]|0)!=(o[s>>2]|0)){he=s;break}if((o[ae>>2]|0)!=(o[e+64>>2]|0)){he=s;break}if((o[oe>>2]|0)==(o[e+68>>2]|0))e=s;else{he=s;break}}e=se+60|0;oe=e;ae=he;s=oe+60|0;do{o[oe>>2]=o[ae>>2];oe=oe+4|0;ae=ae+4|0}while((oe|0)<(s|0));se=e;j=he}ue=ce+60|0;le=o[u>>2]|0}o[r>>2]=(ue-le|0)/60|0;Ff(a);h=n;return}function rd(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0;n=h;h=h+16|0;s=n;a=e+400|0;if(o[(o[a>>2]|0)+102876>>2]&2){h=n;return}u=r+4|0;l=r+8|0;Vf(e,o[u>>2]|0,o[l>>2]|0,o[e+44>>2]|0);c=t+4|0;f=t+8|0;Vf(e,o[c>>2]|0,o[f>>2]|0,o[u>>2]|0);d=o[u>>2]|0;o[s>>2]=2272;o[s+4>>2]=d;ed(e,1);td(e,o[c>>2]|0,o[l>>2]|0,s);s=o[u>>2]|0;c=o[l>>2]|0;if((s|0)<(c|0)){d=e+144|0;p=s;do{o[(o[d>>2]|0)+(p<<2)>>2]=t;p=p+1|0}while((p|0)<(c|0))}c=t+12|0;t=o[c>>2]|0;p=o[r+12>>2]|t;d=(p^t)<<4&16|p;if(t&~d)i[e+20>>0]=1;t=e+16|0;s=o[t>>2]|0;if(d&~s){if(!(p&1))_=s;else{p=e+132|0;m=o[p>>2]|0;if(!m){b=e+48|0;g=o[b>>2]|0;if(!g){Jf(e,256);y=o[b>>2]|0}else y=g;g=Od(o[a>>2]|0,y<<2)|0;c_(g|0,0,o[b>>2]<<2|0)|0;v=g;x=o[t>>2]|0}else{v=m;x=s}o[p>>2]=v;_=x}o[t>>2]=_|d}o[c>>2]=d;o[f>>2]=o[l>>2];o[u>>2]=o[l>>2];zf(e,r);h=n;return}function id(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=o[e>>2]|0;i=o[t>>2]|0;if((r|0)==(i|0)){n=(o[e+4>>2]|0)<(o[t+4>>2]|0);return n|0}else{n=(r|0)<(i|0);return n|0}return 0}function nd(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=o[e>>2]|0;i=o[t>>2]|0;if((r|0)!=(i|0)){n=(r|0)<(i|0);return n|0}i=o[e+4>>2]|0;r=o[t+4>>2]|0;if((i|0)==(r|0)){n=(o[e+8>>2]|0)<(o[t+8>>2]|0);return n|0}else{n=(i|0)<(r|0);return n|0}return 0}function od(e){e=e|0;var t=0,r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0;t=e+400|0;r=e+220|0;n=Qd((o[t>>2]|0)+76|0,(o[r>>2]|0)*24|0)|0;s=o[r>>2]|0;if((s|0)>0){a=e+216|0;u=e+144|0;c=s;s=0;h=0;while(1){f=o[a>>2]|0;d=f+(h*24|0)|0;p=o[u>>2]|0;_=o[p+(o[d>>2]<<2)>>2]|0;if(((_|0)!=0?(_|0)==(o[p+(o[f+(h*24|0)+4>>2]<<2)>>2]|0):0)?(o[_+12>>2]&16|0)!=0:0){_=n+(s*24|0)|0;o[_>>2]=o[d>>2];o[_+4>>2]=o[d+4>>2];o[_+8>>2]=o[d+8>>2];o[_+12>>2]=o[d+12>>2];o[_+16>>2]=o[d+16>>2];o[_+20>>2]=o[d+20>>2];m=o[r>>2]|0;b=s+1|0}else{m=c;b=s}h=h+1|0;if((h|0)>=(m|0)){g=b;break}else{c=m;s=b}}}else g=0;b=Qd((o[t>>2]|0)+76|0,o[e+308>>2]<<2)|0;s=o[e+312>>2]|0;if(!s)y=0;else{m=e+16|0;c=e+124|0;h=e+132|0;r=e+48|0;u=e+20|0;a=s;s=0;while(1){d=a+12|0;_=o[d>>2]|0;if(_&16){f=s+1|0;o[b+(s<<2)>>2]=a;p=_&-17;if(((_|16)^-17)&_)i[u>>0]=1;v=o[m>>2]|0;if(p&~v){if(!(_&1))x=v;else{_=o[h>>2]|0;if(!_){w=o[r>>2]|0;if(!w){Jf(e,256);S=o[r>>2]|0}else S=w;w=Od(o[t>>2]|0,S<<2)|0;c_(w|0,0,o[r>>2]<<2|0)|0;E=w;A=o[m>>2]|0}else{E=_;A=v}o[h>>2]=E;x=A}o[m>>2]=x|p}o[d>>2]=p;p=o[a+4>>2]|0;d=o[a+8>>2]|0;if((p|0)<(d|0)){v=p+1|0;c_((o[c>>2]|0)+(p<<2)|0,0,((d|0)>(v|0)?d:v)-p<<2|0)|0;T=f}else T=f}else T=s;a=o[a+24>>2]|0;if(!a){y=T;break}else s=T}}T=(g|0)>0;if(T){s=o[e+124>>2]|0;a=0;do{c=o[n+(a*24|0)+4>>2]|0;P=+l[n+(a*24|0)+8>>2];x=s+(o[n+(a*24|0)>>2]<<2)|0;l[x>>2]=P+ +l[x>>2];x=s+(c<<2)|0;l[x>>2]=P+ +l[x>>2];a=a+1|0}while((a|0)!=(g|0))}a=(y|0)>0;if(a){s=e+124|0;x=e+132|0;c=0;do{m=o[b+(c<<2)>>2]|0;A=o[m+4>>2]|0;E=o[m+8>>2]|0;if((A|0)<(E|0)){m=o[s>>2]|0;h=o[x>>2]|0;r=A;do{l[h+(r<<2)>>2]=+l[m+(r<<2)>>2]<.800000011920929?0:3.4028234663852886E38;r=r+1|0}while((r|0)<(E|0))}c=c+1|0}while((c|0)!=(y|0))}c=~~+J(+ +(o[e+44>>2]|0));if(!((c|0)<1|T^1)){T=o[e+132>>2]|0;x=0;do{s=0;E=0;while(1){P=1-+l[n+(s*24|0)+8>>2];r=T+(o[n+(s*24|0)>>2]<<2)|0;m=T+(o[n+(s*24|0)+4>>2]<<2)|0;C=+l[m>>2];M=P+C;F=+l[r>>2];I=P+F;if(F>M){l[r>>2]=M;O=+l[m>>2];D=1}else{O=C;D=E}if(O>I){l[m>>2]=I;k=1}else k=D;s=s+1|0;if((s|0)==(g|0)){R=k;break}else E=k}x=x+1|0}while(R&(x|0)<(c|0))}if(!a){B=o[t>>2]|0;N=B+76|0;ep(N,b);L=o[t>>2]|0;G=L+76|0;ep(G,n);return}a=e+132|0;c=e+32|0;e=0;do{x=o[b+(e<<2)>>2]|0;R=o[x+4>>2]|0;k=o[x+8>>2]|0;if((R|0)<(k|0)){x=o[a>>2]|0;g=R;do{R=x+(g<<2)|0;O=+l[R>>2];if(O<3.4028234663852886E38)U=O*+l[c>>2];else U=0;l[R>>2]=U;g=g+1|0}while((g|0)<(k|0))}e=e+1|0}while((e|0)!=(y|0));B=o[t>>2]|0;N=B+76|0;ep(N,b);L=o[t>>2]|0;G=L+76|0;ep(G,n);return}function sd(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0;r=o[e+200>>2]|0;i=o[e+204>>2]|0;n=r+(i<<3)|0;o[t+4>>2]=0;if((i|0)>0){s=r;a=r}else return;while(1){r=s+4|0;i=(o[r>>2]|0)+256|0;u=s;s=s+8|0;l=s>>>0<n>>>0;e:do{if(l){c=u;h=s;while(1){if(i>>>0<(o[c+12>>2]|0)>>>0)break e;Ct(e,o[u>>2]|0,o[c+8>>2]|0,t);f=h+8|0;if(f>>>0<n>>>0){d=h;h=f;c=d}else break}}}while(0);i=o[r>>2]|0;c=i+1048320|0;e:do{if(a>>>0<n>>>0){h=a;while(1){if(c>>>0<=(o[h+4>>2]|0)>>>0){p=h;break e}d=h+8|0;if(d>>>0<n>>>0)h=d;else{p=d;break}}}else p=a}while(0);c=i+1048832|0;e:do{if(p>>>0<n>>>0){r=p;do{if(c>>>0<(o[r+4>>2]|0)>>>0)break e;Ct(e,o[u>>2]|0,o[r>>2]|0,t);r=r+8|0}while(r>>>0<n>>>0)}}while(0);if(!l)break;else a=p}return}function ad(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0;n=h;h=h+16|0;s=n;a=o[e>>2]|0;if(!a)u=a;else{ep(o[e+12>>2]|0,a);o[e>>2]=0;o[e+8>>2]=0;u=0}if(!r)if(!(o[e+8>>2]|0)){h=n;return}else{l=u;c=0}else{u=Qd(o[e+12>>2]|0,r*9|0)|0;o[e>>2]=u;a=u+(r<<3)|0;o[e+4>>2]=a;c_(a|0,1,r|0)|0;o[e+8>>2]=r;a=o[e>>2]|0;if((r|0)>0){u=0;f=0;while(1){d=o[t+(u*24|0)>>2]|0;if(((d|0)!=-1?(p=o[t+(u*24|0)+4>>2]|0,(p|0)!=-1):0)?((o[i+(p<<2)>>2]|o[i+(d<<2)>>2])&32768|0)!=0:0){o[a+(u<<3)>>2]=d;o[a+(u<<3)+4>>2]=p;_=f+1|0}else _=f;u=u+1|0;if((u|0)==(r|0)){l=a;c=_;break}else f=_}}else{l=a;c=0}}o[e+8>>2]=c;o[s>>2]=29;Ft(l,l+(c<<3)|0,s);h=n;return}function ud(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0;if(!(o[e+8>>2]&32768))return;r=o[(o[e+400>>2]|0)+102952>>2]|0;if(!r)return;n=o[e+220>>2]|0;s=o[e+216>>2]|0;a=s+(n*24|0)|0;u=t+8|0;if((n|0)>0){n=t+4|0;l=s;while(1){s=o[l>>2]|0;c=o[l+4>>2]|0;h=o[u>>2]|0;do{if(!h)f=24;else{d=o[t>>2]|0;p=d+(h<<3)|0;_=h<<3>>3;m=(_|0)==0;e:do{if(m)b=d;else{g=d;y=_;while(1){v=y;while(1){x=v;v=(v|0)/2|0;if((o[g+(v<<3)>>2]|0)<(s|0)?(o[g+(v<<3)+4>>2]|0)<(c|0):0){w=v;S=x;break}if((x+1|0)>>>0<3){b=g;break e}}v=g+(w+1<<3)|0;x=S+-1|0;if((x|0)==(w|0)){b=v;break}else{g=v;y=x-w|0}}}}while(0);if(!((b|0)==(p|0)|(b|0)==0)?(y=(b-d|0)>>>3,g=o[n>>2]|0,(i[g+y>>0]|0)!=0):0){E=g;A=y}else{e:do{if(m)T=d;else{y=d;g=_;while(1){x=g;while(1){v=x;x=(x|0)/2|0;if((o[y+(x<<3)>>2]|0)<(c|0)?(o[y+(x<<3)+4>>2]|0)<(s|0):0){P=x;C=v;break}if((v+1|0)>>>0<3){T=y;break e}}x=y+(P+1<<3)|0;v=C+-1|0;if((v|0)==(P|0)){T=x;break}else{y=x;g=v-P|0}}}}while(0);if((T|0)==(p|0)|(T|0)==0){f=24;break}_=(T-d|0)>>>3;m=o[n>>2]|0;if(!(i[m+_>>0]|0)){f=24;break}else{E=m;A=_}}i[E+A>>0]=0}}while(0);if((f|0)==24){f=0;fm[o[(o[r>>2]|0)+24>>2]&7](r,e,l)}l=l+24|0;if(l>>>0>=a>>>0){M=n;F=t;break}}}else{M=t+4|0;F=t}t=o[u>>2]|0;u=o[F>>2]|0;F=o[M>>2]|0;if((t|0)<=0)return;M=0;do{if(i[F+M>>0]|0)ym[o[(o[r>>2]|0)+28>>2]&31](r,e,o[u+(M<<3)>>2]|0,o[u+(M<<3)+4>>2]|0);M=M+1|0}while((M|0)!=(t|0));return}function ld(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0;r=e+156|0;if((o[r>>2]|0)<1)return;i=(o[e+176>>2]|0)+(t<<2)|0;n=(o[e+160>>2]|0)+(t<<2)|0;s=(o[e+168>>2]|0)+(t<<2)|0;a=(o[s>>2]|0)+1|0;o[s>>2]=a;if((a|0)==2?(a=o[i>>2]|0,o[i>>2]=a+1,(a|0)>=(o[r>>2]|0)):0){r=e+184|0;a=e+188|0;i=o[a>>2]|0;s=e+192|0;u=o[s>>2]|0;if((i|0)>=(u|0)?(l=(u|0)==0?256:u<<1,(u|0)<(l|0)):0){u=e+196|0;c=Od(o[u>>2]|0,l<<2)|0;h=o[r>>2]|0;if(!h)f=r;else{p_(c|0,h|0,o[a>>2]<<2|0)|0;Dd(o[u>>2]|0,o[r>>2]|0,o[s>>2]<<2);f=r}o[s>>2]=l;o[f>>2]=c;d=o[a>>2]|0}else d=i;o[a>>2]=d+1;o[(o[r>>2]|0)+(d<<2)>>2]=t}o[n>>2]=o[e+4>>2];return}function cd(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0;n=h;h=h+16|0;s=n;a=o[e>>2]|0;if(!a)u=a;else{ep(o[e+12>>2]|0,a);o[e>>2]=0;o[e+8>>2]=0;u=0}if(!r)if(!(o[e+8>>2]|0)){h=n;return}else{l=u;c=0}else{u=Qd(o[e+12>>2]|0,r*9|0)|0;o[e>>2]=u;a=u+(r<<3)|0;o[e+4>>2]=a;c_(a|0,1,r|0)|0;o[e+8>>2]=r;a=o[e>>2]|0;if((r|0)>0){u=0;f=0;while(1){d=a+(u<<3)|0;p=o[t+(u*28|0)>>2]|0;if((p|0)!=-1?(o[i+(p<<2)>>2]&16384|0)!=0:0){o[d>>2]=o[t+(u*28|0)+8>>2];o[a+(u<<3)+4>>2]=p;_=f+1|0}else _=f;u=u+1|0;if((u|0)==(r|0)){l=a;c=_;break}else f=_}}else{l=a;c=0}}o[e+8>>2]=c;o[s>>2]=30;Ot(l,l+(c<<3)|0,s);h=n;return}function hd(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;if(!(o[e+8>>2]&16384))return;r=o[(o[e+400>>2]|0)+102952>>2]|0;if(!r)return;n=e+232|0;s=e+236|0;if(!(o[s>>2]|0)){a=t+8|0;u=t+4|0;l=t}else{c=t+8|0;h=t+4|0;f=o[n>>2]|0;while(1){d=o[f>>2]|0;p=o[f+8>>2]|0;_=o[c>>2]|0;if(_){m=o[t>>2]|0;b=m+(_<<3)|0;g=_<<3>>3;e:do{if(!g)y=m;else{_=m;v=g;while(1){x=v;while(1){w=x;x=(x|0)/2|0;if((o[_+(x<<3)>>2]|0)>>>0<p>>>0?(o[_+(x<<3)+4>>2]|0)<(d|0):0){S=x;E=w;break}if((w+1|0)>>>0<3){y=_;break e}}x=_+(S+1<<3)|0;w=E+-1|0;if((w|0)==(S|0)){y=x;break}else{_=x;v=w-S|0}}}}while(0);if(!((y|0)==(b|0)|(y|0)==0)?(d=(o[h>>2]|0)+((y-m|0)>>>3)|0,(i[d>>0]|0)!=0):0)i[d>>0]=0;else A=16}else A=16;if((A|0)==16){A=0;fm[o[(o[r>>2]|0)+16>>2]&7](r,e,f)}f=f+28|0;if((f|0)==((o[n>>2]|0)+((o[s>>2]|0)*28|0)|0)){a=c;u=h;l=t;break}}}t=o[l>>2]|0;l=o[u>>2]|0;u=o[a>>2]|0;if((u|0)<=0)return;a=0;do{if(i[l+a>>0]|0)ym[o[(o[r>>2]|0)+20>>2]&31](r,o[t+(a<<3)>>2]|0,e,o[t+(a<<3)+4>>2]|0);a=a+1|0}while((a|0)!=(u|0));return}function fd(e){e=e|0;var t=0,r=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0;t=h;h=h+80|0;r=t;n=t+64|0;s=t+48|0;a=t+32|0;u=t+16|0;c=e+400|0;f=o[c>>2]|0;o[s>>2]=0;o[s+4>>2]=0;d=s+8|0;o[d>>2]=0;p=s+12|0;o[p>>2]=f+76;_=e+8|0;if((o[_>>2]&16384|0)!=0?(o[f+102952>>2]|0)!=0:0)cd(s,o[e+232>>2]|0,o[e+236>>2]|0,o[e+88>>2]|0);if((o[e+156>>2]|0)>0?(f=o[e+44>>2]|0,(f|0)>0):0){m=o[e+168>>2]|0;b=e+4|0;g=o[e+160>>2]|0;y=e+176|0;v=0;do{o[m+(v<<2)>>2]=0;if((o[b>>2]|0)>((o[g+(v<<2)>>2]|0)+1|0))o[(o[y>>2]|0)+(v<<2)>>2]=0;v=v+1|0}while((v|0)!=(f|0))}f=e+236|0;o[f>>2]=0;o[e+188>>2]=0;if(!(o[_>>2]&65536))x=0;else x=o[(o[c>>2]|0)+102948>>2]|0;o[a+4>>2]=e;o[a>>2]=2328;o[a+8>>2]=x;x=o[e+44>>2]|0;l[u>>2]=3.4028234663852886E38;_=u+4|0;l[_>>2]=3.4028234663852886E38;v=u+8|0;l[v>>2]=-3.4028234663852886E38;y=u+12|0;l[y>>2]=-3.4028234663852886E38;if((x|0)>0){g=o[e+96>>2]|0;w=3.4028234663852886E38;S=3.4028234663852886E38;E=-3.4028234663852886E38;A=-3.4028234663852886E38;b=0;while(1){T=+l[g+(b<<3)>>2];P=+l[g+(b<<3)+4>>2];C=w<T?w:T;M=S<P?S:P;l[u>>2]=C;l[_>>2]=M;F=E>T?E:T;T=A>P?A:P;l[v>>2]=F;l[y>>2]=T;b=b+1|0;if((b|0)==(x|0)){I=C;O=M;D=F;k=T;break}else{w=C;S=M;E=F;A=T}}}else{I=3.4028234663852886E38;O=3.4028234663852886E38;D=-3.4028234663852886E38;k=-3.4028234663852886E38}A=+l[e+32>>2];l[u>>2]=I-A;l[_>>2]=O-A;l[v>>2]=D+A;l[y>>2]=k+A;qh(o[c>>2]|0,a,u);if(i[e+316>>0]|0){u=e+232|0;a=o[u>>2]|0;c=a+((o[f>>2]|0)*28|0)|0;o[r>>2]=31;Dt(a,c,r);o[n>>2]=0;c=o[u>>2]|0;u=o[f>>2]|0;a=c+(u*28|0)|0;o[r>>2]=e;o[r+4>>2]=-1;o[r+8>>2]=0;o[r+12>>2]=n;e:do{if(!u){R=c;B=19}else{y=c;do{if(kt(r,y)|0){R=y;B=19;break e}y=y+28|0}while((y|0)!=(a|0))}}while(0);e:do{if((B|0)==19?(R|0)!=(a|0):0){c=R;u=R;while(1){y=u;while(1){v=y+28|0;if((v|0)==(a|0))break e;if(kt(r,v)|0)y=v;else{N=v;break}}o[c>>2]=o[N>>2];o[c+4>>2]=o[N+4>>2];o[c+8>>2]=o[N+8>>2];o[c+12>>2]=o[N+12>>2];o[c+16>>2]=o[N+16>>2];o[c+20>>2]=o[N+20>>2];o[c+24>>2]=o[N+24>>2];c=c+28|0;u=N}}}while(0);o[f>>2]=(o[f>>2]|0)-(o[n>>2]|0)}hd(e,s);e=o[s>>2]|0;if(!e){h=t;return}ep(o[p>>2]|0,e);o[s>>2]=0;o[d>>2]=0;h=t;return}function dd(e,t){e=e|0;t=t|0;var r=0,i=0,n=0;r=o[e>>2]|0;i=o[t>>2]|0;if((r|0)==(i|0)){n=+l[e+12>>2]>+l[t+12>>2];return n|0}else{n=(r|0)<(i|0);return n|0}return 0}function pd(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;r=h;h=h+64|0;i=r;n=r+16|0;l[i>>2]=3.4028234663852886E38;s=i+4|0;l[s>>2]=3.4028234663852886E38;a=i+8|0;l[a>>2]=-3.4028234663852886E38;u=i+12|0;l[u>>2]=-3.4028234663852886E38;c=o[e+44>>2]|0;if((c|0)>0){f=o[e+104>>2]|0;d=o[e+96>>2]|0;p=+l[t>>2];_=3.4028234663852886E38;m=3.4028234663852886E38;b=-3.4028234663852886E38;g=-3.4028234663852886E38;y=0;do{v=+l[d+(y<<3)>>2];x=+l[d+(y<<3)+4>>2];w=v+ +l[f+(y<<3)>>2]*p;S=x+ +l[f+(y<<3)+4>>2]*p;E=v<w?v:w;A=x<S?x:S;_=_<E?_:E;m=m<A?m:A;l[i>>2]=_;l[s>>2]=m;A=v>w?v:w;w=x>S?x:S;b=b>A?b:A;g=g>w?g:w;l[a>>2]=b;l[u>>2]=g;y=y+1|0}while((y|0)<(c|0))}c=o[e+400>>2]|0;if(!(o[e+8>>2]&65536))T=0;else T=o[c+102948>>2]|0;o[n+4>>2]=e;o[n>>2]=2360;e=n+8|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[n+36>>2]=T;qh(c,n,i);h=r;return}function _d(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,c=0,h=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0;r=e+44|0;n=o[r>>2]|0;if((n|0)>0){s=o[e+88>>2]|0;a=e+104|0;u=0;do{if((o[s+(u<<2)>>2]&1028|0)==1028){c=o[a>>2]|0;l[c+(u<<3)>>2]=0;l[c+(u<<3)+4>>2]=0}u=u+1|0}while((u|0)<(n|0))}h=+l[t>>2]*2.5;n=e+252|0;if((o[n>>2]|0)<=0)return;u=e+248|0;a=e+96|0;s=e+144|0;c=e+104|0;f=e+36|0;p=e+200|0;_=e+204|0;m=e+32|0;b=e+320|0;g=t+4|0;t=e+88|0;y=e+21|0;v=e+112|0;e=0;do{x=o[u>>2]|0;e:do{if(o[x+(e*20|0)+8>>2]&1024){w=o[x+(e*20|0)>>2]|0;S=o[x+(e*20|0)+4>>2]|0;E=o[a>>2]|0;A=+l[E+(w<<3)>>2];T=+l[E+(w<<3)+4>>2];P=+l[E+(S<<3)>>2];C=+l[E+(S<<3)+4>>2];M=A<P?A:P;F=T<C?T:C;I=A>P?A:P;O=T>C?T:C;E=o[s>>2]|0;D=o[E+(w<<2)>>2]|0;k=o[E+(S<<2)>>2]|0;if((D|0)!=0?(o[D+12>>2]&2|0)!=0:0){Rf(D);R=+l[D+56>>2];E=(l[d>>2]=+l[D+48>>2]-R*(T-+l[D+44>>2]),o[d>>2]|0);B=E;N=(l[d>>2]=R*(A-+l[D+40>>2])+ +l[D+52>>2],o[d>>2]|0)}else{E=o[c>>2]|0;B=o[E+(w<<3)>>2]|0;N=o[E+(w<<3)+4>>2]|0}if((k|0)!=0?(o[k+12>>2]&2|0)!=0:0){Rf(k);R=+l[k+56>>2];w=(l[d>>2]=+l[k+48>>2]-R*(C-+l[k+44>>2]),o[d>>2]|0);L=w;G=(l[d>>2]=R*(P-+l[k+40>>2])+ +l[k+52>>2],o[d>>2]|0)}else{w=o[c>>2]|0;L=o[w+(S<<3)>>2]|0;G=o[w+(S<<3)+4>>2]|0}R=P-A;P=(o[d>>2]=L,+l[d>>2]);U=(o[d>>2]=B,+l[d>>2]);z=P-U;P=(o[d>>2]=N,+l[d>>2]);j=+l[f>>2];S=(~~(F*j+-1+2048)>>>0<<20)+(~~((M*j+-1)*256+524288)>>>0)|0;M=O*j+1+2048;O=(I*j+1)*256+524288;w=o[p>>2]|0;E=o[_>>2]|0;X=w;H=E<<3>>3;t:while(1){W=H;while(1){if(!W){V=X;break t}Y=(W|0)/2|0;if((o[X+(Y<<3)+4>>2]|0)>>>0<S>>>0){q=Y;K=W;break}else W=Y}X=X+(q+1<<3)|0;H=K+-1-q|0}j=(o[d>>2]=G,+l[d>>2]);H=(~~M>>>0<<20)+(~~O>>>0)|0;X=V;W=w+(E<<3)-V>>3;t:while(1){Y=W;while(1){if(!Y){Z=X;break t}Q=(Y|0)/2|0;if((o[X+(Q<<3)+4>>2]|0)>>>0>H>>>0)Y=Q;else{$=Q;ee=Y;break}}X=X+($+1<<3)|0;W=ee+-1-$|0}O=C-T;M=j-P;W=S&1048575;X=H&1048575;if(V>>>0<Z>>>0){E=V;while(1){w=o[E+4>>2]&1048575;Y=E;E=E+8|0;if(w>>>0<W>>>0|w>>>0>X>>>0)if(E>>>0<Z>>>0){E=E;continue}else break;w=o[Y>>2]|0;if((w|0)<=-1)break e;Y=o[a>>2]|0;Q=o[Y+(w<<3)>>2]|0;te=o[Y+(w<<3)+4>>2]|0;Y=o[(o[s>>2]|0)+(w<<2)>>2]|0;t:do{if(!((D|0)==(Y|0)|(k|0)==(Y|0))){re=(Y|0)==0;if(!re?(o[Y+12>>2]&2|0)!=0:0){Rf(Y);I=+l[Y+56>>2];F=(o[d>>2]=Q,+l[d>>2]);ie=(o[d>>2]=te,+l[d>>2]);ne=(l[d>>2]=+l[Y+48>>2]-I*(ie-+l[Y+44>>2]),o[d>>2]|0);oe=ie;se=F;ae=ne;ue=(l[d>>2]=I*(F-+l[Y+40>>2])+ +l[Y+52>>2],o[d>>2]|0)}else{ne=o[c>>2]|0;F=(o[d>>2]=Q,+l[d>>2]);oe=(o[d>>2]=te,+l[d>>2]);se=F;ae=o[ne+(w<<3)>>2]|0;ue=o[ne+(w<<3)+4>>2]|0}F=se-A;I=oe-T;ie=(o[d>>2]=ae,+l[d>>2]);le=ie-U;ce=(o[d>>2]=ue,+l[d>>2]);he=ce-P;fe=z*he-M*le;de=R*he-O*le-(M*F-z*I);pe=R*I-O*F;do{if(fe==0){if(de==0)break t;_e=-pe/de;if(!(_e>=0&_e<h))break t;me=R+z*_e;be=O+M*_e;ge=(me*(F+le*_e)+be*(I+he*_e))/(me*me+be*be);if(ge>=0&ge<=1)ye=ge;else break t}else{ge=de*de-pe*4*fe;if(ge<0)break t;be=+J(+ge);ge=fe*2;me=(-de-be)/ge;ne=(l[d>>2]=me,o[d>>2]|0);_e=(be-de)/ge;ve=(l[d>>2]=_e,o[d>>2]|0);xe=me>_e;we=xe?ne:ve;_e=(o[d>>2]=xe?ve:ne,+l[d>>2]);me=R+z*_e;ge=O+M*_e;be=(me*(F+le*_e)+ge*(I+he*_e))/(me*me+ge*ge);if(_e>=0?be<=1&(be>=0&_e<h):0){ye=be;break}be=(o[d>>2]=we,+l[d>>2]);if(!(be>=0&be<h))break t;_e=R+z*be;ge=O+M*be;me=(_e*(F+le*be)+ge*(I+he*be))/(_e*_e+ge*ge);if(me>=0&me<=1)ye=me;else break t}}while(0);he=U+z*ye-ie;I=P+M*ye-ce;le=+l[m>>2]*.75;F=le*(+l[b>>2]*le);le=he*F;de=I*F;if(!re?(o[Y+12>>2]&2|0)!=0:0){Rf(Y);F=+l[Y+32>>2];Rf(Y);fe=+l[Y+36>>2];if(F>0){pe=1/F;we=Y+48|0;l[we>>2]=le*pe+ +l[we>>2];we=Y+52|0;l[we>>2]=de*pe+ +l[we>>2]}if(fe>0){Rf(Y);we=Y+56|0;l[we>>2]=(de*(se-+l[Y+40>>2])-le*(oe-+l[Y+44>>2]))/fe+ +l[we>>2]}}else{we=o[c>>2]|0;ne=we+(w<<3)|0;l[ne>>2]=he+ +l[ne>>2];ne=we+(w<<3)+4|0;l[ne>>2]=I+ +l[ne>>2]}I=-+l[g>>2];he=le*I;le=de*I;if(he!=0|le!=0?(o[(o[t>>2]|0)+(w<<2)>>2]&4|0)==0:0){if(!(i[y>>0]|0)){c_(o[v>>2]|0,0,o[r>>2]<<3|0)|0;i[y>>0]=1}ne=o[v>>2]|0;we=ne+(w<<3)|0;l[we>>2]=he+ +l[we>>2];we=ne+(w<<3)+4|0;l[we>>2]=le+ +l[we>>2]}}}while(0);if(E>>>0>=Z>>>0)break}}}}while(0);e=e+1|0}while((e|0)<(o[n>>2]|0));return}function md(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0;switch(t-e>>3|0){case 2:{if((o[t+-4>>2]|0)>>>0>=(o[e+4>>2]|0)>>>0){i=1;return i|0}n=t+-8|0;s=e;a=o[s>>2]|0;u=o[s+4>>2]|0;s=n;l=o[s+4>>2]|0;c=e;o[c>>2]=o[s>>2];o[c+4>>2]=l;l=n;o[l>>2]=a;o[l+4>>2]=u;i=1;return i|0}case 3:{u=e+8|0;l=t+-8|0;a=e+12|0;n=o[a>>2]|0;c=e+4|0;s=t+-4|0;h=(o[s>>2]|0)>>>0<n>>>0;if(n>>>0>=(o[c>>2]|0)>>>0){if(!h){i=1;return i|0}n=u;f=o[n>>2]|0;d=o[n+4>>2]|0;n=l;p=o[n+4>>2]|0;_=u;o[_>>2]=o[n>>2];o[_+4>>2]=p;p=l;o[p>>2]=f;o[p+4>>2]=d;if((o[a>>2]|0)>>>0>=(o[c>>2]|0)>>>0){i=1;return i|0}c=e;a=o[c>>2]|0;d=o[c+4>>2]|0;c=u;p=o[c+4>>2]|0;f=e;o[f>>2]=o[c>>2];o[f+4>>2]=p;p=u;o[p>>2]=a;o[p+4>>2]=d;i=1;return i|0}d=e;p=o[d>>2]|0;a=o[d+4>>2]|0;if(h){h=l;d=o[h+4>>2]|0;f=e;o[f>>2]=o[h>>2];o[f+4>>2]=d;d=l;o[d>>2]=p;o[d+4>>2]=a;i=1;return i|0}d=u;f=o[d+4>>2]|0;h=e;o[h>>2]=o[d>>2];o[h+4>>2]=f;f=u;o[f>>2]=p;o[f+4>>2]=a;if((o[s>>2]|0)>>>0>=a>>>0){i=1;return i|0}s=l;f=o[s+4>>2]|0;h=u;o[h>>2]=o[s>>2];o[h+4>>2]=f;f=l;o[f>>2]=p;o[f+4>>2]=a;i=1;return i|0}case 4:{pr(e,e+8|0,e+16|0,t+-8|0,r)|0;i=1;return i|0}case 5:{a=e+8|0;f=e+16|0;p=e+24|0;pr(e,a,f,p,r)|0;r=e+28|0;if((o[t+-4>>2]|0)>>>0>=(o[r>>2]|0)>>>0){i=1;return i|0}l=t+-8|0;h=p;s=o[h>>2]|0;u=o[h+4>>2]|0;h=l;d=o[h+4>>2]|0;c=p;o[c>>2]=o[h>>2];o[c+4>>2]=d;d=l;o[d>>2]=s;o[d+4>>2]=u;if((o[r>>2]|0)>>>0>=(o[e+20>>2]|0)>>>0){i=1;return i|0}r=f;u=o[r>>2]|0;d=o[r+4>>2]|0;r=p;s=o[r>>2]|0;l=o[r+4>>2]|0;r=f;o[r>>2]=s;o[r+4>>2]=l;r=p;o[r>>2]=u;o[r+4>>2]=d;if(l>>>0>=(o[e+12>>2]|0)>>>0){i=1;return i|0}d=a;r=o[d>>2]|0;u=o[d+4>>2]|0;d=a;o[d>>2]=s;o[d+4>>2]=l;d=f;o[d>>2]=r;o[d+4>>2]=u;if(l>>>0>=(o[e+4>>2]|0)>>>0){i=1;return i|0}u=e;d=o[u>>2]|0;r=o[u+4>>2]|0;u=e;o[u>>2]=s;o[u+4>>2]=l;l=a;o[l>>2]=d;o[l+4>>2]=r;i=1;return i|0}case 1:case 0:{i=1;return i|0}default:{r=e+16|0;l=e+8|0;d=o[e+12>>2]|0;a=o[e+4>>2]|0;u=o[e+20>>2]|0;s=u>>>0<d>>>0;do{if(d>>>0<a>>>0){f=e;p=o[f>>2]|0;c=o[f+4>>2]|0;if(s){f=r;h=o[f+4>>2]|0;_=e;o[_>>2]=o[f>>2];o[_+4>>2]=h;h=r;o[h>>2]=p;o[h+4>>2]=c;break}h=l;_=o[h+4>>2]|0;f=e;o[f>>2]=o[h>>2];o[f+4>>2]=_;_=l;o[_>>2]=p;o[_+4>>2]=c;if(u>>>0<c>>>0){_=r;f=o[_+4>>2]|0;h=l;o[h>>2]=o[_>>2];o[h+4>>2]=f;f=r;o[f>>2]=p;o[f+4>>2]=c}}else if(s?(c=l,f=o[c>>2]|0,p=o[c+4>>2]|0,c=r,h=o[c>>2]|0,_=o[c+4>>2]|0,c=l,o[c>>2]=h,o[c+4>>2]=_,c=r,o[c>>2]=f,o[c+4>>2]=p,_>>>0<a>>>0):0){p=e;c=o[p>>2]|0;f=o[p+4>>2]|0;p=e;o[p>>2]=h;o[p+4>>2]=_;_=l;o[_>>2]=c;o[_+4>>2]=f}}while(0);l=e+24|0;if((l|0)==(t|0)){i=1;return i|0}else{m=0;b=l;g=r}while(1){if((o[b+4>>2]|0)>>>0<(o[g+4>>2]|0)>>>0){r=b;l=o[r>>2]|0;a=o[r+4>>2]|0;r=b;s=g;while(1){u=s;d=o[u+4>>2]|0;f=r;o[f>>2]=o[u>>2];o[f+4>>2]=d;if((s|0)==(e|0)){y=s;break}if(a>>>0<(o[s+-4>>2]|0)>>>0){d=s;s=s+-8|0;r=d}else{y=s;break}}s=y;o[s>>2]=l;o[s+4>>2]=a;s=m+1|0;if((s|0)==8){v=b;break}else x=s}else x=m;s=b+8|0;if((s|0)==(t|0)){i=1;w=34;break}else{r=b;m=x;b=s;g=r}}if((w|0)==34)return i|0;i=(v+8|0)==(t|0);return i|0}}return 0}function bd(e){e=e|0;op(e);return}function gd(e){e=e|0;op(e);return}function yd(e,t){e=e|0;t=t|0;return 0}function vd(e){e=e|0;return 1}function xd(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0;i=e+16|0;if((o[i>>2]|0)<=0){n=0;return n|0}s=e+12|0;e=0;while(1){a=o[(o[s>>2]|0)+(e<<2)>>2]|0;e=e+1|0;if(hm[o[(o[a>>2]|0)+16>>2]&15](a,t,r)|0){n=1;u=5;break}if((e|0)>=(o[i>>2]|0)){n=0;u=5;break}}if((u|0)==5)return n|0;return 0}function wd(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;return}function Sd(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;return 0}function Ed(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0;i=h;h=h+16|0;n=i;l[t>>2]=3.4028234663852886E38;s=t+4|0;l[s>>2]=3.4028234663852886E38;a=t+8|0;l[a>>2]=-3.4028234663852886E38;u=t+12|0;l[u>>2]=-3.4028234663852886E38;c=e+16|0;if((o[c>>2]|0)<=0){h=i;return}f=e+12|0;e=n+4|0;d=n+8|0;p=n+12|0;_=0;do{m=o[(o[f>>2]|0)+(_<<2)>>2]|0;b=om[o[(o[m>>2]|0)+12>>2]&7](m)|0;if((b|0)>0){m=0;do{g=o[(o[f>>2]|0)+(_<<2)>>2]|0;ym[o[(o[g>>2]|0)+28>>2]&31](g,n,r,m);y=+l[t>>2];v=+l[n>>2];x=+l[s>>2];w=+l[e>>2];l[t>>2]=y<v?y:v;l[s>>2]=x<w?x:w;w=+l[a>>2];x=+l[d>>2];v=+l[u>>2];y=+l[p>>2];l[a>>2]=w>x?w:x;l[u>>2]=v>y?v:y;m=m+1|0}while((m|0)!=(b|0))}_=_+1|0}while((_|0)<(o[c>>2]|0));h=i;return}function Ad(e,t,r){e=e|0;t=t|0;r=+r;return}function Td(e){e=e|0;op(e);return}function Pd(e,t){e=e|0;t=t|0;return 0}function Cd(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0;n=e+4|0;if((o[n>>2]|0)!=(t|0)){s=0;return s|0}a=o[e+8>>2]|0;if(!(hm[o[(o[a>>2]|0)+16>>2]&15](a,e+12|0,(o[t+96>>2]|0)+(r<<3)|0)|0)){s=1;return s|0}t=o[n>>2]|0;Yf(t,r,o[(o[t+88>>2]|0)+(r<<2)>>2]|((i[e+28>>0]|0)!=0?514:2));r=e+32|0;o[r>>2]=(o[r>>2]|0)+1;s=1;return s|0}function Md(e,t){e=e|0;t=t|0;var r=0,i=0;r=t+4|0;i=o[t>>2]|0;o[i+4>>2]=o[r>>2];o[o[r>>2]>>2]=i;o[r>>2]=t;i=e+12|0;o[r>>2]=o[i>>2];o[t>>2]=e+8;o[o[i>>2]>>2]=t;o[i>>2]=t;return}function Fd(e){e=e|0;var t=0,r=0,n=0,s=0;t=e+68|0;o[e+72>>2]=t;o[t>>2]=t;t=e+8|0;o[t>>2]=128;o[e+4>>2]=0;r=zd(1024)|0;o[e>>2]=r;c_(r|0,0,o[t>>2]<<3|0)|0;t=e+12|0;e=t+56|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(e|0));if(!(i[6718]|0)){n=1;s=0}else return;while(1){t=(n|0)>(o[2384+(s<<2)>>2]|0);e=s+1|0;i[6077+n>>0]=t?e:s;n=n+1|0;if((n|0)==641)break;else s=t?e:s}i[6718]=1;return}function Id(e){e=e|0;var t=0,r=0;t=e+4|0;if((o[t>>2]|0)>0){r=0;do{jd(o[(o[e>>2]|0)+(r<<3)+4>>2]|0);r=r+1|0}while((r|0)<(o[t>>2]|0))}jd(o[e>>2]|0);t=e+68|0;qd(t);r=e+72|0;e=o[t>>2]|0;o[e+4>>2]=o[r>>2];o[o[r>>2]>>2]=e;o[r>>2]=t;o[t>>2]=t;return}function Od(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,a=0,u=0,l=0,c=0,h=0;if(!t){r=0;return r|0}if((t|0)>640){r=Vd(e+68|0,t)|0;return r|0}i=s[6077+t>>0]|0;t=e+12+(i<<2)|0;n=o[t>>2]|0;if(n){o[t>>2]=o[n>>2];r=n;return r|0}n=e+4|0;a=o[n>>2]|0;u=e+8|0;if((a|0)==(o[u>>2]|0)){l=o[e>>2]|0;c=a+128|0;o[u>>2]=c;u=zd(c<<3)|0;o[e>>2]=u;p_(u|0,l|0,o[n>>2]<<3|0)|0;c_((o[e>>2]|0)+(o[n>>2]<<3)|0,0,1024)|0;jd(l);h=o[n>>2]|0}else h=a;a=o[e>>2]|0;e=zd(16384)|0;l=a+(h<<3)+4|0;o[l>>2]=e;u=o[2384+(i<<2)>>2]|0;o[a+(h<<3)>>2]=u;h=16384/(u|0)|0;a=h+-1|0;if((h|0)>1){h=0;do{i=h;h=h+1|0;o[e+(te(i,u)|0)>>2]=e+(te(h,u)|0)}while((h|0)!=(a|0))}o[e+(te(a,u)|0)>>2]=0;o[t>>2]=o[e>>2];o[n>>2]=(o[n>>2]|0)+1;r=o[l>>2]|0;return r|0}function Dd(e,t,r){e=e|0;t=t|0;r=r|0;var i=0;if(!r)return;if((r|0)>640){Yd(e+68|0,t);return}else{i=e+12+((s[6077+r>>0]|0)<<2)|0;o[t>>2]=o[i>>2];o[i>>2]=t;return}}function kd(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,o=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0;i=+l[t+16>>2];n=+l[t+32>>2];o=+l[t+20>>2];s=+l[t+28>>2];a=i*n-o*s;u=+l[t+24>>2];c=+l[t+12>>2];h=o*u-n*c;f=s*c-i*u;d=+l[t>>2];p=+l[t+4>>2];_=+l[t+8>>2];m=a*d+p*h+f*_;b=m!=0?1/m:m;m=+l[r>>2];g=+l[r+4>>2];y=+l[r+8>>2];l[e>>2]=b*(a*m+h*g+f*y);l[e+4>>2]=b*((g*n-y*s)*d+p*(y*u-n*m)+(s*m-g*u)*_);l[e+8>>2]=b*((i*y-o*g)*d+p*(o*m-y*c)+(g*c-i*m)*_);return}function Rd(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,o=0,s=0,a=0,u=0,c=0;i=+l[t>>2];n=+l[t+12>>2];o=+l[t+4>>2];s=+l[t+16>>2];a=i*s-n*o;u=a!=0?1/a:a;a=+l[r>>2];c=+l[r+4>>2];l[e>>2]=u*(s*a-n*c);l[e+4>>2]=u*(i*c-o*a);return}function Bd(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0;r=+l[e>>2];i=+l[e+12>>2];n=+l[e+4>>2];s=+l[e+16>>2];a=r*s-i*n;u=a!=0?1/a:a;l[t>>2]=s*u;s=-u;l[t+12>>2]=i*s;l[t+8>>2]=0;l[t+4>>2]=n*s;l[t+16>>2]=r*u;e=t+20|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function Nd(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,o=0,s=0,a=0,u=0,c=0,h=0,f=0,d=0;r=+l[e+16>>2];i=+l[e+32>>2];n=r*i;o=+l[e+20>>2];s=+l[e+28>>2];a=+l[e+24>>2];u=+l[e+12>>2];c=i*u;h=s*u-r*a;f=+l[e>>2];d=(n-o*s)*f+ +l[e+4>>2]*(o*a-c)+h*+l[e+8>>2];o=d!=0?1/d:d;l[t>>2]=o*(n-s*s);n=o*(a*s-c);l[t+4>>2]=n;c=o*h;l[t+8>>2]=c;l[t+12>>2]=n;l[t+16>>2]=o*(f*i-a*a);i=o*(a*u-f*s);l[t+20>>2]=i;l[t+24>>2]=c;l[t+28>>2]=i;l[t+32>>2]=o*(f*r-u*u);return}function Ld(e){e=e|0;return}function Gd(e){e=e|0;return}function Ud(e){e=e|0;return 0}function zd(e){e=e|0;o[619]=(o[619]|0)+1;return bm[o[2464>>2]&31](e,o[618]|0)|0}function jd(e){e=e|0;o[619]=(o[619]|0)+-1;cm[o[2468>>2]&63](e,o[618]|0);return}function Jd(e,t){e=e|0;t=t|0;return}function Xd(e,t){e=e|0;t=t|0;return s_(e)|0}function Hd(e,t){e=e|0;t=t|0;a_(e);return}function Wd(e){e=e|0;return e+43&-32|0}function Vd(e,t){e=e|0;t=t|0;var r=0;r=zd(t+44|0)|0;o[r>>2]=r;t=r+43&-32;o[t+-4>>2]=r;o[r+4>>2]=e;o[r>>2]=o[e>>2];o[(o[e>>2]|0)+4>>2]=r;o[e>>2]=r;return t|0}function Yd(e,t){e=e|0;t=t|0;var r=0;e=o[t+-4>>2]|0;t=e+4|0;r=o[e>>2]|0;o[r+4>>2]=o[t>>2];o[o[t>>2]>>2]=r;o[t>>2]=e;o[e>>2]=e;jd(e);return}function qd(e){e=e|0;var t=0,r=0,i=0,n=0;t=e+4|0;r=o[t>>2]|0;if((r|0)==(e|0))return;else i=r;do{r=i+4|0;n=o[i>>2]|0;o[n+4>>2]=o[r>>2];o[o[r>>2]>>2]=n;o[r>>2]=i;o[i>>2]=i;jd(i);i=o[t>>2]|0}while((i|0)!=(e|0));return}function Kd(e){e=e|0;o[e+102400>>2]=0;o[e+102404>>2]=0;o[e+102408>>2]=0;o[e+102796>>2]=0;return}function Zd(e){e=e|0;return}function Qd(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0;r=t+3&-4;t=e+102796|0;n=o[t>>2]|0;s=e+102412+(n*12|0)|0;o[e+102412+(n*12|0)+4>>2]=r;a=e+102400|0;u=o[a>>2]|0;if((u+r|0)>102400){o[s>>2]=zd(r)|0;i[e+102412+(n*12|0)+8>>0]=1;l=s}else{o[s>>2]=e+u;i[e+102412+(n*12|0)+8>>0]=0;o[a>>2]=(o[a>>2]|0)+r;l=s}s=e+102404|0;a=(o[s>>2]|0)+r|0;o[s>>2]=a;s=e+102408|0;e=o[s>>2]|0;o[s>>2]=(e|0)>(a|0)?e:a;o[t>>2]=(o[t>>2]|0)+1;return o[l>>2]|0}function $d(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,h=0;t=(o[e+102796>>2]|0)+-1|0;n=e+102412+(t*12|0)|0;s=e+102412+(t*12|0)+4|0;a=r-(o[s>>2]|0)|0;if((a|0)<=0){u=o[n>>2]|0;return u|0}l=e+102412+(t*12|0)+8|0;do{if(!(i[l>>0]|0)){t=e+102400|0;c=(o[t>>2]|0)+a|0;if((c|0)>102400){h=zd(r)|0;p_(h|0,o[n>>2]|0,o[s>>2]|0)|0;o[t>>2]=(o[t>>2]|0)-(o[s>>2]|0);o[n>>2]=h;i[l>>0]=1;break}else{o[t>>2]=c;c=e+102404|0;t=(o[c>>2]|0)+a|0;o[c>>2]=t;c=e+102408|0;h=o[c>>2]|0;o[c>>2]=(h|0)>(t|0)?h:t;break}}else{t=zd(r)|0;p_(t|0,o[n>>2]|0,o[s>>2]|0)|0;jd(o[n>>2]|0);o[n>>2]=t}}while(0);o[s>>2]=r;u=o[n>>2]|0;return u|0}function ep(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0,l=0,c=0;r=e+102796|0;n=o[r>>2]|0;s=n+-1|0;if(!(i[e+102412+(s*12|0)+8>>0]|0)){a=e+102412+(s*12|0)+4|0;u=e+102400|0;o[u>>2]=(o[u>>2]|0)-(o[a>>2]|0);l=a;c=n}else{jd(t);l=e+102412+(s*12|0)+4|0;c=o[r>>2]|0}s=e+102404|0;o[s>>2]=(o[s>>2]|0)-(o[l>>2]|0);o[r>>2]=c+-1;return}function tp(e,t){e=e|0;t=t|0;var r=0,i=0;r=h;h=h+16|0;i=r;o[i>>2]=t;t=o[661]|0;Xp(t,e,i)|0;jp(10,t)|0;Ae()}function rp(){var e=0,t=0;e=h;h=h+16|0;if(!(ze(2592,3)|0)){t=Ne(o[647]|0)|0;h=e;return t|0}else tp(6949,e);return 0}function ip(e){e=e|0;var t=0,r=0,i=0;t=(e|0)==0?1:e;e=s_(t)|0;e:do{if(!e){while(1){r=hp()|0;if(!r)break;dm[r&3]();r=s_(t)|0;if(r){i=r;break e}}r=Pe(4)|0;o[r>>2]=2492;Ye(r|0,608,60)}else i=e}while(0);return i|0}function np(e,t){e=e|0;t=t|0;return ip(e)|0}function op(e){e=e|0;a_(e);return}function sp(e){e=e|0;return}function ap(e){e=e|0;op(e);return}function up(e){e=e|0;return 6998}function lp(e){e=e|0;var t=0;t=h;h=h+16|0;dm[e&3]();tp(7013,t)}function cp(){var e=0,t=0;e=rp()|0;if(((e|0)!=0?(t=o[e>>2]|0,(t|0)!=0):0)?(e=t+48|0,(o[e>>2]&-256|0)==1126902528?(o[e+4>>2]|0)==1129074247:0):0)lp(o[t+12>>2]|0);t=o[620]|0;o[620]=t+0;lp(t)}function hp(){var e=0;e=o[626]|0;o[626]=e+0;return e|0}function fp(e){e=e|0;return}function dp(e){e=e|0;return}function pp(e){e=e|0;return}function _p(e){e=e|0;return}function mp(e){e=e|0;return}function bp(e){e=e|0;op(e);return}function gp(e){e=e|0;op(e);return}function yp(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0;i=h;h=h+64|0;n=i;if((e|0)!=(t|0))if((t|0)!=0?(s=Sp(t,640,656,0)|0,(s|0)!=0):0){t=n;a=t+56|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(a|0));o[n>>2]=s;o[n+8>>2]=e;o[n+12>>2]=-1;o[n+48>>2]=1;ym[o[(o[s>>2]|0)+28>>2]&31](s,n,o[r>>2]|0,1);if((o[n+24>>2]|0)==1){o[r>>2]=o[n+16>>2];u=1}else u=0;l=u}else l=0;else l=1;h=i;return l|0}function vp(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var s=0,a=0;e=t+16|0;s=o[e>>2]|0;do{if(s){if((s|0)!=(r|0)){a=t+36|0;o[a>>2]=(o[a>>2]|0)+1;o[t+24>>2]=2;i[t+54>>0]=1;break}a=t+24|0;if((o[a>>2]|0)==2)o[a>>2]=n}else{o[e>>2]=r;o[t+24>>2]=n;o[t+36>>2]=1}}while(0);return}function xp(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;if((e|0)==(o[t+8>>2]|0))vp(0,t,r,i);return}function wp(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;if((e|0)==(o[t+8>>2]|0))vp(0,t,r,i);else{n=o[e+8>>2]|0;ym[o[(o[n>>2]|0)+28>>2]&31](n,t,r,i)}return}function Sp(e,t,r,s){e=e|0;t=t|0;r=r|0;s=s|0;var a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0;a=h;h=h+64|0;u=a;l=o[e>>2]|0;c=e+(o[l+-8>>2]|0)|0;f=o[l+-4>>2]|0;o[u>>2]=r;o[u+4>>2]=e;o[u+8>>2]=t;o[u+12>>2]=s;s=u+16|0;t=u+20|0;e=u+24|0;l=u+28|0;d=u+32|0;p=u+40|0;_=(f|0)==(r|0);m=s;b=m+36|0;do{o[m>>2]=0;m=m+4|0}while((m|0)<(b|0));n[s+36>>1]=0;i[s+38>>0]=0;e:do{if(_){o[u+48>>2]=1;mm[o[(o[r>>2]|0)+20>>2]&7](r,u,c,c,1,0);g=(o[e>>2]|0)==1?c:0}else{sm[o[(o[f>>2]|0)+24>>2]&3](f,u,c,1,0);switch(o[u+36>>2]|0){case 0:{g=(o[p>>2]|0)==1&(o[l>>2]|0)==1&(o[d>>2]|0)==1?o[t>>2]|0:0;break e;break}case 1:break;default:{g=0;break e}}if((o[e>>2]|0)!=1?!((o[p>>2]|0)==0&(o[l>>2]|0)==1&(o[d>>2]|0)==1):0){g=0;break}g=o[s>>2]|0}}while(0);h=a;return g|0}function Ep(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;var a=0,u=0;i[t+53>>0]=1;do{if((o[t+4>>2]|0)==(n|0)){i[t+52>>0]=1;e=t+16|0;a=o[e>>2]|0;if(!a){o[e>>2]=r;o[t+24>>2]=s;o[t+36>>2]=1;if(!((s|0)==1?(o[t+48>>2]|0)==1:0))break;i[t+54>>0]=1;break}if((a|0)!=(r|0)){a=t+36|0;o[a>>2]=(o[a>>2]|0)+1;i[t+54>>0]=1;break}a=t+24|0;e=o[a>>2]|0;if((e|0)==2){o[a>>2]=s;u=s}else u=e;if((u|0)==1?(o[t+48>>2]|0)==1:0)i[t+54>>0]=1}}while(0);return}function Ap(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;var a=0,u=0,l=0,c=0,h=0,f=0,d=0;e:do{if((e|0)==(o[t+8>>2]|0)){if((o[t+4>>2]|0)==(r|0)?(a=t+28|0,(o[a>>2]|0)!=1):0)o[a>>2]=n}else{if((e|0)!=(o[t>>2]|0)){a=o[e+8>>2]|0;sm[o[(o[a>>2]|0)+24>>2]&3](a,t,r,n,s);break}if((o[t+16>>2]|0)!=(r|0)?(a=t+20|0,(o[a>>2]|0)!=(r|0)):0){o[t+32>>2]=n;u=t+44|0;if((o[u>>2]|0)==4)break;l=t+52|0;i[l>>0]=0;c=t+53|0;i[c>>0]=0;h=o[e+8>>2]|0;mm[o[(o[h>>2]|0)+20>>2]&7](h,t,r,r,1,s);if(i[c>>0]|0){if(!(i[l>>0]|0)){f=1;d=13}}else{f=0;d=13}do{if((d|0)==13){o[a>>2]=r;l=t+40|0;o[l>>2]=(o[l>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0){i[t+54>>0]=1;if(f)break}else d=16;if((d|0)==16?f:0)break;o[u>>2]=4;break e}}while(0);o[u>>2]=3;break}if((n|0)==1)o[t+32>>2]=1}}while(0);return}function Tp(e,t,r,n,s){e=e|0;t=t|0;r=r|0;n=n|0;s=s|0;do{if((e|0)==(o[t+8>>2]|0)){if((o[t+4>>2]|0)==(r|0)?(s=t+28|0,(o[s>>2]|0)!=1):0)o[s>>2]=n}else if((e|0)==(o[t>>2]|0)){if((o[t+16>>2]|0)!=(r|0)?(s=t+20|0,(o[s>>2]|0)!=(r|0)):0){o[t+32>>2]=n;o[s>>2]=r;s=t+40|0;o[s>>2]=(o[s>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0)i[t+54>>0]=1;o[t+44>>2]=4;break}if((n|0)==1)o[t+32>>2]=1}}while(0);return}function Pp(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;var a=0;if((e|0)==(o[t+8>>2]|0))Ep(0,t,r,i,n);else{a=o[e+8>>2]|0;mm[o[(o[a>>2]|0)+20>>2]&7](a,t,r,i,n,s)}return}function Cp(e,t,r,i,n,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;s=s|0;if((e|0)==(o[t+8>>2]|0))Ep(0,t,r,i,n);return}function Mp(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0;i=h;h=h+16|0;n=i;o[n>>2]=o[r>>2];s=hm[o[(o[e>>2]|0)+16>>2]&15](e,t,n)|0;if(s)o[r>>2]=o[n>>2];h=i;return s&1|0}function Fp(e){e=e|0;var t=0;if(!e)t=0;else t=(Sp(e,640,688,0)|0)!=0;return t&1|0}function Ip(){var e=0,t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0;e=h;h=h+48|0;t=e+32|0;r=e+24|0;i=e+16|0;n=e;s=e+36|0;e=rp()|0;if((e|0)!=0?(a=o[e>>2]|0,(a|0)!=0):0){e=a+48|0;u=o[e>>2]|0;l=o[e+4>>2]|0;if(!((u&-256|0)==1126902528&(l|0)==1129074247)){o[r>>2]=o[649];tp(7242,r)}if((u|0)==1126902529&(l|0)==1129074247)c=o[a+44>>2]|0;else c=a+80|0;o[s>>2]=c;c=o[a>>2]|0;a=o[c+4>>2]|0;if(hm[o[(o[624>>2]|0)+16>>2]&15](624,c,s)|0){c=o[s>>2]|0;s=o[649]|0;l=om[o[(o[c>>2]|0)+8>>2]&7](c)|0;o[n>>2]=s;o[n+4>>2]=a;o[n+8>>2]=l;tp(7156,n)}else{o[i>>2]=o[649];o[i+4>>2]=a;tp(7201,i)}}tp(7280,t)}function Op(){var e=0;e=h;h=h+16|0;if(!(Ee(2588,67)|0)){h=e;return}else tp(7053,e)}function Dp(e){e=e|0;var t=0;t=h;h=h+16|0;a_(e);if(!(Ve(o[647]|0,0)|0)){h=t;return}else tp(7103,t)}function kp(e){e=e|0;var t=0,r=0,n=0,o=0,a=0,u=0,l=0;t=0;while(1){if((s[7301+t>>0]|0)==(e|0)){r=t;n=2;break}t=t+1|0;if((t|0)==87){o=87;a=7389;n=5;break}}if((n|0)==2)if(!r)u=7389;else{o=r;a=7389;n=5}if((n|0)==5)while(1){n=0;r=a;while(1){t=r+1|0;if(!(i[r>>0]|0)){l=t;break}else r=t}o=o+-1|0;if(!o){u=l;break}else{a=l;n=5}}return u|0}function Rp(){var e=0;if(!(o[650]|0))e=2652;else e=o[(Ue()|0)+60>>2]|0;return e|0}function Bp(e){e=e|0;var t=0;if(e>>>0>4294963200){o[(Rp()|0)>>2]=0-e;t=-1}else t=e;return t|0}function Np(e,t){e=+e;t=t|0;var r=0,i=0,n=0,s=0,a=0,u=0,l=0,h=0;c[d>>3]=e;r=o[d>>2]|0;i=o[d+4>>2]|0;n=d_(r|0,i|0,52)|0;s=n&2047;switch(s|0){case 0:{if(e!=0){a=+Np(e*1.8446744073709552E19,t);u=a;l=(o[t>>2]|0)+-64|0}else{u=e;l=0}o[t>>2]=l;h=u;break}case 2047:{h=e;break}default:{o[t>>2]=s+-1022;o[d>>2]=r;o[d+4>>2]=i&-2146435073|1071644672;h=+c[d>>3]}}return+h}function Lp(e,t){e=+e;t=t|0;return+ +Np(e,t)}function Gp(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;do{if(e){if(t>>>0<128){i[e>>0]=t;n=1;break}if(t>>>0<2048){i[e>>0]=t>>>6|192;i[e+1>>0]=t&63|128;n=2;break}if(t>>>0<55296|(t&-8192|0)==57344){i[e>>0]=t>>>12|224;i[e+1>>0]=t>>>6&63|128;i[e+2>>0]=t&63|128;n=3;break}if((t+-65536|0)>>>0<1048576){i[e>>0]=t>>>18|240;i[e+1>>0]=t>>>12&63|128;i[e+2>>0]=t>>>6&63|128;i[e+3>>0]=t&63|128;n=4;break}else{o[(Rp()|0)>>2]=84;n=-1;break}}else n=1}while(0);return n|0}function Up(e,t){e=e|0;t=t|0;var r=0;if(!e)r=0;else r=Gp(e,t,0)|0;return r|0}function zp(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0;do{if(e){if((o[e+76>>2]|0)<=-1){t=e_(e)|0;break}r=(Hp(e)|0)==0;i=e_(e)|0;if(r)t=i;else{Wp(e);t=i}}else{if(!(o[662]|0))n=0;else n=zp(o[662]|0)|0;Ke(2628);i=o[656]|0;if(!i)s=n;else{r=i;i=n;while(1){if((o[r+76>>2]|0)>-1)a=Hp(r)|0;else a=0;if((o[r+20>>2]|0)>>>0>(o[r+28>>2]|0)>>>0)u=e_(r)|0|i;else u=i;if(a)Wp(r);r=o[r+56>>2]|0;if(!r){s=u;break}else i=u}}He(2628);t=s}}while(0);return t|0}function jp(e,t){e=e|0;t=t|0;var r=0,n=0,s=0,a=0,u=0;if((o[t+76>>2]|0)>=0?(Hp(t)|0)!=0:0){if((i[t+75>>0]|0)!=(e|0)?(r=t+20|0,n=o[r>>2]|0,n>>>0<(o[t+16>>2]|0)>>>0):0){o[r>>2]=n+1;i[n>>0]=e;s=e&255}else s=Vp(t,e)|0;Wp(t);a=s}else u=3;do{if((u|0)==3){if((i[t+75>>0]|0)!=(e|0)?(s=t+20|0,n=o[s>>2]|0,n>>>0<(o[t+16>>2]|0)>>>0):0){o[s>>2]=n+1;i[n>>0]=e;a=e&255;break}a=Vp(t,e)|0}}while(0);return a|0}function Jp(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0;n=r+16|0;s=o[n>>2]|0;if(!s)if(!(Qp(r)|0)){a=o[n>>2]|0;u=4}else l=0;else{a=s;u=4}e:do{if((u|0)==4){s=r+20|0;n=o[s>>2]|0;if((a-n|0)>>>0<t>>>0){l=hm[o[r+36>>2]&15](r,e,t)|0;break}t:do{if((i[r+75>>0]|0)>-1){c=t;while(1){if(!c){h=t;f=e;d=n;p=0;break t}_=c+-1|0;if((i[e+_>>0]|0)==10){m=c;break}else c=_}if((hm[o[r+36>>2]&15](r,e,m)|0)>>>0<m>>>0){l=m;break e}h=t-m|0;f=e+m|0;d=o[s>>2]|0;p=m}else{h=t;f=e;d=n;p=0}}while(0);p_(d|0,f|0,h|0)|0;o[s>>2]=(o[s>>2]|0)+h;l=p+h|0}}while(0);return l|0}function Xp(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0;n=h;h=h+224|0;s=n+120|0;a=n+80|0;u=n;l=n+136|0;c=a;f=c+40|0;do{o[c>>2]=0;c=c+4|0}while((c|0)<(f|0));o[s>>2]=o[r>>2];if((t_(0,t,s,u,a)|0)<0)d=-1;else{if((o[e+76>>2]|0)>-1)p=Hp(e)|0;else p=0;r=o[e>>2]|0;c=r&32;if((i[e+74>>0]|0)<1)o[e>>2]=r&-33;r=e+48|0;if(!(o[r>>2]|0)){f=e+44|0;_=o[f>>2]|0;o[f>>2]=l;m=e+28|0;o[m>>2]=l;b=e+20|0;o[b>>2]=l;o[r>>2]=80;g=e+16|0;o[g>>2]=l+80;l=t_(e,t,s,u,a)|0;if(!_)y=l;else{hm[o[e+36>>2]&15](e,0,0)|0;v=(o[b>>2]|0)==0?-1:l;o[f>>2]=_;o[r>>2]=0;o[g>>2]=0;o[m>>2]=0;o[b>>2]=0;y=v}}else y=t_(e,t,s,u,a)|0;a=o[e>>2]|0;o[e>>2]=a|c;if(p)Wp(e);d=(a&32|0)==0?y:-1}h=n;return d|0}function Hp(e){e=e|0;return 0}function Wp(e){e=e|0;return}function Vp(e,t){e=e|0;t=t|0;var r=0,n=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0;r=h;h=h+16|0;n=r;a=t&255;i[n>>0]=a;u=e+16|0;l=o[u>>2]|0;if(!l)if(!(Qp(e)|0)){c=o[u>>2]|0;f=4}else d=-1;else{c=l;f=4}do{if((f|0)==4){l=e+20|0;u=o[l>>2]|0;if(u>>>0<c>>>0?(p=t&255,(p|0)!=(i[e+75>>0]|0)):0){o[l>>2]=u+1;i[u>>0]=a;d=p;break}if((hm[o[e+36>>2]&15](e,n,1)|0)==1)d=s[n>>0]|0;else d=-1}}while(0);h=r;return d|0}function Yp(e){e=e|0;var t=0,r=0;t=h;h=h+16|0;r=t;o[r>>2]=o[e+60>>2];e=Bp(Ze(6,r|0)|0)|0;h=t;return e|0}function qp(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0;i=h;h=h+32|0;n=i;s=i+20|0;o[n>>2]=o[e+60>>2];o[n+4>>2]=0;o[n+8>>2]=t;o[n+12>>2]=s;o[n+16>>2]=r;if((Bp(tt(140,n|0)|0)|0)<0){o[s>>2]=-1;a=-1}else a=o[s>>2]|0;h=i;return a|0}function Kp(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0;i=h;h=h+48|0;n=i+16|0;s=i;a=i+32|0;u=e+28|0;l=o[u>>2]|0;o[a>>2]=l;c=e+20|0;f=(o[c>>2]|0)-l|0;o[a+4>>2]=f;o[a+8>>2]=t;o[a+12>>2]=r;t=e+60|0;l=e+44|0;d=a;a=2;p=f+r|0;while(1){if(!(o[650]|0)){o[n>>2]=o[t>>2];o[n+4>>2]=d;o[n+8>>2]=a;_=Bp(nt(146,n|0)|0)|0}else{Qe(68,e|0);o[s>>2]=o[t>>2];o[s+4>>2]=d;o[s+8>>2]=a;f=Bp(nt(146,s|0)|0)|0;we(0);_=f}if((p|0)==(_|0)){m=6;break}if((_|0)<0){b=d;g=a;m=8;break}f=p-_|0;y=o[d+4>>2]|0;if(_>>>0<=y>>>0)if((a|0)==2){o[u>>2]=(o[u>>2]|0)+_;v=y;x=_;w=d;S=2}else{v=y;x=_;w=d;S=a}else{E=o[l>>2]|0;o[u>>2]=E;o[c>>2]=E;v=o[d+12>>2]|0;x=_-y|0;w=d+8|0;S=a+-1|0}o[w>>2]=(o[w>>2]|0)+x;o[w+4>>2]=v-x;d=w;a=S;p=f}if((m|0)==6){p=o[l>>2]|0;o[e+16>>2]=p+(o[e+48>>2]|0);l=p;o[u>>2]=l;o[c>>2]=l;A=r}else if((m|0)==8){o[e+16>>2]=0;o[u>>2]=0;o[c>>2]=0;o[e>>2]=o[e>>2]|32;if((g|0)==2)A=0;else A=r-(o[b+4>>2]|0)|0}h=i;return A|0}function Zp(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0;n=h;h=h+80|0;s=n;o[e+36>>2]=12;if((o[e>>2]&64|0)==0?(o[s>>2]=o[e+60>>2],o[s+4>>2]=21505,o[s+8>>2]=n+12,(Xe(54,s|0)|0)!=0):0)i[e+75>>0]=-1;s=Kp(e,t,r)|0;h=n;return s|0}function Qp(e){e=e|0;var t=0,r=0,n=0;t=e+74|0;r=i[t>>0]|0;i[t>>0]=r+255|r;r=o[e>>2]|0;if(!(r&8)){o[e+8>>2]=0;o[e+4>>2]=0;t=o[e+44>>2]|0;o[e+28>>2]=t;o[e+20>>2]=t;o[e+16>>2]=t+(o[e+48>>2]|0);n=0}else{o[e>>2]=r|32;n=-1}return n|0}function $p(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0;n=t&255;s=(r|0)!=0;e:do{if(s&(e&3|0)!=0){a=t&255;u=r;l=e;while(1){if((i[l>>0]|0)==a<<24>>24){c=u;h=l;f=6;break e}d=l+1|0;p=u+-1|0;_=(p|0)!=0;if(_&(d&3|0)!=0){u=p;l=d}else{m=p;b=_;g=d;f=5;break}}}else{m=r;b=s;g=e;f=5}}while(0);if((f|0)==5)if(b){c=m;h=g;f=6}else{y=0;v=g}e:do{if((f|0)==6){g=t&255;if((i[h>>0]|0)==g<<24>>24){y=c;v=h}else{m=te(n,16843009)|0;t:do{if(c>>>0>3){b=c;e=h;while(1){s=o[e>>2]^m;if((s&-2139062144^-2139062144)&s+-16843009){x=b;w=e;break}s=e+4|0;r=b+-4|0;if(r>>>0>3){b=r;e=s}else{S=r;E=s;f=11;break t}}A=x;T=w}else{S=c;E=h;f=11}}while(0);if((f|0)==11)if(!S){y=0;v=E;break}else{A=S;T=E}while(1){if((i[T>>0]|0)==g<<24>>24){y=A;v=T;break e}m=T+1|0;A=A+-1|0;if(!A){y=0;v=m;break}else T=m}}}}while(0);return((y|0)!=0?v:0)|0}function e_(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0;t=e+20|0;r=e+28|0;if((o[t>>2]|0)>>>0>(o[r>>2]|0)>>>0?(hm[o[e+36>>2]&15](e,0,0)|0,(o[t>>2]|0)==0):0)i=-1;else{n=e+4|0;s=o[n>>2]|0;a=e+8|0;u=o[a>>2]|0;if(s>>>0<u>>>0)hm[o[e+40>>2]&15](e,s-u|0,1)|0;o[e+16>>2]=0;o[r>>2]=0;o[t>>2]=0;o[a>>2]=0;o[n>>2]=0;i=0}return i|0}function t_(e,t,r,a,u){e=e|0;t=t|0;r=r|0;a=a|0;u=u|0;var l=0,f=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Ae=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Ie=0,Oe=0,De=0,ke=0,Re=0,Be=0,Ne=0,Le=0,Ge=0,Ue=0,ze=0,je=0,Je=0,Xe=0,He=0,We=0,Ve=0,Ye=0,qe=0,Ke=0,Ze=0,Qe=0,$e=0,et=0,tt=0,rt=0,it=0,nt=0,ot=0,st=0,at=0,ut=0,lt=0,ct=0,ht=0,ft=0,dt=0,pt=0,_t=0,mt=0,bt=0,gt=0,yt=0,vt=0,xt=0,wt=0,St=0,Et=0,At=0,Tt=0,Pt=0,Ct=0,Mt=0,Ft=0,It=0,Ot=0,Dt=0,kt=0,Rt=0,Bt=0,Nt=0,Lt=0,Gt=0,Ut=0,zt=0,jt=0,Jt=0,Xt=0,Ht=0,Wt=0,Vt=0,Yt=0,qt=0,Kt=0,Zt=0,Qt=0,$t=0,er=0,tr=0,rr=0,ir=0,nr=0,or=0,sr=0,ar=0,ur=0,lr=0,cr=0,hr=0,fr=0,dr=0,pr=0,_r=0,mr=0,br=0,gr=0,yr=0,vr=0,xr=0,wr=0,Sr=0,Er=0,Ar=0,Tr=0,Pr=0,Cr=0,Mr=0,Fr=0;l=h;h=h+624|0;f=l+24|0;p=l+16|0;_=l+588|0;m=l+576|0;b=l;g=l+536|0;y=l+8|0;v=l+528|0;x=(e|0)!=0;w=g+40|0;S=w;E=g+39|0;g=y+4|0;A=m+12|0;T=m+11|0;m=_;P=A;C=P-m|0;M=-2-m|0;F=P+2|0;O=f+288|0;D=_+9|0;k=D;R=_+8|0;B=0;N=t;t=0;L=0;e:while(1){do{if((B|0)>-1)if((t|0)>(2147483647-B|0)){o[(Rp()|0)>>2]=75;G=-1;break}else{G=t+B|0;break}else G=B}while(0);U=i[N>>0]|0;if(!(U<<24>>24)){z=G;j=L;J=245;break}else{X=U;H=N}t:while(1){switch(X<<24>>24){case 37:{W=H;V=H;J=9;break t;break}case 0:{Y=H;q=H;break t;break}default:{}}U=H+1|0;X=i[U>>0]|0;H=U}t:do{if((J|0)==9)while(1){J=0;if((i[W+1>>0]|0)!=37){Y=W;q=V;break t}U=V+1|0;K=W+2|0;if((i[K>>0]|0)==37){W=K;V=U;J=9}else{Y=K;q=U;break}}}while(0);U=q-N|0;if(x?(o[e>>2]&32|0)==0:0)Jp(N,U,e)|0;if((q|0)!=(N|0)){B=G;N=Y;t=U;continue}K=Y+1|0;Z=i[K>>0]|0;Q=(Z<<24>>24)+-48|0;if(Q>>>0<10){$=(i[Y+2>>0]|0)==36;ee=$?Y+3|0:K;re=i[ee>>0]|0;ie=$?Q:-1;ne=$?1:L;oe=ee}else{re=Z;ie=-1;ne=L;oe=K}K=re<<24>>24;t:do{if((K&-32|0)==32){Z=K;ee=re;$=0;Q=oe;while(1){if(!(1<<Z+-32&75913)){se=ee;ae=$;ue=Q;break t}le=1<<(ee<<24>>24)+-32|$;ce=Q+1|0;he=i[ce>>0]|0;Z=he<<24>>24;if((Z&-32|0)!=32){se=he;ae=le;ue=ce;break}else{ee=he;$=le;Q=ce}}}else{se=re;ae=0;ue=oe}}while(0);do{if(se<<24>>24==42){K=ue+1|0;Q=(i[K>>0]|0)+-48|0;if(Q>>>0<10?(i[ue+2>>0]|0)==36:0){o[u+(Q<<2)>>2]=10;fe=1;de=ue+3|0;pe=o[a+((i[K>>0]|0)+-48<<3)>>2]|0}else{if(ne){_e=-1;break e}if(!x){me=ae;be=K;ge=0;ye=0;break}Q=(o[r>>2]|0)+(4-1)&~(4-1);$=o[Q>>2]|0;o[r>>2]=Q+4;fe=0;de=K;pe=$}if((pe|0)<0){me=ae|8192;be=de;ge=fe;ye=0-pe|0}else{me=ae;be=de;ge=fe;ye=pe}}else{$=(se<<24>>24)+-48|0;if($>>>0<10){K=ue;Q=0;ee=$;while(1){$=(Q*10|0)+ee|0;Z=K+1|0;ee=(i[Z>>0]|0)+-48|0;if(ee>>>0>=10){ve=$;xe=Z;break}else{K=Z;Q=$}}if((ve|0)<0){_e=-1;break e}else{me=ae;be=xe;ge=ne;ye=ve}}else{me=ae;be=ue;ge=ne;ye=0}}}while(0);t:do{if((i[be>>0]|0)==46){Q=be+1|0;K=i[Q>>0]|0;if(K<<24>>24!=42){ee=(K<<24>>24)+-48|0;if(ee>>>0<10){we=Q;Se=0;Ee=ee}else{Ae=Q;Te=0;break}while(1){Q=(Se*10|0)+Ee|0;ee=we+1|0;Ee=(i[ee>>0]|0)+-48|0;if(Ee>>>0>=10){Ae=ee;Te=Q;break t}else{we=ee;Se=Q}}}Q=be+2|0;ee=(i[Q>>0]|0)+-48|0;if(ee>>>0<10?(i[be+3>>0]|0)==36:0){o[u+(ee<<2)>>2]=10;Ae=be+4|0;Te=o[a+((i[Q>>0]|0)+-48<<3)>>2]|0;break}if(ge){_e=-1;break e}if(x){ee=(o[r>>2]|0)+(4-1)&~(4-1);K=o[ee>>2]|0;o[r>>2]=ee+4;Ae=Q;Te=K}else{Ae=Q;Te=0}}else{Ae=be;Te=-1}}while(0);Q=Ae;K=0;while(1){ee=(i[Q>>0]|0)+-65|0;if(ee>>>0>57){_e=-1;break e}$=Q+1|0;Z=i[10233+(K*58|0)+ee>>0]|0;ee=Z&255;if((ee+-1|0)>>>0<8){Q=$;K=ee}else{Pe=$;Ce=Z;Me=ee;Fe=Q;Ie=K;break}}if(!(Ce<<24>>24)){_e=-1;break}K=(ie|0)>-1;do{if(Ce<<24>>24==19)if(K){_e=-1;break e}else J=52;else{if(K){o[u+(ie<<2)>>2]=Me;Q=a+(ie<<3)|0;ee=o[Q+4>>2]|0;Z=b;o[Z>>2]=o[Q>>2];o[Z+4>>2]=ee;J=52;break}if(!x){_e=0;break e}i_(b,Me,r)}}while(0);if((J|0)==52?(J=0,!x):0){B=G;N=Pe;t=U;L=ge;continue}K=i[Fe>>0]|0;ee=(Ie|0)!=0&(K&15|0)==3?K&-33:K;K=me&-65537;Z=(me&8192|0)==0?me:K;t:do{switch(ee|0){case 110:{switch(Ie|0){case 0:{o[o[b>>2]>>2]=G;B=G;N=Pe;t=U;L=ge;continue e;break}case 1:{o[o[b>>2]>>2]=G;B=G;N=Pe;t=U;L=ge;continue e;break}case 2:{Q=o[b>>2]|0;o[Q>>2]=G;o[Q+4>>2]=((G|0)<0)<<31>>31;B=G;N=Pe;t=U;L=ge;continue e;break}case 3:{n[o[b>>2]>>1]=G;B=G;N=Pe;t=U;L=ge;continue e;break}case 4:{i[o[b>>2]>>0]=G;B=G;N=Pe;t=U;L=ge;continue e;break}case 6:{o[o[b>>2]>>2]=G;B=G;N=Pe;t=U;L=ge;continue e;break}case 7:{Q=o[b>>2]|0;o[Q>>2]=G;o[Q+4>>2]=((G|0)<0)<<31>>31;B=G;N=Pe;t=U;L=ge;continue e;break}default:{B=G;N=Pe;t=U;L=ge;continue e}}break}case 112:{Oe=Z|8;De=Te>>>0>8?Te:8;ke=120;J=64;break}case 88:case 120:{Oe=Z;De=Te;ke=ee;J=64;break}case 111:{Q=b;$=o[Q>>2]|0;ce=o[Q+4>>2]|0;if(($|0)==0&(ce|0)==0)Re=w;else{Q=w;le=$;$=ce;while(1){ce=Q+-1|0;i[ce>>0]=le&7|48;le=d_(le|0,$|0,3)|0;$=I;if((le|0)==0&($|0)==0){Re=ce;break}else Q=ce}}if(!(Z&8)){Be=Re;Ne=Z;Le=Te;Ge=0;Ue=10713;J=77}else{Q=S-Re+1|0;Be=Re;Ne=Z;Le=(Te|0)<(Q|0)?Q:Te;Ge=0;Ue=10713;J=77}break}case 105:case 100:{Q=b;$=o[Q>>2]|0;le=o[Q+4>>2]|0;if((le|0)<0){Q=l_(0,0,$|0,le|0)|0;ce=I;he=b;o[he>>2]=Q;o[he+4>>2]=ce;ze=Q;je=ce;Je=1;Xe=10713;J=76;break t}if(!(Z&2048)){ce=Z&1;ze=$;je=le;Je=ce;Xe=(ce|0)==0?10713:10715;J=76}else{ze=$;je=le;Je=1;Xe=10714;J=76}break}case 117:{le=b;ze=o[le>>2]|0;je=o[le+4>>2]|0;Je=0;Xe=10713;J=76;break}case 99:{i[E>>0]=o[b>>2];He=E;We=K;Ve=1;Ye=0;qe=10713;Ke=w;break}case 109:{Ze=kp(o[(Rp()|0)>>2]|0)|0;J=82;break}case 115:{le=o[b>>2]|0;Ze=(le|0)!=0?le:10723;J=82;break}case 67:{o[y>>2]=o[b>>2];o[g>>2]=0;o[b>>2]=y;Qe=-1;J=86;break}case 83:{if(!Te){o_(e,32,ye,0,Z);$e=0;J=98}else{Qe=Te;J=86}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{et=+c[b>>3];o[p>>2]=0;c[d>>3]=et;if((o[d+4>>2]|0)>=0)if(!(Z&2048)){le=Z&1;tt=et;rt=le;it=(le|0)==0?10731:10736}else{tt=et;rt=1;it=10733}else{tt=-et;rt=1;it=10730}c[d>>3]=tt;le=o[d+4>>2]&2146435072;do{if(le>>>0<2146435072|(le|0)==2146435072&0<0){et=+Lp(tt,p)*2;$=et!=0;if($)o[p>>2]=(o[p>>2]|0)+-1;ce=ee|32;if((ce|0)==97){Q=ee&32;he=(Q|0)==0?it:it+9|0;nt=rt|2;ot=12-Te|0;do{if(!(Te>>>0>11|(ot|0)==0)){st=ot;at=8;while(1){st=st+-1|0;ut=at*16;if(!st){lt=ut;break}else at=ut}if((i[he>>0]|0)==45){ct=-(lt+(-et-lt));break}else{ct=et+lt-lt;break}}else ct=et}while(0);ot=o[p>>2]|0;st=(ot|0)<0?0-ot|0:ot;ht=n_(st,((st|0)<0)<<31>>31,A)|0;if((ht|0)==(A|0)){i[T>>0]=48;ft=T}else ft=ht;i[ft+-1>>0]=(ot>>31&2)+43;ot=ft+-2|0;i[ot>>0]=ee+15;ht=(Te|0)<1;st=(Z&8|0)==0;at=ct;dt=_;while(1){pt=~~at;_t=dt+1|0;i[dt>>0]=s[10697+pt>>0]|Q;at=(at-+(pt|0))*16;do{if((_t-m|0)==1){if(st&(ht&at==0)){mt=_t;break}i[_t>>0]=46;mt=dt+2|0}else mt=_t}while(0);if(!(at!=0)){bt=mt;break}else dt=mt}dt=bt;ht=(Te|0)!=0&(M+dt|0)<(Te|0)?F+Te-ot|0:C-ot+dt|0;st=ht+nt|0;o_(e,32,ye,st,Z);if(!(o[e>>2]&32))Jp(he,nt,e)|0;o_(e,48,ye,st,Z^65536);Q=dt-m|0;if(!(o[e>>2]&32))Jp(_,Q,e)|0;dt=P-ot|0;o_(e,48,ht-(Q+dt)|0,0,0);if(!(o[e>>2]&32))Jp(ot,dt,e)|0;o_(e,32,ye,st,Z^8192);gt=(st|0)<(ye|0)?ye:st;break}st=(Te|0)<0?6:Te;if($){dt=(o[p>>2]|0)+-28|0;o[p>>2]=dt;yt=et*268435456;vt=dt}else{yt=et;vt=o[p>>2]|0}dt=(vt|0)<0?f:O;Q=dt;at=yt;ht=dt;while(1){_t=~~at>>>0;o[ht>>2]=_t;pt=ht+4|0;at=(at-+(_t>>>0))*1E9;if(!(at!=0)){xt=pt;break}else ht=pt}ht=o[p>>2]|0;if((ht|0)>0){$=ht;ot=dt;nt=xt;while(1){he=($|0)>29?29:$;pt=nt+-4|0;do{if(pt>>>0<ot>>>0)wt=ot;else{_t=0;St=pt;while(1){Et=h_(o[St>>2]|0,0,he|0)|0;At=f_(Et|0,I|0,_t|0,0)|0;Et=I;Tt=S_(At|0,Et|0,1E9,0)|0;o[St>>2]=Tt;Tt=w_(At|0,Et|0,1E9,0)|0;St=St+-4|0;if(St>>>0<ot>>>0){Pt=Tt;break}else _t=Tt}if(!Pt){wt=ot;break}_t=ot+-4|0;o[_t>>2]=Pt;wt=_t}}while(0);pt=nt;while(1){if(pt>>>0<=wt>>>0){Ct=pt;break}_t=pt+-4|0;if(!(o[_t>>2]|0))pt=_t;else{Ct=pt;break}}pt=(o[p>>2]|0)-he|0;o[p>>2]=pt;if((pt|0)>0){$=pt;ot=wt;nt=Ct}else{Mt=pt;Ft=wt;It=Ct;break}}}else{Mt=ht;Ft=dt;It=xt}if((Mt|0)<0){nt=((st+25|0)/9|0)+1|0;ot=(ce|0)==102;$=Mt;pt=Ft;_t=It;while(1){St=0-$|0;Tt=(St|0)>9?9:St;do{if(pt>>>0<_t>>>0){St=(1<<Tt)+-1|0;Et=1E9>>>Tt;At=0;Ot=pt;while(1){Dt=o[Ot>>2]|0;o[Ot>>2]=(Dt>>>Tt)+At;kt=te(Dt&St,Et)|0;Ot=Ot+4|0;if(Ot>>>0>=_t>>>0){Rt=kt;break}else At=kt}At=(o[pt>>2]|0)==0?pt+4|0:pt;if(!Rt){Bt=At;Nt=_t;break}o[_t>>2]=Rt;Bt=At;Nt=_t+4|0}else{Bt=(o[pt>>2]|0)==0?pt+4|0:pt;Nt=_t}}while(0);he=ot?dt:Bt;At=(Nt-he>>2|0)>(nt|0)?he+(nt<<2)|0:Nt;$=(o[p>>2]|0)+Tt|0;o[p>>2]=$;if(($|0)>=0){Lt=Bt;Gt=At;break}else{pt=Bt;_t=At}}}else{Lt=Ft;Gt=It}do{if(Lt>>>0<Gt>>>0){_t=(Q-Lt>>2)*9|0;pt=o[Lt>>2]|0;if(pt>>>0<10){Ut=_t;break}else{zt=_t;jt=10}while(1){jt=jt*10|0;_t=zt+1|0;if(pt>>>0<jt>>>0){Ut=_t;break}else zt=_t}}else Ut=0}while(0);pt=(ce|0)==103;Tt=(st|0)!=0;_t=st-((ce|0)!=102?Ut:0)+((Tt&pt)<<31>>31)|0;if((_t|0)<(((Gt-Q>>2)*9|0)+-9|0)){$=_t+9216|0;_t=($|0)/9|0;nt=dt+(_t+-1023<<2)|0;ot=(($|0)%9|0)+1|0;if((ot|0)<9){$=10;ht=ot;while(1){ot=$*10|0;ht=ht+1|0;if((ht|0)==9){Jt=ot;break}else $=ot}}else Jt=10;$=o[nt>>2]|0;ht=($>>>0)%(Jt>>>0)|0;if((ht|0)==0?(dt+(_t+-1022<<2)|0)==(Gt|0):0){Xt=Lt;Ht=nt;Wt=Ut}else J=163;do{if((J|0)==163){J=0;at=((($>>>0)/(Jt>>>0)|0)&1|0)==0?9007199254740992:9007199254740994;ce=(Jt|0)/2|0;do{if(ht>>>0<ce>>>0)Vt=.5;else{if((ht|0)==(ce|0)?(dt+(_t+-1022<<2)|0)==(Gt|0):0){Vt=1;break}Vt=1.5}}while(0);do{if(!rt){Yt=at;qt=Vt}else{if((i[it>>0]|0)!=45){Yt=at;qt=Vt;break}Yt=-at;qt=-Vt}}while(0);ce=$-ht|0;o[nt>>2]=ce;if(!(Yt+qt!=Yt)){Xt=Lt;Ht=nt;Wt=Ut;break}ot=ce+Jt|0;o[nt>>2]=ot;if(ot>>>0>999999999){ot=Lt;ce=nt;while(1){At=ce+-4|0;o[ce>>2]=0;if(At>>>0<ot>>>0){he=ot+-4|0;o[he>>2]=0;Kt=he}else Kt=ot;he=(o[At>>2]|0)+1|0;o[At>>2]=he;if(he>>>0>999999999){ot=Kt;ce=At}else{Zt=Kt;Qt=At;break}}}else{Zt=Lt;Qt=nt}ce=(Q-Zt>>2)*9|0;ot=o[Zt>>2]|0;if(ot>>>0<10){Xt=Zt;Ht=Qt;Wt=ce;break}else{$t=ce;er=10}while(1){er=er*10|0;ce=$t+1|0;if(ot>>>0<er>>>0){Xt=Zt;Ht=Qt;Wt=ce;break}else $t=ce}}}while(0);nt=Ht+4|0;tr=Xt;rr=Wt;ir=Gt>>>0>nt>>>0?nt:Gt}else{tr=Lt;rr=Ut;ir=Gt}nt=0-rr|0;ht=ir;while(1){if(ht>>>0<=tr>>>0){nr=0;or=ht;break}$=ht+-4|0;if(!(o[$>>2]|0))ht=$;else{nr=1;or=ht;break}}do{if(pt){ht=(Tt&1^1)+st|0;if((ht|0)>(rr|0)&(rr|0)>-5){sr=ee+-1|0;ar=ht+-1-rr|0}else{sr=ee+-2|0;ar=ht+-1|0}ht=Z&8;if(ht){ur=sr;lr=ar;cr=ht;break}do{if(nr){ht=o[or+-4>>2]|0;if(!ht){hr=9;break}if(!((ht>>>0)%10|0)){fr=10;dr=0}else{hr=0;break}while(1){fr=fr*10|0;$=dr+1|0;if((ht>>>0)%(fr>>>0)|0){hr=$;break}else dr=$}}else hr=9}while(0);ht=((or-Q>>2)*9|0)+-9|0;if((sr|32|0)==102){$=ht-hr|0;_t=($|0)<0?0:$;ur=sr;lr=(ar|0)<(_t|0)?ar:_t;cr=0;break}else{_t=ht+rr-hr|0;ht=(_t|0)<0?0:_t;ur=sr;lr=(ar|0)<(ht|0)?ar:ht;cr=0;break}}else{ur=ee;lr=st;cr=Z&8}}while(0);st=lr|cr;Q=(st|0)!=0&1;Tt=(ur|32|0)==102;if(Tt){pr=(rr|0)>0?rr:0;_r=0}else{pt=(rr|0)<0?nt:rr;ht=n_(pt,((pt|0)<0)<<31>>31,A)|0;if((P-ht|0)<2){pt=ht;while(1){_t=pt+-1|0;i[_t>>0]=48;if((P-_t|0)<2)pt=_t;else{mr=_t;break}}}else mr=ht;i[mr+-1>>0]=(rr>>31&2)+43;pt=mr+-2|0;i[pt>>0]=ur;pr=P-pt|0;_r=pt}pt=rt+1+lr+Q+pr|0;o_(e,32,ye,pt,Z);if(!(o[e>>2]&32))Jp(it,rt,e)|0;o_(e,48,ye,pt,Z^65536);do{if(Tt){nt=tr>>>0>dt>>>0?dt:tr;_t=nt;while(1){$=n_(o[_t>>2]|0,0,D)|0;do{if((_t|0)==(nt|0)){if(($|0)!=(D|0)){br=$;break}i[R>>0]=48;br=R}else{if($>>>0>_>>>0)gr=$;else{br=$;break}while(1){ot=gr+-1|0;i[ot>>0]=48;if(ot>>>0>_>>>0)gr=ot;else{br=ot;break}}}}while(0);if(!(o[e>>2]&32))Jp(br,k-br|0,e)|0;$=_t+4|0;if($>>>0>dt>>>0){yr=$;break}else _t=$}do{if(st){if(o[e>>2]&32)break;Jp(10765,1,e)|0}}while(0);if((lr|0)>0&yr>>>0<or>>>0){_t=lr;nt=yr;while(1){$=n_(o[nt>>2]|0,0,D)|0;if($>>>0>_>>>0){ot=$;while(1){ce=ot+-1|0;i[ce>>0]=48;if(ce>>>0>_>>>0)ot=ce;else{vr=ce;break}}}else vr=$;if(!(o[e>>2]&32))Jp(vr,(_t|0)>9?9:_t,e)|0;nt=nt+4|0;ot=_t+-9|0;if(!((_t|0)>9&nt>>>0<or>>>0)){xr=ot;break}else _t=ot}}else xr=lr;o_(e,48,xr+9|0,9,0)}else{_t=nr?or:tr+4|0;if((lr|0)>-1){nt=(cr|0)==0;ot=lr;ce=tr;while(1){At=n_(o[ce>>2]|0,0,D)|0;if((At|0)==(D|0)){i[R>>0]=48;wr=R}else wr=At;do{if((ce|0)==(tr|0)){At=wr+1|0;if(!(o[e>>2]&32))Jp(wr,1,e)|0;if(nt&(ot|0)<1){Sr=At;break}if(o[e>>2]&32){Sr=At;break}Jp(10765,1,e)|0;Sr=At}else{if(wr>>>0>_>>>0)Er=wr;else{Sr=wr;break}while(1){At=Er+-1|0;i[At>>0]=48;if(At>>>0>_>>>0)Er=At;else{Sr=At;break}}}}while(0);$=k-Sr|0;if(!(o[e>>2]&32))Jp(Sr,(ot|0)>($|0)?$:ot,e)|0;At=ot-$|0;ce=ce+4|0;if(!(ce>>>0<_t>>>0&(At|0)>-1)){Ar=At;break}else ot=At}}else Ar=lr;o_(e,48,Ar+18|0,18,0);if(o[e>>2]&32)break;Jp(_r,P-_r|0,e)|0}}while(0);o_(e,32,ye,pt,Z^8192);gt=(pt|0)<(ye|0)?ye:pt}else{st=(ee&32|0)!=0;dt=tt!=tt|0!=0;Tt=dt?0:rt;Q=Tt+3|0;o_(e,32,ye,Q,K);ht=o[e>>2]|0;if(!(ht&32)){Jp(it,Tt,e)|0;Tr=o[e>>2]|0}else Tr=ht;if(!(Tr&32))Jp(dt?st?10757:10761:st?10749:10753,3,e)|0;o_(e,32,ye,Q,Z^8192);gt=(Q|0)<(ye|0)?ye:Q}}while(0);B=G;N=Pe;t=gt;L=ge;continue e;break}default:{He=N;We=Z;Ve=Te;Ye=0;qe=10713;Ke=w}}}while(0);t:do{if((J|0)==64){J=0;ee=b;U=o[ee>>2]|0;le=o[ee+4>>2]|0;ee=ke&32;if(!((U|0)==0&(le|0)==0)){Q=w;st=U;U=le;while(1){le=Q+-1|0;i[le>>0]=s[10697+(st&15)>>0]|ee;st=d_(st|0,U|0,4)|0;U=I;if((st|0)==0&(U|0)==0){Pr=le;break}else Q=le}Q=b;if((Oe&8|0)==0|(o[Q>>2]|0)==0&(o[Q+4>>2]|0)==0){Be=Pr;Ne=Oe;Le=De;Ge=0;Ue=10713;J=77}else{Be=Pr;Ne=Oe;Le=De;Ge=2;Ue=10713+(ke>>4)|0;J=77}}else{Be=w;Ne=Oe;Le=De;Ge=0;Ue=10713;J=77}}else if((J|0)==76){J=0;Be=n_(ze,je,w)|0;Ne=Z;Le=Te;Ge=Je;Ue=Xe;J=77}else if((J|0)==82){J=0;Q=$p(Ze,0,Te)|0;U=(Q|0)==0;He=Ze;We=K;Ve=U?Te:Q-Ze|0;Ye=0;qe=10713;Ke=U?Ze+Te|0:Q}else if((J|0)==86){J=0;Q=0;U=0;st=o[b>>2]|0;while(1){ee=o[st>>2]|0;if(!ee){Cr=Q;Mr=U;break}le=Up(v,ee)|0;if((le|0)<0|le>>>0>(Qe-Q|0)>>>0){Cr=Q;Mr=le;break}ee=le+Q|0;if(Qe>>>0>ee>>>0){Q=ee;U=le;st=st+4|0}else{Cr=ee;Mr=le;break}}if((Mr|0)<0){_e=-1;break e}o_(e,32,ye,Cr,Z);if(!Cr){$e=0;J=98}else{st=0;U=o[b>>2]|0;while(1){Q=o[U>>2]|0;if(!Q){$e=Cr;J=98;break t}le=Up(v,Q)|0;st=le+st|0;if((st|0)>(Cr|0)){$e=Cr;J=98;break t}if(!(o[e>>2]&32))Jp(v,le,e)|0;if(st>>>0>=Cr>>>0){$e=Cr;J=98;break}else U=U+4|0}}}}while(0);if((J|0)==98){J=0;o_(e,32,ye,$e,Z^8192);B=G;N=Pe;t=(ye|0)>($e|0)?ye:$e;L=ge;continue}if((J|0)==77){J=0;K=(Le|0)>-1?Ne&-65537:Ne;U=b;st=(o[U>>2]|0)!=0|(o[U+4>>2]|0)!=0;if((Le|0)!=0|st){U=(st&1^1)+(S-Be)|0;He=Be;We=K;Ve=(Le|0)>(U|0)?Le:U;Ye=Ge;qe=Ue;Ke=w}else{He=w;We=K;Ve=0;Ye=Ge;qe=Ue;Ke=w}}K=Ke-He|0;U=(Ve|0)<(K|0)?K:Ve;st=Ye+U|0;le=(ye|0)<(st|0)?st:ye;o_(e,32,le,st,We);if(!(o[e>>2]&32))Jp(qe,Ye,e)|0;o_(e,48,le,st,We^65536);o_(e,48,U,K,0);if(!(o[e>>2]&32))Jp(He,K,e)|0;o_(e,32,le,st,We^8192);B=G;N=Pe;t=le;L=ge}e:do{if((J|0)==245)if(!e)if(j){ge=1;while(1){L=o[u+(ge<<2)>>2]|0;if(!L){Fr=ge;break}i_(a+(ge<<3)|0,L,r);ge=ge+1|0;if((ge|0)>=10){_e=1;break e}}if((Fr|0)<10){ge=Fr;while(1){if(o[u+(ge<<2)>>2]|0){_e=-1;break e}ge=ge+1|0;if((ge|0)>=10){_e=1;break}}}else _e=1}else _e=0;else _e=z}while(0);h=l;return _e|0}function r_(e){e=e|0;if(!(o[e+68>>2]|0))Wp(e);return}function i_(e,t,r){e=e|0;t=t|0;r=r|0;var i=0,n=0,s=0,a=0,u=0;e:do{if(t>>>0<=20){do{switch(t|0){case 9:{i=(o[r>>2]|0)+(4-1)&~(4-1);n=o[i>>2]|0;o[r>>2]=i+4;o[e>>2]=n;break e;break}case 10:{n=(o[r>>2]|0)+(4-1)&~(4-1);i=o[n>>2]|0;o[r>>2]=n+4;n=e;o[n>>2]=i;o[n+4>>2]=((i|0)<0)<<31>>31;break e;break}case 11:{i=(o[r>>2]|0)+(4-1)&~(4-1);n=o[i>>2]|0;o[r>>2]=i+4;i=e;o[i>>2]=n;o[i+4>>2]=0;break e;break}case 12:{i=(o[r>>2]|0)+(8-1)&~(8-1);n=i;s=o[n>>2]|0;a=o[n+4>>2]|0;o[r>>2]=i+8;i=e;o[i>>2]=s;o[i+4>>2]=a;break e;break}case 13:{a=(o[r>>2]|0)+(4-1)&~(4-1);i=o[a>>2]|0;o[r>>2]=a+4;a=(i&65535)<<16>>16;i=e;o[i>>2]=a;o[i+4>>2]=((a|0)<0)<<31>>31;break e;break}case 14:{a=(o[r>>2]|0)+(4-1)&~(4-1);i=o[a>>2]|0;o[r>>2]=a+4;a=e;o[a>>2]=i&65535;o[a+4>>2]=0;break e;break}case 15:{a=(o[r>>2]|0)+(4-1)&~(4-1);i=o[a>>2]|0;o[r>>2]=a+4;a=(i&255)<<24>>24;i=e;o[i>>2]=a;o[i+4>>2]=((a|0)<0)<<31>>31;break e;break}case 16:{a=(o[r>>2]|0)+(4-1)&~(4-1);i=o[a>>2]|0;o[r>>2]=a+4;a=e;o[a>>2]=i&255;o[a+4>>2]=0;break e;break}case 17:{a=(o[r>>2]|0)+(8-1)&~(8-1);u=+c[a>>3];o[r>>2]=a+8;c[e>>3]=u;break e;break}case 18:{a=(o[r>>2]|0)+(8-1)&~(8-1);u=+c[a>>3];o[r>>2]=a+8;c[e>>3]=u;break e;break}default:break e}}while(0)}}while(0);return}function n_(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,o=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295){n=r;o=e;s=t;while(1){t=S_(o|0,s|0,10,0)|0;a=n+-1|0;i[a>>0]=t|48;t=w_(o|0,s|0,10,0)|0;if(s>>>0>9|(s|0)==9&o>>>0>4294967295){n=a;o=t;s=I}else{u=a;l=t;break}}c=u;h=l}else{c=r;h=e}if(!h)f=c;else{e=c;c=h;while(1){h=e+-1|0;i[h>>0]=(c>>>0)%10|0|48;if(c>>>0<10){f=h;break}else{e=h;c=(c>>>0)/10|0}}}return f|0}function o_(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,f=0,d=0,p=0,_=0,m=0;s=h;h=h+256|0;a=s;do{if((r|0)>(i|0)&(n&73728|0)==0){u=r-i|0;c_(a|0,t|0,(u>>>0>256?256:u)|0)|0;l=o[e>>2]|0;c=(l&32|0)==0;if(u>>>0>255){f=r-i|0;d=u;p=l;l=c;while(1){if(l){Jp(a,256,e)|0;_=o[e>>2]|0}else _=p;d=d+-256|0;l=(_&32|0)==0;if(d>>>0<=255)break;else p=_}if(l)m=f&255;else break}else if(c)m=u;else break;Jp(a,m,e)|0}}while(0);h=s;return}function s_(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0,G=0,U=0,z=0,j=0,J=0,X=0,H=0,W=0,V=0,Y=0,q=0,K=0,Z=0,Q=0,$=0,ee=0,te=0,re=0,ie=0,ne=0,oe=0,se=0,ae=0,ue=0,le=0,ce=0,he=0,fe=0,de=0,pe=0,_e=0,me=0,be=0,ge=0,ye=0,ve=0,xe=0,we=0,Se=0,Ee=0,Te=0,Pe=0,Ce=0,Me=0,Fe=0,Oe=0,De=0,ke=0,Re=0,Ne=0,Le=0,Ge=0,Ue=0,ze=0,je=0,Je=0,Xe=0,He=0,We=0,Ve=0;do{if(e>>>0<245){t=e>>>0<11?16:e+11&-8;r=t>>>3;i=o[720]|0;n=i>>>r;if(n&3){s=(n&1^1)+r|0;a=s<<1;u=2920+(a<<2)|0;l=2920+(a+2<<2)|0;a=o[l>>2]|0;c=a+8|0;h=o[c>>2]|0;do{if((u|0)!=(h|0)){if(h>>>0<(o[724]|0)>>>0)Ae();f=h+12|0;if((o[f>>2]|0)==(a|0)){o[f>>2]=u;o[l>>2]=h;break}else Ae()}else o[720]=i&~(1<<s)}while(0);h=s<<3;o[a+4>>2]=h|3;l=a+(h|4)|0;o[l>>2]=o[l>>2]|1;d=c;return d|0}l=o[722]|0;if(t>>>0>l>>>0){if(n){h=2<<r;u=n<<r&(h|0-h);h=(u&0-u)+-1|0;u=h>>>12&16;f=h>>>u;h=f>>>5&8;p=f>>>h;f=p>>>2&4;_=p>>>f;p=_>>>1&2;m=_>>>p;_=m>>>1&1;b=(h|u|f|p|_)+(m>>>_)|0;_=b<<1;m=2920+(_<<2)|0;p=2920+(_+2<<2)|0;_=o[p>>2]|0;f=_+8|0;u=o[f>>2]|0;do{if((m|0)!=(u|0)){if(u>>>0<(o[724]|0)>>>0)Ae();h=u+12|0;if((o[h>>2]|0)==(_|0)){o[h>>2]=m;o[p>>2]=u;g=o[722]|0;break}else Ae()}else{o[720]=i&~(1<<b);g=l}}while(0);l=b<<3;i=l-t|0;o[_+4>>2]=t|3;u=_+t|0;o[_+(t|4)>>2]=i|1;o[_+l>>2]=i;if(g){l=o[725]|0;p=g>>>3;m=p<<1;r=2920+(m<<2)|0;n=o[720]|0;c=1<<p;if(n&c){p=2920+(m+2<<2)|0;a=o[p>>2]|0;if(a>>>0<(o[724]|0)>>>0)Ae();else{y=p;v=a}}else{o[720]=n|c;y=2920+(m+2<<2)|0;v=r}o[y>>2]=l;o[v+12>>2]=l;o[l+8>>2]=v;o[l+12>>2]=r}o[722]=i;o[725]=u;d=f;return d|0}u=o[721]|0;if(u){i=(u&0-u)+-1|0;u=i>>>12&16;r=i>>>u;i=r>>>5&8;l=r>>>i;r=l>>>2&4;m=l>>>r;l=m>>>1&2;c=m>>>l;m=c>>>1&1;n=o[3184+((i|u|r|l|m)+(c>>>m)<<2)>>2]|0;m=(o[n+4>>2]&-8)-t|0;c=n;l=n;while(1){n=o[c+16>>2]|0;if(!n){r=o[c+20>>2]|0;if(!r){x=m;w=l;break}else S=r}else S=n;n=(o[S+4>>2]&-8)-t|0;r=n>>>0<m>>>0;m=r?n:m;c=S;l=r?S:l}l=o[724]|0;if(w>>>0<l>>>0)Ae();c=w+t|0;if(w>>>0>=c>>>0)Ae();m=o[w+24>>2]|0;f=o[w+12>>2]|0;do{if((f|0)==(w|0)){_=w+20|0;b=o[_>>2]|0;if(!b){r=w+16|0;n=o[r>>2]|0;if(!n){E=0;break}else{A=n;T=r}}else{A=b;T=_}while(1){_=A+20|0;b=o[_>>2]|0;if(b){A=b;T=_;continue}_=A+16|0;b=o[_>>2]|0;if(!b){P=A;C=T;break}else{A=b;T=_}}if(C>>>0<l>>>0)Ae();else{o[C>>2]=0;E=P;break}}else{_=o[w+8>>2]|0;if(_>>>0<l>>>0)Ae();b=_+12|0;if((o[b>>2]|0)!=(w|0))Ae();r=f+8|0;if((o[r>>2]|0)==(w|0)){o[b>>2]=f;o[r>>2]=_;E=f;break}else Ae()}}while(0);do{if(m){f=o[w+28>>2]|0;l=3184+(f<<2)|0;if((w|0)==(o[l>>2]|0)){o[l>>2]=E;if(!E){o[721]=o[721]&~(1<<f);break}}else{if(m>>>0<(o[724]|0)>>>0)Ae();f=m+16|0;if((o[f>>2]|0)==(w|0))o[f>>2]=E;else o[m+20>>2]=E;if(!E)break}f=o[724]|0;if(E>>>0<f>>>0)Ae();o[E+24>>2]=m;l=o[w+16>>2]|0;do{if(l)if(l>>>0<f>>>0)Ae();else{o[E+16>>2]=l;o[l+24>>2]=E;break}}while(0);l=o[w+20>>2]|0;if(l)if(l>>>0<(o[724]|0)>>>0)Ae();else{o[E+20>>2]=l;o[l+24>>2]=E;break}}}while(0);if(x>>>0<16){m=x+t|0;o[w+4>>2]=m|3;l=w+(m+4)|0;o[l>>2]=o[l>>2]|1}else{o[w+4>>2]=t|3;o[w+(t|4)>>2]=x|1;o[w+(x+t)>>2]=x;l=o[722]|0;if(l){m=o[725]|0;f=l>>>3;l=f<<1;_=2920+(l<<2)|0;r=o[720]|0;b=1<<f;if(r&b){f=2920+(l+2<<2)|0;n=o[f>>2]|0;if(n>>>0<(o[724]|0)>>>0)Ae();else{M=f;F=n}}else{o[720]=r|b;M=2920+(l+2<<2)|0;F=_}o[M>>2]=m;o[F+12>>2]=m;o[m+8>>2]=F;o[m+12>>2]=_}o[722]=x;o[725]=c}d=w+8|0;return d|0}else I=t}else I=t}else if(e>>>0<=4294967231){_=e+11|0;m=_&-8;l=o[721]|0;if(l){b=0-m|0;r=_>>>8;if(r)if(m>>>0>16777215)O=31;else{_=(r+1048320|0)>>>16&8;n=r<<_;r=(n+520192|0)>>>16&4;f=n<<r;n=(f+245760|0)>>>16&2;u=14-(r|_|n)+(f<<n>>>15)|0;O=m>>>(u+7|0)&1|u<<1}else O=0;u=o[3184+(O<<2)>>2]|0;e:do{if(!u){D=b;k=0;R=0;B=86}else{n=b;f=0;_=m<<((O|0)==31?0:25-(O>>>1)|0);r=u;i=0;while(1){a=o[r+4>>2]&-8;p=a-m|0;if(p>>>0<n>>>0)if((a|0)==(m|0)){N=p;L=r;G=r;B=90;break e}else{U=p;z=r}else{U=n;z=i}p=o[r+20>>2]|0;r=o[r+16+(_>>>31<<2)>>2]|0;a=(p|0)==0|(p|0)==(r|0)?f:p;if(!r){D=U;k=a;R=z;B=86;break}else{n=U;f=a;_=_<<1;i=z}}}}while(0);if((B|0)==86){if((k|0)==0&(R|0)==0){u=2<<O;b=l&(u|0-u);if(!b){I=m;break}u=(b&0-b)+-1|0;b=u>>>12&16;t=u>>>b;u=t>>>5&8;c=t>>>u;t=c>>>2&4;i=c>>>t;c=i>>>1&2;_=i>>>c;i=_>>>1&1;j=o[3184+((u|b|t|c|i)+(_>>>i)<<2)>>2]|0;J=0}else{j=k;J=R}if(!j){X=D;H=J}else{N=D;L=j;G=J;B=90}}if((B|0)==90)while(1){B=0;i=(o[L+4>>2]&-8)-m|0;_=i>>>0<N>>>0;c=_?i:N;i=_?L:G;_=o[L+16>>2]|0;if(_){N=c;L=_;G=i;B=90;continue}L=o[L+20>>2]|0;if(!L){X=c;H=i;break}else{N=c;G=i;B=90}}if((H|0)!=0?X>>>0<((o[722]|0)-m|0)>>>0:0){l=o[724]|0;if(H>>>0<l>>>0)Ae();i=H+m|0;if(H>>>0>=i>>>0)Ae();c=o[H+24>>2]|0;_=o[H+12>>2]|0;do{if((_|0)==(H|0)){t=H+20|0;b=o[t>>2]|0;if(!b){u=H+16|0;f=o[u>>2]|0;if(!f){W=0;break}else{V=f;Y=u}}else{V=b;Y=t}while(1){t=V+20|0;b=o[t>>2]|0;if(b){V=b;Y=t;continue}t=V+16|0;b=o[t>>2]|0;if(!b){q=V;K=Y;break}else{V=b;Y=t}}if(K>>>0<l>>>0)Ae();else{o[K>>2]=0;W=q;break}}else{t=o[H+8>>2]|0;if(t>>>0<l>>>0)Ae();b=t+12|0;if((o[b>>2]|0)!=(H|0))Ae();u=_+8|0;if((o[u>>2]|0)==(H|0)){o[b>>2]=_;o[u>>2]=t;W=_;break}else Ae()}}while(0);do{if(c){_=o[H+28>>2]|0;l=3184+(_<<2)|0;if((H|0)==(o[l>>2]|0)){o[l>>2]=W;if(!W){o[721]=o[721]&~(1<<_);break}}else{if(c>>>0<(o[724]|0)>>>0)Ae();_=c+16|0;if((o[_>>2]|0)==(H|0))o[_>>2]=W;else o[c+20>>2]=W;if(!W)break}_=o[724]|0;if(W>>>0<_>>>0)Ae();o[W+24>>2]=c;l=o[H+16>>2]|0;do{if(l)if(l>>>0<_>>>0)Ae();else{o[W+16>>2]=l;o[l+24>>2]=W;break}}while(0);l=o[H+20>>2]|0;if(l)if(l>>>0<(o[724]|0)>>>0)Ae();else{o[W+20>>2]=l;o[l+24>>2]=W;break}}}while(0);e:do{if(X>>>0>=16){o[H+4>>2]=m|3;o[H+(m|4)>>2]=X|1;o[H+(X+m)>>2]=X;c=X>>>3;if(X>>>0<256){l=c<<1;_=2920+(l<<2)|0;t=o[720]|0;u=1<<c;if(t&u){c=2920+(l+2<<2)|0;b=o[c>>2]|0;if(b>>>0<(o[724]|0)>>>0)Ae();else{Z=c;Q=b}}else{o[720]=t|u;Z=2920+(l+2<<2)|0;Q=_}o[Z>>2]=i;o[Q+12>>2]=i;o[H+(m+8)>>2]=Q;o[H+(m+12)>>2]=_;break}_=X>>>8;if(_)if(X>>>0>16777215)$=31;else{l=(_+1048320|0)>>>16&8;u=_<<l;_=(u+520192|0)>>>16&4;t=u<<_;u=(t+245760|0)>>>16&2;b=14-(_|l|u)+(t<<u>>>15)|0;$=X>>>(b+7|0)&1|b<<1}else $=0;b=3184+($<<2)|0;o[H+(m+28)>>2]=$;o[H+(m+20)>>2]=0;o[H+(m+16)>>2]=0;u=o[721]|0;t=1<<$;if(!(u&t)){o[721]=u|t;o[b>>2]=i;o[H+(m+24)>>2]=b;o[H+(m+12)>>2]=i;o[H+(m+8)>>2]=i;break}t=o[b>>2]|0;t:do{if((o[t+4>>2]&-8|0)!=(X|0)){b=X<<(($|0)==31?0:25-($>>>1)|0);u=t;while(1){l=u+16+(b>>>31<<2)|0;_=o[l>>2]|0;if(!_){ee=l;te=u;break}if((o[_+4>>2]&-8|0)==(X|0)){re=_;break t}else{b=b<<1;u=_}}if(ee>>>0<(o[724]|0)>>>0)Ae();else{o[ee>>2]=i;o[H+(m+24)>>2]=te;o[H+(m+12)>>2]=i;o[H+(m+8)>>2]=i;break e}}else re=t}while(0);t=re+8|0;u=o[t>>2]|0;b=o[724]|0;if(u>>>0>=b>>>0&re>>>0>=b>>>0){o[u+12>>2]=i;o[t>>2]=i;o[H+(m+8)>>2]=u;o[H+(m+12)>>2]=re;o[H+(m+24)>>2]=0;break}else Ae()}else{u=X+m|0;o[H+4>>2]=u|3;t=H+(u+4)|0;o[t>>2]=o[t>>2]|1}}while(0);d=H+8|0;return d|0}else I=m}else I=m}else I=-1}while(0);H=o[722]|0;if(H>>>0>=I>>>0){X=H-I|0;re=o[725]|0;if(X>>>0>15){o[725]=re+I;o[722]=X;o[re+(I+4)>>2]=X|1;o[re+H>>2]=X;o[re+4>>2]=I|3}else{o[722]=0;o[725]=0;o[re+4>>2]=H|3;X=re+(H+4)|0;o[X>>2]=o[X>>2]|1}d=re+8|0;return d|0}re=o[723]|0;if(re>>>0>I>>>0){X=re-I|0;o[723]=X;re=o[726]|0;o[726]=re+I;o[re+(I+4)>>2]=X|1;o[re+4>>2]=I|3;d=re+8|0;return d|0}do{if(!(o[838]|0)){re=Be(30)|0;if(!(re+-1&re)){o[840]=re;o[839]=re;o[841]=-1;o[842]=-1;o[843]=0;o[831]=0;o[838]=($e(0)|0)&-16^1431655768;break}else Ae()}}while(0);re=I+48|0;X=o[840]|0;H=I+47|0;te=X+H|0;ee=0-X|0;X=te&ee;if(X>>>0<=I>>>0){d=0;return d|0}$=o[830]|0;if(($|0)!=0?(Q=o[828]|0,Z=Q+X|0,Z>>>0<=Q>>>0|Z>>>0>$>>>0):0){d=0;return d|0}e:do{if(!(o[831]&4)){$=o[726]|0;t:do{if($){Z=3328;while(1){Q=o[Z>>2]|0;if(Q>>>0<=$>>>0?(W=Z+4|0,(Q+(o[W>>2]|0)|0)>>>0>$>>>0):0){ie=Z;ne=W;break}Z=o[Z+8>>2]|0;if(!Z){B=174;break t}}Z=te-(o[723]|0)&ee;if(Z>>>0<2147483647){W=Ie(Z|0)|0;Q=(W|0)==((o[ie>>2]|0)+(o[ne>>2]|0)|0);q=Q?Z:0;if(Q)if((W|0)==(-1|0))oe=q;else{se=W;ae=q;B=194;break e}else{ue=W;le=Z;ce=q;B=184}}else oe=0}else B=174}while(0);do{if((B|0)==174){$=Ie(0)|0;if(($|0)!=(-1|0)){m=$;q=o[839]|0;Z=q+-1|0;if(!(Z&m))he=X;else he=X-m+(Z+m&0-q)|0;q=o[828]|0;m=q+he|0;if(he>>>0>I>>>0&he>>>0<2147483647){Z=o[830]|0;if((Z|0)!=0?m>>>0<=q>>>0|m>>>0>Z>>>0:0){oe=0;break}Z=Ie(he|0)|0;m=(Z|0)==($|0);q=m?he:0;if(m){se=$;ae=q;B=194;break e}else{ue=Z;le=he;ce=q;B=184}}else oe=0}else oe=0}}while(0);t:do{if((B|0)==184){q=0-le|0;do{if(re>>>0>le>>>0&(le>>>0<2147483647&(ue|0)!=(-1|0))?(Z=o[840]|0,$=H-le+Z&0-Z,$>>>0<2147483647):0)if((Ie($|0)|0)==(-1|0)){Ie(q|0)|0;oe=ce;break t}else{fe=$+le|0;break}else fe=le}while(0);if((ue|0)==(-1|0))oe=ce;else{se=ue;ae=fe;B=194;break e}}}while(0);o[831]=o[831]|4;de=oe;B=191}else{de=0;B=191}}while(0);if((((B|0)==191?X>>>0<2147483647:0)?(oe=Ie(X|0)|0,X=Ie(0)|0,oe>>>0<X>>>0&((oe|0)!=(-1|0)&(X|0)!=(-1|0))):0)?(fe=X-oe|0,X=fe>>>0>(I+40|0)>>>0,X):0){se=oe;ae=X?fe:de;B=194}if((B|0)==194){de=(o[828]|0)+ae|0;o[828]=de;if(de>>>0>(o[829]|0)>>>0)o[829]=de;de=o[726]|0;e:do{if(de){fe=3328;do{X=o[fe>>2]|0;oe=fe+4|0;ue=o[oe>>2]|0;if((se|0)==(X+ue|0)){pe=X;_e=oe;me=ue;be=fe;B=204;break}fe=o[fe+8>>2]|0}while((fe|0)!=0);if(((B|0)==204?(o[be+12>>2]&8|0)==0:0)?de>>>0<se>>>0&de>>>0>=pe>>>0:0){o[_e>>2]=me+ae;fe=(o[723]|0)+ae|0;ue=de+8|0;oe=(ue&7|0)==0?0:0-ue&7;ue=fe-oe|0;o[726]=de+oe;o[723]=ue;o[de+(oe+4)>>2]=ue|1;o[de+(fe+4)>>2]=40;o[727]=o[842];break}fe=o[724]|0;if(se>>>0<fe>>>0){o[724]=se;ge=se}else ge=fe;fe=se+ae|0;ue=3328;while(1){if((o[ue>>2]|0)==(fe|0)){ye=ue;ve=ue;B=212;break}ue=o[ue+8>>2]|0;if(!ue){xe=3328;break}}if((B|0)==212)if(!(o[ve+12>>2]&8)){o[ye>>2]=se;ue=ve+4|0;o[ue>>2]=(o[ue>>2]|0)+ae;ue=se+8|0;fe=(ue&7|0)==0?0:0-ue&7;ue=se+(ae+8)|0;oe=(ue&7|0)==0?0:0-ue&7;ue=se+(oe+ae)|0;X=fe+I|0;ce=se+X|0;le=ue-(se+fe)-I|0;o[se+(fe+4)>>2]=I|3;t:do{if((ue|0)!=(de|0)){if((ue|0)==(o[725]|0)){H=(o[722]|0)+le|0;o[722]=H;o[725]=ce;o[se+(X+4)>>2]=H|1;o[se+(H+X)>>2]=H;break}H=ae+4|0;re=o[se+(H+oe)>>2]|0;if((re&3|0)==1){he=re&-8;ne=re>>>3;r:do{if(re>>>0>=256){ie=o[se+((oe|24)+ae)>>2]|0;ee=o[se+(ae+12+oe)>>2]|0;do{if((ee|0)==(ue|0)){te=oe|16;q=se+(H+te)|0;$=o[q>>2]|0;if(!$){Z=se+(te+ae)|0;te=o[Z>>2]|0;if(!te){we=0;break}else{Se=te;Ee=Z}}else{Se=$;Ee=q}while(1){q=Se+20|0;$=o[q>>2]|0;if($){Se=$;Ee=q;continue}q=Se+16|0;$=o[q>>2]|0;if(!$){Te=Se;Pe=Ee;break}else{Se=$;Ee=q}}if(Pe>>>0<ge>>>0)Ae();else{o[Pe>>2]=0;we=Te;break}}else{q=o[se+((oe|8)+ae)>>2]|0;if(q>>>0<ge>>>0)Ae();$=q+12|0;if((o[$>>2]|0)!=(ue|0))Ae();Z=ee+8|0;if((o[Z>>2]|0)==(ue|0)){o[$>>2]=ee;o[Z>>2]=q;we=ee;break}else Ae()}}while(0);if(!ie)break;ee=o[se+(ae+28+oe)>>2]|0;q=3184+(ee<<2)|0;do{if((ue|0)!=(o[q>>2]|0)){if(ie>>>0<(o[724]|0)>>>0)Ae();Z=ie+16|0;if((o[Z>>2]|0)==(ue|0))o[Z>>2]=we;else o[ie+20>>2]=we;if(!we)break r}else{o[q>>2]=we;if(we)break;o[721]=o[721]&~(1<<ee);break r}}while(0);ee=o[724]|0;if(we>>>0<ee>>>0)Ae();o[we+24>>2]=ie;q=oe|16;Z=o[se+(q+ae)>>2]|0;do{if(Z)if(Z>>>0<ee>>>0)Ae();else{o[we+16>>2]=Z;o[Z+24>>2]=we;break}}while(0);Z=o[se+(H+q)>>2]|0;if(!Z)break;if(Z>>>0<(o[724]|0)>>>0)Ae();else{o[we+20>>2]=Z;o[Z+24>>2]=we;break}}else{Z=o[se+((oe|8)+ae)>>2]|0;ee=o[se+(ae+12+oe)>>2]|0;ie=2920+(ne<<1<<2)|0;do{if((Z|0)!=(ie|0)){if(Z>>>0<ge>>>0)Ae();if((o[Z+12>>2]|0)==(ue|0))break;Ae()}}while(0);if((ee|0)==(Z|0)){o[720]=o[720]&~(1<<ne);break}do{if((ee|0)==(ie|0))Ce=ee+8|0;else{if(ee>>>0<ge>>>0)Ae();q=ee+8|0;if((o[q>>2]|0)==(ue|0)){Ce=q;break}Ae()}}while(0);o[Z+12>>2]=ee;o[Ce>>2]=Z}}while(0);Me=se+((he|oe)+ae)|0;Fe=he+le|0}else{Me=ue;Fe=le}ne=Me+4|0;o[ne>>2]=o[ne>>2]&-2;o[se+(X+4)>>2]=Fe|1;o[se+(Fe+X)>>2]=Fe;ne=Fe>>>3;if(Fe>>>0<256){H=ne<<1;re=2920+(H<<2)|0;ie=o[720]|0;q=1<<ne;do{if(!(ie&q)){o[720]=ie|q;Oe=2920+(H+2<<2)|0;De=re}else{ne=2920+(H+2<<2)|0;$=o[ne>>2]|0;if($>>>0>=(o[724]|0)>>>0){Oe=ne;De=$;break}Ae()}}while(0);o[Oe>>2]=ce;o[De+12>>2]=ce;o[se+(X+8)>>2]=De;o[se+(X+12)>>2]=re;break}H=Fe>>>8;do{if(!H)ke=0;else{if(Fe>>>0>16777215){ke=31;break}q=(H+1048320|0)>>>16&8;ie=H<<q;he=(ie+520192|0)>>>16&4;$=ie<<he;ie=($+245760|0)>>>16&2;ne=14-(he|q|ie)+($<<ie>>>15)|0;ke=Fe>>>(ne+7|0)&1|ne<<1}}while(0);H=3184+(ke<<2)|0;o[se+(X+28)>>2]=ke;o[se+(X+20)>>2]=0;o[se+(X+16)>>2]=0;re=o[721]|0;ne=1<<ke;if(!(re&ne)){o[721]=re|ne;o[H>>2]=ce;o[se+(X+24)>>2]=H;o[se+(X+12)>>2]=ce;o[se+(X+8)>>2]=ce;break}ne=o[H>>2]|0;r:do{if((o[ne+4>>2]&-8|0)!=(Fe|0)){H=Fe<<((ke|0)==31?0:25-(ke>>>1)|0);re=ne;while(1){ie=re+16+(H>>>31<<2)|0;$=o[ie>>2]|0;if(!$){Re=ie;Ne=re;break}if((o[$+4>>2]&-8|0)==(Fe|0)){Le=$;break r}else{H=H<<1;re=$}}if(Re>>>0<(o[724]|0)>>>0)Ae();else{o[Re>>2]=ce;o[se+(X+24)>>2]=Ne;o[se+(X+12)>>2]=ce;o[se+(X+8)>>2]=ce;break t}}else Le=ne}while(0);ne=Le+8|0;re=o[ne>>2]|0;H=o[724]|0;if(re>>>0>=H>>>0&Le>>>0>=H>>>0){o[re+12>>2]=ce;o[ne>>2]=ce;o[se+(X+8)>>2]=re;o[se+(X+12)>>2]=Le;o[se+(X+24)>>2]=0;break}else Ae()}else{re=(o[723]|0)+le|0;o[723]=re;o[726]=ce;o[se+(X+4)>>2]=re|1}}while(0);d=se+(fe|8)|0;return d|0}else xe=3328;while(1){X=o[xe>>2]|0;if(X>>>0<=de>>>0?(ce=o[xe+4>>2]|0,le=X+ce|0,le>>>0>de>>>0):0){Ge=X;Ue=ce;ze=le;break}xe=o[xe+8>>2]|0}fe=Ge+(Ue+-39)|0;le=Ge+(Ue+-47+((fe&7|0)==0?0:0-fe&7))|0;fe=de+16|0;ce=le>>>0<fe>>>0?de:le;le=ce+8|0;X=se+8|0;ue=(X&7|0)==0?0:0-X&7;X=ae+-40-ue|0;o[726]=se+ue;o[723]=X;o[se+(ue+4)>>2]=X|1;o[se+(ae+-36)>>2]=40;o[727]=o[842];X=ce+4|0;o[X>>2]=27;o[le>>2]=o[832];o[le+4>>2]=o[833];o[le+8>>2]=o[834];o[le+12>>2]=o[835];o[832]=se;o[833]=ae;o[835]=0;o[834]=le;le=ce+28|0;o[le>>2]=7;if((ce+32|0)>>>0<ze>>>0){ue=le;do{le=ue;ue=ue+4|0;o[ue>>2]=7}while((le+8|0)>>>0<ze>>>0)}if((ce|0)!=(de|0)){ue=ce-de|0;o[X>>2]=o[X>>2]&-2;o[de+4>>2]=ue|1;o[ce>>2]=ue;le=ue>>>3;if(ue>>>0<256){oe=le<<1;re=2920+(oe<<2)|0;ne=o[720]|0;H=1<<le;if(ne&H){le=2920+(oe+2<<2)|0;Z=o[le>>2]|0;if(Z>>>0<(o[724]|0)>>>0)Ae();else{je=le;Je=Z}}else{o[720]=ne|H;je=2920+(oe+2<<2)|0;Je=re}o[je>>2]=de;o[Je+12>>2]=de;o[de+8>>2]=Je;o[de+12>>2]=re;break}re=ue>>>8;if(re)if(ue>>>0>16777215)Xe=31;else{oe=(re+1048320|0)>>>16&8;H=re<<oe;re=(H+520192|0)>>>16&4;ne=H<<re;H=(ne+245760|0)>>>16&2;Z=14-(re|oe|H)+(ne<<H>>>15)|0;Xe=ue>>>(Z+7|0)&1|Z<<1}else Xe=0;Z=3184+(Xe<<2)|0;o[de+28>>2]=Xe;o[de+20>>2]=0;o[fe>>2]=0;H=o[721]|0;ne=1<<Xe;if(!(H&ne)){o[721]=H|ne;o[Z>>2]=de;o[de+24>>2]=Z;o[de+12>>2]=de;o[de+8>>2]=de;break}ne=o[Z>>2]|0;t:do{if((o[ne+4>>2]&-8|0)!=(ue|0)){Z=ue<<((Xe|0)==31?0:25-(Xe>>>1)|0);H=ne;while(1){oe=H+16+(Z>>>31<<2)|0;re=o[oe>>2]|0;if(!re){He=oe;We=H;break}if((o[re+4>>2]&-8|0)==(ue|0)){Ve=re;break t}else{Z=Z<<1;H=re}}if(He>>>0<(o[724]|0)>>>0)Ae();else{o[He>>2]=de;o[de+24>>2]=We;o[de+12>>2]=de;o[de+8>>2]=de;break e}}else Ve=ne}while(0);ne=Ve+8|0;ue=o[ne>>2]|0;fe=o[724]|0;if(ue>>>0>=fe>>>0&Ve>>>0>=fe>>>0){o[ue+12>>2]=de;o[ne>>2]=de;o[de+8>>2]=ue;o[de+12>>2]=Ve;o[de+24>>2]=0;break}else Ae()}}else{ue=o[724]|0;if((ue|0)==0|se>>>0<ue>>>0)o[724]=se;o[832]=se;o[833]=ae;o[835]=0;o[729]=o[838];o[728]=-1;ue=0;do{ne=ue<<1;fe=2920+(ne<<2)|0;o[2920+(ne+3<<2)>>2]=fe;o[2920+(ne+2<<2)>>2]=fe;ue=ue+1|0}while((ue|0)!=32);ue=se+8|0;fe=(ue&7|0)==0?0:0-ue&7;ue=ae+-40-fe|0;o[726]=se+fe;o[723]=ue;o[se+(fe+4)>>2]=ue|1;o[se+(ae+-36)>>2]=40;o[727]=o[842]}}while(0);ae=o[723]|0;if(ae>>>0>I>>>0){se=ae-I|0;o[723]=se;ae=o[726]|0;o[726]=ae+I;o[ae+(I+4)>>2]=se|1;o[ae+4>>2]=I|3;d=ae+8|0;return d|0}}o[(Rp()|0)>>2]=12;d=0;return d|0}function a_(e){e=e|0;var t=0,r=0,i=0,n=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=0,k=0,R=0,B=0,N=0,L=0;if(!e)return;t=e+-8|0;r=o[724]|0;if(t>>>0<r>>>0)Ae();i=o[e+-4>>2]|0;n=i&3;if((n|0)==1)Ae();s=i&-8;a=e+(s+-8)|0;do{if(!(i&1)){u=o[t>>2]|0;if(!n)return;l=-8-u|0;c=e+l|0;h=u+s|0;if(c>>>0<r>>>0)Ae();if((c|0)==(o[725]|0)){f=e+(s+-4)|0;d=o[f>>2]|0;if((d&3|0)!=3){p=c;_=h;break}o[722]=h;o[f>>2]=d&-2;o[e+(l+4)>>2]=h|1;o[a>>2]=h;return}d=u>>>3;if(u>>>0<256){u=o[e+(l+8)>>2]|0;f=o[e+(l+12)>>2]|0;m=2920+(d<<1<<2)|0;if((u|0)!=(m|0)){if(u>>>0<r>>>0)Ae();if((o[u+12>>2]|0)!=(c|0))Ae()}if((f|0)==(u|0)){o[720]=o[720]&~(1<<d);p=c;_=h;break}if((f|0)!=(m|0)){if(f>>>0<r>>>0)Ae();m=f+8|0;if((o[m>>2]|0)==(c|0))b=m;else Ae()}else b=f+8|0;o[u+12>>2]=f;o[b>>2]=u;p=c;_=h;break}u=o[e+(l+24)>>2]|0;f=o[e+(l+12)>>2]|0;do{if((f|0)==(c|0)){m=e+(l+20)|0;d=o[m>>2]|0;if(!d){g=e+(l+16)|0;y=o[g>>2]|0;if(!y){v=0;break}else{x=y;w=g}}else{x=d;w=m}while(1){m=x+20|0;d=o[m>>2]|0;if(d){x=d;w=m;continue}m=x+16|0;d=o[m>>2]|0;if(!d){S=x;E=w;break}else{x=d;w=m}}if(E>>>0<r>>>0)Ae();else{o[E>>2]=0;v=S;break}}else{m=o[e+(l+8)>>2]|0;if(m>>>0<r>>>0)Ae();d=m+12|0;if((o[d>>2]|0)!=(c|0))Ae();g=f+8|0;if((o[g>>2]|0)==(c|0)){o[d>>2]=f;o[g>>2]=m;v=f;break}else Ae()}}while(0);if(u){f=o[e+(l+28)>>2]|0;m=3184+(f<<2)|0;if((c|0)==(o[m>>2]|0)){o[m>>2]=v;if(!v){o[721]=o[721]&~(1<<f);p=c;_=h;break}}else{if(u>>>0<(o[724]|0)>>>0)Ae();f=u+16|0;if((o[f>>2]|0)==(c|0))o[f>>2]=v;else o[u+20>>2]=v;if(!v){p=c;_=h;break}}f=o[724]|0;if(v>>>0<f>>>0)Ae();o[v+24>>2]=u;m=o[e+(l+16)>>2]|0;do{if(m)if(m>>>0<f>>>0)Ae();else{o[v+16>>2]=m;o[m+24>>2]=v;break}}while(0);m=o[e+(l+20)>>2]|0;if(m)if(m>>>0<(o[724]|0)>>>0)Ae();else{o[v+20>>2]=m;o[m+24>>2]=v;p=c;_=h;break}else{p=c;_=h}}else{p=c;_=h}}else{p=t;_=s}}while(0);if(p>>>0>=a>>>0)Ae();t=e+(s+-4)|0;v=o[t>>2]|0;if(!(v&1))Ae();if(!(v&2)){if((a|0)==(o[726]|0)){r=(o[723]|0)+_|0;o[723]=r;o[726]=p;o[p+4>>2]=r|1;if((p|0)!=(o[725]|0))return;o[725]=0;o[722]=0;return}if((a|0)==(o[725]|0)){r=(o[722]|0)+_|0;o[722]=r;o[725]=p;o[p+4>>2]=r|1;o[p+r>>2]=r;return}r=(v&-8)+_|0;S=v>>>3;do{if(v>>>0>=256){E=o[e+(s+16)>>2]|0;w=o[e+(s|4)>>2]|0;do{if((w|0)==(a|0)){x=e+(s+12)|0;b=o[x>>2]|0;if(!b){n=e+(s+8)|0;i=o[n>>2]|0;if(!i){A=0;break}else{T=i;P=n}}else{T=b;P=x}while(1){x=T+20|0;b=o[x>>2]|0;if(b){T=b;P=x;continue}x=T+16|0;b=o[x>>2]|0;if(!b){C=T;M=P;break}else{T=b;P=x}}if(M>>>0<(o[724]|0)>>>0)Ae();else{o[M>>2]=0;A=C;break}}else{x=o[e+s>>2]|0;if(x>>>0<(o[724]|0)>>>0)Ae();b=x+12|0;if((o[b>>2]|0)!=(a|0))Ae();n=w+8|0;if((o[n>>2]|0)==(a|0)){o[b>>2]=w;o[n>>2]=x;A=w;break}else Ae()}}while(0);if(E){w=o[e+(s+20)>>2]|0;h=3184+(w<<2)|0;if((a|0)==(o[h>>2]|0)){o[h>>2]=A;if(!A){o[721]=o[721]&~(1<<w);break}}else{if(E>>>0<(o[724]|0)>>>0)Ae();w=E+16|0;if((o[w>>2]|0)==(a|0))o[w>>2]=A;else o[E+20>>2]=A;if(!A)break}w=o[724]|0;if(A>>>0<w>>>0)Ae();o[A+24>>2]=E;h=o[e+(s+8)>>2]|0;do{if(h)if(h>>>0<w>>>0)Ae();else{o[A+16>>2]=h;o[h+24>>2]=A;break}}while(0);h=o[e+(s+12)>>2]|0;if(h)if(h>>>0<(o[724]|0)>>>0)Ae();else{o[A+20>>2]=h;o[h+24>>2]=A;break}}}else{h=o[e+s>>2]|0;w=o[e+(s|4)>>2]|0;E=2920+(S<<1<<2)|0;if((h|0)!=(E|0)){if(h>>>0<(o[724]|0)>>>0)Ae();if((o[h+12>>2]|0)!=(a|0))Ae()}if((w|0)==(h|0)){o[720]=o[720]&~(1<<S);break}if((w|0)!=(E|0)){if(w>>>0<(o[724]|0)>>>0)Ae();E=w+8|0;if((o[E>>2]|0)==(a|0))F=E;else Ae()}else F=w+8|0;o[h+12>>2]=w;o[F>>2]=h}}while(0);o[p+4>>2]=r|1;o[p+r>>2]=r;if((p|0)==(o[725]|0)){o[722]=r;return}else I=r}else{o[t>>2]=v&-2;o[p+4>>2]=_|1;o[p+_>>2]=_;I=_}_=I>>>3;if(I>>>0<256){v=_<<1;t=2920+(v<<2)|0;r=o[720]|0;F=1<<_;if(r&F){_=2920+(v+2<<2)|0;a=o[_>>2]|0;if(a>>>0<(o[724]|0)>>>0)Ae();else{O=_;D=a}}else{o[720]=r|F;O=2920+(v+2<<2)|0;D=t}o[O>>2]=p;o[D+12>>2]=p;o[p+8>>2]=D;o[p+12>>2]=t;return}t=I>>>8;if(t)if(I>>>0>16777215)k=31;else{D=(t+1048320|0)>>>16&8;O=t<<D;t=(O+520192|0)>>>16&4;v=O<<t;O=(v+245760|0)>>>16&2;F=14-(t|D|O)+(v<<O>>>15)|0;k=I>>>(F+7|0)&1|F<<1}else k=0;F=3184+(k<<2)|0;o[p+28>>2]=k;o[p+20>>2]=0;o[p+16>>2]=0;O=o[721]|0;v=1<<k;e:do{if(O&v){D=o[F>>2]|0;t:do{if((o[D+4>>2]&-8|0)!=(I|0)){t=I<<((k|0)==31?0:25-(k>>>1)|0);r=D;while(1){a=r+16+(t>>>31<<2)|0;_=o[a>>2]|0;if(!_){R=a;B=r;break}if((o[_+4>>2]&-8|0)==(I|0)){N=_;break t}else{t=t<<1;r=_}}if(R>>>0<(o[724]|0)>>>0)Ae();else{o[R>>2]=p;o[p+24>>2]=B;o[p+12>>2]=p;o[p+8>>2]=p;break e}}else N=D}while(0);D=N+8|0;r=o[D>>2]|0;t=o[724]|0;if(r>>>0>=t>>>0&N>>>0>=t>>>0){o[r+12>>2]=p;o[D>>2]=p;o[p+8>>2]=r;o[p+12>>2]=N;o[p+24>>2]=0;break}else Ae()}else{o[721]=O|v;o[F>>2]=p;o[p+24>>2]=F;o[p+12>>2]=p;o[p+8>>2]=p}}while(0);p=(o[728]|0)+-1|0;o[728]=p;if(!p)L=3336;else return;while(1){p=o[L>>2]|0;if(!p)break;else L=p+8|0}o[728]=-1;return}function u_(){}function l_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=t-i>>>0;n=t-i-(r>>>0>e>>>0|0)>>>0;return(I=n,e-r>>>0|0)|0}function c_(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,s=0,a=0,u=0;n=e+r|0;if((r|0)>=20){t=t&255;s=e&3;a=t|t<<8|t<<16|t<<24;u=n&~3;if(s){s=e+4-s|0;while((e|0)<(s|0)){i[e>>0]=t;e=e+1|0}}while((e|0)<(u|0)){o[e>>2]=a;e=e+4|0}}while((e|0)<(n|0)){i[e>>0]=t;e=e+1|0}return e-r|0}function h_(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){I=t<<r|(e&(1<<r)-1<<32-r)>>>32-r;return e<<r}I=e<<r-32;return 0}function f_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0;n=e+r>>>0;return(I=t+i+(n>>>0<e>>>0|0)>>>0,n|0)|0}function d_(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){I=t>>>r;return e>>>r|(t&(1<<r)-1)<<32-r}I=0;return t>>>r-32|0}function p_(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if((r|0)>=4096)return Ge(e|0,t|0,r|0)|0;n=e|0;if((e&3)==(t&3)){while(e&3){if(!r)return n|0;i[e>>0]=i[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}while((r|0)>=4){o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0;r=r-4|0}}while((r|0)>0){i[e>>0]=i[t>>0]|0;e=e+1|0;t=t+1|0;r=r-1|0}return n|0}function __(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if((t|0)<(e|0)&(e|0)<(t+r|0)){n=e;t=t+r|0;e=e+r|0;while((r|0)>0){e=e-1|0;t=t-1|0;r=r-1|0;i[e>>0]=i[t>>0]|0}e=n}else p_(e,t,r)|0;return e|0}function m_(e,t,r){e=e|0;t=t|0;r=r|0;if((r|0)<32){I=t>>r;return e>>>r|(t&(1<<r)-1)<<32-r}I=(t|0)<0?-1:0;return t>>r-32|0}function b_(e){e=e|0;var t=0;t=i[_+(e&255)>>0]|0;if((t|0)<8)return t|0;t=i[_+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=i[_+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(i[_+(e>>>24)>>0]|0)+24|0}function g_(e,t){e=e|0;t=t|0;var r=0,i=0,n=0,o=0;r=e&65535;i=t&65535;n=te(i,r)|0;o=e>>>16;e=(n>>>16)+(te(i,o)|0)|0;i=t>>>16;t=te(i,r)|0;return(I=(e>>>16)+(te(i,o)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|n&65535|0)|0}function y_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0,s=0,a=0,u=0;n=t>>31|((t|0)<0?-1:0)<<1;o=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;s=i>>31|((i|0)<0?-1:0)<<1;a=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;u=l_(n^e,o^t,n,o)|0;t=I;e=s^n;n=a^o;return l_((E_(u,t,l_(s^r,a^i,s,a)|0,I,0)|0)^e,I^n,e,n)|0}function v_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0,a=0,u=0,l=0,c=0,f=0;n=h;h=h+16|0;s=n|0;a=t>>31|((t|0)<0?-1:0)<<1;u=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;l=i>>31|((i|0)<0?-1:0)<<1;c=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;f=l_(a^e,u^t,a,u)|0;t=I;E_(f,t,l_(l^r,c^i,l,c)|0,I,s)|0;c=l_(o[s>>2]^a,o[s+4>>2]^u,a,u)|0;u=I;h=n;return(I=u,c)|0}function x_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,o=0;n=e;e=r;r=g_(n,e)|0;o=I;return(I=(te(t,e)|0)+(te(i,n)|0)+o|o&0,r|0|0)|0}function w_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return E_(e,t,r,i,0)|0}function S_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;var n=0,s=0;n=h;h=h+16|0;s=n|0;E_(e,t,r,i,s)|0;h=n;return(I=o[s+4>>2]|0,o[s>>2]|0)|0}function E_(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;var s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,_=0,m=0,b=0,g=0,y=0,v=0,x=0,w=0,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,O=0,D=0;s=e;a=t;u=a;l=r;c=i;h=c;if(!u){f=(n|0)!=0;if(!h){if(f){o[n>>2]=(s>>>0)%(l>>>0);o[n+4>>2]=0}d=0;p=(s>>>0)/(l>>>0)>>>0;return(I=d,p)|0}else{if(!f){d=0;p=0;return(I=d,p)|0}o[n>>2]=e|0;o[n+4>>2]=t&0;d=0;p=0;return(I=d,p)|0}}f=(h|0)==0;do{if(l){if(!f){_=(ie(h|0)|0)-(ie(u|0)|0)|0;if(_>>>0<=31){m=_+1|0;b=31-_|0;g=_-31>>31;y=m;v=s>>>(m>>>0)&g|u<<b;x=u>>>(m>>>0)&g;w=0;S=s<<b;break}if(!n){d=0;p=0;return(I=d,p)|0}o[n>>2]=e|0;o[n+4>>2]=a|t&0;d=0;p=0;return(I=d,p)|0}b=l-1|0;if(b&l){g=(ie(l|0)|0)+33-(ie(u|0)|0)|0;m=64-g|0;_=32-g|0;E=_>>31;A=g-32|0;T=A>>31;y=g;v=_-1>>31&u>>>(A>>>0)|(u<<_|s>>>(g>>>0))&T;x=T&u>>>(g>>>0);w=s<<m&E;S=(u<<m|s>>>(A>>>0))&E|s<<_&g-33>>31;break}if(n){o[n>>2]=b&s;o[n+4>>2]=0}if((l|0)==1){d=a|t&0;p=e|0|0;return(I=d,p)|0}else{b=b_(l|0)|0;d=u>>>(b>>>0)|0;p=u<<32-b|s>>>(b>>>0)|0;return(I=d,p)|0}}else{if(f){if(n){o[n>>2]=(u>>>0)%(l>>>0);o[n+4>>2]=0}d=0;p=(u>>>0)/(l>>>0)>>>0;return(I=d,p)|0}if(!s){if(n){o[n>>2]=0;o[n+4>>2]=(u>>>0)%(h>>>0)}d=0;p=(u>>>0)/(h>>>0)>>>0;return(I=d,p)|0}b=h-1|0;if(!(b&h)){if(n){o[n>>2]=e|0;o[n+4>>2]=b&u|t&0}d=0;p=u>>>((b_(h|0)|0)>>>0);return(I=d,p)|0}b=(ie(h|0)|0)-(ie(u|0)|0)|0;if(b>>>0<=30){g=b+1|0;_=31-b|0;y=g;v=u<<_|s>>>(g>>>0);x=u>>>(g>>>0);w=0;S=s<<_;break}if(!n){d=0;p=0;return(I=d,p)|0}o[n>>2]=e|0;o[n+4>>2]=a|t&0;d=0;p=0;return(I=d,p)|0}}while(0);if(!y){P=S;C=w;M=x;F=v;O=0;D=0}else{t=r|0|0;r=c|i&0;i=f_(t|0,r|0,-1,-1)|0;c=I;a=S;S=w;w=x;x=v;v=y;y=0;do{e=a;a=S>>>31|a<<1;S=y|S<<1;s=x<<1|e>>>31|0;e=x>>>31|w<<1|0;l_(i,c,s,e)|0;u=I;h=u>>31|((u|0)<0?-1:0)<<1;y=h&1;x=l_(s,e,h&t,(((u|0)<0?-1:0)>>31|((u|0)<0?-1:0)<<1)&r)|0;w=I;v=v-1|0}while((v|0)!=0);P=a;C=S;M=w;F=x;O=0;D=y}y=C;C=0;if(n){o[n>>2]=F;o[n+4>>2]=M}d=(y|0)>>>31|(P|C)<<1|(C<<1|y>>>31)&0|O;p=(y<<1|0>>>31)&-2|D;return(I=d,p)|0}function A_(e,t,r,i,n,o,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;s=+s;return+nm[e&1](t|0,r|0,i|0,n|0,o|0,+s)}function T_(e,t){e=e|0;t=t|0;return om[e&7](t|0)|0}function P_(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;sm[e&3](t|0,r|0,i|0,n|0,o|0)}function C_(e,t,r){e=e|0;t=t|0;r=+r;return+am[e&15](t|0,+r)}function M_(e,t){e=e|0;t=t|0;um[e&127](t|0)}function F_(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=+o;return+lm[e&1](t|0,r|0,i|0,n|0,+o)}function I_(e,t,r){e=e|0;t=t|0;r=r|0;cm[e&63](t|0,r|0)}function O_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;return hm[e&15](t|0,r|0,i|0)|0}function D_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;fm[e&7](t|0,r|0,i|0)}function k_(e){e=e|0;dm[e&3]()}function R_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=+i;pm[e&31](t|0,r|0,+i)}function B_(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;return _m[e&7](t|0,r|0,i|0,n|0)|0}function N_(e,t,r,i,n,o,s){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;s=s|0;mm[e&7](t|0,r|0,i|0,n|0,o|0,s|0)}function L_(e,t,r){e=e|0;t=t|0;r=r|0;return bm[e&31](t|0,r|0)|0}function G_(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;return gm[e&15](t|0,r|0,i|0,n|0,o|0)|0}function U_(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;ym[e&31](t|0,r|0,i|0,n|0)}function z_(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=+o;ne(0);return 0}function j_(e){e=e|0;ne(1);return 0}function J_(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;ne(2)}function X_(e,t){e=e|0;t=+t;ne(3);return 0}function H_(e){e=e|0;ne(4)}function W_(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=+n;ne(5);return 0}function V_(e,t){e=e|0;t=t|0;ne(6)}function Y_(e,t,r){e=e|0;t=t|0;r=r|0;ne(7);return 0}function q_(e,t,r){e=e|0;t=t|0;r=r|0;ne(8)}function K_(){ne(9)}function Z_(){it()}function Q_(e,t,r){e=e|0;t=t|0;r=+r;ne(10)}function $_(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;ne(11);return 0}function em(e,t,r,i,n,o){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;o=o|0;ne(12)}function tm(e,t){e=e|0;t=t|0;ne(13);return 0}function rm(e,t,r,i,n){e=e|0;t=t|0;r=r|0;i=i|0;n=n|0;ne(14);return 0}function im(e,t,r,i){e=e|0;t=t|0;r=r|0;i=i|0;ne(15)}var nm=[z_,Bl];var om=[j_,ql,nc,dc,Ec,vd,up,Yp];var sm=[J_,Tp,Ap,J_];var am=[X_,Eh,Nh,wr,Dr,Wr,ri,pi,ki,Qi,vn,Ln,X_,X_,X_,X_];var um=[H_,ha,xl,fa,Fl,Ll,kl,tc,rc,hc,yc,vc,xc,lh,ch,Th,Ph,Ch,Jh,Hh,Sr,Er,Br,Nr,Vr,Yr,ni,oi,Ai,Ti,Bi,Ni,ji,Ji,cn,hn,Cn,Mn,Jn,Hn,qn,Kn,to,oo,lo,So,Po,Io,Ro,gf,Td,gd,Qt,bd,lr,cr,ir,$t,Wt,Gt,sp,ap,pp,bp,_p,mp,gp,Dp,r_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_,H_];var lm=[W_,Rl];var cm=[V_,wl,Sl,xh,wh,Ah,gh,yh,kh,Rh,Xh,Ih,Oh,yr,vr,mr,br,Fr,Ir,Pr,Cr,Jr,Xr,Ur,zr,$r,ei,Kr,Zr,hi,fi,ui,li,Ii,Oi,Ci,Mi,qi,Ki,Wi,Vi,bn,gn,pn,_n,Rn,Bn,Xn,On,Dn,yf,vf,Hd,ao,io,Do,xo,Mo,Ao,Vn,V_,V_,V_,V_];var hm=[Y_,Ol,Kl,sc,pc,Pc,uh,Cd,xd,tr,or,yp,Kp,qp,Zp,Y_];var fm=[q_,El,Tl,Cl,Ml,xf,wf,q_];var dm=[K_,Z_,Ip,Op];var pm=[Q_,ec,cc,gc,Fc,Sh,Bh,xr,Or,Hr,ti,di,Di,Zi,yn,Nn,Ad,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_,Q_];var _m=[$_,hh,fh,rr,sr,$_,$_,$_];var mm=[em,Zl,ac,_c,Tc,wd,Cp,Pp];var bm=[tm,Il,Dl,Nl,Yl,ic,fc,Sc,vh,Dh,gr,Mr,jr,Qr,ci,Fi,Yi,mn,kn,Pd,yd,nr,er,Ut,zt,Xd,Ef,id,nd,Mt,It,dd];var gm=[rm,Ql,uc,mc,Cc,Sd,so,ro,Oo,vo,Co,Eo,Wn,rm,rm,rm];var ym=[im,Al,Pl,$l,lc,bc,Mc,Yn,no,uo,wo,To,Fo,ko,Ed,hr,Vt,jt,xp,wp,im,im,im,im,im,im,im,im,im,im,im,im];return{_b2PrismaticJoint_IsMotorEnabled:hu,_b2Body_GetWorldVector:zs,_b2MouseJoint_SetFrequency:ru,_b2Body_GetLocalVector:ks,_b2PrismaticJoint_GetMotorSpeed:uu,_b2ParticleGroup_ApplyLinearImpulse:ol,_b2RopeJointDef_Create:Uu,_b2PrismaticJoint_SetMaxMotorForce:mu,_b2World_CreateParticleSystem:_a,_b2ParticleSystem_SetRadius:vl,_bitshift64Lshr:d_,_b2FrictionJointDef_Create:Oa,_b2RopeJoint_SetMaxLength:Lu,_b2World_RayCast:xa,_b2MotorJointDef_InitializeAndCreate:$a,_b2DistanceJoint_SetFrequency:Fa,_b2MotorJoint_SetCorrectionFactor:Za,_b2Joint_GetType:Ua,_b2WheelJoint_EnableMotor:Zu,_b2Body_GetLocalPoint:Ds,_memcpy:p_,_b2RevoluteJoint_EnableLimit:Au,_b2Body_DestroyFixture:Cs,_b2World_Create:da,_b2PolygonShape_CreateFixture_3:_s,_b2PolygonShape_CreateFixture_6:gs,_b2PolygonShape_CreateFixture_7:ys,_b2PolygonShape_CreateFixture_4:ms,_b2PolygonShape_CreateFixture_5:bs,_b2DistanceJoint_SetLength:Ma,_b2Body_IsActive:aa,_b2Body_SetAwake:js,_b2Body_GetWorldCenter:Gs,_b2RevoluteJoint_SetMaxMotorTorque:Du,_b2WheelJoint_GetMotorTorque:el,_b2ParticleGroup_DestroyParticles:sl,_b2PrismaticJoint_EnableLimit:ou,_b2WheelJoint_GetJointSpeed:qu,_b2MouseJointDef_Create:nu,_b2RevoluteJoint_GetJointAngle:Pu,_b2Body_ApplyLinearImpulse:Es,___cxa_can_catch:Mp,_free:a_,_b2ParticleSystem_CreateParticle:ll,_b2Body_SetLinearVelocity:Hs,_b2PrismaticJoint_GetJointSpeed:pu,_b2Body_IsBullet:ia,_b2Body_SetSleepingAllowed:na,_b2CircleShape_CreateParticleGroup:fs,_b2WeldJointDef_Create:Ju,_b2RevoluteJoint_IsMotorEnabled:Mu,_b2Body_GetAngularVelocity:Fs,_b2Body_ApplyForceToCenter:Ts,_b2Body_SetMassData:Ws,_b2MouseJoint_SetMaxForce:tu,_b2PrismaticJoint_SetLimits:_u,_b2Joint_GetCollideConnected:Wa,_b2DistanceJointDef_InitializeAndCreate:Ca,_b2MotorJoint_SetMaxTorque:Ka,_b2Body_ApplyForce:As,_b2MotorJoint_SetMaxForce:qa,_b2RevoluteJoint_SetMotorSpeed:Nu,_b2WheelJoint_SetSpringDampingRatio:tl,___cxa_is_pointer_type:Fp,_b2Body_GetPosition:Bs,_b2PrismaticJoint_GetLocalAxisA:du,_b2World_CreateBody:pa,_b2Body_GetLinearVelocity:Os,_b2ParticleSystem_SetGravityScale:bl,_b2ParticleSystem_SetMaxParticleCount:gl,_b2GearJoint_SetRatio:Ba,_b2Body_GetAngularDamping:ea,_b2ParticleSystem_GetColorBuffer:cl,_b2PulleyJointDef_Create:Su,_b2DistanceJointDef_Create:Pa,_b2Joint_GetReactionTorque:Xa,_b2ParticleSystem_GetPositionBuffer:dl,_b2CircleShape_DestroyParticlesInShape:ds,_b2World_QueryAABB:va,_b2WeldJoint_SetDampingRatio:ju,_b2PulleyJoint_GetGroundAnchorB:vu,_b2PulleyJoint_GetGroundAnchorA:yu,_b2Joint_GetAnchorB:ja,_b2PolygonShape_DestroyParticlesInShape_4:ws,_b2Joint_GetAnchorA:za,_b2RevoluteJoint_SetLimits:Iu,_b2GearJointDef_Create:Na,_b2PrismaticJoint_IsLimitEnabled:cu,_b2DistanceJoint_SetDampingRatio:Ia,_b2Contact_GetWorldManifold:Ta,_b2Body_IsAwake:ta,_b2FrictionJoint_SetMaxTorque:Ra,_b2Body_SetFixedRotation:Js,_b2RevoluteJoint_GetJointSpeed:Fu,_b2Body_SetBullet:ra,_b2PulleyJoint_GetCurrentLengthA:xu,_b2PulleyJoint_GetCurrentLengthB:wu,_b2PrismaticJointDef_InitializeAndCreate:gu,_b2Joint_GetReactionForce:Ja,_b2MotorJointDef_Create:Qa,_b2World_DestroyBody:ba,_b2RevoluteJointDef_Create:Ru,_b2WheelJoint_GetMotorSpeed:Qu,_b2Joint_IsActive:Ha,_b2ParticleGroup_GetParticleCount:ul,_b2World_SetGravity:Sa,_b2WheelJoint_GetJointTranslation:Yu,_b2PrismaticJoint_EnableMotor:su,_b2PolygonShape_CreateParticleGroup_4:xs,_b2PolygonShape_CreateFixture_8:vs,_b2WheelJoint_SetMaxMotorTorque:$u,_b2RopeJoint_GetLimitState:Gu,_b2Body_SetAngularVelocity:Xs,_b2RevoluteJointDef_InitializeAndCreate:Bu,_b2Body_IsSleepingAllowed:oa,_b2Body_GetWorldPoint:Us,_b2WheelJoint_IsMotorEnabled:Ku,_b2WheelJoint_SetMotorSpeed:Hu,_b2FrictionJointDef_InitializeAndCreate:Da,_b2Body_GetLinearDamping:Qs,_b2Body_SetLinearDamping:Zs,_b2World_SetContactListener:wa,_b2ParticleSystem_SetDamping:_l,_b2WheelJointDef_Create:rl,_b2Body_SetType:Ys,_b2Body_SetTransform:Vs,_b2Body_SetAngularDamping:$s,_b2MotorJoint_SetLinearOffset:Ya,_b2WeldJoint_SetFrequency:zu,_b2WheelJoint_GetLocalAxisA:Vu,_b2Fixture_TestPoint:la,_b2ParticleGroup_ApplyForce:nl,_malloc:s_,_b2Contact_GetManifold:Aa,_b2Fixture_Refilter:ca,_b2ParticleSystem_GetVelocityBuffer:pl,_b2ParticleSystem_GetParticleLifetime:fl,_b2RevoluteJoint_IsLimitEnabled:Cu,_b2World_DestroyParticleSystem:ya,_b2RevoluteJoint_EnableMotor:Tu,_b2Body_GetTransform:Ns,_i64Subtract:l_,_b2WeldJointDef_InitializeAndCreate:Xu,_b2EdgeShape_CreateFixture:ps,_b2RevoluteJoint_GetMotorSpeed:Ou,_b2Body_GetType:Ls,_b2Manifold_GetPointCount:us,_bitshift64Shl:h_,_b2ParticleSystem_SetDensity:ml,_fflush:zp,_b2PrismaticJoint_GetMotorForce:lu,_b2Joint_GetBodyA:La,_b2PulleyJointDef_InitializeAndCreate:Eu,_b2Joint_GetBodyB:Ga,_b2ParticleSystem_GetParticleCount:hl,_b2MouseJoint_SetTarget:eu,_b2Body_ApplyAngularImpulse:Ss,_b2ChainShape_CreateFixture:ls,_b2Body_SetActive:sa,_b2World_DestroyJoint:ga,_b2MotorJoint_SetAngularOffset:Va,_b2World_Delete:ma,_memset:c_,_b2PrismaticJoint_GetJointTranslation:au,_i64Add:f_,_b2Body_GetMass:Rs,_b2Body_GetAngle:Ms,_b2ParticleGroup_GetBufferIndex:al,_b2WheelJointDef_InitializeAndCreate:il,_b2World_Step:Ea,_b2PrismaticJointDef_Create:bu,_b2Body_GetGravityScale:Ks,_b2Body_SetGravityScale:qs,___errno_location:Rp,_memmove:__,_b2MouseJoint_SetDampingRatio:iu,_b2CircleShape_CreateFixture:hs,_b2Body_GetInertia:Is,_b2WheelJoint_SetSpringFrequencyHz:Wu,_b2ParticleSystem_SetParticleLifetime:yl,_b2RevoluteJoint_GetMotorTorque:ku,_b2PrismaticJoint_SetMotorSpeed:fu,_b2Body_ApplyTorque:Ps,_boBody_IsFixedRotation:ua,_b2FrictionJoint_SetMaxForce:ka,__GLOBAL__sub_I_jsBindings_cpp:Gl,runPostSets:u_,stackAlloc:$o,stackSave:es,stackRestore:ts,establishStackSpace:rs,setThrew:is,setTempRet0:ss,getTempRet0:as,dynCall_diiiiid:A_,dynCall_ii:T_,dynCall_viiiii:P_,dynCall_did:C_,dynCall_vi:M_,dynCall_diiiid:F_,dynCall_vii:I_,dynCall_iiii:O_,dynCall_viii:D_,dynCall_v:k_,dynCall_viid:R_,dynCall_iiiii:B_,dynCall_viiiiii:N_,dynCall_iii:L_,dynCall_iiiiii:G_,dynCall_viiii:U_}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_b2PrismaticJoint_IsMotorEnabled=Module._b2PrismaticJoint_IsMotorEnabled=asm._b2PrismaticJoint_IsMotorEnabled,_b2Body_GetWorldVector=Module._b2Body_GetWorldVector=asm._b2Body_GetWorldVector,_b2MouseJoint_SetFrequency=Module._b2MouseJoint_SetFrequency=asm._b2MouseJoint_SetFrequency,_b2Body_GetLocalVector=Module._b2Body_GetLocalVector=asm._b2Body_GetLocalVector,_b2PrismaticJoint_GetMotorSpeed=Module._b2PrismaticJoint_GetMotorSpeed=asm._b2PrismaticJoint_GetMotorSpeed,_b2Body_SetFixedRotation=Module._b2Body_SetFixedRotation=asm._b2Body_SetFixedRotation,_b2RopeJointDef_Create=Module._b2RopeJointDef_Create=asm._b2RopeJointDef_Create,_b2PrismaticJoint_SetMaxMotorForce=Module._b2PrismaticJoint_SetMaxMotorForce=asm._b2PrismaticJoint_SetMaxMotorForce,_b2World_CreateParticleSystem=Module._b2World_CreateParticleSystem=asm._b2World_CreateParticleSystem,_b2ParticleSystem_SetRadius=Module._b2ParticleSystem_SetRadius=asm._b2ParticleSystem_SetRadius,__GLOBAL__sub_I_jsBindings_cpp=Module.__GLOBAL__sub_I_jsBindings_cpp=asm.__GLOBAL__sub_I_jsBindings_cpp,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_b2FrictionJointDef_Create=Module._b2FrictionJointDef_Create=asm._b2FrictionJointDef_Create,_b2RopeJoint_SetMaxLength=Module._b2RopeJoint_SetMaxLength=asm._b2RopeJoint_SetMaxLength,_b2World_RayCast=Module._b2World_RayCast=asm._b2World_RayCast,_b2MotorJointDef_InitializeAndCreate=Module._b2MotorJointDef_InitializeAndCreate=asm._b2MotorJointDef_InitializeAndCreate,_b2DistanceJoint_SetFrequency=Module._b2DistanceJoint_SetFrequency=asm._b2DistanceJoint_SetFrequency,_b2MotorJoint_SetCorrectionFactor=Module._b2MotorJoint_SetCorrectionFactor=asm._b2MotorJoint_SetCorrectionFactor,_b2Joint_GetType=Module._b2Joint_GetType=asm._b2Joint_GetType,_b2Body_GetLocalPoint=Module._b2Body_GetLocalPoint=asm._b2Body_GetLocalPoint,_memcpy=Module._memcpy=asm._memcpy,_b2RevoluteJoint_EnableLimit=Module._b2RevoluteJoint_EnableLimit=asm._b2RevoluteJoint_EnableLimit,_b2Body_DestroyFixture=Module._b2Body_DestroyFixture=asm._b2Body_DestroyFixture,_b2World_Create=Module._b2World_Create=asm._b2World_Create,_b2PolygonShape_CreateFixture_3=Module._b2PolygonShape_CreateFixture_3=asm._b2PolygonShape_CreateFixture_3,_b2PolygonShape_CreateFixture_6=Module._b2PolygonShape_CreateFixture_6=asm._b2PolygonShape_CreateFixture_6,_b2PolygonShape_CreateFixture_7=Module._b2PolygonShape_CreateFixture_7=asm._b2PolygonShape_CreateFixture_7,_b2PolygonShape_CreateFixture_4=Module._b2PolygonShape_CreateFixture_4=asm._b2PolygonShape_CreateFixture_4,_b2PolygonShape_CreateFixture_5=Module._b2PolygonShape_CreateFixture_5=asm._b2PolygonShape_CreateFixture_5,_b2DistanceJoint_SetLength=Module._b2DistanceJoint_SetLength=asm._b2DistanceJoint_SetLength,_b2Body_IsActive=Module._b2Body_IsActive=asm._b2Body_IsActive,_b2WheelJoint_SetSpringFrequencyHz=Module._b2WheelJoint_SetSpringFrequencyHz=asm._b2WheelJoint_SetSpringFrequencyHz,_b2Body_SetAwake=Module._b2Body_SetAwake=asm._b2Body_SetAwake,_b2RevoluteJoint_SetMaxMotorTorque=Module._b2RevoluteJoint_SetMaxMotorTorque=asm._b2RevoluteJoint_SetMaxMotorTorque,_b2WheelJoint_GetMotorTorque=Module._b2WheelJoint_GetMotorTorque=asm._b2WheelJoint_GetMotorTorque,_b2ParticleGroup_DestroyParticles=Module._b2ParticleGroup_DestroyParticles=asm._b2ParticleGroup_DestroyParticles,_b2PrismaticJoint_EnableLimit=Module._b2PrismaticJoint_EnableLimit=asm._b2PrismaticJoint_EnableLimit,_b2WheelJoint_GetJointSpeed=Module._b2WheelJoint_GetJointSpeed=asm._b2WheelJoint_GetJointSpeed,_b2Fixture_TestPoint=Module._b2Fixture_TestPoint=asm._b2Fixture_TestPoint,_b2Body_ApplyLinearImpulse=Module._b2Body_ApplyLinearImpulse=asm._b2Body_ApplyLinearImpulse,___cxa_can_catch=Module.___cxa_can_catch=asm.___cxa_can_catch,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,_b2ParticleSystem_CreateParticle=Module._b2ParticleSystem_CreateParticle=asm._b2ParticleSystem_CreateParticle,_b2Body_SetLinearVelocity=Module._b2Body_SetLinearVelocity=asm._b2Body_SetLinearVelocity,_b2PrismaticJoint_GetJointSpeed=Module._b2PrismaticJoint_GetJointSpeed=asm._b2PrismaticJoint_GetJointSpeed,_b2Body_IsBullet=Module._b2Body_IsBullet=asm._b2Body_IsBullet,_b2Body_SetSleepingAllowed=Module._b2Body_SetSleepingAllowed=asm._b2Body_SetSleepingAllowed,_b2PolygonShape_DestroyParticlesInShape_4=Module._b2PolygonShape_DestroyParticlesInShape_4=asm._b2PolygonShape_DestroyParticlesInShape_4,_b2WeldJointDef_Create=Module._b2WeldJointDef_Create=asm._b2WeldJointDef_Create,_b2Body_GetAngularVelocity=Module._b2Body_GetAngularVelocity=asm._b2Body_GetAngularVelocity,_b2Body_ApplyForceToCenter=Module._b2Body_ApplyForceToCenter=asm._b2Body_ApplyForceToCenter,_b2GearJoint_SetRatio=Module._b2GearJoint_SetRatio=asm._b2GearJoint_SetRatio,_b2MouseJoint_SetMaxForce=Module._b2MouseJoint_SetMaxForce=asm._b2MouseJoint_SetMaxForce,_b2PrismaticJoint_SetLimits=Module._b2PrismaticJoint_SetLimits=asm._b2PrismaticJoint_SetLimits,_b2Joint_GetCollideConnected=Module._b2Joint_GetCollideConnected=asm._b2Joint_GetCollideConnected,_b2DistanceJointDef_InitializeAndCreate=Module._b2DistanceJointDef_InitializeAndCreate=asm._b2DistanceJointDef_InitializeAndCreate,_b2MotorJoint_SetMaxTorque=Module._b2MotorJoint_SetMaxTorque=asm._b2MotorJoint_SetMaxTorque,_b2Body_ApplyForce=Module._b2Body_ApplyForce=asm._b2Body_ApplyForce,_b2MotorJoint_SetMaxForce=Module._b2MotorJoint_SetMaxForce=asm._b2MotorJoint_SetMaxForce,_b2RevoluteJoint_SetMotorSpeed=Module._b2RevoluteJoint_SetMotorSpeed=asm._b2RevoluteJoint_SetMotorSpeed,_b2PrismaticJoint_GetJointTranslation=Module._b2PrismaticJoint_GetJointTranslation=asm._b2PrismaticJoint_GetJointTranslation,___cxa_is_pointer_type=Module.___cxa_is_pointer_type=asm.___cxa_is_pointer_type,_b2Body_SetActive=Module._b2Body_SetActive=asm._b2Body_SetActive,_b2Body_GetPosition=Module._b2Body_GetPosition=asm._b2Body_GetPosition,_b2PrismaticJoint_GetLocalAxisA=Module._b2PrismaticJoint_GetLocalAxisA=asm._b2PrismaticJoint_GetLocalAxisA,_b2World_CreateBody=Module._b2World_CreateBody=asm._b2World_CreateBody,_b2Body_GetLinearVelocity=Module._b2Body_GetLinearVelocity=asm._b2Body_GetLinearVelocity,_b2EdgeShape_CreateFixture=Module._b2EdgeShape_CreateFixture=asm._b2EdgeShape_CreateFixture,_b2ParticleSystem_SetGravityScale=Module._b2ParticleSystem_SetGravityScale=asm._b2ParticleSystem_SetGravityScale,_b2ParticleSystem_SetMaxParticleCount=Module._b2ParticleSystem_SetMaxParticleCount=asm._b2ParticleSystem_SetMaxParticleCount,_b2Body_SetMassData=Module._b2Body_SetMassData=asm._b2Body_SetMassData,_b2Body_GetAngularDamping=Module._b2Body_GetAngularDamping=asm._b2Body_GetAngularDamping,_b2ParticleSystem_GetColorBuffer=Module._b2ParticleSystem_GetColorBuffer=asm._b2ParticleSystem_GetColorBuffer,_b2PrismaticJointDef_Create=Module._b2PrismaticJointDef_Create=asm._b2PrismaticJointDef_Create,_b2DistanceJointDef_Create=Module._b2DistanceJointDef_Create=asm._b2DistanceJointDef_Create,_b2Joint_GetReactionTorque=Module._b2Joint_GetReactionTorque=asm._b2Joint_GetReactionTorque,_b2ParticleSystem_GetPositionBuffer=Module._b2ParticleSystem_GetPositionBuffer=asm._b2ParticleSystem_GetPositionBuffer,_b2CircleShape_DestroyParticlesInShape=Module._b2CircleShape_DestroyParticlesInShape=asm._b2CircleShape_DestroyParticlesInShape,_b2World_QueryAABB=Module._b2World_QueryAABB=asm._b2World_QueryAABB,_b2WeldJoint_SetDampingRatio=Module._b2WeldJoint_SetDampingRatio=asm._b2WeldJoint_SetDampingRatio,_b2PulleyJoint_GetGroundAnchorB=Module._b2PulleyJoint_GetGroundAnchorB=asm._b2PulleyJoint_GetGroundAnchorB,_b2PulleyJoint_GetGroundAnchorA=Module._b2PulleyJoint_GetGroundAnchorA=asm._b2PulleyJoint_GetGroundAnchorA,_b2Joint_GetAnchorB=Module._b2Joint_GetAnchorB=asm._b2Joint_GetAnchorB,_b2CircleShape_CreateParticleGroup=Module._b2CircleShape_CreateParticleGroup=asm._b2CircleShape_CreateParticleGroup,_b2Joint_GetAnchorA=Module._b2Joint_GetAnchorA=asm._b2Joint_GetAnchorA,_b2RevoluteJoint_SetLimits=Module._b2RevoluteJoint_SetLimits=asm._b2RevoluteJoint_SetLimits,_b2PrismaticJoint_SetMotorSpeed=Module._b2PrismaticJoint_SetMotorSpeed=asm._b2PrismaticJoint_SetMotorSpeed,_b2GearJointDef_Create=Module._b2GearJointDef_Create=asm._b2GearJointDef_Create,_b2PrismaticJoint_IsLimitEnabled=Module._b2PrismaticJoint_IsLimitEnabled=asm._b2PrismaticJoint_IsLimitEnabled,_b2DistanceJoint_SetDampingRatio=Module._b2DistanceJoint_SetDampingRatio=asm._b2DistanceJoint_SetDampingRatio,_b2Contact_GetWorldManifold=Module._b2Contact_GetWorldManifold=asm._b2Contact_GetWorldManifold,_b2Body_IsAwake=Module._b2Body_IsAwake=asm._b2Body_IsAwake,_b2FrictionJoint_SetMaxTorque=Module._b2FrictionJoint_SetMaxTorque=asm._b2FrictionJoint_SetMaxTorque,_b2ParticleGroup_ApplyLinearImpulse=Module._b2ParticleGroup_ApplyLinearImpulse=asm._b2ParticleGroup_ApplyLinearImpulse,_b2Body_SetBullet=Module._b2Body_SetBullet=asm._b2Body_SetBullet,_b2RevoluteJoint_GetJointSpeed=Module._b2RevoluteJoint_GetJointSpeed=asm._b2RevoluteJoint_GetJointSpeed,_b2PulleyJoint_GetCurrentLengthB=Module._b2PulleyJoint_GetCurrentLengthB=asm._b2PulleyJoint_GetCurrentLengthB,_b2PrismaticJointDef_InitializeAndCreate=Module._b2PrismaticJointDef_InitializeAndCreate=asm._b2PrismaticJointDef_InitializeAndCreate,_b2Joint_GetReactionForce=Module._b2Joint_GetReactionForce=asm._b2Joint_GetReactionForce,_b2MotorJointDef_Create=Module._b2MotorJointDef_Create=asm._b2MotorJointDef_Create,_b2World_DestroyBody=Module._b2World_DestroyBody=asm._b2World_DestroyBody,_b2RevoluteJointDef_Create=Module._b2RevoluteJointDef_Create=asm._b2RevoluteJointDef_Create,_b2WheelJoint_GetMotorSpeed=Module._b2WheelJoint_GetMotorSpeed=asm._b2WheelJoint_GetMotorSpeed,_b2Joint_IsActive=Module._b2Joint_IsActive=asm._b2Joint_IsActive,_b2ParticleGroup_GetParticleCount=Module._b2ParticleGroup_GetParticleCount=asm._b2ParticleGroup_GetParticleCount,_b2World_SetGravity=Module._b2World_SetGravity=asm._b2World_SetGravity,_b2WheelJoint_GetJointTranslation=Module._b2WheelJoint_GetJointTranslation=asm._b2WheelJoint_GetJointTranslation,_b2PrismaticJoint_EnableMotor=Module._b2PrismaticJoint_EnableMotor=asm._b2PrismaticJoint_EnableMotor,_b2PolygonShape_CreateParticleGroup_4=Module._b2PolygonShape_CreateParticleGroup_4=asm._b2PolygonShape_CreateParticleGroup_4,_b2PolygonShape_CreateFixture_8=Module._b2PolygonShape_CreateFixture_8=asm._b2PolygonShape_CreateFixture_8,_b2Body_SetGravityScale=Module._b2Body_SetGravityScale=asm._b2Body_SetGravityScale,_b2RopeJoint_GetLimitState=Module._b2RopeJoint_GetLimitState=asm._b2RopeJoint_GetLimitState,_b2Body_SetAngularVelocity=Module._b2Body_SetAngularVelocity=asm._b2Body_SetAngularVelocity,_b2RevoluteJointDef_InitializeAndCreate=Module._b2RevoluteJointDef_InitializeAndCreate=asm._b2RevoluteJointDef_InitializeAndCreate,_b2Body_IsSleepingAllowed=Module._b2Body_IsSleepingAllowed=asm._b2Body_IsSleepingAllowed,_b2Body_GetWorldPoint=Module._b2Body_GetWorldPoint=asm._b2Body_GetWorldPoint,_b2WheelJoint_IsMotorEnabled=Module._b2WheelJoint_IsMotorEnabled=asm._b2WheelJoint_IsMotorEnabled,_b2WheelJoint_SetMotorSpeed=Module._b2WheelJoint_SetMotorSpeed=asm._b2WheelJoint_SetMotorSpeed,_b2FrictionJointDef_InitializeAndCreate=Module._b2FrictionJointDef_InitializeAndCreate=asm._b2FrictionJointDef_InitializeAndCreate,_b2Body_GetLinearDamping=Module._b2Body_GetLinearDamping=asm._b2Body_GetLinearDamping,_b2Body_SetLinearDamping=Module._b2Body_SetLinearDamping=asm._b2Body_SetLinearDamping,_b2Body_GetWorldCenter=Module._b2Body_GetWorldCenter=asm._b2Body_GetWorldCenter,_b2ParticleSystem_SetDamping=Module._b2ParticleSystem_SetDamping=asm._b2ParticleSystem_SetDamping,_b2Body_SetType=Module._b2Body_SetType=asm._b2Body_SetType,_b2Body_SetTransform=Module._b2Body_SetTransform=asm._b2Body_SetTransform,_b2MotorJoint_SetLinearOffset=Module._b2MotorJoint_SetLinearOffset=asm._b2MotorJoint_SetLinearOffset,_b2WeldJoint_SetFrequency=Module._b2WeldJoint_SetFrequency=asm._b2WeldJoint_SetFrequency,_b2RevoluteJoint_GetJointAngle=Module._b2RevoluteJoint_GetJointAngle=asm._b2RevoluteJoint_GetJointAngle,_b2ParticleGroup_ApplyForce=Module._b2ParticleGroup_ApplyForce=asm._b2ParticleGroup_ApplyForce,_b2CircleShape_CreateFixture=Module._b2CircleShape_CreateFixture=asm._b2CircleShape_CreateFixture,_malloc=Module._malloc=asm._malloc,_b2Contact_GetManifold=Module._b2Contact_GetManifold=asm._b2Contact_GetManifold,_b2Fixture_Refilter=Module._b2Fixture_Refilter=asm._b2Fixture_Refilter,_b2ParticleSystem_GetVelocityBuffer=Module._b2ParticleSystem_GetVelocityBuffer=asm._b2ParticleSystem_GetVelocityBuffer,_b2ParticleSystem_GetParticleLifetime=Module._b2ParticleSystem_GetParticleLifetime=asm._b2ParticleSystem_GetParticleLifetime,_b2PulleyJoint_GetCurrentLengthA=Module._b2PulleyJoint_GetCurrentLengthA=asm._b2PulleyJoint_GetCurrentLengthA,_b2RevoluteJoint_IsLimitEnabled=Module._b2RevoluteJoint_IsLimitEnabled=asm._b2RevoluteJoint_IsLimitEnabled,_b2World_DestroyParticleSystem=Module._b2World_DestroyParticleSystem=asm._b2World_DestroyParticleSystem,_b2RevoluteJoint_EnableMotor=Module._b2RevoluteJoint_EnableMotor=asm._b2RevoluteJoint_EnableMotor,_b2Body_GetTransform=Module._b2Body_GetTransform=asm._b2Body_GetTransform,_i64Subtract=Module._i64Subtract=asm._i64Subtract,_b2Body_GetAngle=Module._b2Body_GetAngle=asm._b2Body_GetAngle,_b2WeldJointDef_InitializeAndCreate=Module._b2WeldJointDef_InitializeAndCreate=asm._b2WeldJointDef_InitializeAndCreate,_b2RevoluteJoint_IsMotorEnabled=Module._b2RevoluteJoint_IsMotorEnabled=asm._b2RevoluteJoint_IsMotorEnabled,_b2RevoluteJoint_GetMotorSpeed=Module._b2RevoluteJoint_GetMotorSpeed=asm._b2RevoluteJoint_GetMotorSpeed,_b2Body_GetType=Module._b2Body_GetType=asm._b2Body_GetType,_b2Manifold_GetPointCount=Module._b2Manifold_GetPointCount=asm._b2Manifold_GetPointCount,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_b2ParticleSystem_SetDensity=Module._b2ParticleSystem_SetDensity=asm._b2ParticleSystem_SetDensity,_fflush=Module._fflush=asm._fflush,_b2PrismaticJoint_GetMotorForce=Module._b2PrismaticJoint_GetMotorForce=asm._b2PrismaticJoint_GetMotorForce,_b2Joint_GetBodyA=Module._b2Joint_GetBodyA=asm._b2Joint_GetBodyA,_b2PulleyJointDef_InitializeAndCreate=Module._b2PulleyJointDef_InitializeAndCreate=asm._b2PulleyJointDef_InitializeAndCreate,_b2Joint_GetBodyB=Module._b2Joint_GetBodyB=asm._b2Joint_GetBodyB,_b2ParticleSystem_GetParticleCount=Module._b2ParticleSystem_GetParticleCount=asm._b2ParticleSystem_GetParticleCount,_b2MouseJoint_SetTarget=Module._b2MouseJoint_SetTarget=asm._b2MouseJoint_SetTarget,_b2Body_ApplyAngularImpulse=Module._b2Body_ApplyAngularImpulse=asm._b2Body_ApplyAngularImpulse,_b2ChainShape_CreateFixture=Module._b2ChainShape_CreateFixture=asm._b2ChainShape_CreateFixture,_b2Body_SetAngularDamping=Module._b2Body_SetAngularDamping=asm._b2Body_SetAngularDamping,_b2World_DestroyJoint=Module._b2World_DestroyJoint=asm._b2World_DestroyJoint,_b2MotorJoint_SetAngularOffset=Module._b2MotorJoint_SetAngularOffset=asm._b2MotorJoint_SetAngularOffset,_b2World_Delete=Module._b2World_Delete=asm._b2World_Delete,_b2World_SetContactListener=Module._b2World_SetContactListener=asm._b2World_SetContactListener,_memset=Module._memset=asm._memset,_b2WheelJoint_SetSpringDampingRatio=Module._b2WheelJoint_SetSpringDampingRatio=asm._b2WheelJoint_SetSpringDampingRatio,_i64Add=Module._i64Add=asm._i64Add,_b2Body_GetMass=Module._b2Body_GetMass=asm._b2Body_GetMass,_b2MouseJointDef_Create=Module._b2MouseJointDef_Create=asm._b2MouseJointDef_Create,_b2ParticleGroup_GetBufferIndex=Module._b2ParticleGroup_GetBufferIndex=asm._b2ParticleGroup_GetBufferIndex,_b2WheelJointDef_InitializeAndCreate=Module._b2WheelJointDef_InitializeAndCreate=asm._b2WheelJointDef_InitializeAndCreate,_b2World_Step=Module._b2World_Step=asm._b2World_Step,_b2PulleyJointDef_Create=Module._b2PulleyJointDef_Create=asm._b2PulleyJointDef_Create,_b2Body_GetGravityScale=Module._b2Body_GetGravityScale=asm._b2Body_GetGravityScale,_b2WheelJoint_SetMaxMotorTorque=Module._b2WheelJoint_SetMaxMotorTorque=asm._b2WheelJoint_SetMaxMotorTorque,___errno_location=Module.___errno_location=asm.___errno_location,_b2WheelJointDef_Create=Module._b2WheelJointDef_Create=asm._b2WheelJointDef_Create,_b2WheelJoint_EnableMotor=Module._b2WheelJoint_EnableMotor=asm._b2WheelJoint_EnableMotor,_b2Body_GetInertia=Module._b2Body_GetInertia=asm._b2Body_GetInertia,_memmove=Module._memmove=asm._memmove,_b2MouseJoint_SetDampingRatio=Module._b2MouseJoint_SetDampingRatio=asm._b2MouseJoint_SetDampingRatio,_b2ParticleSystem_SetParticleLifetime=Module._b2ParticleSystem_SetParticleLifetime=asm._b2ParticleSystem_SetParticleLifetime,_b2RevoluteJoint_GetMotorTorque=Module._b2RevoluteJoint_GetMotorTorque=asm._b2RevoluteJoint_GetMotorTorque,_b2WheelJoint_GetLocalAxisA=Module._b2WheelJoint_GetLocalAxisA=asm._b2WheelJoint_GetLocalAxisA,_b2Body_ApplyTorque=Module._b2Body_ApplyTorque=asm._b2Body_ApplyTorque,_boBody_IsFixedRotation=Module._boBody_IsFixedRotation=asm._boBody_IsFixedRotation,_b2FrictionJoint_SetMaxForce=Module._b2FrictionJoint_SetMaxForce=asm._b2FrictionJoint_SetMaxForce,dynCall_diiiiid=Module.dynCall_diiiiid=asm.dynCall_diiiiid,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_did=Module.dynCall_did=asm.dynCall_did,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_diiiid=Module.dynCall_diiiid=asm.dynCall_diiiid,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii,initialStackTop;if(Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,memoryInitializer)if("function"==typeof Module.locateFile?memoryInitializer=Module.locateFile(memoryInitializer):Module.memoryInitializerPrefixURL&&(memoryInitializer=Module.memoryInitializerPrefixURL+memoryInitializer),ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module.readBinary(memoryInitializer);HEAPU8.set(data,Runtime.GLOBAL_BASE)}else{addRunDependency("memory initializer");var applyMemoryInitializer=function(e){e.byteLength&&(e=new Uint8Array(e)),HEAPU8.set(e,Runtime.GLOBAL_BASE),removeRunDependency("memory initializer")};function doBrowserLoad(){Browser.asyncLoad(memoryInitializer,applyMemoryInitializer,function(){throw"could not load memory initializer "+memoryInitializer})}var request=Module.memoryInitializerRequest;if(request){function useRequest(){if(200!==request.status&&0!==request.status)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer),void doBrowserLoad();applyMemoryInitializer(request.response)}request.response?setTimeout(useRequest,0):request.addEventListener("load",useRequest)}else doBrowserLoad()}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var t=e.length+1;function r(){for(var e=0;e<3;e++)i.push(0)}var i=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var n=0;n<t-1;n+=1)i.push(allocate(intArrayFromString(e[n]),"i8",ALLOC_NORMAL)),r();i.push(0),i=allocate(i,"i32",ALLOC_NORMAL);try{exit(Module._main(t,i,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach(function(r){t=r(t,e)}),t}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();var Offsets={b2Body:{type:0,islandIndex:8,xf:12,xf0:28,sweep:44,linearVelocity:80,angularVelocity:88,force:92,torque:100,world:104,prev:108,next:112,fixtureList:116,fixtureCount:120,jointList:124,contactList:128,mass:132,invMass:136,I:140,invI:144,linearDamping:148,angularDamping:152,gravityScale:156,sleepTime:160,userData:164},b2Contact:{flags:4,prev:8,next:12,nodeA:16,nodeB:32,fixtureA:48,fixtureB:52,indexA:56,indexB:60,manifold:64,toiCount:128,toi:132,friction:136,restitution:140,tangentSpeed:144},b2Fixture:{density:0,next:4,body:8,shape:12,friction:16,restitution:20,proxies:24,proxyCount:28,filter:32,filterCategoryBits:32,filterMaskBits:34,filterGroupIndex:36,isSensor:38,userData:40},b2ParticleGroup:{system:0,firstIndex:4,lastIndex:8,groupFlags:12,strength:16,prev:20,next:24,timestamp:28,mass:32,inertia:36,center:40,linearVelocity:48,angularVelocity:56,transform:60,userData:76},b2WorldManifold:{normal:0,points:8,separations:24},b2World:{bodyList:102960}},FLT_EPSILON=1.1920929e-7;function b2Max(e,t){return new b2Vec2(Math.max(e.x,t.x),Math.max(e.y,t.y))}function b2Min(e,t){return new b2Vec2(Math.min(e.x,t.x),Math.min(e.y,t.y))}function b2Clamp(e,t,r){return b2Max(t,b2Min(e,r))}function b2Vec2(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}function b2Rot(e){void 0===e&&(e=0),this.s=Math.sin(e),this.c=Math.cos(e)}function b2Transform(e,t){void 0===e&&(e=new b2Vec2),void 0===t&&(t=new b2Rot),this.p=e,this.q=t}function b2AABB(){this.lowerBound=new b2Vec2,this.upperBound=new b2Vec2}b2Vec2.Add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},b2Vec2.CrossScalar=function(e,t,r){e.x=-r*t.y,e.y=r*t.x},b2Vec2.Cross=function(e,t){return e.x*t.y-e.y*t.x},b2Vec2.MulScalar=function(e,t,r){e.x=t.x*r,e.y=t.y*r},b2Vec2.Mul=function(e,t,r){var i=t.p,n=t.q.c,o=t.q.s,s=r.x,a=r.y;e.x=n*s-o*a+i.x,e.y=o*s+n*a+i.y},b2Vec2.Normalize=function(e,t){var r=t.Length();if(r<FLT_EPSILON)return e.x=0,void(e.y=0);var i=1/r;e.x=t.x*i,e.y=t.y*i},b2Vec2.Sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},b2Vec2.prototype.Clone=function(){return new b2Vec2(this.x,this.y)},b2Vec2.prototype.Set=function(e,t){this.x=e,this.y=t},b2Vec2.prototype.Length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},b2Vec2.prototype.LengthSquared=function(){var e=this.x,t=this.y;return e*e+t*t},b2Rot.prototype.Set=function(e){this.s=Math.sin(e),this.c=Math.cos(e)},b2Rot.prototype.SetIdentity=function(){this.s=0,this.c=1},b2Rot.prototype.GetXAxis=function(){return new b2Vec2(this.c,this.s)},b2Transform.prototype.FromFloat64Array=function(e){var t=this.p,r=this.q;t.x=e[0],t.y=e[1],r.s=e[2],r.c=e[3]},b2Transform.prototype.SetIdentity=function(){this.p.Set(0,0),this.q.SetIdentity()},b2AABB.prototype.GetCenter=function(){var e=new b2Vec2;b2Vec2.Add(e,this.lowerBound,this.upperBound),b2Vec2.MulScalar(e,e,.5)};var b2Manifold_GetPointCount=Module.cwrap("b2Manifold_GetPointCount","number",["number"]);function b2Manifold(e){this.ptr=e}b2Manifold.prototype.GetPointCount=function(){return b2Manifold_GetPointCount(this.ptr)};var b2WorldManifold_points_offset=Offsets.b2WorldManifold.points;function b2WorldManifold(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}b2WorldManifold.prototype.GetPoint=function(e){var t=new b2Vec2;return t.x=this.buffer.getFloat32(8*e+b2WorldManifold_points_offset,!0),t.y=this.buffer.getFloat32(8*e+4+b2WorldManifold_points_offset,!0),t};var b2EdgeShape_CreateFixture=Module.cwrap("b2EdgeShape_CreateFixture","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2EdgeShape(){this.hasVertex0=!1,this.hasVertex3=!1,this.vertex0=new b2Vec2,this.vertex1=new b2Vec2,this.vertex2=new b2Vec2,this.vertex3=new b2Vec2,this.type=b2Shape_Type_e_edge}b2EdgeShape.prototype.Set=function(e,t){this.vertex1=e,this.vertex2=t,this.hasVertex0=!1,this.hasVertex3=!1},b2EdgeShape.prototype._CreateFixture=function(e,t){return b2EdgeShape_CreateFixture(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,this.hasVertex0,this.hasVertex3,this.vertex0.x,this.vertex0.y,this.vertex1.x,this.vertex1.y,this.vertex2.x,this.vertex2.y,this.vertex3.x,this.vertex3.y)};var b2PolygonShape_CreateFixture_3=Module.cwrap("b2PolygonShape_CreateFixture_3","number",["number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_4=Module.cwrap("b2PolygonShape_CreateFixture_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_5=Module.cwrap("b2PolygonShape_CreateFixture_5","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_6=Module.cwrap("b2PolygonShape_CreateFixture_6","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_7=Module.cwrap("b2PolygonShape_CreateFixture_7","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_8=Module.cwrap("b2PolygonShape_CreateFixture_8","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateParticleGroup_4=Module.cwrap("b2PolygonShape_CreateParticleGroup_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_DestroyParticlesInShape_4=Module.cwrap("b2PolygonShape_DestroyParticlesInShape_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2PolygonShape(){this.position=new b2Vec2,this.vertices=[],this.type=b2Shape_Type_e_polygon}b2PolygonShape.prototype.SetAsBoxXY=function(e,t){this.vertices[0]=new b2Vec2(-e,-t),this.vertices[1]=new b2Vec2(e,-t),this.vertices[2]=new b2Vec2(e,t),this.vertices[3]=new b2Vec2(-e,t)},b2PolygonShape.prototype.SetAsBoxXYCenterAngle=function(e,t,r,i){this.vertices[0]=new b2Vec2(-e,-t),this.vertices[1]=new b2Vec2(e,-t),this.vertices[2]=new b2Vec2(e,t),this.vertices[3]=new b2Vec2(-e,t);var n=new b2Transform;n.p=r,n.q.Set(i);for(var o=0;o<4;o++)b2Vec2.Mul(this.vertices[o],n,this.vertices[o])},b2PolygonShape.prototype._CreateFixture=function(e,t){var r=this.vertices;switch(r.length){case 3:var i=r[0],n=r[1],o=r[2];return b2PolygonShape_CreateFixture_3(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y);case 4:i=r[0],n=r[1],o=r[2];var s=r[3];return b2PolygonShape_CreateFixture_4(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,s.x,s.y);case 5:i=r[0],n=r[1],o=r[2],s=r[3];var a=r[4];return b2PolygonShape_CreateFixture_5(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,s.x,s.y,a.x,a.y);case 6:i=r[0],n=r[1],o=r[2],s=r[3],a=r[4];var u=r[5];return b2PolygonShape_CreateFixture_6(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,s.x,s.y,a.x,a.y,u.x,u.y);case 7:i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5];var l=r[6];return b2PolygonShape_CreateFixture_7(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,s.x,s.y,a.x,a.y,u.x,u.y,l.x,l.y);case 8:i=r[0],n=r[1],o=r[2],s=r[3],a=r[4],u=r[5],l=r[6];var c=r[7];return b2PolygonShape_CreateFixture_8(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,s.x,s.y,a.x,a.y,u.x,u.y,l.x,l.y,l.x,c.y)}},b2PolygonShape.prototype._CreateParticleGroup=function(e,t){var r=this.vertices;switch(r.length){case 3:break;case 4:return b2PolygonShape_CreateParticleGroup_4(e.ptr,t.angle,t.angularVelocity,t.color.r,t.color.g,t.color.b,t.color.a,t.flags,t.group.ptr,t.groupFlags,t.lifetime,t.linearVelocity.x,t.linearVelocity.y,t.position.x,t.position.y,t.positionData,t.particleCount,t.strength,t.stride,t.userData,r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y)}},b2PolygonShape.prototype._DestroyParticlesInShape=function(e,t){var r=this.vertices;switch(r.length){case 3:break;case 4:return b2PolygonShape_DestroyParticlesInShape_4(e.ptr,r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,t.p.x,t.p.y,t.q.s,t.q.c)}},b2PolygonShape.prototype.Validate=function(){for(var e=0,t=this.vertices.length;e<t;++e){var r=e,i=e<t-1?r+1:0,n=this.vertices[r],o=this.vertices[i],s=new b2Vec2;b2Vec2.Sub(s,o,n);for(var a=0;a<t;++a)if(a!=r&&a!=i){var u=new b2Vec2;if(b2Vec2.Sub(u,this.vertices[a],n),b2Vec2.Cross(s,u)<0)return!1}}return!0};var b2Shape_Type_e_circle=0,b2Shape_Type_e_edge=1,b2Shape_Type_e_polygon=2,b2Shape_Type_e_chain=3,b2Shape_Type_e_typeCount=4,b2_linearSlop=.005,b2_polygonRadius=2*b2_linearSlop,b2_maxPolygonVertices=8;function b2MassData(e,t,r){this.mass=e,this.center=t,this.I=r}var b2ChainShape_CreateFixture=Module.cwrap("b2ChainShape_CreateFixture","number",["number","number","number","number","number","number","number","number"]);function b2ChainShape(){this.radius=b2_polygonRadius,this.vertices=[],this.type=b2Shape_Type_e_chain}b2ChainShape.prototype.CreateLoop=function(){this.vertices.push(this.vertices[0])},b2ChainShape.prototype._CreateFixture=function(e,t){for(var r=this.vertices,i=2*r.length,n=new Float32Array(i),o=0,s=0;o<i;o+=2,s++)n[o]=r[s].x,n[o+1]=r[s].y;var a=n.length*n.BYTES_PER_ELEMENT,u=Module._malloc(a),l=new Uint8Array(Module.HEAPU8.buffer,u,a);l.set(new Uint8Array(n.buffer));var c=b2ChainShape_CreateFixture(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,l.byteOffset,n.length);return Module._free(l.byteOffset),c};var b2CircleShape_CreateFixture=Module.cwrap("b2CircleShape_CreateFixture","number",["number","number","number","number","number","number","number","number","number"]),b2CircleShape_CreateParticleGroup=Module.cwrap("b2CircleShape_CreateParticleGroup","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2CircleShape_DestroyParticlesInShape=Module.cwrap("b2CircleShape_DestroyParticlesInShape","number",["number","number","number","number","number","number","number","number"]);function b2CircleShape(){this.position=new b2Vec2,this.radius=0,this.type=b2Shape_Type_e_circle}b2CircleShape.prototype._CreateFixture=function(e,t){return b2CircleShape_CreateFixture(e.ptr,t.density,t.friction,t.isSensor,t.restitution,t.userData,t.filter.categoryBits,t.filter.groupIndex,t.filter.maskBits,this.position.x,this.position.y,this.radius)},b2CircleShape.prototype._CreateParticleGroup=function(e,t){return b2CircleShape_CreateParticleGroup(e.ptr,t.angle,t.angularVelocity,t.color.r,t.color.g,t.color.b,t.color.a,t.flags,t.group.ptr,t.groupFlags,t.lifetime,t.linearVelocity.x,t.linearVelocity.y,t.position.x,t.position.y,t.positionData,t.particleCount,t.strength,t.stride,t.userData,this.position.x,this.position.y,this.radius)},b2CircleShape.prototype._DestroyParticlesInShape=function(e,t){return b2CircleShape_DestroyParticlesInShape(e.ptr,this.position.x,this.position.y,this.radius,t.p.x,t.p.y,t.q.s,t.q.c)};var b2Body_ApplyAngularImpulse=Module.cwrap("b2Body_ApplyAngularImpulse","null",["number","number","number"]),b2Body_ApplyLinearImpulse=Module.cwrap("b2Body_ApplyLinearImpulse","null",["number","number","number","number","number","number"]),b2Body_ApplyForce=Module.cwrap("b2Body_ApplyForce","number",["number","number","number","number","number","number"]),b2Body_ApplyForceToCenter=Module.cwrap("b2Body_ApplyForceToCenter","number",["number","number","number","number"]),b2Body_ApplyTorque=Module.cwrap("b2Body_ApplyTorque","number",["number","number","number"]),b2Body_DestroyFixture=Module.cwrap("b2Body_DestroyFixture","null",["number","number"]),b2Body_GetAngle=Module.cwrap("b2Body_GetAngle","number",["number"]),b2Body_GetAngularVelocity=Module.cwrap("b2Body_GetAngularVelocity","number",["number"]),b2Body_GetInertia=Module.cwrap("b2Body_GetInertia","number",["number"]),b2Body_GetLinearVelocity=Module.cwrap("b2Body_GetLinearVelocity","null",["number","number"]),b2Body_GetLocalPoint=Module.cwrap("b2Body_GetLocalPoint","null",["number","number","number","number"]),b2Body_GetLocalVector=Module.cwrap("b2Body_GetLocalVector","null",["number","number","number","number"]),b2Body_GetMass=Module.cwrap("b2Body_GetMass","number",["number"]),b2Body_GetPosition=Module.cwrap("b2Body_GetPosition","null",["number","number"]),b2Body_GetTransform=Module.cwrap("b2Body_GetTransform","null",["number","number"]),b2Body_GetType=Module.cwrap("b2Body_GetType","number",["number"]),b2Body_GetWorldCenter=Module.cwrap("b2Body_GetWorldCenter","null",["number","number"]),b2Body_GetWorldPoint=Module.cwrap("b2Body_GetWorldPoint","null",["number","number","number","number"]),b2Body_GetWorldVector=Module.cwrap("b2Body_GetWorldVector","null",["number","number","number","number"]),b2Body_SetAngularVelocity=Module.cwrap("b2Body_SetAngularVelocity","null",["number","number"]),b2Body_SetAwake=Module.cwrap("b2Body_SetAwake","number",["number","number"]),b2Body_SetFixedRotation=Module.cwrap("b2Body_SetFixedRotation","number",["number","number"]),b2Body_SetLinearVelocity=Module.cwrap("b2Body_SetLinearVelocity","null",["number","number","number"]),b2Body_SetMassData=Module.cwrap("b2Body_SetMassData","null",["number","number","number","number","number"]),b2Body_SetTransform=Module.cwrap("b2Body_SetTransform","null",["number","number","number"]),b2Body_SetType=Module.cwrap("b2Body_SetType","null",["number","number"]),b2Body_SetGravityScale=Module.cwrap("b2Body_SetGravityScale","null",["number","number"]),b2Body_GetGravityScale=Module.cwrap("b2Body_GetGravityScale","number",["number"]),b2Body_SetLinearDamping=Module.cwrap("b2Body_SetLinearDamping","null",["number","number"]),b2Body_GetLinearDamping=Module.cwrap("b2Body_GetLinearDamping","number",["number"]),b2Body_SetAngularDamping=Module.cwrap("b2Body_SetAngularDamping","null",["number","number"]),b2Body_GetAngularDamping=Module.cwrap("b2Body_GetAngularDamping","number",["number"]),b2Body_IsAwake=Module.cwrap("b2Body_IsAwake","boolean",["number"]),b2Body_SetBullet=Module.cwrap("b2Body_SetBullet","null",["number","number"]),b2Body_IsBullet=Module.cwrap("b2Body_IsBullet","boolean",["number"]),b2Body_SetSleepingAllowed=Module.cwrap("b2Body_SetSleepingAllowed","null",["number","number"]),b2Body_IsSleepingAllowed=Module.cwrap("b2Body_IsSleepingAllowed","boolean",["number"]),b2Body_SetActive=Module.cwrap("b2Body_SetActive","null",["number","number"]),b2Body_IsActive=Module.cwrap("b2Body_IsActive","boolean",["number"]),boBody_IsFixedRotation=Module.cwrap("boBody_IsFixedRotation","boolean",["number"]),b2Body_xf_offset=Offsets.b2Body.xf,b2Body_userData_offset=Offsets.b2Body.userData;function b2Body(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e,this.fixtures=[]}b2Body.prototype.ApplyAngularImpulse=function(e,t){b2Body_ApplyAngularImpulse(this.ptr,e,t)},b2Body.prototype.ApplyLinearImpulse=function(e,t,r){b2Body_ApplyLinearImpulse(this.ptr,e.x,e.y,t.x,t.y,r)},b2Body.prototype.ApplyForce=function(e,t,r){b2Body_ApplyForce(this.ptr,e.x,e.y,t.x,t.y,r)},b2Body.prototype.ApplyForceToCenter=function(e,t){b2Body_ApplyForceToCenter(this.ptr,e.x,e.y,t)},b2Body.prototype.ApplyTorque=function(e,t){b2Body_ApplyTorque(this.ptr,e,t)},b2Body.prototype.CreateFixtureFromDef=function(e){var t=new b2Fixture;return t.FromFixtureDef(e),t._SetPtr(e.shape._CreateFixture(this,e)),t.body=this,b2World._Push(t,this.fixtures),world.fixturesLookup[t.ptr]=t,t.SetFilterData(e.filter),t},b2Body.prototype.CreateFixtureFromShape=function(e,t){var r=new b2FixtureDef;return r.shape=e,r.density=t,this.CreateFixtureFromDef(r)},b2Body.prototype.DestroyFixture=function(e){b2Body_DestroyFixture(this.ptr,e.ptr),b2World._RemoveItem(e,this.fixtures)},b2Body.prototype.GetAngle=function(){return b2Body_GetAngle(this.ptr)},b2Body.prototype.GetAngularVelocity=function(){return b2Body_GetAngularVelocity(this.ptr)},b2Body.prototype.GetInertia=function(){return b2Body_GetInertia(this.ptr)},b2Body.prototype.GetMass=function(){return b2Body_GetMass(this.ptr)},b2Body.prototype.GetLinearVelocity=function(){b2Body_GetLinearVelocity(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetLocalPoint=function(e){b2Body_GetLocalPoint(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.GetLocalVector=function(e){b2Body_GetLocalVector(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.GetPosition=function(){b2Body_GetPosition(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetTransform=function(){var e=new b2Transform;return e.p.x=this.buffer.getFloat32(b2Body_xf_offset,!0),e.p.y=this.buffer.getFloat32(b2Body_xf_offset+4,!0),e.q.s=this.buffer.getFloat32(b2Body_xf_offset+8,!0),e.q.c=this.buffer.getFloat32(b2Body_xf_offset+12,!0),e},b2Body.prototype.GetType=function(){return b2Body_GetType(this.ptr)},b2Body.prototype.GetUserData=function(){return this.buffer.getUint32(b2Body_userData_offset,!0)},b2Body.prototype.GetWorldCenter=function(){b2Body_GetWorldCenter(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetWorldPoint=function(e){b2Body_GetWorldPoint(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.GetWorldVector=function(e){b2Body_GetWorldVector(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Body.prototype.SetAngularVelocity=function(e){b2Body_SetAngularVelocity(this.ptr,e)},b2Body.prototype.SetAwake=function(e){b2Body_SetAwake(this.ptr,e)},b2Body.prototype.SetFixedRotation=function(e){b2Body_SetFixedRotation(this.ptr,e)},b2Body.prototype.SetLinearVelocity=function(e){b2Body_SetLinearVelocity(this.ptr,e.x,e.y)},b2Body.prototype.SetMassData=function(e){b2Body_SetMassData(this.ptr,e.mass,e.center.x,e.center.y,e.I)},b2Body.prototype.SetTransform=function(e,t){b2Body_SetTransform(this.ptr,e.x,e.y,t)},b2Body.prototype.SetType=function(e){b2Body_SetType(this.ptr,e)},b2Body.prototype.SetGravityScale=function(e){b2Body_SetGravityScale(this.ptr,e)},b2Body.prototype.GetGravityScale=function(){return b2Body_GetGravityScale(this.ptr)},b2Body.prototype.SetLinearDamping=function(e){b2Body_SetLinearDamping(this.ptr,e)},b2Body.prototype.GetLinearDamping=function(){return b2Body_GetLinearDamping(this.ptr)},b2Body.prototype.SetAngularDamping=function(e){b2Body_SetAngularDamping(this.ptr,e)},b2Body.prototype.GetAngularDamping=function(){return b2Body_GetAngularDamping(this.ptr)},b2Body.prototype.IsAwake=function(){return b2Body_IsAwake(this.ptr)},b2Body.prototype.SetBullet=function(e){b2Body_SetBullet(this.ptr,e)},b2Body.prototype.IsBullet=function(){return b2Body_IsBullet(this.ptr)},b2Body.prototype.SetSleepingAllowed=function(e){b2Body_SetSleepingAllowed(this.ptr,e)},b2Body.prototype.IsSleepingAllowed=function(){return b2Body_IsSleepingAllowed(this.ptr)},b2Body.prototype.SetActive=function(e){b2Body_SetActive(this.ptr,e)},b2Body.prototype.IsActive=function(){return b2Body_IsActive(this.ptr)},b2Body.prototype.IsFixedRotation=function(){return boBody_IsFixedRotation(this.ptr)};var b2_staticBody=0,b2_kinematicBody=1,b2_dynamicBody=2;function b2BodyDef(){this.active=!0,this.allowSleep=!0,this.angle=0,this.angularVelocity=0,this.angularDamping=0,this.awake=!0,this.bullet=!1,this.fixedRotation=!1,this.gravityScale=1,this.linearDamping=0,this.linearVelocity=new b2Vec2,this.position=new b2Vec2,this.type=b2_staticBody,this.userData=null}b2World.BeginContactBody=function(e){if(void 0!==world.listener.BeginContactBody){var t=new b2Contact(e);world.listener.BeginContactBody(t)}},b2World.EndContactBody=function(e){if(void 0!==world.listener.EndContactBody){var t=new b2Contact(e);world.listener.EndContactBody(t)}},b2World.PreSolve=function(e,t){void 0!==world.listener.PreSolve&&world.listener.PreSolve(new b2Contact(e),new b2Manifold(t))},b2World.PostSolve=function(e,t){void 0!==world.listener.PostSolve&&world.listener.PostSolve(new b2Contact(e),new b2ContactImpulse(t))},b2World.QueryAABB=function(e){return world.queryAABBCallback.ReportFixture(world.fixturesLookup[e])},b2World.RayCast=function(e,t,r,i,n,o){return world.rayCastCallback.ReportFixture(world.fixturesLookup[e],new b2Vec2(t,r),new b2Vec2(i,n),o)};var b2World_Create=Module.cwrap("b2World_Create","number",["number","number"]),b2World_CreateBody=Module.cwrap("b2World_CreateBody","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2World_CreateParticleSystem=Module.cwrap("b2World_CreateParticleSystem","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2World_DestroyBody=Module.cwrap("b2World_DestroyBody","null",["number","number"]),b2World_DestroyJoint=Module.cwrap("b2World_DestroyJoint","null",["number","number"]),b2World_DestroyParticleSystem=Module.cwrap("b2World_DestroyParticleSystem","null",["number","number"]),b2World_QueryAABB=Module.cwrap("b2World_QueryAABB","null",["number","number","number","number","number"]),b2World_RayCast=Module.cwrap("b2World_RayCast","null",["number","number","number","number","number"]),b2World_SetContactListener=Module.cwrap("b2World_SetContactListener","null",["number"]),b2World_SetGravity=Module.cwrap("b2World_SetGravity","null",["number","number","number"]),b2World_Step=Module.cwrap("b2World_Step","null",["number","number","number"]),_transBuf=null,_vec2Buf=null;function b2World(e){this.bodies=[],this.bodiesLookup={},this.fixturesLookup={},this.joints=[],this.listener=null,this.particleSystems=[],this.gravity=e.Clone(),this.ptr=b2World_Create(e.x,e.y),this.queryAABBCallback=null,this.rayCastCallback=null,this.buffer=new DataView(Module.HEAPU8.buffer,this.ptr);var t=4*Float32Array.BYTES_PER_ELEMENT,r=Module._malloc(t);_transBuf=new Uint8Array(Module.HEAPU8.buffer,r,t),t=2*Float32Array.BYTES_PER_ELEMENT,r=Module._malloc(t),_vec2Buf=new Uint8Array(Module.HEAPU8.buffer,r,t)}b2World._Push=function(e,t){e.lindex=t.length,t.push(e)},b2World._RemoveItem=function(e,t){var r=t.length,i=e.lindex;r>1&&(t[i]=t[r-1],t[i].lindex=i),t.pop()},b2World.prototype.CreateBody=function(e){var t=new b2Body(b2World_CreateBody(this.ptr,e.active,e.allowSleep,e.angle,e.angularVelocity,e.angularDamping,e.awake,e.bullet,e.fixedRotation,e.gravityScale,e.linearDamping,e.linearVelocity.x,e.linearVelocity.y,e.position.x,e.position.y,e.type,e.userData));return b2World._Push(t,this.bodies),this.bodiesLookup[t.ptr]=t,t},b2World.prototype.CreateJoint=function(e){var t=e.Create(this);return b2World._Push(t,this.joints),t},b2World.prototype.CreateParticleSystem=function(e){var t=new b2ParticleSystem(b2World_CreateParticleSystem(this.ptr,e.colorMixingStrength,e.dampingStrength,e.destroyByAge,e.ejectionStrength,e.elasticStrength,e.lifetimeGranularity,e.powderStrength,e.pressureStrength,e.radius,e.repulsiveStrength,e.springStrength,e.staticPressureIterations,e.staticPressureRelaxation,e.staticPressureStrength,e.surfaceTensionNormalStrength,e.surfaceTensionPressureStrength,e.viscousStrength));return b2World._Push(t,this.particleSystems),t.dampingStrength=e.dampingStrength,t.radius=e.radius,t},b2World.prototype.DestroyBody=function(e){b2World_DestroyBody(this.ptr,e.ptr),b2World._RemoveItem(e,this.bodies)},b2World.prototype.DestroyJoint=function(e){b2World_DestroyJoint(this.ptr,e.ptr),b2World._RemoveItem(e,this.joints)},b2World.prototype.DestroyParticleSystem=function(e){b2World_DestroyParticleSystem(this.ptr,e.ptr),b2World._RemoveItem(e,this.particleSystems)},b2World.prototype.QueryAABB=function(e,t){this.queryAABBCallback=e,b2World_QueryAABB(this.ptr,t.lowerBound.x,t.lowerBound.y,t.upperBound.x,t.upperBound.y)},b2World.prototype.RayCast=function(e,t,r){this.rayCastCallback=e,b2World_RayCast(this.ptr,t.x,t.y,r.x,r.y)},b2World.prototype.SetContactListener=function(e){this.listener=e,b2World_SetContactListener(this.ptr)},b2World.prototype.SetGravity=function(e){this.gravity.Set(e.x,e.y),b2World_SetGravity(this.ptr,e.x,e.y)},b2World.prototype.Step=function(e,t,r){b2World_Step(this.ptr,e,t,r)};var b2_unknownJoint=0,b2_revoluteJoint=1,b2_prismaticJoint=2,b2_distanceJoint=3,b2_pulleyJoint=4,b2_mouseJoint=5,b2_gearJoint=6,b2_wheelJoint=7,b2_weldJoint=8,b2_frictionJoint=9,b2_ropeJoint=10,b2_motorJoint=11,b2_inactiveLimit=0,b2_atLowerLimit=1,b2_atUpperLimit=2,b2_equalLimits=3,b2Joint_GetBodyA=Module.cwrap("b2Joint_GetBodyA","number",["number"]),b2Joint_GetBodyB=Module.cwrap("b2Joint_GetBodyB","number",["number"]),b2Joint_GetType=Module.cwrap("b2Joint_GetType","number",["number"]),b2Joint_GetAnchorA=Module.cwrap("b2Joint_GetAnchorA","null",["number","number"]),b2Joint_GetAnchorB=Module.cwrap("b2Joint_GetAnchorB","null",["number","number"]),b2Joint_GetReactionForce=Module.cwrap("b2Joint_GetReactionForce","null",["number","number","number"]),b2Joint_GetReactionTorque=Module.cwrap("b2Joint_GetReactionTorque","number",["number","number"]),b2Joint_IsActive=Module.cwrap("b2Joint_IsActive","boolean",["number"]),b2Joint_GetCollideConnected=Module.cwrap("b2Joint_GetCollideConnected","boolean",["number"]);function b2Joint(e){this.ptr=null,this.next=null,this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.collideConnected=e.collideConnected,this.userData=e.userData}b2Joint.prototype.GetBodyA=function(){return world.bodiesLookup[b2Joint_GetBodyA(this.ptr)]},b2Joint.prototype.GetBodyB=function(){return world.bodiesLookup[b2Joint_GetBodyB(this.ptr)]},b2Joint.prototype.GetType=function(){return b2Joint_GetType(this.ptr)},b2Joint.prototype.GetAnchorA=function(){b2Joint_GetAnchorA(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Joint.prototype.GetAnchorB=function(){b2Joint_GetAnchorB(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Joint.prototype.GetReactionForce=function(e){b2Joint_GetReactionForce(this.ptr,e,_vec2Buf);var t=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(t[0],t[1])},b2Joint.prototype.GetReactionTorque=function(e){return b2Joint_GetReactionTorque(this.ptr,e)},b2Joint.prototype.IsActive=function(){return b2Joint_IsActive(this.ptr)},b2Joint.prototype.GetCollideConnected=function(){return b2Joint_GetCollideConnected(this.ptr)};var b2WheelJoint_SetMotorSpeed=Module.cwrap("b2WheelJoint_SetMotorSpeed","null",["number","number"]),b2WheelJoint_SetSpringFrequencyHz=Module.cwrap("b2WheelJoint_SetSpringFrequencyHz","null",["number","number"]),b2WheelJoint_GetLocalAxisA=Module.cwrap("b2WheelJoint_GetLocalAxisA","null",["number","number"]),b2WheelJoint_GetJointTranslation=Module.cwrap("b2WheelJoint_GetJointTranslation","number",["number"]),b2WheelJoint_GetJointSpeed=Module.cwrap("b2WheelJoint_GetJointSpeed","number",["number"]),b2WheelJoint_IsMotorEnabled=Module.cwrap("b2WheelJoint_IsMotorEnabled","number",["number"]),b2WheelJoint_EnableMotor=Module.cwrap("b2WheelJoint_EnableMotor","null",["number","number"]),b2WheelJoint_GetMotorSpeed=Module.cwrap("b2WheelJoint_GetMotorSpeed","number",["number"]),b2WheelJoint_SetMaxMotorTorque=Module.cwrap("b2WheelJoint_SetMaxMotorTorque","null",["number","number"]),b2WheelJoint_GetMotorTorque=Module.cwrap("b2WheelJoint_GetMotorTorque","number",["number","number"]),b2WheelJoint_SetSpringDampingRatio=Module.cwrap("b2WheelJoint_SetSpringDampingRatio","null",["number","number"]);function b2WheelJoint(e){b2Joint.call(this,e),this.maxMotorTorque=e.maxMotorTorque,this.frequencyHz=e.frequencyHz,this.dampingRatio=e.dampingRatio}b2WheelJoint.prototype=Object.create(b2Joint.prototype),b2WheelJoint.prototype.constructor=b2WheelJoint,b2WheelJoint.prototype.SetMotorSpeed=function(e){b2WheelJoint_SetMotorSpeed(this.ptr,e)},b2WheelJoint.prototype.SetSpringFrequencyHz=function(e){b2WheelJoint_SetSpringFrequencyHz(this.ptr,e),this.frequencyHz=e},b2WheelJoint.prototype.GetLocalAxisA=function(){b2WheelJoint_GetLocalAxisA(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2WheelJoint.prototype.GetJointTranslation=function(){return b2WheelJoint_GetJointTranslation(this.ptr)},b2WheelJoint.prototype.GetJointSpeed=function(){return b2WheelJoint_GetJointSpeed(this.ptr)},b2WheelJoint.prototype.IsMotorEnabled=function(){return b2WheelJoint_IsMotorEnabled(this.ptr)},b2WheelJoint.prototype.EnableMotor=function(e){b2WheelJoint_EnableMotor(this.ptr,e)},b2WheelJoint.prototype.GetMotorSpeed=function(){return b2WheelJoint_GetMotorSpeed(this.ptr)},b2WheelJoint.prototype.SetMaxMotorTorque=function(e){b2WheelJoint_SetMaxMotorTorque(this.ptr,e),this.maxMotorTorque=e},b2WheelJoint.prototype.GetMotorTorque=function(e){return b2WheelJoint_GetMotorTorque(this.ptr,e)},b2WheelJoint.prototype.SetSpringDampingRatio=function(e){b2WheelJoint_SetSpringDampingRatio(this.ptr,e),this.dampingRatio=e};var b2WheelJointDef_Create=Module.cwrap("b2WheelJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2WheelJointDef_InitializeAndCreate=Module.cwrap("b2WheelJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2WheelJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=.7,this.enableMotor=!1,this.frequencyHz=2,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.localAxisA=new b2Vec2(1,0),this.maxMotorTorque=0,this.motorSpeed=0}b2WheelJointDef.prototype.Create=function(e){var t=new b2WheelJoint(this);return t.ptr=b2WheelJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.enableMotor,this.frequencyHz,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.localAxisA.x,this.localAxisA.y,this.maxMotorTorque,this.motorSpeed),t},b2WheelJointDef.prototype.InitializeAndCreate=function(e,t,r,i){this.bodyA=e,this.bodyB=t;var n=new b2WheelJoint(this);return n.ptr=b2WheelJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,i.x,i.y,this.collideConnected,this.dampingRatio,this.enableMotor,this.frequencyHz,this.maxMotorTorque,this.motorSpeed),b2World._Push(n,world.joints),n};var b2WeldJointDef_Create=Module.cwrap("b2WeldJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2WeldJointDef_InitializeAndCreate=Module.cwrap("b2WeldJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);function b2WeldJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=0,this.frequencyHz=0,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.referenceAngle=0}b2WeldJointDef.prototype.Create=function(e){var t=new b2WeldJoint(this);return t.ptr=b2WeldJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.referenceAngle),t},b2WeldJointDef.prototype.InitializeAndCreate=function(e,t,r){this.bodyA=e,this.bodyB=t;var i=new b2WeldJoint(this);return i.ptr=b2WeldJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,this.collideConnected,this.dampingRatio,this.frequencyHz),b2World._Push(i,world.joints),i};var b2WeldJoint_SetFrequency=Module.cwrap("b2WeldJoint_SetFrequency","null",["number","number"]),b2WeldJoint_SetDampingRatio=Module.cwrap("b2WeldJoint_SetDampingRatio","null",["number","number"]);function b2WeldJoint(e){b2Joint.call(this,e),this.referenceAngle=e.referenceAngle,this.frequencyHz=e.frequencyHz,this.dampingRatio=e.dampingRatio}b2WeldJoint.prototype=Object.create(b2Joint.prototype),b2WeldJoint.prototype.constructor=b2WeldJoint,b2WeldJoint.prototype.SetFrequency=function(e){b2WeldJoint_SetFrequency(this.ptr,e),this.frequencyHz=e},b2WeldJoint.prototype.SetDampingRatio=function(e){b2WeldJoint_SetDampingRatio(this.ptr,e),this.dampingRatio=e};var b2GearJoint_SetRatio=Module.cwrap("b2GearJoint_SetRatio","number",["number","number"]);function b2GearJoint(e){b2Joint.call(this,e),this.joint1=e.joint1,this.joint2=e.joint2,this.ratio=e.ratio}b2GearJoint.prototype=Object.create(b2Joint.prototype),b2GearJoint.prototype.constructor=b2GearJoint,b2GearJoint.prototype.SetRatio=function(e){b2GearJoint_SetRatio(this.ptr,e),this.ratio=e};var b2GearJointDef_Create=Module.cwrap("b2GearJointDef_Create","number",["number","number","number","number","number","number","number"]);function b2GearJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.joint1=null,this.joint2=null,this.ratio=0}b2GearJointDef.prototype.Create=function(e){var t=new b2GearJoint(this);return t.ptr=b2GearJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.joint1.ptr,this.joint2.ptr,this.ratio),t};var b2FrictionJointDef_Create=Module.cwrap("b2FrictionJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2FrictionJointDef_InitializeAndCreate=Module.cwrap("b2FrictionJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);function b2FrictionJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.maxForce=0,this.maxTorque=0,this.userData=null}b2FrictionJointDef.prototype.Create=function(e){var t=new b2FrictionJoint(this);return t.ptr=b2FrictionJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxForce,this.maxTorque),t},b2FrictionJointDef.prototype.InitializeAndCreate=function(e,t,r){this.bodyA=e,this.bodyB=t;var i=new b2FrictionJoint(this);return i.ptr=b2FrictionJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,this.collideConnected,this.maxForce,this.maxTorque),b2World._Push(i,world.joints),i};var b2FrictionJoint_SetMaxForce=Module.cwrap("b2FrictionJoint_SetMaxForce","null",["number","number"]),b2FrictionJoint_SetMaxTorque=Module.cwrap("b2FrictionJoint_SetMaxTorque","null",["number","number"]);function b2FrictionJoint(e){b2Joint.call(this,e),this.maxForce=e.maxForce,this.maxTorque=e.maxTorque}b2FrictionJoint.prototype=Object.create(b2Joint.prototype),b2FrictionJoint.prototype.constructor=b2FrictionJoint,b2FrictionJoint.prototype.SetMaxForce=function(e){b2FrictionJoint_SetMaxForce(this.ptr,e),this.maxForce=e},b2FrictionJoint.prototype.SetMaxTorque=function(e){b2FrictionJoint_SetMaxTorque(this.ptr,e),this.maxTorque=e};var b2RevoluteJoint_EnableLimit=Module.cwrap("b2RevoluteJoint_EnableLimit","number",["number","number"]),b2RevoluteJoint_EnableMotor=Module.cwrap("b2RevoluteJoint_EnableMotor","number",["number","number"]),b2RevoluteJoint_GetJointAngle=Module.cwrap("b2RevoluteJoint_GetJointAngle","number",["number"]),b2RevoluteJoint_IsLimitEnabled=Module.cwrap("b2RevoluteJoint_IsLimitEnabled","number",["number"]),b2RevoluteJoint_IsMotorEnabled=Module.cwrap("b2RevoluteJoint_IsMotorEnabled","number",["number"]),b2RevoluteJoint_SetMotorSpeed=Module.cwrap("b2RevoluteJoint_SetMotorSpeed","number",["number","number"]),b2RevoluteJoint_GetJointSpeed=Module.cwrap("b2RevoluteJoint_GetJointSpeed","number",["number"]),b2RevoluteJoint_SetLimits=Module.cwrap("b2RevoluteJoint_SetLimits","null",["number","number","number"]),b2RevoluteJoint_GetMotorSpeed=Module.cwrap("b2RevoluteJoint_GetMotorSpeed","number",["number"]),b2RevoluteJoint_SetMaxMotorTorque=Module.cwrap("b2RevoluteJoint_SetMaxMotorTorque","null",["number","number"]),b2RevoluteJoint_GetMotorTorque=Module.cwrap("b2RevoluteJoint_GetMotorTorque","number",["number","number"]);function b2RevoluteJoint(e){b2Joint.call(this,e),this.enableLimit=e.enableLimit,this.enableMotor=e.enableMotor,this.lowerAngle=e.lowerAngle,this.maxMotorTorque=e.maxMotorTorque,this.motorSpeed=e.motorSpeed,this.upperAngle=e.upperAngle,this.referenceAngle=e.referenceAngle}b2RevoluteJoint.prototype=Object.create(b2Joint.prototype),b2RevoluteJoint.prototype.constructor=b2RevoluteJoint,b2RevoluteJoint.prototype.EnableLimit=function(e){b2RevoluteJoint_EnableLimit(this.ptr,e)},b2RevoluteJoint.prototype.EnableMotor=function(e){b2RevoluteJoint_EnableMotor(this.ptr,e)},b2RevoluteJoint.prototype.GetJointAngle=function(e){return b2RevoluteJoint_GetJointAngle(this.ptr)},b2RevoluteJoint.prototype.IsLimitEnabled=function(){return b2RevoluteJoint_IsLimitEnabled(this.ptr)},b2RevoluteJoint.prototype.IsMotorEnabled=function(){return b2RevoluteJoint_IsMotorEnabled(this.ptr)},b2RevoluteJoint.prototype.SetMotorSpeed=function(e){b2RevoluteJoint_SetMotorSpeed(this.ptr,e),this.motorSpeed=e},b2RevoluteJoint.prototype.GetJointSpeed=function(){return b2RevoluteJoint_GetJointSpeed(this.ptr)},b2RevoluteJoint.prototype.SetLimits=function(e,t){b2RevoluteJoint_SetLimits(this.ptr,e,t),this.lowerAngle=e,this.upperAngle=t},b2RevoluteJoint.prototype.GetMotorSpeed=function(){return b2RevoluteJoint_GetMotorSpeed(this.ptr)},b2RevoluteJoint.prototype.SetMaxMotorTorque=function(e){b2RevoluteJoint_SetMaxMotorTorque(this.ptr,e),this.maxMotorTorque=e},b2RevoluteJoint.prototype.GetMotorTorque=function(e){return b2RevoluteJoint_GetMotorTorque(this.ptr,e)};var b2RevoluteJointDef_Create=Module.cwrap("b2RevoluteJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2RevoluteJointDef_InitializeAndCreate=Module.cwrap("b2RevoluteJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number"]);function b2RevoluteJointDef(){this.collideConnected=!1,this.enableLimit=!1,this.enableMotor=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.lowerAngle=0,this.maxMotorTorque=0,this.motorSpeed=0,this.referenceAngle=0,this.upperAngle=0,this.userData=null}b2RevoluteJointDef.prototype.Create=function(e){var t=new b2RevoluteJoint(this);return t.ptr=b2RevoluteJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerAngle,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxMotorTorque,this.motorSpeed,this.referenceAngle,this.upperAngle),t},b2RevoluteJointDef.prototype.InitializeAndCreate=function(e,t,r){this.bodyA=e,this.bodyB=t;var i=new b2RevoluteJoint(this);return i.ptr=b2RevoluteJointDef_InitializeAndCreate(world.ptr,e.ptr,t.ptr,r.x,r.y,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerAngle,this.maxMotorTorque,this.motorSpeed,this.upperAngle),b2World._Push(i,world.joints),i};var b2MotorJoint_SetAngularOffset=Module.cwrap("b2MotorJoint_SetAngularOffset","null",["number","number"]),b2MotorJoint_SetLinearOffset=Module.cwrap("b2MotorJoint_SetLinearOffset","null",["number","number","number"]),b2MotorJoint_SetMaxForce=Module.cwrap("b2MotorJoint_SetMaxForce","null",["number","number"]),b2MotorJoint_SetMaxTorque=Module.cwrap("b2MotorJoint_SetMaxTorque","null",["number","number"]),b2MotorJoint_SetCorrectionFactor=Module.cwrap("b2MotorJoint_SetCorrectionFactor","null",["number","number"]);function b2MotorJoint(e){b2Joint.call(this,e),this.angularOffset=e.angularOffset,this.linearOffset=e.linearOffset.Clone(),this.maxForce=e.maxForce,this.maxTorque=e.maxTorque,this.correctionFactor=e.correctionFactor}b2MotorJoint.prototype=Object.create(b2Joint.prototype),b2MotorJoint.prototype.constructor=b2MotorJoint,b2MotorJoint.prototype.SetAngularOffset=function(e){b2MotorJoint_SetAngularOffset(this.ptr,e),this.angularOffset=e},b2MotorJoint.prototype.SetLinearOffset=function(e){b2MotorJoint_SetLinearOffset(this.ptr,e.x,e.y),this.linearOffset.Set(e.x,e.y)},b2MotorJoint.prototype.SetMaxForce=function(e){b2MotorJoint_SetMaxForce(this.ptr,e),this.maxForce=e},b2MotorJoint.prototype.SetMaxTorque=function(e){b2MotorJoint_SetMaxTorque(this.ptr,e),this.maxTorque=e},b2MotorJoint.prototype.SetCorrectionFactor=function(e){b2MotorJoint_SetCorrectionFactor(this.ptr,e),this.correctionFactor=e};var b2MotorJointDef_Create=Module.cwrap("b2MotorJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2MotorJointDef_InitializeAndCreate=Module.cwrap("b2MotorJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);function b2MotorJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.angularOffset=0,this.correctionFactor=.3,this.linearOffset=new b2Vec2,this.maxForce=0,this.maxTorque=0}b2MotorJointDef.prototype.Create=function(e){var t=new b2MotorJoint(this);return t.ptr=b2MotorJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.angularOffset,this.correctionFactor,this.linearOffset.x,this.linearOffset.y,this.maxForce,this.maxTorque),t},b2MotorJointDef.prototype.InitializeAndCreate=function(e,t){this.bodyA=e,this.bodyB=t;var r=new b2MotorJoint(this);return r.ptr=b2MotorJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.correctionFactor,this.maxForce,this.maxTorque),b2World._Push(r,world.joints),r};var b2PulleyJoint_GetGroundAnchorA=Module.cwrap("b2PulleyJoint_GetGroundAnchorA","null",["number","number"]),b2PulleyJoint_GetGroundAnchorB=Module.cwrap("b2PulleyJoint_GetGroundAnchorB","null",["number","number"]),b2PulleyJoint_GetCurrentLengthA=Module.cwrap("b2PulleyJoint_GetCurrentLengthA","number",["number"]),b2PulleyJoint_GetCurrentLengthB=Module.cwrap("b2PulleyJoint_GetCurrentLengthB","number",["number"]);function b2PulleyJoint(e){b2Joint.call(this,e),this.lengthA=e.lengthA,this.lengthB=e.lengthB,this.ratio=e.ratio}b2PulleyJoint.prototype=Object.create(b2Joint.prototype),b2PulleyJoint.prototype.constructor=b2PulleyJoint,b2PulleyJoint.prototype.GetGroundAnchorA=function(){b2PulleyJoint_GetGroundAnchorA(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2PulleyJoint.prototype.GetGroundAnchorB=function(){b2PulleyJoint_GetGroundAnchorB(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2PulleyJoint.prototype.GetCurrentLengthA=function(){return b2PulleyJoint_GetCurrentLengthA(this.ptr)},b2PulleyJoint.prototype.GetCurrentLengthB=function(){return b2PulleyJoint_GetCurrentLengthB(this.ptr)};var b2PulleyJointDef_Create=Module.cwrap("b2PulleyJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PulleyJointDef_InitializeAndCreate=Module.cwrap("b2PulleyJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2PulleyJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!0,this.groundAnchorA=new b2Vec2,this.groundAnchorB=new b2Vec2,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.lengthA=0,this.lengthB=0,this.ratio=1}b2PulleyJointDef.prototype.Create=function(e){var t=new b2PulleyJoint(this);return t.ptr=b2PulleyJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.groundAnchorA.x,this.groundAnchorA.y,this.groundAnchorB.x,this.groundAnchorB.y,this.lengthA,this.lengthB,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.ratio),t},b2PulleyJointDef.prototype.InitializeAndCreate=function(e,t,r,i,n,o,s){this.bodyA=e,this.bodyB=t;var a=new b2PulleyJoint(this);return a.ptr=b2PulleyJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,n.x,n.y,o.x,o.y,r.x,r.y,i.x,i.y,s,this.collideConnected),b2World._Push(a,world.joints),a};var b2DistanceJoint_SetLength=Module.cwrap("b2DistanceJoint_SetLength","null",["number","number"]),b2DistanceJoint_SetFrequency=Module.cwrap("b2DistanceJoint_SetFrequency","null",["number","number"]),b2DistanceJoint_SetDampingRatio=Module.cwrap("b2DistanceJoint_SetDampingRatio","null",["number","number"]);function b2DistanceJoint(e){b2Joint.call(this,e),this.length=e.length,this.frequencyHz=e.frequencyHz,this.dampingRatio=e.dampingRatio}b2DistanceJoint.prototype=Object.create(b2Joint.prototype),b2DistanceJoint.prototype.constructor=b2DistanceJoint,b2DistanceJoint.prototype.SetLength=function(e){b2DistanceJoint_SetLength(this.ptr,e),this.length=e},b2DistanceJoint.prototype.SetFrequency=function(e){b2DistanceJoint_SetFrequency(this.ptr,e),this.frequencyHz=e},b2DistanceJoint.prototype.SetDampingRatio=function(e){b2DistanceJoint_SetDampingRatio(this.ptr,e),this.dampingRatio=e};var b2DistanceJointDef_Create=Module.cwrap("b2DistanceJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number"]),b2DistanceJointDef_InitializeAndCreate=Module.cwrap("b2DistanceJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number"]);function b2DistanceJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=0,this.length=1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.frequencyHz=0}b2DistanceJointDef.prototype.Create=function(e){var t=new b2DistanceJoint(this);return t.ptr=b2DistanceJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.length,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y),t},b2DistanceJointDef.prototype.InitializeAndCreate=function(e,t,r,i){this.bodyA=e,this.bodyB=t;var n=new b2DistanceJoint(this);return n.ptr=b2DistanceJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,i.x,i.y,this.collideConnected,this.dampingRatio,this.frequencyHz),b2World._Push(n,world.joints),n};var b2PrismaticJoint_EnableLimit=Module.cwrap("b2PrismaticJoint_EnableLimit","number",["number","number"]),b2PrismaticJoint_EnableMotor=Module.cwrap("b2PrismaticJoint_EnableMotor","number",["number","number"]),b2PrismaticJoint_GetJointTranslation=Module.cwrap("b2PrismaticJoint_GetJointTranslation","number",["number"]),b2PrismaticJoint_GetMotorSpeed=Module.cwrap("b2PrismaticJoint_GetMotorSpeed","number",["number"]),b2PrismaticJoint_GetMotorForce=Module.cwrap("b2PrismaticJoint_GetMotorForce","number",["number","number"]),b2PrismaticJoint_IsLimitEnabled=Module.cwrap("b2PrismaticJoint_IsLimitEnabled","number",["number"]),b2PrismaticJoint_IsMotorEnabled=Module.cwrap("b2PrismaticJoint_IsMotorEnabled","number",["number"]),b2PrismaticJoint_SetMotorSpeed=Module.cwrap("b2PrismaticJoint_SetMotorSpeed","number",["number","number"]),b2PrismaticJoint_GetLocalAxisA=Module.cwrap("b2PrismaticJoint_GetLocalAxisA","null",["number","number"]),b2PrismaticJoint_GetJointSpeed=Module.cwrap("b2PrismaticJoint_GetJointSpeed","number",["number"]),b2PrismaticJoint_SetLimits=Module.cwrap("b2PrismaticJoint_SetLimits","null",["number","number","number"]),b2PrismaticJoint_SetMaxMotorForce=Module.cwrap("b2PrismaticJoint_SetMaxMotorForce","null",["number","number"]);function b2PrismaticJoint(e){b2Joint.call(this,e),this.referenceAngle=e.referenceAngle,this.lowerTranslation=e.lowerTranslation,this.upperTranslation=e.upperTranslation,this.maxMotorForce=e.maxMotorForce}b2PrismaticJoint.prototype=Object.create(b2Joint.prototype),b2PrismaticJoint.prototype.constructor=b2PrismaticJoint,b2PrismaticJoint.prototype.EnableLimit=function(e){return b2PrismaticJoint_EnableLimit(this.ptr,e)},b2PrismaticJoint.prototype.EnableMotor=function(e){return b2PrismaticJoint_EnableMotor(this.ptr,e)},b2PrismaticJoint.prototype.GetJointTranslation=function(){return b2PrismaticJoint_GetJointTranslation(this.ptr)},b2PrismaticJoint.prototype.GetMotorSpeed=function(){return b2PrismaticJoint_GetMotorSpeed(this.ptr)},b2PrismaticJoint.prototype.GetMotorForce=function(e){return b2PrismaticJoint_GetMotorForce(this.ptr,e)},b2PrismaticJoint.prototype.IsLimitEnabled=function(){return b2PrismaticJoint_IsLimitEnabled(this.ptr)},b2PrismaticJoint.prototype.IsMotorEnabled=function(){return b2PrismaticJoint_IsMotorEnabled(this.ptr)},b2PrismaticJoint.prototype.GetMotorEnabled=function(){return b2PrismaticJoint_IsMotorEnabled(this.ptr)},b2PrismaticJoint.prototype.SetMotorSpeed=function(e){return b2PrismaticJoint_SetMotorSpeed(this.ptr,e)},b2PrismaticJoint.prototype.GetLocalAxisA=function(){b2PrismaticJoint_GetLocalAxisA(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2PrismaticJoint.prototype.GetJointSpeed=function(){return b2PrismaticJoint_GetJointSpeed(this.ptr)},b2PrismaticJoint.prototype.SetLimits=function(e,t){b2PrismaticJoint_SetLimits(this.ptr,e,t),this.lowerTranslation=e,this.upperTranslation=t},b2PrismaticJoint.prototype.SetMaxMotorForce=function(e){b2PrismaticJoint_SetMaxMotorForce(this.ptr,e),this.maxMotorForce=e};var b2PrismaticJointDef_Create=Module.cwrap("b2PrismaticJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PrismaticJointDef_InitializeAndCreate=Module.cwrap("b2PrismaticJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);function b2PrismaticJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.enableLimit=!1,this.enableMotor=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.localAxisA=new b2Vec2(1,0),this.lowerTranslation=0,this.maxMotorForce=0,this.motorSpeed=0,this.referenceAngle=0,this.upperTranslation=0}b2PrismaticJointDef.prototype.Create=function(e){var t=new b2PrismaticJoint(this);return t.ptr=b2PrismaticJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.enableLimit,this.enableMotor,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.localAxisA.x,this.localAxisA.y,this.lowerTranslation,this.maxMotorForce,this.motorSpeed,this.referenceAngle,this.upperTranslation),t},b2PrismaticJointDef.prototype.InitializeAndCreate=function(e,t,r,i){this.bodyA=e,this.bodyB=t;var n=new b2PrismaticJoint(this);return n.ptr=b2PrismaticJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,r.x,r.y,i.x,i.y,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerTranslation,this.maxMotorForce,this.motorSpeed,this.upperTranslation),b2World._Push(n,world.joints),n};var b2RopeJoint_SetMaxLength=Module.cwrap("b2RopeJoint_SetMaxLength","null",["number","number"]),b2RopeJoint_GetLimitState=Module.cwrap("b2RopeJoint_GetLimitState","number",["number"]);function b2RopeJoint(e){b2Joint.call(this,e),this.maxLength=e.maxLength}b2RopeJoint.prototype=Object.create(b2Joint.prototype),b2RopeJoint.prototype.constructor=b2RopeJoint,b2RopeJoint.prototype.SetMaxLength=function(e){b2RopeJoint_SetMaxLength(this.ptr,e),this.maxLength=e},b2RopeJoint.prototype.GetLimitState=function(){return b2RopeJoint_GetLimitState(this.ptr)};var b2RopeJointDef_Create=Module.cwrap("b2RopeJointDef_Create","number",["number","number","number","number","number","number","number","number","number"]);function b2RopeJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.maxLength=0}b2RopeJointDef.prototype.Create=function(e){var t=new b2RopeJoint(this);return t.ptr=b2RopeJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxLength),t};var b2MouseJoint_SetTarget=Module.cwrap("b2MouseJoint_SetTarget","null",["number","number","number"]),b2MouseJoint_SetMaxForce=Module.cwrap("b2MouseJoint_SetMaxForce","null",["number","number"]),b2MouseJoint_SetFrequency=Module.cwrap("b2MouseJoint_SetFrequency","null",["number","number"]),b2MouseJoint_SetDampingRatio=Module.cwrap("b2MouseJoint_SetDampingRatio","null",["number","number"]);function b2MouseJoint(e){b2Joint.call(this,e),this.target=e.target.Clone(),this.maxForce=e.maxForce,this.frequencyHz=e.frequencyHz,this.dampingRatio=e.dampingRatio}b2MouseJoint.prototype=Object.create(b2Joint.prototype),b2MouseJoint.prototype.constructor=b2MouseJoint,b2MouseJoint.prototype.SetTarget=function(e){b2MouseJoint_SetTarget(this.ptr,e.x,e.y),this.target.Set(e.x,e.y)},b2MouseJoint.prototype.SetMaxForce=function(e){b2MouseJoint_SetMaxForce(this.ptr,e),this.maxForce=e},b2MouseJoint.prototype.SetFrequency=function(e){b2MouseJoint_SetFrequency(this.ptr,e),this.frequencyHz=e},b2MouseJoint.prototype.SetDampingRatio=function(e){b2MouseJoint_SetDampingRatio(this.ptr,e),this.dampingRatio=e};var b2MouseJointDef_Create=Module.cwrap("b2MouseJointDef_Create","number",["number","number","number","number","number","number","number","number","number"]);function b2MouseJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=.7,this.frequencyHz=5,this.maxForce=0,this.target=new b2Vec2}b2MouseJointDef.prototype.Create=function(e){var t=new b2MouseJoint(this);return t.ptr=b2MouseJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.maxForce,this.target.x,this.target.y),t};var b2Contact_flags_offset=Offsets.b2Contact.flags,b2Contact_fixtureA_offset=Offsets.b2Contact.fixtureA,b2Contact_fixtureB_offset=Offsets.b2Contact.fixtureB,b2Contact_tangentSpeed_offset=Offsets.b2Contact.tangentSpeed,e_enabledFlag=4,b2Contact_GetManifold=Module.cwrap("b2Contact_GetManifold","number",["number"]),b2Contact_GetWorldManifold=Module.cwrap("b2Contact_GetWorldManifold","number",["number"]);function b2Contact(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2Filter(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0}b2Contact.prototype.GetFixtureA=function(){var e=this.buffer.getUint32(b2Contact_fixtureA_offset,!0);return world.fixturesLookup[e]},b2Contact.prototype.GetFixtureB=function(){var e=this.buffer.getUint32(b2Contact_fixtureB_offset,!0);return world.fixturesLookup[e]},b2Contact.prototype.GetManifold=function(){return new b2Manifold(b2Contact_GetManifold(this.ptr))},b2Contact.prototype.GetWorldManifold=function(){return new b2WorldManifold(b2Contact_GetWorldManifold(this.ptr))},b2Contact.prototype.SetTangentSpeed=function(e){this.buffer.setFloat32(b2Contact_tangentSpeed_offset,e,!0)},b2Contact.prototype.SetEnabled=function(e){var t=this.buffer.getUint32(b2Contact_flags_offset,!0);e?t|=e_enabledFlag:t&=~e_enabledFlag,this.buffer.setUint32(b2Contact_flags_offset,t,!0)},b2Contact.prototype.IsEnabled=function(){return this.buffer.getUint32(b2Contact_flags_offset,!0)&e_enabledFlag};var b2Fixture_isSensor_offset=Offsets.b2Fixture.isSensor,b2Fixture_userData_offset=Offsets.b2Fixture.userData,b2Fixture_filter_categoryBits_offset=Offsets.b2Fixture.filterCategoryBits,b2Fixture_filter_maskBits_offset=Offsets.b2Fixture.filterMaskBits,b2Fixture_filter_groupIndex_offset=Offsets.b2Fixture.filterGroupIndex;function b2Fixture(){this.body=null,this.buffer=null,this.ptr=null,this.shape=null}var b2Fixture_TestPoint=Module.cwrap("b2Fixture_TestPoint","number",["number","number","number"]),b2Fixture_Refilter=Module.cwrap("b2Fixture_Refilter","null",["number"]);function b2FixtureDef(){this.density=0,this.friction=.2,this.isSensor=!1,this.restitution=0,this.shape=null,this.userData=null,this.filter=new b2Filter}function b2ContactImpulse(e){this.ptr=e,this.buffer=new DataView(Module.HEAPU8.buffer,e)}function b2ParticleSystemDef(){this.colorMixingStrength=.5,this.dampingStrength=1,this.destroyByAge=!0,this.ejectionStrength=.5,this.elasticStrength=.25,this.lifetimeGranularity=1/60,this.powderStrength=.5,this.pressureStrength=.05,this.radius=1,this.repulsiveStrength=1,this.springStrength=.25,this.staticPressureIterations=8,this.staticPressureRelaxation=.2,this.staticPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.surfaceTensionPressureStrength=.2,this.viscousStrength=.25}b2Fixture.prototype._SetPtr=function(e){this.ptr=e,this.buffer=new DataView(Module.HEAPU8.buffer,e)},b2Fixture.prototype.FromFixtureDef=function(e){this.density=e.density,this.friction=e.friction,this.isSensor=e.isSensor,this.restitution=e.restitution,this.shape=e.shape,this.userData=e.userData,this.vertices=[]},b2Fixture.prototype.GetUserData=function(){return this.buffer.getUint32(b2Fixture_userData_offset,!0)},b2Fixture.prototype.SetFilterData=function(e){this.buffer.setUint16(b2Fixture_filter_categoryBits_offset,e.categoryBits,!0),this.buffer.setUint16(b2Fixture_filter_maskBits_offset,e.maskBits,!0),this.buffer.setUint16(b2Fixture_filter_groupIndex_offset,e.groupIndex,!0),this.Refilter()},b2Fixture.prototype.SetSensor=function(e){this.buffer.setUint32(b2Fixture_isSensor_offset,e,!0)},b2Fixture.prototype.Refilter=function(){b2Fixture_Refilter(this.ptr)},b2Fixture.prototype.TestPoint=function(e){return b2Fixture_TestPoint(this.ptr,e.x,e.y)},b2ContactImpulse.prototype.GetNormalImpulse=function(e){return this.buffer.getFloat32(4*e,!0)},b2ContactImpulse.prototype.GetTangentImpulse=function(e){return this.buffer.getFloat32(4*e+8,!0)},b2ContactImpulse.prototype.GetCount=function(e){console.log(this.buffer.getInt32(16,!0))};var b2ParticleSystem_CreateParticle=Module.cwrap("b2ParticleSystem_CreateParticle","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2ParticleSystem_GetColorBuffer=Module.cwrap("b2ParticleSystem_GetColorBuffer","number",["number"]),b2ParticleSystem_GetParticleCount=Module.cwrap("b2ParticleSystem_GetParticleCount","number",["number"]),b2ParticleSystem_GetParticleLifetime=Module.cwrap("b2ParticleSystem_GetParticleLifetime","number",["number","number"]),b2ParticleSystem_GetPositionBuffer=Module.cwrap("b2ParticleSystem_GetPositionBuffer","number",["number"]),b2ParticleSystem_GetVelocityBuffer=Module.cwrap("b2ParticleSystem_GetVelocityBuffer","number",["number"]),b2ParticleSystem_SetDamping=Module.cwrap("b2ParticleSystem_SetDamping","null",["number","number"]),b2ParticleSystem_SetDensity=Module.cwrap("b2ParticleSystem_SetDensity","null",["number","number"]),b2ParticleSystem_SetGravityScale=Module.cwrap("b2ParticleSystem_SetGravityScale","null",["number","number"]),b2ParticleSystem_SetMaxParticleCount=Module.cwrap("b2ParticleSystem_SetMaxParticleCount","null",["number","number"]),b2ParticleSystem_SetParticleLifetime=Module.cwrap("b2ParticleSystem_SetParticleLifetime","null",["number","number","number"]),b2ParticleSystem_SetRadius=Module.cwrap("b2ParticleSystem_SetRadius","null",["number","number"]);function b2ParticleSystem(e){this.dampingStrength=1,this.density=1,this.ptr=e,this.particleGroups=[],this.radius=1,this.gravityScale=1}b2ParticleSystem.prototype.CreateParticle=function(e){return b2ParticleSystem_CreateParticle(this.ptr,e.color.r,e.color.g,e.color.b,e.color.a,e.flags,e.group,e.lifetime,e.position.x,e.position.y,e.userData,e.velocity.x,e.velocity.y)},b2ParticleSystem.prototype.CreateParticleGroup=function(e){var t=new b2ParticleGroup(e.shape._CreateParticleGroup(this,e));return this.particleGroups.push(t),t},b2ParticleSystem.prototype.DestroyParticlesInShape=function(e,t){return e._DestroyParticlesInShape(this,t)},b2ParticleSystem.prototype.GetColorBuffer=function(){var e=4*b2ParticleSystem_GetParticleCount(this.ptr),t=b2ParticleSystem_GetColorBuffer(this.ptr);return new Uint8Array(Module.HEAPU8.buffer,t,e)},b2ParticleSystem.prototype.GetParticleLifetime=function(e){return b2ParticleSystem_GetParticleLifetime(this.ptr,e)},b2ParticleSystem.prototype.GetParticleCount=function(){return b2ParticleSystem_GetParticleCount(this.ptr)},b2ParticleSystem.prototype.GetPositionBuffer=function(){var e=2*b2ParticleSystem_GetParticleCount(this.ptr),t=b2ParticleSystem_GetPositionBuffer(this.ptr);return new Float32Array(Module.HEAPU8.buffer,t,e)},b2ParticleSystem.prototype.GetVelocityBuffer=function(){var e=2*b2ParticleSystem_GetParticleCount(this.ptr),t=b2ParticleSystem_GetVelocityBuffer(this.ptr);return new Float32Array(Module.HEAPU8.buffer,t,e)},b2ParticleSystem.prototype.SetDamping=function(e){this.dampingStrength=e,b2ParticleSystem_SetDamping(this.ptr,e)},b2ParticleSystem.prototype.SetDensity=function(e){this.density=e,b2ParticleSystem_SetDensity(this.ptr,e)},b2ParticleSystem.prototype.SetGravityScale=function(e){this.gravityScale=e,b2ParticleSystem_SetGravityScale(this.ptr,e)},b2ParticleSystem.prototype.SetMaxParticleCount=function(e){b2ParticleSystem_SetMaxParticleCount(this.ptr,e)},b2ParticleSystem.prototype.SetParticleLifetime=function(e,t){b2ParticleSystem_SetParticleLifetime(this.ptr,e,t)},b2ParticleSystem.prototype.SetRadius=function(e){this.radius=e,b2ParticleSystem_SetRadius(this.ptr,e)};var b2_solidParticleGroup=1,b2_rigidParticleGroup=2,b2_particleGroupCanBeEmpty=4,b2_particleGroupWillBeDestroyed=8,b2_particleGroupNeedsUpdateDepth=16,b2_particleGroupInternalMask=b2_particleGroupWillBeDestroyed|b2_particleGroupNeedsUpdateDepth,b2ParticleGroup_ApplyForce=Module.cwrap("b2ParticleGroup_ApplyForce","null",["number","number","number"]),b2ParticleGroup_ApplyLinearImpulse=Module.cwrap("b2ParticleGroup_ApplyLinearImpulse","null",["number","number","number"]),b2ParticleGroup_DestroyParticles=Module.cwrap("b2ParticleGroup_DestroyParticles","null",["number","number"]),b2ParticleGroup_GetBufferIndex=Module.cwrap("b2ParticleGroup_GetBufferIndex","number",["number"]),b2ParticleGroup_GetParticleCount=Module.cwrap("b2ParticleGroup_GetParticleCount","number",["number"]),b2ParticleGroup_groupFlags_offset=Offsets.b2ParticleGroup.groupFlags;function b2ParticleGroup(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2ParticleGroupDef(){this.angle=0,this.angularVelocity=0,this.color=new b2ParticleColor(0,0,0,0),this.flags=0,this.group=new b2ParticleGroup(null),this.groupFlags=0,this.lifetime=0,this.linearVelocity=new b2Vec2,this.position=new b2Vec2,this.positionData=null,this.particleCount=0,this.shape=null,this.strength=1,this.stride=0,this.userData=null}b2ParticleGroup.prototype.ApplyForce=function(e){b2ParticleGroup_ApplyForce(this.ptr,e.x,e.y)},b2ParticleGroup.prototype.ApplyLinearImpulse=function(e){b2ParticleGroup_ApplyLinearImpulse(this.ptr,e.x,e.y)},b2ParticleGroup.prototype.DestroyParticles=function(e){b2ParticleGroup_DestroyParticles(this.ptr,e)},b2ParticleGroup.prototype.GetBufferIndex=function(){return b2ParticleGroup_GetBufferIndex(this.ptr)},b2ParticleGroup.prototype.GetGroupFlags=function(){return this.buffer.getUint32(b2ParticleGroup_groupFlags_offset,!0)},b2ParticleGroup.prototype.GetParticleCount=function(){return b2ParticleGroup_GetParticleCount(this.ptr)},b2ParticleGroup.prototype.SetGroupFlags=function(e){this.buffer.setUint32(b2ParticleGroup_groupFlags_offset,e,!0)};var b2_waterParticle=0,b2_zombieParticle=2,b2_wallParticle=4,b2_springParticle=8,b2_elasticParticle=16,b2_viscousParticle=32,b2_powderParticle=64,b2_tensileParticle=128,b2_colorMixingParticle=256,b2_destructionListenerParticle=512,b2_barrierParticle=1024,b2_staticPressureParticle=2048,b2_reactiveParticle=4096,b2_repulsiveParticle=8192,b2_fixtureContactListenerParticle=16384,b2_particleContactListenerParticle=32768,b2_fixtureContactFilterParticle=65536,b2_particleContactFilterParticle=1<<17;function b2ParticleColor(e,t,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),this.r=e,this.g=t,this.b=r,this.a=i}function b2ParticleDef(){this.color=new b2Vec2,this.flags=0,this.group=0,this.lifetime=0,this.position=new b2Vec2,this.userData=0,this.velocity=new b2Vec2}b2ParticleColor.prototype.Set=function(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i},function(e,t){"use strict";e.com=e.com||{},e.com.github=e.com.github||{},e.com.github.haxePixiGAF=e.com.github.haxePixiGAF||{},e.com.github.haxePixiGAF.data=e.com.github.haxePixiGAF.data||{},e.GAF=e.GAF||{};var r=function(){return Ie.__string_rec(this,"")};function i(e,t){function r(){}r.prototype=e;var i=new r;for(var n in t)i[n]=t[n];return t.toString!==Object.prototype.toString&&(i.toString=t.toString),i}var n=function(){};n.__name__=["HxOverrides"],n.cca=function(e,t){var r=e.charCodeAt(t);if(r==r)return r},n.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},Math.__name__=["Math"];var o=function(){};o.__name__=["Reflect"],o.field=function(e,t){try{return e[t]}catch(e){return null}};var s=function(){};s.__name__=["Std"],s.string=function(e){return Ie.__string_rec(e,"")},s.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=n.cca(e,1)&&88!=n.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t};var a=function(){};a.__name__=["Type"],a.getClassName=function(e){var t=e.__name__;return null==t?null:t.join(".")};var u={__name__:["_UInt","UInt_Impl_"],toFloat:function(e){return e<0?4294967296+e:e+0}},l=e.GAF.GAFLoader=function(){this.contents=[],this.names=[],PIXI.Loader.call(this)};l.__name__=["com","github","haxePixiGAF","core","GAFLoader"],l.__super__=PIXI.Loader,l.prototype=i(PIXI.Loader.prototype,{addGAFFile:function(e){if(".gaf"!=e.substring(e.length-4))throw new Fe("GAFLoader supports only .gaf files");this.add(e,{loadType:1,xhrType:"arraybuffer"})},load:function(e){return this.use(Re(this,this.parseData)),PIXI.Loader.prototype.load.call(this)},parseData:function(e,t){this.names.push(e.url);var r=Te.ofData(e.data);this.contents.push(new me(r,0,r.length)),t()},__class__:l});var c=e.GAF.ZipToGAFAssetConverter=function(e){this._gafAssetsConfigIndex=0,this._ignoreSounds=!1,this._parseConfigAsync=!1,this._currentConfigIndex=0,PIXI.utils.EventEmitter.call(this),this._id=e};c.__name__=["com","github","haxePixiGAF","core","ZipToGAFAssetConverter"],c.getFolderURL=function(e){var t=e.split("?")[0];return t.substring(0,t.lastIndexOf("/")+1)},c.__super__=PIXI.utils.EventEmitter,c.prototype=i(PIXI.utils.EventEmitter.prototype,{convert:function(e,t,r){this.reset(),null!=t&&(this._defaultScale=t),null!=this._defaultContentScaleFactor&&(this._defaultContentScaleFactor=r),null!=this._id&&this._id.length>0&&this._gafBundle.set_name(this._id),"string"==typeof e?this.loadUrls([e]):e instanceof Array&&null==e.__enum__?this.loadUrls(e):Ie.__instanceof(e,l)?this.parseLoader(e):we.trace("ERROR",{fileName:"ZipToGAFAssetConverter.hx",lineNumber:162,className:"com.github.haxePixiGAF.core.ZipToGAFAssetConverter",methodName:"convert"})},reset:function(){this._currentConfigIndex=0,this._configConvertTimeout=0,this._sounds=[],this._taGFXs=new Ae,this._gfxData=new m,this._gafBundle=new p,this._gafBundle.set_soundData(this._soundData),this._gafAssetsIDs=[],this._gafAssetConfigs=new Ae,this._gafAssetConfigSources=new Ae,this._gafAssetsConfigURLs=[],this._gafAssetsConfigIndex=0,this._atlasSourceURLs=[]},findAllAtlasURLs:function(){var e,t;this._atlasSourceURLs=[];for(var r=this._gafAssetConfigs.keys();r.hasNext();){var i=r.next(),n=this._gafAssetConfigs;t=(null!=je[i]?n.getReserved(i):n.h[i]).get_timelines();for(var o=0;o<t.length;){var s=t[o];++o;for(var a=c.getFolderURL(i),u=0,l=s.get_allTextureAtlases();u<l.length;){var h,f=l[u];if(++u,isNaN(this._defaultScale))h=!0;else{var d=f.get_scale(),p=this._defaultScale;h=!isNaN(d)&&!isNaN(p)&&Math.abs(d-p)<1e-5}if(h)for(var _=0,m=f.get_allContentScaleFactors();_<m.length;){var b,g=m[_];if(++_,isNaN(this._defaultContentScaleFactor))b=!0;else{var y=g.get_csf(),v=this._defaultContentScaleFactor;b=!isNaN(y)&&!isNaN(v)&&Math.abs(y-v)<1e-5}if(b)for(var x=0,w=g.get_sources();x<w.length;){var S=w[x];++x,e=a+S.get_source(),"no_atlas"!=S.get_source()&&-1==this._atlasSourceURLs.indexOf(e)&&this._atlasSourceURLs.push(e)}}}}}if(this._atlasSourceURLs.length>0){var E,A;this._loader=new PIXI.Loader,this._loader._completeBinding=this._loader.onComplete.once(Re(this,this.createGAFTimelines));for(var T=0,P=this._atlasSourceURLs.length;T<P;){A=(E=this._atlasSourceURLs[T++]).substring(E.lastIndexOf("/")+1);var C=new V(E),M=this._taGFXs;null!=je[A]?M.setReserved(A,C):M.h[A]=C,this._loader.add(E)}this._loader.load()}},loadUrls:function(e){for(var t=new l,r=0,i=e.length;r<i;)t.addGAFFile(e[r++]);t.onComplete.once(Re(this,this.onLoadUrls)),t.load()},onLoadUrls:function(e){this.parseLoader(e)},parseLoader:function(e){var t,r=e.contents.length;this._gafAssetConfigSources=new Ae,this._gafAssetsIDs=[];for(var i=0;i<r;){var n=i++;t=e.names[n],this._gafAssetsIDs.push(t);var o=e.contents[n],s=this._gafAssetConfigSources;null!=je[t]?s.setReserved(t,o):s.h[t]=o}this.convertConfig()},convertConfig:function(){var e=this._gafAssetsIDs[this._currentConfigIndex],t=this._gafAssetConfigSources,r=null!=je[e]?t.getReserved(e):t.h[e],i=this.getAssetId(this._gafAssetsIDs[this._currentConfigIndex]);if(!Ie.__instanceof(r,me))throw new Fe("Error");var n=new z(i,Ie.__cast(r,me));n.set_defaultScale(this._defaultScale),n.set_defaultCSF(this._defaultContentScaleFactor),n.set_ignoreSounds(this._ignoreSounds),n.on("complete",Re(this,this.onConverted)),n.on("error",Re(this,this.onConvertError)),n.convert(this._parseConfigAsync)},createGAFTimelines:function(e){var t,r;null!=e&&this._loader.onComplete.detach(this._loader._completeBinding);for(var i=null,n=null,o=0,s=this._gafAssetsIDs.length;o<s;){r=this._gafAssetsIDs[o++];var a=this._gafAssetConfigs;t=(i=null!=je[r]?a.getReserved(r):a.h[r]).get_timelines(),n=new f(i);for(var u=0;u<t.length;){var l=t[u];++u,n.addGAFTimeline(this.createTimeline(l,n))}this._gafBundle.addGAFAsset(n)}null!=n&&0!=n.get_timelines().length&&(1==this._gafAssetsIDs.length&&null==this._gafBundle.get_name()&&this._gafBundle.set_name(i.get_id()),this.finalizeParsing())},finalizeParsing:function(){this._taGFXs=null,this._sounds=null,this.emit("complete",{target:this})},createTimeline:function(e,t){for(var r=0,i=e.get_allTextureAtlases();r<i.length;){var n,o=i[r];if(++r,null!=this._defaultScale){var s=this._defaultScale,a=o.get_scale();n=!isNaN(s)&&!isNaN(a)&&Math.abs(s-a)<1e-5}else n=!0;if(n)for(var u=0,l=o.get_allContentScaleFactors();u<l.length;){var h,f=l[u];if(++u,null!=this._defaultContentScaleFactor){var d=this._defaultContentScaleFactor,p=f.get_csf();h=!isNaN(d)&&!isNaN(p)&&Math.abs(d-p)<1e-5}else h=!0;if(h)for(var _=0,m=f.get_sources();_<m.length;){var g=m[_];if(++_,"no_atlas"!=g.get_source()){var y=g.get_source(),v=this._taGFXs;if(null!=(null!=je[y]?v.getReserved(y):v.h[y])){var x=g.get_source(),w=this._taGFXs,S=null!=je[x]?w.getReserved(x):w.h[x];S.set_textureScale(f.get_csf()),this._gfxData.addTAGFX(o.get_scale(),f.get_csf(),g.get_id(),S)}}}}}var E=new b(e);switch(E.set_gafgfxData(this._gfxData),E.set_gafSoundData(this._soundData),E.set_gafAsset(t),c.actionWithAtlases){case"actionLoadAllInGPUMemory":E.loadInVideoMemory("contentAll");break;case"actionLoadInGPUMemoryOnlyDefault":E.loadInVideoMemory("contentDefault")}return E},getAssetId:function(e){var t=e.lastIndexOf("/");t<0?t=0:++t;var r=e.lastIndexOf(".");return r<0&&(r=2147483647),e.substring(t,r)},onConvertError:function(e){throw new Fe("ZipToGAFAssetConverter: "+s.string(e.type))},onConverted:function(e){var t=this._gafAssetsIDs[this._currentConfigIndex],r=c.getFolderURL(t),i=Ie.__cast(e.target,z);i.off("complete",Re(this,this.onConverted)),i.off("error",Re(this,this.onConvertError));var n=i.get_config(),o=this._gafAssetConfigs;null!=je[t]?o.setReserved(t,n):o.h[t]=n;var s=i.get_config().get_sounds();if(null!=s&&!this._ignoreSounds)for(var a=0,u=s.length;a<u;){var l=a++;s[l].source=r+s[l].source}this._currentConfigIndex++,this._currentConfigIndex>=this._gafAssetsIDs.length?this.findAllAtlasURLs():this.convertConfig()},onTexturesReady:function(e){this._gfxData.off("texturesReady",Re(this,this.onTexturesReady)),this.emit("complete",{target:this})},get_gafBundle:function(){return this._gafBundle},__class__:c});var h=e.com.github.haxePixiGAF.data.GAF=function(){};h.__name__=["com","github","haxePixiGAF","data","GAF"],h.get_maxAlpha=function(){return h.use99alpha?.99:1};var f=function(e){this._timelinesByLinkage=new Ae,this._timelinesDictionary=new Ae,this._config=e,this._scale=e.get_defaultScale(),this._csf=e.get_defaultContentScaleFactor(),this._timelines=[]};f.__name__=["com","github","haxePixiGAF","data","GAFAsset"],f.prototype={dispose:function(){if(this._timelines.length>0)for(var e=0,t=this._timelines;e<t.length;){var r=t[e];++e,r.dispose()}this._timelines=null,this._config.dispose(),this._config=null},addGAFTimeline:function(e){var t=e.get_id(),r=this._timelinesDictionary;if(null!=(null!=je[t]?r.getReserved(t):r.h[t]))throw new Fe("Bundle error. More then one timeline use id:'"+e.get_id()+"'");var i=e.get_id(),n=this._timelinesDictionary;if(null!=je[i]?n.setReserved(i,e):n.h[i]=e,this._timelines.push(e),null!=e.get_config().get_linkage()){var o=e.get_linkage(),s=this._timelinesByLinkage;null!=je[o]?s.setReserved(o,e):s.h[o]=e}},getGAFTimelineByLinkage:function(e){var t=this._timelinesByLinkage;return null!=je[e]?t.getReserved(e):t.h[e]},getGAFTimelineByID:function(e){var t=this._timelinesDictionary;return null!=je[e]?t.getReserved(e):t.h[e]},getCustomRegion:function(e,t,r){null==t&&(t=this._scale),null==r&&(r=this._csf);for(var i,n,o,s=null,a=this._config.get_allTextureAtlases().length,u=0;u<a;){var l=u++;if((i=this._config.get_allTextureAtlases()[l]).get_scale()==t){for(var c=i.get_allContentScaleFactors().length,h=0;h<c;){var f=h++;if((n=i.get_allContentScaleFactors()[f]).get_csf()==r){if(null!=(o=n.get_elements().getElementByLinkage(e))){var d=o.get_id(),p=o.get_atlasID(),_=n.get_atlas().getTextureByIDAndAtlasID(d,p),m=o.get_pivotMatrix();s=null!=o.get_scale9Grid()?new se(this.get_id(),_,m,o.get_scale9Grid()):new ue(this.get_id(),_,m)}break}}break}}return s},getValidScale:function(e){var t=be.getItemIndex(this._config.get_scaleValues(),e);return-1!=t?this._config.get_scaleValues()[t]:NaN},hasCSF:function(e){return be.getItemIndex(this._config.get_csfValues(),e)>=0},get_timelines:function(){return this._timelines},get_id:function(){return this._config.get_id()},get_scale:function(){return this._scale},set_scale:function(e){return this._scale=e},get_csf:function(){return this._csf},set_csf:function(e){return this._csf=e},__class__:f};var d=function(e){this._fileLength=0,this._versionMinor=0,this._versionMajor=0,this._compression=0,this._id=e,this._scaleValues=[],this._csfValues=[],this._timelines=[],this._allTextureAtlases=[]};d.__name__=["com","github","haxePixiGAF","data","GAFAssetConfig"],d.prototype={addSound:function(e){null==this._sounds&&(this._sounds=[]),this._sounds.push(e)},dispose:function(){this._allTextureAtlases=null,this._stageConfig=null,this._scaleValues=null,this._csfValues=null,this._timelines=null,this._sounds=null},get_compression:function(){return this._compression},set_compression:function(e){return this._compression=e},get_versionMajor:function(){return this._versionMajor},set_versionMajor:function(e){return this._versionMajor=e},get_versionMinor:function(){return this._versionMinor},set_versionMinor:function(e){return this._versionMinor=e},get_fileLength:function(){return this._fileLength},set_fileLength:function(e){return this._fileLength=e},get_scaleValues:function(){return this._scaleValues},get_csfValues:function(){return this._csfValues},get_defaultScale:function(){return this._defaultScale},set_defaultScale:function(e){return this._defaultScale=e},get_defaultContentScaleFactor:function(){return this._defaultContentScaleFactor},set_defaultContentScaleFactor:function(e){return this._defaultContentScaleFactor=e},get_timelines:function(){return this._timelines},get_allTextureAtlases:function(){return this._allTextureAtlases},get_stageConfig:function(){return this._stageConfig},set_stageConfig:function(e){return this._stageConfig=e},get_id:function(){return this._id},get_sounds:function(){return this._sounds},__class__:d};var p=e.GAF.GAFBundle=function(){this._gafAssets=[],this._gafAssetsDictionary=new Ae};p.__name__=["com","github","haxePixiGAF","data","GAFBundle"],p.prototype={dispose:function(){if(null!=this._gafAssets){this._soundData=null;for(var e=0,t=this._gafAssets;e<t.length;){var r=t[e];++e,r.dispose()}this._gafAssets=null,this._gafAssetsDictionary=null}},getGAFTimeline:function(e,t){null==t&&(t="rootTimeline");var r=null,i=this._gafAssetsDictionary,n=null!=je[e]?i.getReserved(e):i.h[e];return null!=n&&(r=n.getGAFTimelineByLinkage(t)),r},getCustomRegion:function(e,t,r,i){var n=null,o=this._gafAssetsDictionary,s=null!=je[e]?o.getReserved(e):o.h[e];return null!=s&&(n=s.getCustomRegion(t,r,i)),n},getGAFTimelineBySWFNameAndID:function(e,t){var r=null,i=this._gafAssetsDictionary,n=null!=je[e]?i.getReserved(e):i.h[e];return null!=n&&(r=n.getGAFTimelineByID(t)),r},addGAFAsset:function(e){var t=e.get_id(),r=this._gafAssetsDictionary;if(null!=(null!=je[t]?r.getReserved(t):r.h[t]))throw new Fe("Bundle error. More then one gaf asset use id:'"+e.get_id()+"'");var i=e.get_id(),n=this._gafAssetsDictionary;null!=je[i]?n.setReserved(i,e):n.h[i]=e,this._gafAssets.push(e)},get_soundData:function(){return this._soundData},set_soundData:function(e){return this._soundData=e},get_gafAssets:function(){return this._gafAssets},get_name:function(){return this._name},set_name:function(e){return this._name=e},__class__:p};var _=function(){this.color=0,this.type=0};_.__name__=["com","github","haxePixiGAF","data","GAFDebugInformation"],_.prototype={__class__:_};var m=function(){this._textureLoadersSet=new Se,this._taGFXDictionary=new Ae,this._texturesDictionary=new Ae,PIXI.utils.EventEmitter.call(this)};m.__name__=["com","github","haxePixiGAF","data","GAFGFXData"],m.__super__=PIXI.utils.EventEmitter,m.prototype=i(PIXI.utils.EventEmitter.prototype,{addTAGFX:function(e,t,r,i){var n=null==e?"null":""+e,o=null==t?"null":""+t,s=this._taGFXDictionary;if(null==(null!=je[n]?s.getReserved(n):s.h[n])){var a=new Ae,u=this._taGFXDictionary;null!=je[n]?u.setReserved(n,a):u.h[n]=a}var l=this._taGFXDictionary;if(null==(null!=je[n]?l.getReserved(n):l.h[n]).get(o)){var c=this._taGFXDictionary,h=null!=je[n]?c.getReserved(n):c.h[n],f=new Ae;h.set(o,f)}var d=this._taGFXDictionary;if(null==(null!=je[n]?d.getReserved(n):d.h[n]).get(o).get(r)){var p=this._taGFXDictionary;(null!=je[n]?p.getReserved(n):p.h[n]).get(o).set(r,i)}},getTAGFXs:function(e,t){var r=null==e?"null":""+e,i=null==t?"null":""+t;if(null!=this._taGFXDictionary){var n=this._taGFXDictionary;if(null!=(null!=je[r]?n.getReserved(r):n.h[r])){var o=this._taGFXDictionary;return(null!=je[r]?o.getReserved(r):o.h[r]).get(i)}}return null},getTAGFX:function(e,t,r){var i=null==e?"null":""+e,n=null==t?"null":""+t;if(null!=this._taGFXDictionary){var o=this._taGFXDictionary;if(null!=(null!=je[i]?o.getReserved(i):o.h[i])){var s=this._taGFXDictionary;if(null!=(null!=je[i]?s.getReserved(i):s.h[i]).get(n)){var a=this._taGFXDictionary;return(null!=je[i]?a.getReserved(i):a.h[i]).get(n).get(r)}}}return null},createTextures:function(e,t){var r=this.getTAGFXs(e,t);if(null!=r){var i=null==e?"null":""+e,n=null==t?"null":""+t,o=this._texturesDictionary;if(null==(null!=je[i]?o.getReserved(i):o.h[i])){var s=new Ae,a=this._texturesDictionary;null!=je[i]?a.setReserved(i,s):a.h[i]=s}var u=this._texturesDictionary;if(null==(null!=je[i]?u.getReserved(i):u.h[i]).get(n)){var l=this._texturesDictionary,c=null!=je[i]?l.getReserved(i):l.h[i],h=new Ae;c.set(n,h)}for(var f=r.keys();f.hasNext();){var d=f.next();if(null!=(null!=je[d]?r.getReserved(d):r.h[d])){var p=this._texturesDictionary;this.addTexture((null!=je[i]?p.getReserved(i):p.h[i]).get(n),null!=je[d]?r.getReserved(d):r.h[d],d)}}return!0}return!1},createTexture:function(e,t,r){var i=this.getTAGFX(e,t,r);if(null!=i){var n=null==e?"null":""+e,o=null==t?"null":""+t,s=this._texturesDictionary;if(null==(null!=je[n]?s.getReserved(n):s.h[n])){var a=new Ae,u=this._texturesDictionary;null!=je[n]?u.setReserved(n,a):u.h[n]=a}var l=this._texturesDictionary;if(null==(null!=je[n]?l.getReserved(n):l.h[n]).get(o)){var c=this._texturesDictionary,h=null!=je[n]?c.getReserved(n):c.h[n],f=new Ae;h.set(o,f)}var d=this._texturesDictionary;return this.addTexture((null!=je[n]?d.getReserved(n):d.h[n]).get(o),i,r),!0}return!1},getTexture:function(e,t,r){var i=null==e?"null":""+e,n=null==t?"null":""+t;if(null!=this._texturesDictionary){var o=this._texturesDictionary;if(null!=(null!=je[i]?o.getReserved(i):o.h[i])){var s=this._texturesDictionary;if(null!=(null!=je[i]?s.getReserved(i):s.h[i]).get(n)){var a=this._texturesDictionary;if(null!=(null!=je[i]?a.getReserved(i):a.h[i]).get(n).get(r)){var u=this._texturesDictionary;return(null!=je[i]?u.getReserved(i):u.h[i]).get(n).get(r)}}}}if(this.createTexture(e,t,r)){var l=this._texturesDictionary;return(null!=je[i]?l.getReserved(i):l.h[i]).get(n).get(r)}return null},getTextures:function(e,t){var r=null==e?"null":""+e,i=null==t?"null":""+t;if(null!=this._texturesDictionary){var n=this._texturesDictionary;if(null!=(null!=je[r]?n.getReserved(r):n.h[r])){var o=this._texturesDictionary;return(null!=je[r]?o.getReserved(r):o.h[r]).get(i)}}return null},disposeTextures:function(e,t,r){we.trace("disposeTextures: TODO",{fileName:"GAFGFXData.hx",lineNumber:221,className:"com.github.haxePixiGAF.data.GAFGFXData",methodName:"disposeTextures"})},addTexture:function(e,t,r){if(fe.RENDERING_DEBUG){if(null==t.get_texture())throw new Fe("GAFGFXData texture for rendering not found!")}else if(null==(null!=je[r]?e.getReserved(r):e.h[r])){t.get_ready()||(this._textureLoadersSet.set(t,t),t.on("textureReady",Re(this,this.onTextureReady)));var i=Y.fromTexture(t.get_texture());null!=je[r]?e.setReserved(r,i):e.h[r]=i}},onTextureReady:function(e){var t=Ie.__cast(e.target,H);t.off("textureReady",Re(this,this.onTextureReady)),this._textureLoadersSet.remove(t),this.get_isTexturesReady()&&this.emit("texturesReady")},get_isTexturesReady:function(){for(var e=!0,t=this._textureLoadersSet.iterator();t.hasNext();){t.next(),e=!1;break}return we.trace("isTexturesReady",{fileName:"GAFGFXData.hx",lineNumber:364,className:"com.github.haxePixiGAF.data.GAFGFXData",methodName:"get_isTexturesReady",customParams:[e]}),e},__class__:m});var b=e.GAF.GAFTimeline=function(e){this._config=e};b.__name__=["com","github","haxePixiGAF","data","GAFTimeline"],b.prototype={getTextureByName:function(e){var t=this._config.getNamedPartID(e);if(null!=t){var r=this._config.get_animationObjects().getAnimationObject(t);if(null!=r)return this.get_textureAtlas().getTexture(r.get_regionID())}return null},dispose:function(){this._config.dispose(),this._config=null,this._gafAsset=null,this._gafgfxData=null,this._gafSoundData=null},loadInVideoMemory:function(e,t,r){var i,n;if(null==e&&(e="contentDefault"),null!=this._config.get_textureAtlas()&&null!=this._config.get_textureAtlas().get_contentScaleFactor().get_elements())switch(e){case"contentAll":for(var o=0,s=this._config.get_allTextureAtlases();o<s.length;){var a=s[o];++o;for(var u=0,l=a.get_allContentScaleFactors();u<l.length;){var c=l[u];++u,this._gafgfxData.createTextures(a.get_scale(),c.get_csf()),i=this._gafgfxData.getTextures(a.get_scale(),c.get_csf()),null==c.get_atlas()&&null!=i&&c.set_atlas(R.createFromTextures(i,c))}}return;case"contentDefault":if(null==(n=this._config.get_textureAtlas().get_contentScaleFactor()))return;return void(null==n.get_atlas()&&this._gafgfxData.createTextures(this.get_scale(),this.get_contentScaleFactor())&&n.set_atlas(R.createFromTextures(this._gafgfxData.getTextures(this.get_scale(),this.get_contentScaleFactor()),n)));case"contentSpecify":if(null==(n=this.getCSFConfig(t,r)))return;return void(null==n.get_atlas()&&this._gafgfxData.createTextures(t,r)&&n.set_atlas(R.createFromTextures(this._gafgfxData.getTextures(t,r),n)))}},unloadFromVideoMemory:function(e,t,r){var i;if(null==e&&(e="contentDefault"),null!=this._config.get_textureAtlas()&&null!=this._config.get_textureAtlas().get_contentScaleFactor().get_elements())switch(e){case"contentAll":return this._gafgfxData.disposeTextures(),void this._config.dispose();case"contentDefault":return this._gafgfxData.disposeTextures(t,this.get_contentScaleFactor()),void this._config.get_textureAtlas().get_contentScaleFactor().dispose();case"contentSpecify":return void(null!=(i=this.getCSFConfig(t,r))&&(this._gafgfxData.disposeTextures(t,r),i.dispose()))}},startSound:function(e){},getCSFConfig:function(e,t){var r=this._config.getTextureAtlasForScale(e);if(null!=r){var i=r.getTextureAtlasForCSF(t);return null!=i?i:null}return null},get_id:function(){return this.get_config().get_id()},get_linkage:function(){return this.get_config().get_linkage()},get_assetID:function(){return this.get_config().get_assetID()},get_textureAtlas:function(){return null==this._config.get_textureAtlas()?null:(null==this._config.get_textureAtlas().get_contentScaleFactor().get_atlas()&&this.loadInVideoMemory("contentDefault"),this._config.get_textureAtlas().get_contentScaleFactor().get_atlas())},get_config:function(){return this._config},set_scale:function(e){var t=this._gafAsset.getValidScale(e);if(isNaN(t))throw new Fe(" scale was not found in GAF config");if(this._gafAsset.set_scale(t),null==this._config.get_textureAtlas())return null;var r=this.get_contentScaleFactor(),i=this._config.getTextureAtlasForScale(t);if(null==i)throw new Fe("There is no scale "+t+"in timeline config");this._config.set_textureAtlas(i);var n=this._config.get_textureAtlas().getTextureAtlasForCSF(r);if(null==n)throw new Fe("There is no csf "+r+"in timeline config for scalse "+t);return this._config.get_textureAtlas().set_contentScaleFactor(n),this._gafAsset.get_scale()},get_scale:function(){return this._gafAsset.get_scale()},set_contentScaleFactor:function(e){if(this._gafAsset.hasCSF(e)&&this._gafAsset.set_csf(e),null==this._config.get_textureAtlas())return null;var t=this._config.get_textureAtlas().getTextureAtlasForCSF(e);if(null==t)throw new Fe("There is no csf "+e+"in timeline config");return this._config.get_textureAtlas().set_contentScaleFactor(t),this._gafAsset.get_csf()},get_contentScaleFactor:function(){return this._gafAsset.get_csf()},set_gafgfxData:function(e){return this._gafgfxData=e},get_gafgfxData:function(){return this._gafgfxData},get_gafAsset:function(){return this._gafAsset},set_gafAsset:function(e){return this._gafAsset=e},get_gafSoundData:function(){return this._gafSoundData},set_gafSoundData:function(e){return this._gafSoundData=e},__class__:b};var g=function(e){this._disposed=!1,this._framesCount=0,this._version=e,this._animationConfigFrames=new x,this._animationObjects=new S,this._animationSequences=new A,this._textFields=new k};g.__name__=["com","github","haxePixiGAF","data","GAFTimelineConfig"],g.prototype={dispose:function(){for(var e=0,t=this._allTextureAtlases;e<t.length;){var r=t[e];++e,r.dispose()}this._allTextureAtlases=null,this._animationConfigFrames=null,this._animationSequences=null,this._animationObjects=null,this._textureAtlas=null,this._textFields=null,this._namedParts=null,this._warnings=null,this._bounds=null,this._pivot=null,this._disposed=!0},getTextureAtlasForScale:function(e){for(var t=0,r=this._allTextureAtlases;t<r.length;){var i=r[t];++t;var n=i.get_scale();if(!isNaN(n)&&!isNaN(e)&&Math.abs(n-e)<1e-5)return i}return null},addWarning:function(e){null!=e&&(null==this._warnings&&(this._warnings=[]),-1==this._warnings.indexOf(e)&&(we.trace(e,{fileName:"GAFTimelineConfig.hx",lineNumber:138,className:"com.github.haxePixiGAF.data.GAFTimelineConfig",methodName:"addWarning"}),this._warnings.push(e)))},getNamedPartID:function(e){for(var t=this._namedParts,r=new Ee(t,t.arrayKeys());r.hasNext();){var i=r.next(),n=this._namedParts;if((null!=je[i]?n.getReserved(i):n.h[i])==e)return i}return null},get_textureAtlas:function(){return this._textureAtlas},set_textureAtlas:function(e){return this._textureAtlas=e},get_animationObjects:function(){return this._animationObjects},set_animationObjects:function(e){return this._animationObjects=e},get_animationConfigFrames:function(){return this._animationConfigFrames},set_animationConfigFrames:function(e){return this._animationConfigFrames=e},get_animationSequences:function(){return this._animationSequences},set_animationSequences:function(e){return this._animationSequences=e},get_textFields:function(){return this._textFields},set_textFields:function(e){return this._textFields=e},get_allTextureAtlases:function(){return this._allTextureAtlases},set_allTextureAtlases:function(e){return this._allTextureAtlases=e},get_version:function(){return this._version},get_debugRegions:function(){return this._debugRegions},set_debugRegions:function(e){return this._debugRegions=e},get_warnings:function(){return this._warnings},get_id:function(){return this._id},set_id:function(e){return this._id=e},get_assetID:function(){return this._assetID},set_assetID:function(e){return this._assetID=e},get_namedParts:function(){return this._namedParts},set_namedParts:function(e){return this._namedParts=e},get_linkage:function(){return this._linkage},set_linkage:function(e){return this._linkage=e},get_stageConfig:function(){return this._stageConfig},set_stageConfig:function(e){return this._stageConfig=e},get_framesCount:function(){return this._framesCount},set_framesCount:function(e){return this._framesCount=e},get_bounds:function(){return this._bounds},set_bounds:function(e){return this._bounds=e},get_pivot:function(){return this._pivot},set_pivot:function(e){return this._pivot=e},get_disposed:function(){return this._disposed},__class__:g};var y=function(e){this._frameNumber=0,this._frameNumber=e,this._instancesDictionary=new Ae,this._instances=[]};y.__name__=["com","github","haxePixiGAF","data","config","CAnimationFrame"],y.prototype={clone:function(e){for(var t=new y(e),r=0,i=this._instances;r<i.length;){var n=i[r];++r,t.addInstance(n)}return t},addInstance:function(e){var t=e.get_id(),r=this._instancesDictionary;if(null!=(null!=je[t]?r.getReserved(t):r.h[t]))if(null!=e.get_alpha()){var i=e.get_id(),n=this._instancesDictionary;this._instances[this._instances.indexOf(null!=je[i]?n.getReserved(i):n.h[i])]=e;var o=e.get_id(),s=this._instancesDictionary;null!=je[o]?s.setReserved(o,e):s.h[o]=e}else{var a=e.get_id(),u=this._instancesDictionary,l=this._instances.indexOf(null!=je[a]?u.getReserved(a):u.h[a]);l==this._instances.length-1?this._instances.pop():this._instances[l]=this._instances.pop(),this._instancesDictionary.remove(e.get_id())}else{this._instances.push(e);var c=e.get_id(),h=this._instancesDictionary;null!=je[c]?h.setReserved(c,e):h.h[c]=e}},addAction:function(e){null==this._actions&&(this._actions=[]),this._actions.push(e)},sortInstances:function(){this._instances.sort(Re(this,this.sortByZIndex))},getInstanceByID:function(e){var t=this._instancesDictionary;return null!=je[e]?t.getReserved(e):t.h[e]},sortByZIndex:function(e,t){return e.get_zIndex()<t.get_zIndex()?-1:e.get_zIndex()>t.get_zIndex()?1:0},get_instances:function(){return this._instances},get_frameNumber:function(){return this._frameNumber},get_actions:function(){return this._actions},__class__:y};var v=function(e){this._zIndex=0,this._id=e};v.__name__=["com","github","haxePixiGAF","data","config","CAnimationFrameInstance"],v.prototype={clone:function(){var e=new v(this._id),t=null;return null!=this._filter&&(t=this._filter.clone()),e.update(this._zIndex,this._matrix.clone(),this._alpha,this._maskID,t),e},update:function(e,t,r,i,n){this._zIndex=e,this._matrix=t,this._alpha=r,this._maskID=i,this._filter=n},getTransformMatrix:function(e,t){var r=e.clone();return v.tx=this._matrix.tx,v.ty=this._matrix.ty,this._matrix.tx*=t,this._matrix.ty*=t,ge.concat(r,this._matrix),this._matrix.tx=v.tx,this._matrix.ty=v.ty,r},applyTransformMatrix:function(e,t,r){ge.copyFrom(e,t),v.tx=this._matrix.tx,v.ty=this._matrix.ty,this._matrix.tx*=r,this._matrix.ty*=r,ge.concat(e,this._matrix),this._matrix.tx=v.tx,this._matrix.ty=v.ty},calculateTransformMatrix:function(e,t,r){return this.applyTransformMatrix(e,t,r),e},get_id:function(){return this._id},get_matrix:function(){return this._matrix},get_alpha:function(){return this._alpha},get_maskID:function(){return this._maskID},get_filter:function(){return this._filter},get_zIndex:function(){return this._zIndex},__class__:v};var x=function(){this._frames=[]};x.__name__=["com","github","haxePixiGAF","data","config","CAnimationFrames"],x.prototype={addFrame:function(e){this._frames.push(e)},get_frames:function(){return this._frames},__class__:x};var w=function(e,t,r,i){this._mask=!1,this._instanceID=e,this._regionID=t,this._type=r,this._mask=i};w.__name__=["com","github","haxePixiGAF","data","config","CAnimationObject"],w.prototype={get_instanceID:function(){return this._instanceID},get_regionID:function(){return this._regionID},get_mask:function(){return this._mask},get_type:function(){return this._type},get_maxSize:function(){return this._maxSize},set_maxSize:function(e){return this._maxSize=e},__class__:w};var S=function(){this._animationObjectsDictionary=new Ae};S.__name__=["com","github","haxePixiGAF","data","config","CAnimationObjects"],S.prototype={addAnimationObject:function(e){var t=e.get_instanceID(),r=this._animationObjectsDictionary;if(null==(null!=je[t]?r.getReserved(t):r.h[t])){var i=e.get_instanceID(),n=this._animationObjectsDictionary;null!=je[i]?n.setReserved(i,e):n.h[i]=e}},getAnimationObject:function(e){var t=this._animationObjectsDictionary;if(null!=(null!=je[e]?t.getReserved(e):t.h[e])){var r=this._animationObjectsDictionary;return null!=je[e]?r.getReserved(e):r.h[e]}return null},get_animationObjectsDictionary:function(){return this._animationObjectsDictionary},__class__:S};var E=function(e,t,r){this._endFrameNo=0,this._startFrameNo=0,this._id=e,this._startFrameNo=t,this._endFrameNo=r};E.__name__=["com","github","haxePixiGAF","data","config","CAnimationSequence"],E.prototype={isSequenceFrame:function(e){return e>=this._startFrameNo&&e<=this._endFrameNo},get_id:function(){return this._id},get_startFrameNo:function(){return this._startFrameNo},get_endFrameNo:function(){return this._endFrameNo},__class__:E};var A=function(){this._sequences=[],this._sequencesStartDictionary={},this._sequencesEndDictionary={}};A.__name__=["com","github","haxePixiGAF","data","config","CAnimationSequences"],A.prototype={addSequence:function(e){this._sequences.push(e),this._sequencesStartDictionary[e.get_startFrameNo()]||(this._sequencesStartDictionary[e.get_startFrameNo()]=e),this._sequencesEndDictionary[e.get_endFrameNo()]||(this._sequencesEndDictionary[e.get_endFrameNo()]=e)},getSequenceStart:function(e){return this._sequencesStartDictionary[e]},getSequenceEnd:function(e){return this._sequencesEndDictionary[e]},getStartFrameNo:function(e){for(var t=0,r=this._sequences;t<r.length;){var i=r[t];if(++t,i.get_id()==e)return i.get_startFrameNo()}return 0},getSequenceByID:function(e){for(var t=0,r=this._sequences;t<r.length;){var i=r[t];if(++t,i.get_id()==e)return i}return null},getSequenceByFrame:function(e){for(var t=0,r=this._sequences.length;t<r;){var i=t++;if(this._sequences[i].isSequenceFrame(e))return this._sequences[i]}return null},get_sequences:function(){return this._sequences},__class__:A};var T=function(){};T.__name__=["com","github","haxePixiGAF","data","config","ICFilterData"],T.prototype={__class__:T};var P=function(){this.resolution=1,this.knockout=!1,this.inner=!1,this.alpha=1,this.strength=0,this.distance=0,this.angle=0,this.color=0};P.__name__=["com","github","haxePixiGAF","data","config","CBlurFilterData"],P.__interfaces__=[T],P.prototype={clone:function(){var e=new P;return e.blurX=this.blurX,e.blurY=this.blurY,e.color=this.color,e.angle=this.angle,e.distance=this.distance,e.strength=this.strength,e.alpha=this.alpha,e.inner=this.inner,e.knockout=this.knockout,e.resolution=this.resolution,e},__class__:P};var C=function(){this.matrix=[]};C.__name__=["com","github","haxePixiGAF","data","config","CColorMatrixFilterData"],C.__interfaces__=[T],C.prototype={clone:function(){for(var e=new C,t=e.matrix,r=this.matrix,i=r.length,n=0;n<i;){var o=n++;t[o]=r[o]}return e},__class__:C};var M=function(){this._filterConfigs=[]};M.__name__=["com","github","haxePixiGAF","data","config","CFilter"],M.prototype={clone:function(){for(var e=new M,t=0,r=this._filterConfigs;t<r.length;){var i=r[t];++t;var n=i.clone();e.get_filterConfigs().push(n)}return e},addBlurFilter:function(e,t){var r=new P;return r.blurX=e,r.blurY=t,r.color=-1,this._filterConfigs.push(r),""},addGlowFilter:function(e,t,r,i,n,o,s){null==s&&(s=!1),null==o&&(o=!1),null==n&&(n=1);var a=new P;return a.blurX=e,a.blurY=t,a.color=r,a.alpha=i,a.strength=n,a.inner=o,a.knockout=s,this._filterConfigs.push(a),""},addDropShadowFilter:function(e,t,r,i,n,o,s,a,u){null==u&&(u=!1),null==a&&(a=!1),null==s&&(s=1);var l=new P;return l.blurX=e,l.blurY=t,l.color=r,l.alpha=i,l.angle=n,l.distance=o,l.strength=s,l.inner=a,l.knockout=u,this._filterConfigs.push(l),""},addColorTransform:function(e){if(null==this.getColorMatrixFilter()){var t=new C,r=t.matrix;r[0]=e[1],r[1]=0,r[2]=0,r[3]=0,r[4]=e[2],r[5]=0,r[6]=e[3],r[7]=0,r[8]=0,r[9]=e[4],r[10]=0,r[11]=0,r[12]=e[5],r[13]=0,r[14]=e[6],r[15]=0,r[16]=0,r[17]=0,r[18]=1,r[19]=0,this._filterConfigs.push(t)}},addColorMatrixFilter:function(e){for(var t=0,r=e.length;t<r;){var i=t++;i%5==4&&(e[i]=e[i]/255)}for(var n=new C,o=n.matrix,s=e.length,a=0;a<s;){var u=a++;o[u]=e[u]}return this._filterConfigs.push(n),""},getBlurFilter:function(){for(var e=0,t=this._filterConfigs;e<t.length;){var r=t[e];if(++e,Ie.__instanceof(r,P))return Ie.__cast(r,P)}return null},getColorMatrixFilter:function(){for(var e=0,t=this._filterConfigs;e<t.length;){var r=t[e];if(++e,Ie.__instanceof(r,C))return Ie.__cast(r,C)}return null},get_filterConfigs:function(){return this._filterConfigs},__class__:M};var F=function(){this.params=[],this.type=0};F.__name__=["com","github","haxePixiGAF","data","config","CFrameAction"],F.prototype={__class__:F};var I=function(){this.stereo=!1,this.sampleCount=0,this.sampleSize=0,this.rate=0,this.format=0,this.soundID=0};I.__name__=["com","github","haxePixiGAF","data","config","CSound"],I.prototype={__class__:I};var O=function(){this.height=0,this.width=0,this.color=0,this.fps=0};O.__name__=["com","github","haxePixiGAF","data","config","CStage"],O.prototype={clone:function(e){return this.fps=e.fps,this.color=e.color,this.width=e.width,this.height=e.height,this},__class__:O};var D=function(e,t,r,i,n){this._maxChars=0,this._displayAsPassword=!1,this._selectable=!1,this._editable=!1,this._wordWrap=!1,this._multiline=!1,this._embedFonts=!1,this._id=e,this._text=t,this._textFormat=r,this._width=i,this._height=n,this._pivotPoint=new PIXI.Point};D.__name__=["com","github","haxePixiGAF","data","config","CTextFieldObject"],D.prototype={get_id:function(){return this._id},set_id:function(e){return this._id=e},get_text:function(){return this._text},set_text:function(e){return this._text=e},get_textFormat:function(){return this._textFormat},set_textFormat:function(e){return this._textFormat=e},get_width:function(){return this._width},set_width:function(e){return this._width=e},get_height:function(){return this._height},set_height:function(e){return this._height=e},get_embedFonts:function(){return this._embedFonts},set_embedFonts:function(e){return this._embedFonts=e},get_multiline:function(){return this._multiline},set_multiline:function(e){return this._multiline=e},get_wordWrap:function(){return this._wordWrap},set_wordWrap:function(e){return this._wordWrap=e},get_restrict:function(){return this._restrict},set_restrict:function(e){return this._restrict=e},get_editable:function(){return this._editable},set_editable:function(e){return this._editable=e},get_selectable:function(){return this._selectable},set_selectable:function(e){return this._selectable=e},get_displayAsPassword:function(){return this._displayAsPassword},set_displayAsPassword:function(e){return this._displayAsPassword=e},get_maxChars:function(){return this._maxChars},set_maxChars:function(e){return this._maxChars=e},get_pivotPoint:function(){return this._pivotPoint},set_pivotPoint:function(e){return this._pivotPoint=e},__class__:D};var k=function(){this._textFieldObjectsDictionary=new Ae};k.__name__=["com","github","haxePixiGAF","data","config","CTextFieldObjects"],k.prototype={addTextFieldObject:function(e){var t=e.get_id(),r=this._textFieldObjectsDictionary;if(null==(null!=je[t]?r.getReserved(t):r.h[t])){var i=e.get_id(),n=this._textFieldObjectsDictionary;null!=je[i]?n.setReserved(i,e):n.h[i]=e}},getAnimationObject:function(e){var t=this._textFieldObjectsDictionary;if(null!=(null!=je[e]?t.getReserved(e):t.h[e])){var r=this._textFieldObjectsDictionary;return Ie.__cast(null!=je[e]?r.getReserved(e):r.h[e],w)}return null},get_textFieldObjectsDictionary:function(){return this._textFieldObjectsDictionary},__class__:k};var R=function(e,t){this._textureAtlasesDictionary=e,this._textureAtlasConfig=t};R.__name__=["com","github","haxePixiGAF","data","config","CTextureAtlas"],R.createFromTextures=function(e,t){for(var r=new Ae,i=0,n=t.get_elements().get_elementsVector();i<n.length;){var o=n[i];++i;var s=o.get_atlasID();if(null==(null!=je[s]?r.getReserved(s):r.h[s])){var a=o.get_atlasID(),u=o.get_atlasID(),l=new K(null!=je[u]?e.getReserved(u):e.h[u]);null!=je[a]?r.setReserved(a,l):r.h[a]=l}var c=o.get_atlasID();(null!=je[c]?r.getReserved(c):r.h[c]).addRegion(o.get_id(),o.get_region(),null,o.get_rotated())}return new R(r,t)},R.prototype={dispose:function(){for(var e=this._textureAtlasesDictionary,t=new Ee(e,e.arrayKeys());t.hasNext();)t.next().dispose()},getTexture:function(e){var t=this._textureAtlasConfig.get_elements().getElement(e);if(null!=t){var r=this.getTextureByIDAndAtlasID(e,t.get_atlasID()),i=null!=this._textureAtlasConfig.get_elements().getElement(e)?this._textureAtlasConfig.get_elements().getElement(e).get_pivotMatrix():new PIXI.Matrix;return null!=t.get_scale9Grid()?new se(e,r,i,t.get_scale9Grid()):new ue(e,r,i)}return null},getTextureByIDAndAtlasID:function(e,t){var r=this._textureAtlasesDictionary;return(null!=je[t]?r.getReserved(t):r.h[t]).getTexture(e)},__class__:R};var B=function(e,t){this._csf=e,this._scale=t,this._sources=[]};B.__name__=["com","github","haxePixiGAF","data","config","CTextureAtlasCSF"],B.prototype={dispose:function(){null!=this._atlas&&(this._atlas.dispose(),this._atlas=null)},get_csf:function(){return this._csf},get_sources:function(){return this._sources},set_sources:function(e){return this._sources=e},get_atlas:function(){return this._atlas},set_atlas:function(e){return this._atlas=e},get_elements:function(){return this._elements},set_elements:function(e){return this._elements=e},__class__:B};var N=function(e,t){this._rotated=!1,this._id=e,this._atlasID=t};N.__name__=["com","github","haxePixiGAF","data","config","CTextureAtlasElement"],N.prototype={get_id:function(){return this._id},get_region:function(){return this._region},set_region:function(e){return this._region=e},get_pivotMatrix:function(){return this._pivotMatrix},set_pivotMatrix:function(e){return this._pivotMatrix=e},get_atlasID:function(){return this._atlasID},get_scale9Grid:function(){return this._scale9Grid},set_scale9Grid:function(e){return this._scale9Grid=e},get_linkage:function(){return this._linkage},set_linkage:function(e){return this._linkage=e},get_rotated:function(){return this._rotated},set_rotated:function(e){return this._rotated=e},__class__:N};var L=function(){this._elementsVector=[],this._elementsDictionary=new Ae,this._elementsByLinkage=new Ae};L.__name__=["com","github","haxePixiGAF","data","config","CTextureAtlasElements"],L.prototype={addElement:function(e){var t=e.get_id(),r=this._elementsDictionary;if(null==(null!=je[t]?r.getReserved(t):r.h[t])){var i=e.get_id(),n=this._elementsDictionary;if(null!=je[i]?n.setReserved(i,e):n.h[i]=e,this._elementsVector.push(e),null!=e.get_linkage()){var o=e.get_linkage(),s=this._elementsByLinkage;null!=je[o]?s.setReserved(o,e):s.h[o]=e}}},getElement:function(e){var t=this._elementsDictionary;if(null!=(null!=je[e]?t.getReserved(e):t.h[e])){var r=this._elementsDictionary;return null!=je[e]?r.getReserved(e):r.h[e]}return null},getElementByLinkage:function(e){var t=this._elementsByLinkage;if(null!=(null!=je[e]?t.getReserved(e):t.h[e])){var r=this._elementsByLinkage;return null!=je[e]?r.getReserved(e):r.h[e]}return null},get_elementsVector:function(){return this._elementsVector},__class__:L};var G=function(){this._allContentScaleFactors=[]};G.__name__=["com","github","haxePixiGAF","data","config","CTextureAtlasScale"],G.prototype={dispose:function(){for(var e=0,t=this._allContentScaleFactors;e<t.length;){var r=t[e];++e,r.dispose()}},getTextureAtlasForCSF:function(e){for(var t=0,r=this._allContentScaleFactors;t<r.length;){var i=r[t];++t;var n=i.get_csf();if(!isNaN(n)&&!isNaN(e)&&Math.abs(n-e)<1e-5)return i}return null},set_scale:function(e){return this._scale=e},get_scale:function(){return this._scale},get_allContentScaleFactors:function(){return this._allContentScaleFactors},set_allContentScaleFactors:function(e){return this._allContentScaleFactors=e},get_contentScaleFactor:function(){return this._contentScaleFactor},set_contentScaleFactor:function(e){return this._contentScaleFactor=e},__class__:G};var U=function(e,t){this._id=e,this._source=t};U.__name__=["com","github","haxePixiGAF","data","config","CTextureAtlasSource"],U.prototype={get_id:function(){return this._id},get_source:function(){return this._source},__class__:U};var z=function(e,t){this._ignoreSounds=!1,this._async=!1,this._isTimeline=!1,PIXI.utils.EventEmitter.call(this),this._bytes=t,this._assetID=e,this._textureElementSizes=[]};z.__name__=["com","github","haxePixiGAF","data","converters","BinGAFAssetConfigConverter"],z.readAnimationMasks=function(e,t,r){for(var i,n=t.readUnsignedInt(),o=0,s=0,a=0;a<n;)++a,o=t.readUnsignedInt(),s=t.readUnsignedInt(),i=2==e?"texture":z.getAnimationObjectTypeString(t.readUnsignedShort()),r.get_animationObjects().addAnimationObject(new w(o+"",s+"",i,!0))},z.getAnimationObjectTypeString=function(e){var t="texture";switch(e){case 0:t="texture";break;case 1:t="textField";break;case 2:t="timeline"}return t},z.readAnimationObjects=function(e,t,r){for(var i,n=t.readUnsignedInt(),o=0,s=0,a=0;a<n;)++a,o=t.readUnsignedInt(),s=t.readUnsignedInt(),i=3==e?"texture":z.getAnimationObjectTypeString(t.readUnsignedShort()),r.get_animationObjects().addAnimationObject(new w(o+"",s+"",i,!1))},z.readAnimationSequences=function(e,t){for(var r,i,n,o=e.readUnsignedInt(),s=0;s<o;)++s,r=e.readUTF(),i=e.readShort(),n=e.readShort(),t.get_animationSequences().addSequence(new E(r,i,n))},z.readNamedParts=function(e,t){t.set_namedParts(new Ae);for(var r=e.readUnsignedInt(),i=0,n=0;n<r;)++n,i=e.readUnsignedInt(),t.get_namedParts().set(null==i?"null":""+i,e.readUTF())},z.readTextFields=function(e,t){for(var r,i,n,o,s,a,u,l,c,h,f,d,p=e.readUnsignedInt(),_=0,m=null,b=0,g=0;g<p;){++g,_=e.readUnsignedInt(),r=Me.i32ToFloat(e.readInt32()),i=Me.i32ToFloat(e.readInt32()),n=Me.i32ToFloat(e.readInt32()),o=Me.i32ToFloat(e.readInt32()),s=e.readUTF(),a=e.readBoolean(),u=e.readBoolean(),l=e.readBoolean(),e.readBoolean()&&(m=e.readUTF()),c=e.readBoolean(),h=e.readBoolean(),f=e.readBoolean(),b=e.readUnsignedInt();var y=null;switch(e.readUnsignedInt()){case 0:y="left";break;case 1:y="right";break;case 2:y="center";break;case 3:y="justify";break;case 4:y="start";break;case 5:y="end"}e.readUnsignedInt();var v=e.readBoolean();e.readBoolean();var x=e.readUnsignedInt(),w=e.readUTF();e.readUnsignedInt();var S=e.readBoolean();e.readBoolean(),e.readUnsignedInt(),e.readUnsignedInt();var E=Me.i32ToFloat(e.readInt32());e.readUnsignedInt();for(var A=e.readUnsignedInt(),T=e.readUnsignedInt(),P=[],C=0;C<T;)++C,P.push(e.readUnsignedInt());e.readUTF(),e.readBoolean(),e.readUTF(),(d=new PIXI.TextStyle).fontFamily=w,d.fontSize=A,d.fill=x,d.fontWeight=v?"bold":"normal",d.fontStyle=S?"italic":"normal",d.align=y,d.letterSpacing=E;var M=new D(null==_?"null":""+_,s,d,n,o);M.get_pivotPoint().x=-r,M.get_pivotPoint().y=-i,M.set_embedFonts(a),M.set_multiline(u),M.set_wordWrap(l),M.set_restrict(m),M.set_editable(c),M.set_selectable(h),M.set_displayAsPassword(f),M.set_maxChars(b),t.get_textFields().addTextFieldObject(M)}},z.readStageConfig=function(e,t){var r=new O;r.fps=e.readSByte(),r.color=Me.i32ToFloat(e.readInt32()),r.width=e.readUnsignedShort(),r.height=e.readUnsignedShort(),t.set_stageConfig(r)},z.readDropShadowFilter=function(e,t){var r=z.readColorValue(e),i=Me.i32ToFloat(e.readInt32()),n=Me.i32ToFloat(e.readInt32()),o=Me.i32ToFloat(e.readInt32()),s=Me.i32ToFloat(e.readInt32()),a=Me.i32ToFloat(e.readInt32()),u=e.readBoolean(),l=e.readBoolean();return t.addDropShadowFilter(i,n,r[1],r[0],o,s,a,u,l)},z.readBlurFilter=function(e,t){return t.addBlurFilter(Me.i32ToFloat(e.readInt32()),Me.i32ToFloat(e.readInt32()))},z.readGlowFilter=function(e,t){var r=z.readColorValue(e),i=Me.i32ToFloat(e.readInt32()),n=Me.i32ToFloat(e.readInt32()),o=Me.i32ToFloat(e.readInt32()),s=e.readBoolean(),a=e.readBoolean();return t.addGlowFilter(i,n,r[1],r[0],o,s,a)},z.readColorMatrixFilter=function(e,t){for(var r=[],i=0;i<20;)r[i++]=Me.i32ToFloat(e.readInt32());return t.addColorMatrixFilter(r)},z.readColorValue=function(e){var t=e.readUnsignedInt();return[(100*(t>>24&255)/255|0)/100,16777215&t]},z.__super__=PIXI.utils.EventEmitter,z.prototype=i(PIXI.utils.EventEmitter.prototype,{convert:function(e){null==e&&(e=!1),e?we.trace("TODO asynchrone conversion",{fileName:"BinGAFAssetConfigConverter.hx",lineNumber:103,className:"com.github.haxePixiGAF.data.converters.BinGAFAssetConfigConverter",methodName:"convert"}):this.parseStart()},parseStart:function(){if(this._bytes.set_bigEndian(!1),this._config=new d(this._assetID),this._config.set_compression(this._bytes.readInt()),this._config.set_versionMajor(this._bytes.readSByte()),this._config.set_versionMinor(this._bytes.readSByte()),this._config.set_fileLength(this._bytes.readUnsignedInt()),this._config.get_versionMajor()>5)this.emit("error","You are using an old version of GAF libraryLibrary version:5, file version:"+this._config.get_versionMajor());else{if(4669763==this._config.get_compression())throw new Fe("HaxePixiGAF: GAF compressed format not supported yet");if(this._config.get_versionMajor()<4)this._currentTimeline=new g(this._config.get_versionMajor()+"."+this._config.get_versionMinor()),this._currentTimeline.set_id("0"),this._currentTimeline.set_assetID(this._assetID),this._currentTimeline.set_framesCount(this._bytes.readShort()),this._currentTimeline.set_bounds(new PIXI.Rectangle(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()))),this._currentTimeline.set_pivot(new PIXI.Point(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()))),this._config.get_timelines().push(this._currentTimeline);else{for(var e=this._bytes.readUnsignedInt(),t=0,r=e;t<r;){++t;var i=Me.i32ToFloat(this._bytes.readInt32());this._config.get_scaleValues().push(i)}for(var n=0,o=e=this._bytes.readUnsignedInt();n<o;){++n;var s=Me.i32ToFloat(this._bytes.readInt32());this._config.get_csfValues().push(s)}}this.readNextTag()}},checkForMissedRegions:function(e){if(null!=e.get_textureAtlas()&&null!=e.get_textureAtlas().get_contentScaleFactor().get_elements())for(var t=e.get_animationObjects().get_animationObjectsDictionary().iterator();t.hasNext();){var r,i=t.next();if("texture"==i.get_type()){var n=i.get_regionID();r=null==e.get_textureAtlas().get_contentScaleFactor().get_elements().getElement(n)}else r=!1;if(r){e.addWarning("In the texture atlas element is missing. This is conversion bug. Please report issue<font color='#0000ff'><u><a href='http://gafmedia.com/contact'>here</a></u></font>and we will fix it(use the Request type - Report Issue).");break}}},readNextTag:function(){var e=this._bytes.readShort(),t=this._bytes.readUnsignedInt();switch(e){case 0:if(!this._isTimeline)return this._bytes.set_position(this._bytes.totlen),void this.endParsing();this._isTimeline=!1;break;case 1:this.readTextureAtlasConfig(e);break;case 2:z.readAnimationMasks(e,this._bytes,this._currentTimeline);break;case 3:z.readAnimationObjects(e,this._bytes,this._currentTimeline);break;case 4:return void this.readAnimationFrames(e);case 5:z.readNamedParts(this._bytes,this._currentTimeline);break;case 6:z.readAnimationSequences(this._bytes,this._currentTimeline);break;case 7:z.readTextFields(this._bytes,this._currentTimeline);break;case 8:this.readTextureAtlasConfig(e);break;case 9:z.readStageConfig(this._bytes,this._config);break;case 10:z.readAnimationObjects(e,this._bytes,this._currentTimeline);break;case 11:z.readAnimationMasks(e,this._bytes,this._currentTimeline);break;case 12:return void this.readAnimationFrames(e);case 13:this._currentTimeline=this.readTimeline();break;case 14:if(we.trace("TODO TAG_DEFINE_SOUNDS",{fileName:"BinGAFAssetConfigConverter.hx",lineNumber:228,className:"com.github.haxePixiGAF.data.converters.BinGAFAssetConfigConverter",methodName:"readNextTag"}),this._ignoreSounds){var r=this._bytes;r.set_position(r.pos+t)}break;case 15:this.readTextureAtlasConfig(e);break;default:we.trace("Unsupported tag found, check for playback library updates",{fileName:"BinGAFAssetConfigConverter.hx",lineNumber:251,className:"com.github.haxePixiGAF.data.converters.BinGAFAssetConfigConverter",methodName:"readNextTag"});var i=this._bytes;i.set_position(i.pos+t)}this.delayedReadNextTag()},delayedReadNextTag:function(){this._async?we.trace("TODO asynchrone delayedReadNextTag",{fileName:"BinGAFAssetConfigConverter.hx",lineNumber:262,className:"com.github.haxePixiGAF.data.converters.BinGAFAssetConfigConverter",methodName:"delayedReadNextTag"}):this.readNextTag()},readTimeline:function(){var e=new g(this._config.get_versionMajor()+"."+this._config.get_versionMinor());return e.set_id(s.string(u.toFloat(this._bytes.readUnsignedInt()))),e.set_assetID(this._config.get_id()),e.set_framesCount(this._bytes.readUnsignedInt()),e.set_bounds(new PIXI.Rectangle(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()))),e.set_pivot(new PIXI.Point(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()))),this._bytes.readBoolean()&&e.set_linkage(this._bytes.readUTF()),this._config.get_timelines().push(e),this._isTimeline=!0,e},readTextureAtlasConfig:function(e){var t=Me.i32ToFloat(this._bytes.readInt32());-1==this._config.get_scaleValues().indexOf(t)&&this._config.get_scaleValues().push(t);var r,i,n=this.getTextureAtlasScale(t),o=null,s=this._bytes.readSByte(),a=0,u=null;n.get_allContentScaleFactors().length>0&&(u=n.get_allContentScaleFactors()[0].get_elements()),null==u&&(u=new L);for(var l=0;l<s;){++l,a=this._bytes.readUnsignedInt();for(var c=0,h=this._bytes.readSByte();c<h;)++c,i=this._bytes.readUTF(),r=Me.i32ToFloat(this._bytes.readInt32()),-1==this._config.get_csfValues().indexOf(r)&&this._config.get_csfValues().push(r),o=this.getTextureAtlasCSF(t,r),this.updateTextureAtlasSources(o,null==a?"null":""+a,i),null==o.get_elements()&&o.set_elements(u)}for(var f,d,p,_,m,b=this._bytes.readUnsignedInt(),g=null,y=0,v=0,x=0,w=!1,S="",E=0;E<b;)if(++E,d=new PIXI.Point(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32())),p=new PIXI.Point(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32())),1!=e&&8!=e||(y=v=Me.i32ToFloat(this._bytes.readInt32())),_=Me.i32ToFloat(this._bytes.readInt32()),m=Me.i32ToFloat(this._bytes.readInt32()),a=this._bytes.readUnsignedInt(),x=this._bytes.readUnsignedInt(),8!=e&&15!=e||(g=this._bytes.readBoolean()?new PIXI.Rectangle(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32())):null),15==e&&(y=Me.i32ToFloat(this._bytes.readInt32()),v=Me.i32ToFloat(this._bytes.readInt32()),w=this._bytes.readBoolean(),S=this._bytes.readUTF()),null==u.getElement(null==x?"null":""+x)){(f=new N(null==x?"null":""+x,null==a?"null":""+a)).set_region(new PIXI.Rectangle(0|p.x,0|p.y,_,m)),f.set_pivotMatrix(new PIXI.Matrix(1/y,0,0,1/v,-d.x/y,-d.y/v)),f.set_scale9Grid(g),f.set_linkage(S),f.set_rotated(w),u.addElement(f),f.get_rotated()?(z.sHelperRectangle.x=0,z.sHelperRectangle.y=0,z.sHelperRectangle.width=m,z.sHelperRectangle.height=_):(z.sHelperRectangle.x=0,z.sHelperRectangle.y=0,z.sHelperRectangle.width=_,z.sHelperRectangle.height=m),ge.copyFrom(z.sHelperMatrix,f.get_pivotMatrix());var A=1/t;z.sHelperMatrix.scale(A,A),null==this._textureElementSizes[x]?this._textureElementSizes[x]=z.sHelperRectangle.clone():this._textureElementSizes[x]=ye.union(this._textureElementSizes[x],z.sHelperRectangle)}},getTextureAtlasScale:function(e){for(var t=null,r=this._config.get_allTextureAtlases(),i=r.length,n=0;n<i;){var o=n++,s=r[o].get_scale();if(!isNaN(s)&&!isNaN(e)&&Math.abs(s-e)<1e-5){t=r[o];break}}return null==t&&((t=new G).set_scale(e),r.push(t)),t},getTextureAtlasCSF:function(e,t){var r=this.getTextureAtlasScale(e),i=r.getTextureAtlasForCSF(t);return null==i&&(i=new B(t,e),r.get_allContentScaleFactors().push(i)),i},updateTextureAtlasSources:function(e,t,r){for(var i=null,n=e.get_sources(),o=n.length,s=0;s<o;){var a=s++;if(n[a].get_id()==t){i=n[a];break}}null==i&&(i=new U(t,r),n.push(i))},readAnimationFrames:function(e,t,r,i){null==r&&(r=-1),null==t&&(t=0),-1==r&&(r=this._bytes.readUnsignedInt());var n,o,a,l,c,f,d,p=0,_=0,m=0,b=0,g=!1,x=!1,w=!1,S=!1,E=!1,A=this._config.get_timelines()[this._config.get_timelines().length-1],T=new Ae;if(-1!=r){for(var C=t,I=r;C<I;){if(++C,this._async)return void we.trace("TODO asynchrone readAnimationFrames",{fileName:"BinGAFAssetConfigConverter.hx",lineNumber:772,className:"com.github.haxePixiGAF.data.converters.BinGAFAssetConfigConverter",methodName:"readAnimationFrames"});if(_=this._bytes.readUnsignedInt(),4==e?(E=!0,w=!1):(E=this._bytes.readBoolean(),w=this._bytes.readBoolean()),null!=i)for(c=i.clone(_),p=i.get_frameNumber()+1;p<c.get_frameNumber();){var O=i.clone(p);A.get_animationConfigFrames().addFrame(O),++p}else if((c=new y(_)).get_frameNumber()>1)for(p=1;p<c.get_frameNumber();)A.get_animationConfigFrames().addFrame(new y(p)),++p;if(E){for(var D=0,k=this._bytes.readUnsignedInt();D<k;){if(++D,S=this._bytes.readBoolean(),g=this._bytes.readBoolean(),x=this._bytes.readBoolean(),m=this._bytes.readUnsignedInt(),b=this._bytes.readInt(),1==(n=Me.i32ToFloat(this._bytes.readInt32()))&&(n=h.get_maxAlpha()),o=new PIXI.Matrix(Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32())),d=null,S){var R=[Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32()),Me.i32ToFloat(this._bytes.readInt32())];null==d&&(d=new M),d.addColorTransform(R)}if(x){null==d&&(d=new M);for(var B=0,N=this._bytes.readSByte();B<N;){++B;var L=null;switch(this._bytes.readUnsignedInt()){case 0:L=z.readDropShadowFilter(this._bytes,d);break;case 1:if(L=z.readBlurFilter(this._bytes,d),(f=Ie.__cast(d.get_filterConfigs()[d.get_filterConfigs().length-1],P)).blurX>=2&&f.blurY>=2){var G=null==m?"null":""+m;if(!(null!=je[G]?T.existsReserved(G):T.h.hasOwnProperty(G))){var U=null==m?"null":""+m;null!=je[U]?T.setReserved(U,f):T.h[U]=f}}else{var j=null==m?"null":""+m;null!=je[j]?T.setReserved(j,null):T.h[j]=null}break;case 2:L=z.readGlowFilter(this._bytes,d);break;case 6:L=z.readColorMatrixFilter(this._bytes,d);break;default:we.trace("Unsupported filter in animation",{fileName:"BinGAFAssetConfigConverter.hx",lineNumber:878,className:"com.github.haxePixiGAF.data.converters.BinGAFAssetConfigConverter",methodName:"readAnimationFrames"})}A.addWarning(L)}}a=g?s.string(u.toFloat(this._bytes.readUnsignedInt()))+"":"",(l=new v(m+"")).update(b,o,n,a,d),null!=a&&null!=d&&A.addWarning("Warning! Animation contains objects with filters under mask! Online preview is not able to display filters applied under masks(flash player technical limitation). All other runtimes will display this correctly."),c.addInstance(l)}c.sortInstances()}if(w)for(var J,X=this._bytes.readUnsignedInt(),H=0;H<X;){++H,(J=new F).type=this._bytes.readUnsignedInt(),J.scope=this._bytes.readUTF();var W=this._bytes.readUnsignedInt();if(W>0){var V=new Te(new Je(W));this._bytes.readBytes(V,0,W);var Y=new me(V);for(Y.set_bigEndian(!1);Y.pos<Y.totlen;)J.params.push(Y.readUTF());Y.close()}if(4==J.type&&"gafPlaySound"==J.params[0]&&J.params.length>3){if(this._ignoreSounds)continue;JSON.parse(J.params[3])}c.addAction(J)}A.get_animationConfigFrames().addFrame(c),i=c}for(p=i.get_frameNumber()+1;p<=A.get_framesCount();){var q=i.clone(p);A.get_animationConfigFrames().addFrame(q),++p}for(var K=0,Z=A.get_animationConfigFrames().get_frames();K<Z.length;){var Q=Z[K];++K;for(var $=0,ee=Q.get_instances();$<ee.length;){var te=ee[$];++$;var re=te.get_id();null!=(null!=je[re]?T.getReserved(re):T.h[re])&&null!=te.get_filter()&&null!=(f=te.get_filter().getBlurFilter())&&1==f.resolution&&(f.blurX*=.5,f.blurY*=.5,f.resolution=.75)}}}this.delayedReadNextTag()},readMaskMaxSizes:function(){for(var e=0,t=this._config.get_timelines();e<t.length;){var r=t[e];++e;for(var i=0,n=r.get_animationConfigFrames().get_frames();i<n.length;){var o=n[i];++i;for(var a=0,u=o.get_instances();a<u.length;){var l=u[a];++a;var c=l.get_id(),h=r.get_animationObjects().getAnimationObject(c);if(h.get_mask()){null==h.get_maxSize()&&h.set_maxSize(new PIXI.Point);var f=h.get_maxSize();if("texture"==h.get_type())ye.copyFrom(z.sHelperRectangle,this._textureElementSizes[s.parseInt(h.get_regionID())]);else if("timeline"==h.get_type()){for(var d=0,p=this._config.get_timelines();d<p.length;){var _=p[d];if(++d,_.get_id()==h.get_regionID())break}ye.copyFrom(z.sHelperRectangle,null.get_bounds())}else if("textField"==h.get_type()){var m=r.get_textFields().get_textFieldObjectsDictionary().get(h.get_regionID());z.sHelperRectangle.x=-m.get_pivotPoint().x,z.sHelperRectangle.y=-m.get_pivotPoint().y,z.sHelperRectangle.width=m.get_width(),z.sHelperRectangle.height=m.get_height()}f.set(Math.max(f.x,Math.abs(z.sHelperRectangle.width)),Math.max(f.y,Math.abs(z.sHelperRectangle.height)))}}}}},endParsing:function(){this._bytes.close(),this._bytes=null,this.readMaskMaxSizes();var e=0,t=this._config.get_defaultScale();if(isNaN(t)){if(!isNaN(this._defaultScale)&&(e=be.getItemIndex(this._config.get_scaleValues(),this._defaultScale))<0)return void this.parseError(this._defaultScale+" scale was not found in GAF config");this._config.set_defaultScale(this._config.get_scaleValues()[e])}var r=this._config.get_defaultContentScaleFactor();if(isNaN(r)){if(e=0,!isNaN(this._defaultContentScaleFactor)&&(e=be.getItemIndex(this._config.get_csfValues(),this._defaultContentScaleFactor))<0)return void this.parseError(this._defaultContentScaleFactor+" CSF was not found in GAF config");this._config.set_defaultContentScaleFactor(this._config.get_csfValues()[e])}for(var i=0,n=this._config.get_allTextureAtlases();i<n.length;){var o=n[i];++i;for(var s=0,a=o.get_allContentScaleFactors();s<a.length;){var u=a[s];++s;var l=this._config.get_defaultContentScaleFactor(),c=u.get_csf();if(!isNaN(l)&&!isNaN(c)&&Math.abs(l-c)<1e-5){o.set_contentScaleFactor(u);break}}}for(var h=0,f=this._config.get_timelines();h<f.length;){var d=f[h];++h,d.set_allTextureAtlases(this._config.get_allTextureAtlases());for(var p=0,_=this._config.get_allTextureAtlases();p<_.length;){var m=_[p];++p;var b=this._config.get_defaultScale(),g=m.get_scale();!isNaN(b)&&!isNaN(g)&&Math.abs(b-g)<1e-5&&d.set_textureAtlas(m)}d.set_stageConfig(this._config.get_stageConfig()),this.checkForMissedRegions(d)}this.emit("complete",{target:this})},parseError:function(e){if(!de.hasEventListener(this,"error"))throw new Fe(e);this.emit("error",{bubbles:!1,cancelable:!1,text:e})},get_config:function(){return this._config},get_assetID:function(){return this._assetID},set_ignoreSounds:function(e){return this._ignoreSounds=e},set_defaultScale:function(e){return this._defaultScale=e},set_defaultCSF:function(e){return this._defaultContentScaleFactor=e},__class__:z});var j=function(){};j.__name__=["com","github","haxePixiGAF","data","converters","ErrorConstants"];var J=function(){};J.__name__=["com","github","haxePixiGAF","data","converters","WarningConstants"];var X=function(){};X.__name__=["com","github","haxePixiGAF","events","IEventEmitter"],X.prototype={__class__:X};var H=function(){};H.__name__=["com","github","haxePixiGAF","data","tagfx","ITAGFX"],H.__interfaces__=[X],H.prototype={__class__:H};var W=function(){this._isReady=!1,this._clearSourceAfterTextureCreated=!1,this._textureScale=-1,PIXI.utils.EventEmitter.call(this)};W.__name__=["com","github","haxePixiGAF","data","tagfx","TAGFXBase"],W.__interfaces__=[H],W.__super__=PIXI.utils.EventEmitter,W.prototype=i(PIXI.utils.EventEmitter.prototype,{onTextureReady:function(e){this._isReady=!0,this.emit("textureReady")},get_texture:function(){return this._texture},get_textureSize:function(){return this._textureSize},set_textureSize:function(e){return this._textureSize=e},get_textureScale:function(){return this._textureScale},set_textureScale:function(e){return this._textureScale=e},get_textureFormat:function(){return this._textureFormat},set_textureFormat:function(e){return this._textureFormat=e},get_sourceType:function(){return""},get_source:function(){return this._source},get_ready:function(){return this._isReady},__class__:W});var V=function(e){W.call(this),this._source=e,this.bob=e};V.__name__=["com","github","haxePixiGAF","data","tagfx","TAGFXsourcePixi"],V.__super__=W,V.prototype=i(W.prototype,{get_sourceType:function(){return"Texture_Pixi"},get_texture:function(){return new Y(PIXI.BaseTexture.fromImage(this._source))},__class__:V});var Y=function(e,t,r,i,n){PIXI.Texture.call(this,e,t,r,i,n)};Y.__name__=["com","github","haxePixiGAF","data","textures","TextureWrapper"],Y.fromTexture=function(e,t,r,i,n){return null==n&&(n=1),null==i&&(i=!1),new q(e,t,!1,r,i,n)},Y.get_maxSize=function(){return 4096},Y.__super__=PIXI.Texture,Y.prototype=i(PIXI.Texture.prototype,{get_base:function(){return null},get_format:function(){return"bgra"},get_frameHeight:function(){return null!=this.frame?this.frame.height:this.height},get_frameWidth:function(){return null!=this.frame?this.frame.width:this.width},get_mipMapping:function(){return!1},get_nativeHeight:function(){return 0},get_nativeWidth:function(){return 0},get_premultipliedAlpha:function(){return!1},get_root:function(){return null},get_scale:function(){return 1},get_transformationMatrix:function(){return null},get_transformationMatrixToRoot:function(){return null},__class__:Y});var q=function(e,t,r,i,n,o){null==o&&(o=1),null==n&&(n=!1),null==r&&(r=!1),this._rotated=!1,this._ownsParent=!1,Y.call(this,e.baseTexture,t,null,null,n),this.setTo(e,t,r,i,n,o)};q.__name__=["com","github","haxePixiGAF","data","textures","SubTexture"],q.__super__=Y,q.prototype=i(Y.prototype,{get_base:function(){return this._parent.baseTexture},get_frameHeight:function(){return this.frame.height},get_frameWidth:function(){return this.frame.width},get_mipMapping:function(){return this._parent.get_mipMapping()},get_nativeHeight:function(){return this.height*this._scale},get_nativeWidth:function(){return this.width*this._scale},get_format:function(){return this._parent.get_format()},get_premultipliedAlpha:function(){return this._parent.get_premultipliedAlpha()},get_root:function(){return this._parent.get_root()},get_scale:function(){return this._scale},get_transformationMatrix:function(){return this._transformationMatrix},get_transformationMatrixToRoot:function(){return this._transformationMatrixToRoot},setTo:function(e,t,r,i,n,o){null==o&&(o=1),null==n&&(n=!1),null==r&&(r=!1),null==this._region&&(this._region=new PIXI.Rectangle(0,0,0,0)),null!=t?(this._region.x=t.x,this._region.y=t.y,this._region.width=t.width,this._region.height=t.height):(this._region.x=0,this._region.y=0,this._region.width=e.width,this._region.height=e.height),this._parent=e,this._ownsParent=r,this._rotated=n,null!=this.frame&&(this.frame.width=(n?this._region.height:this._region.width)/o,this.frame.height=(n?this._region.width:this._region.height)/o),this._scale=(null!=this._parent?this._parent.get_scale():1)*o,this.updateMatrices()},updateMatrices:function(){null!=this._transformationMatrix?this._transformationMatrix.identity():this._transformationMatrix=new PIXI.Matrix,null!=this._transformationMatrixToRoot?this._transformationMatrixToRoot.identity():this._transformationMatrixToRoot=new PIXI.Matrix,this._rotated&&(this._transformationMatrix.translate(0,-1),this._transformationMatrix.rotate(Math.PI/2)),this._transformationMatrix.scale(this._region.width/this._parent.width,this._region.height/this._parent.height),this._transformationMatrix.translate(this._region.x/this._parent.width,this._region.y/this._parent.height);for(var e=this;null!=e;)ge.concat(this._transformationMatrixToRoot,e._transformationMatrix),e=Ie.__instanceof(e.get_parent(),q)?Ie.__cast(e.get_parent(),q):null},destroy:function(e){this._ownsParent&&this._parent.destroy(),Y.prototype.destroy.call(this,e)},get_parent:function(){return this._parent},get_ownsParent:function(){return this._ownsParent},get_rotated:function(){return this._rotated},get_region:function(){return this._region},__class__:q});var K=function(e){this._subTextures=new Ae,this._atlasTexture=e};K.__name__=["com","github","haxePixiGAF","data","textures","TextureAtlas"],K.parseBool=function(e){return"true"==e.toLowerCase()},K.prototype={dispose:function(){this._atlasTexture.destroy()},getTexture:function(e){var t=this._subTextures;return null!=je[e]?t.getReserved(e):t.h[e]},getTextures:function(e,t){null==e&&(e=""),null==t&&(t=[]);for(var r=0,i=this.getNames(e,K.sNames);r<i.length;){var n=i[r];++r,t[t.length]=this.getTexture(n)}return K.sNames=[],t},getNames:function(e,t){if(null==e&&(e=""),null==t&&(t=[]),null==this._subTextureNames){this._subTextureNames=[];for(var r=this._subTextures.keys();r.hasNext();){var i=r.next();this._subTextureNames[this._subTextureNames.length]=i}this._subTextureNames.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1})}for(var n=0,o=this._subTextureNames;n<o.length;){var s=o[n];++n,0==s.indexOf(e)&&(t[t.length]=s)}return t},getRegion:function(e){var t=this._subTextures,r=null!=je[e]?t.getReserved(e):t.h[e];return null!=r?r.get_region():null},getFrame:function(e){var t=this._subTextures,r=null!=je[e]?t.getReserved(e):t.h[e];return null!=r?r.frame:null},getRotation:function(e){var t=this._subTextures,r=null!=je[e]?t.getReserved(e):t.h[e];return null!=r&&r.get_rotated()},addRegion:function(e,t,r,i){null==i&&(i=!1);var n=new q(this._atlasTexture,t,!1,r,i),o=this._subTextures;null!=je[e]?o.setReserved(e,n):o.h[e]=n,this._subTextureNames=null},removeRegion:function(e){var t=this._subTextures,r=null!=je[e]?t.getReserved(e):t.h[e];null!=r&&r.destroy(),this._subTextures.remove(e),this._subTextureNames=null},get_texture:function(){return this._atlasTexture},__class__:K};var Z=function(){};Z.__name__=["com","github","haxePixiGAF","display","IMaxSize"],Z.prototype={__class__:Z};var Q=function(){};Q.__name__=["com","github","haxePixiGAF","display","IGAFDisplayObject"],Q.prototype={__class__:Q};var $=function(){PIXI.Container.call(this)};$.__name__=["com","github","haxePixiGAF","display","GAFContainer"],$.__interfaces__=[Z,Q],$.__super__=PIXI.Container,$.prototype=i(PIXI.Container.prototype,{get_transformationMatrix:function(){return this.localTransform},set_transformationMatrix:function(e){return this.localTransform=e},get_maxSize:function(){return this._maxSize},set_maxSize:function(e){return this._maxSize=e},setFilterConfig:function(e,t){null==t&&(t=1)},invalidateOrientation:function(){},get_pivotMatrix:function(){return $.HELPER_MATRIX.identity(),$.HELPER_MATRIX},__class__:$});var ee=function(){};ee.__name__=["com","github","haxePixiGAF","display","IGAFDebug"],ee.prototype={__class__:ee};var te=function(){};te.__name__=["com","github","haxePixiGAF","display","IGAFImage"],te.__interfaces__=[Q],te.prototype={__class__:te};var re=e.GAF.GAFImage=function(e){this.__debugOriginalAlpha=null,this._assetTexture=e.clone(),PIXI.Sprite.call(this,this._assetTexture.get_texture())};re.__name__=["com","github","haxePixiGAF","display","GAFImage"],re.__interfaces__=[ee,Z,te],re.__super__=PIXI.Sprite,re.prototype=i(PIXI.Sprite.prototype,{copy:function(){return new re(this._assetTexture)},invalidateOrientation:function(){},set_debugColors:function(e){return null},changeTexture:function(e){this.texture=e.get_texture(),this._assetTexture.copyFrom(e)},setFilterConfig:function(e,t){null==t&&(t=1)},__debugHighlight:function(){isNaN(this.__debugOriginalAlpha)&&(this.__debugOriginalAlpha=this.alpha),this.alpha=1},__debugLowlight:function(){isNaN(this.__debugOriginalAlpha)&&(this.__debugOriginalAlpha=this.alpha),this.alpha=.05},__debugResetLight:function(){isNaN(this.__debugOriginalAlpha)||(this.alpha=this.__debugOriginalAlpha,this.__debugOriginalAlpha=null)},updateTransformMatrix:function(){},destroy:function(e){this._assetTexture=null,PIXI.Sprite.prototype.destroy.call(this,e)},isEquivalent:function(e,t,r){return null==r&&(r=1e-4),e-r<t&&e+r>t},set_pivotX:function(e){return this.pivot.x=e},set_pivotY:function(e){return this.pivot.y=e},get_scaleX:function(){return this.scale.x},get_scaleY:function(){return this.scale.y},get_skewX:function(){return this.skew.x},get_skewY:function(){return this.skew.y},get_maxSize:function(){return this._maxSize},set_maxSize:function(e){return this._maxSize=e},get_assetTexture:function(){return this._assetTexture},get_pivotMatrix:function(){return ge.copyFrom(re.HELPER_MATRIX,this._assetTexture.get_pivotMatrix()),re.HELPER_MATRIX},get_transformationMatrix:function(){return this.localTransform},set_transformationMatrix:function(e){return this.localTransform=e},get_textureSmoothing:function(){return""},set_textureSmoothing:function(e){return""},__class__:re});var ie=function(){};ie.__name__=["com","github","haxePixiGAF","display","IAnimatable"],ie.prototype={__class__:ie};var ne=e.GAF.GAFMovieClip=function(e,t,r){null==r&&(r=!0),null==t&&(t=-1),this.__debugOriginalAlpha=null,this._totalFrames=0,this._currentFrame=0,this._finalFrame=0,this._startFrame=0,this._nextFrame=0,this._previousTime=-1,this._lastFrameTime=0,this._currentTime=0,this._addToJuggler=!1,this._alphaLessMax=!1,this._useClipping=!1,this._hasFilter=!1,this._disposed=!1,this._started=!1,this._reverse=!1,this._hidden=!1,this._inPlay=!1,this._masked=!1,this._reset=!1,this._skipFrames=!0,this._loop=!0,this._smoothing="",$.call(this),this._gafTimeline=e,this._config=e.get_config(),this._scale=e.get_scale(),this._contentScaleFactor=e.get_contentScaleFactor(),this._addToJuggler=r,this.initialize(e.get_textureAtlas(),e.get_gafAsset()),null!=this._config.get_bounds()&&(this._timelineBounds=this._config.get_bounds().clone()),t>0&&this.set_fps(t),this.draw()};ne.__name__=["com","github","haxePixiGAF","display","GAFMovieClip"],ne.__interfaces__=[ie],ne.getTransformMatrix=function(e,t){return ge.copyFrom(t,e.get_pivotMatrix()),t},ne.__super__=$,ne.prototype=i($.prototype,{getChildByID:function(e){var t=this._displayObjectsDictionary;return null!=je[e]?t.getReserved(e):t.h[e]},getMaskByID:function(e){var t=this._stencilMasksDictionary;return null!=je[e]?t.getReserved(e):t.h[e]},showMaskByID:function(e){var t=this._displayObjectsDictionary,r=null!=je[e]?t.getReserved(e):t.h[e],i=Ie.__cast(r,PIXI.DisplayObject),n=this._stencilMasksDictionary,o=null!=je[e]?n.getReserved(e):n.h[e];null!=r&&null!=o?(i.mask=o,this.addChild(o),this.addChild(i)):we.trace("WARNING:mask object is missing. It might be disposed.",{fileName:"GAFMovieClip.hx",lineNumber:192,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"showMaskByID"})},hideMaskByID:function(e){var t=this._displayObjectsDictionary,r=Ie.__cast(null!=je[e]?t.getReserved(e):t.h[e],PIXI.DisplayObject),i=this._stencilMasksDictionary,n=null!=je[e]?i.getReserved(e):i.h[e];null!=n?n.parent==this&&(n.parent.mask=null,this.removeChild(n),this.removeChild(r)):we.trace("WARNING:mask object is missing. It might be disposed.",{fileName:"GAFMovieClip.hx",lineNumber:218,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"hideMaskByID"})},clearSequence:function(){this._playingSequence=null},get_currentSequence:function(){var e=this.get_currentFrame(),t=this._config.get_animationSequences().getSequenceByFrame(e);return null!=t?t.get_id():null},setSequence:function(e,t){if(null==t&&(t=!0),this._playingSequence=this._config.get_animationSequences().getSequenceByID(e),null!=this._playingSequence){var r=this._reverse?this._playingSequence.get_endFrameNo()-1:this._playingSequence.get_startFrameNo();t?this.gotoAndPlay(r):this.gotoAndStop(r)}return this._playingSequence},play:function(e){if(null==e&&(e=!1),this._started=!0,e)for(var t=this._mcVector.length;t-- >0;)this._mcVector[t]._started=!0;this._play(e,!0)},stop:function(e){if(null==e&&(e=!1),this._started=!1,e)for(var t=this._mcVector.length;t-- >0;)this._mcVector[t]._started=!1;this._stop(e,!0)},gotoAndStop:function(e){this.checkAndSetCurrentFrame(e),this.stop()},gotoAndPlay:function(e){this.checkAndSetCurrentFrame(e),this.play()},loopAll:function(e){for(var t=this._mcVector.length;t-- >0;)this._mcVector[t].set_loop(e)},advanceTime:function(e){-1==this._previousTime&&(this._previousTime=e);var t=(e-this._previousTime)/1e3;if(this._previousTime=e,!this._disposed)if(this._config.get_disposed())this.destroy();else{if(this._inPlay&&this._frameDuration!=1/0){this._currentTime+=t;var r=(this._currentTime-this._lastFrameTime)/this._frameDuration|0;if(this._skipFrames)for(var i=0;i<r;){var n=i++;if(!this._inPlay){this._disposed||this.draw();break}this.changeCurrentFrame(n+1!=r)}else r>0&&this.changeCurrentFrame(!1)}if(null!=this._mcVector)for(var o=0,s=this._mcVector.length;o<s;)this._mcVector[o++].advanceTime(e);this._addToJuggler&&window.requestAnimationFrame(Re(this,this.advanceTime))}},showBounds:function(e){null!=this._config.get_bounds()&&we.trace("TODO showBounds",{fileName:"GAFMovieClip.hx",lineNumber:430,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"showBounds"})},copy:function(){return new ne(this._gafTimeline,0|this.get_fps(),this._addToJuggler)},getField:function(e){if(!Object.prototype.hasOwnProperty.call(this,e))throw new Fe("Field "+e+" does not exist.");return o.field(this,e)},_gotoAndStop:function(e){this.checkAndSetCurrentFrame(e),this._stop()},_play:function(e,t){if(null==t&&(t=!1),null==e&&(e=!1),!this._inPlay||e){if(this._totalFrames>1&&(this._inPlay=!0),e&&this._config.get_animationConfigFrames().get_frames().length>0){var r,i,n=this._config.get_animationConfigFrames().get_frames()[this._currentFrame];if(null!=n.get_actions())for(var o,a=0,u=n.get_actions().length;a<u;){var l=a++;if(0==(o=n.get_actions()[l]).type||2==o.type&&s.parseInt(o.params[0])==this.get_currentFrame())return void(this._inPlay=!1)}for(var c=0,h=this.children.length;c<h;)r=Ie.__cast(this.getChildAt(c++),PIXI.Container),Ie.__instanceof(r,ne)&&(i=Ie.__cast(r,ne),t?i.play(!0):i._play(!0))}this.runActions(),this._reset=!1}},_stop:function(e,t){if(null==t&&(t=!1),null==e&&(e=!1),this._inPlay=!1,e&&this._config.get_animationConfigFrames().get_frames().length>0)for(var r,i,n=0,o=this.children.length;n<o;)r=Ie.__cast(this.getChildAt(n++),PIXI.Container),Ie.__instanceof(r,ne)&&(i=Ie.__cast(r,ne),t?i.stop(!0):i._stop(!0))},checkPlaybackEvents:function(){var e;if(de.hasEventListener(this,"typeSequenceStart")){var t=this._currentFrame+1;null!=(e=this._config.get_animationSequences().getSequenceStart(t))&&this.emit("typeSequenceStart",{target:this,bubbles:!1,data:e})}if(de.hasEventListener(this,"typeSequenceEnd")){var r=this._currentFrame+1;null!=(e=this._config.get_animationSequences().getSequenceEnd(r))&&this.emit("typeSequenceEnd",{target:this,bubbles:!1,data:e})}de.hasEventListener(this,"complete")&&this._currentFrame==this._finalFrame&&this.emit("complete")},runActions:function(){if(0!=this._config.get_animationConfigFrames().get_frames().length){var e=this._config.get_animationConfigFrames().get_frames()[this._currentFrame].get_actions();if(null!=e)for(var t,r=0,i=e.length;r<i;)switch((t=e[r++]).type){case 0:this.stop();break;case 1:this.play();break;case 2:this.gotoAndStop(t.params[0]);break;case 3:this.gotoAndPlay(t.params[0]);break;case 4:we.trace("CFrameAction.DISPATCH_EVENT",{fileName:"GAFMovieClip.hx",lineNumber:626,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"runActions"});var n=t.params[0];if(de.hasEventListener(this,n)){var o=!1,s=null;switch(t.params.length){case 2:case 3:o=Ie.__cast(t.params[1],Ge);break;case 4:s=t.params[3]}this.emit(n,{target:this,bubbles:o,data:s})}}}},checkAndSetCurrentFrame:function(e){if("number"==typeof e&&(0|e)===e&&Ie.__cast(e,Be)>0)e>this._totalFrames&&(e=this._totalFrames);else if("string"==typeof e){var t=e;if(0==(e=this._config.get_animationSequences().getStartFrameNo(t)))throw new Fe("Frame label "+t+" not found")}else e=1;null==this._playingSequence||this._playingSequence.isSequenceFrame(e)||(this._playingSequence=null),this._currentFrame!=e-1&&(this._currentFrame=Ie.__cast(e,Be)-1,this.runActions(),this._disposed||this.draw())},clearDisplayList:function(){this.removeChildren()},draw:function(){var e=0,t=0;if(null!=this._config.get_debugRegions())this.clearDisplayList();else{for(var r=this._displayObjectsVector.length,i=0,n=r;i<n;)this._displayObjectsVector[i++].alpha=0;for(var o=0,s=r=this._mcVector.length;o<s;)this._mcVector[o++]._hidden=!0}var a=this._config.get_animationConfigFrames().get_frames();if(a.length>this._currentFrame){var u,l,c,h,f,d=this._config.get_animationObjects().get_animationObjectsDictionary(),p=a[this._currentFrame],_=p.get_instances();for(t=_.length,e=0;e<t;){var m=(h=_[e++]).get_id(),b=this._displayObjectsDictionary;if(null!=(c=null!=je[m]?b.getReserved(m):b.h[m])){if(l=ne.getTransformMatrix(c,$.HELPER_MATRIX),null!=(u=Ie.__instanceof(c,ne)?Ie.__cast(c,ne):null)&&(h.get_alpha()<0?u.reset():u._reset&&u._started&&u._play(!0),u._hidden=!1),h.get_alpha()<=0)continue;c.alpha=h.get_alpha();var g=h.get_id();if((null!=je[g]?d.getReserved(g):d.h[g]).get_mask()){var y=h.get_id(),v=this._displayObjectsDictionary,x=null!=je[y]?v.getReserved(y):v.h[y];if(null!=x){var w=p.getInstanceByID(h.get_id());if(null==w)throw new Fe("Unable to find mask with ID "+h.get_id());ne.getTransformMatrix(x,$.HELPER_MATRIX),w.applyTransformMatrix(x.get_transformationMatrix(),$.HELPER_MATRIX,this._scale),x.invalidateOrientation(),null!=(u=Ie.__instanceof(x,ne)?Ie.__cast(x,ne):null)&&u._started&&u._play(!0)}}else{if(""!=h.get_maskID()){this.renderDebug(u,h,!0);var S=h.get_maskID(),E=this._stencilMasksDictionary;null!=(f=null!=je[S]?E.getReserved(S):E.h[S])&&(h.applyTransformMatrix(c.get_transformationMatrix(),l,this._scale),c.invalidateOrientation(),Ie.__cast(c,PIXI.DisplayObject).mask=f,this.addChild(f),this.addChild(Ie.__cast(c,PIXI.DisplayObject)))}else this.renderDebug(u,h,this._masked),h.applyTransformMatrix(c.get_transformationMatrix(),l,this._scale),c.invalidateOrientation(),c.setFilterConfig(h.get_filter(),this._scale),this.addChild(Ie.__cast(c,PIXI.DisplayObject));null!=u&&u._started&&u._play(!0),fe.RENDERING_DEBUG&&Ie.__instanceof(c,ee)&&Ie.__cast(c,ee).set_debugColors(fe.getRenderingDifficultyColor(h,this._alphaLessMax,this._masked,this._hasFilter))}}}}null!=this._config.get_debugRegions()&&this.addDebugRegions(),this.checkPlaybackEvents()},renderDebug:function(e,t,r){fe.RENDERING_DEBUG&&null!=e&&we.trace("TODO renderDebug",{fileName:"GAFMovieClip.hx",lineNumber:865,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"renderDebug"})},addDebugRegions:function(){we.trace("TODO addDebugRegions",{fileName:"GAFMovieClip.hx",lineNumber:896,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"addDebugRegions"})},reset:function(){this._gotoAndStop((this._reverse?this._finalFrame:this._startFrame)+1),this._reset=!0,this._currentTime=0,this._lastFrameTime=0;for(var e=this._mcVector.length;e-- >0;)this._mcVector[e].reset()},initialize:function(e,t){this._displayObjectsDictionary=new Ae,this._stencilMasksDictionary=new Ae,this._displayObjectsVector=[],this._imagesVector=[],this._mcVector=[],this._currentFrame=0,this._totalFrames=this._config.get_framesCount(),this.set_fps(null!=this._config.get_stageConfig()?this._config.get_stageConfig().fps:60);for(var r=this._config.get_animationObjects().get_animationObjectsDictionary(),i=null,n=new Ee(r,r.arrayKeys());n.hasNext();){var o=n.next();switch(o.get_type()){case"textField":i=new ae(this._config.get_textFields().get_textFieldObjectsDictionary().get(o.get_regionID()),this._scale,this._contentScaleFactor);break;case"texture":var s=e.getTexture(o.get_regionID());Ie.__instanceof(s,se)&&!o.get_mask()?we.trace("TODO initialize GAFScale9Texture",{fileName:"GAFMovieClip.hx",lineNumber:963,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"initialize"}):(i=new re(s),Ie.__cast(i,re).set_textureSmoothing(this._smoothing));break;case"timeline":i=new ne(t.getGAFTimelineByID(o.get_regionID()),0|this.get_fps(),!1)}if(null!=o.get_maxSize()&&Ie.__instanceof(i,Z)&&Ie.__cast(i,Z).set_maxSize(new PIXI.Point(o.get_maxSize().x*this._scale,o.get_maxSize().y*this._scale)),this.addDisplayObject(o.get_instanceID(),i),o.get_mask()&&this.addDisplayObject(o.get_instanceID(),i,!0),null!=this._config.get_namedParts()){var a=this._config.get_namedParts().get(o.get_instanceID());null!=a&&(Object.prototype.hasOwnProperty.call(this,a)||(this[this._config.get_namedParts().get(o.get_instanceID())]=i),i.name=a)}}this._addToJuggler&&window.requestAnimationFrame(Re(this,this.advanceTime))},addDisplayObject:function(e,t,r){if(null==r&&(r=!1),r){var i=this._stencilMasksDictionary;null!=je[e]?i.setReserved(e,t):i.h[e]=t}else{var n=Ie.__cast(t,Q),o=this._displayObjectsDictionary;null!=je[e]?o.setReserved(e,n):o.h[e]=n,this._displayObjectsVector[this._displayObjectsVector.length]=Ie.__cast(t,Q),Ie.__instanceof(t,te)?this._imagesVector[this._imagesVector.length]=Ie.__cast(t,te):Ie.__instanceof(t,ne)&&(this._mcVector[this._mcVector.length]=Ie.__cast(t,ne))}},updateBounds:function(e){we.trace("TODO updateBounds",{fileName:"GAFMovieClip.hx",lineNumber:1034,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"updateBounds"})},__debugHighlight:function(){isNaN(this.__debugOriginalAlpha)&&(this.__debugOriginalAlpha=this.alpha),this.alpha=1},__debugLowlight:function(){isNaN(this.__debugOriginalAlpha)&&(this.__debugOriginalAlpha=this.alpha),this.alpha=.05},__debugResetLight:function(){isNaN(this.__debugOriginalAlpha)||(this.alpha=this.__debugOriginalAlpha,this.__debugOriginalAlpha=null)},removeChildAt:function(e){return we.trace("TODO: removeChildAt",{fileName:"GAFMovieClip.hx",lineNumber:1104,className:"com.github.haxePixiGAF.display.GAFMovieClip",methodName:"removeChildAt"}),this.getChildAt(e).destroy(),$.prototype.removeChildAt.call(this,e)},getChildByName:function(e){for(var t=this._displayObjectsVector.length,r=0;r<t;){var i=r++;if(this._displayObjectsVector[i].name==e)return Ie.__cast(this._displayObjectsVector[i],PIXI.DisplayObject)}return $.prototype.getChildByName.call(this,e)},destroy:function(e){if(!this._disposed){this.stop();for(var t=this._displayObjectsVector.length,r=0;r<t;)this._displayObjectsVector[r++].destroy();for(var i=this._stencilMasksDictionary,n=new Ee(i,i.arrayKeys());n.hasNext();)n.next().destroy();this._displayObjectsDictionary=null,this._stencilMasksDictionary=null,this._displayObjectsVector=null,this._imagesVector=null,this._gafTimeline=null,this._mcVector=null,this._config=null,null!=this.parent&&this.parent.removeChild(this),$.prototype.destroy.call(this,e),this._disposed=!0}},changeCurrentFrame:function(e){this._nextFrame=this._currentFrame+(this._reverse?-1:1),this._startFrame=(null!=this._playingSequence?this._playingSequence.get_startFrameNo():1)-1,this._finalFrame=(null!=this._playingSequence?this._playingSequence.get_endFrameNo():this._totalFrames)-1,this._nextFrame>=this._startFrame&&this._nextFrame<=this._finalFrame?(this._currentFrame=this._nextFrame,this._lastFrameTime+=this._frameDuration):this._loop?(this._currentFrame=this._reverse?this._finalFrame:this._startFrame,this._lastFrameTime+=this._frameDuration):this.stop(),this.runActions(),this._disposed||(this._config.get_disposed()?this.destroy():e?this.checkPlaybackEvents():this.draw())},get_currentFrame:function(){return this._currentFrame+1},get_totalFrames:function(){return this._totalFrames},get_inPlay:function(){return this._inPlay},get_loop:function(){return this._loop},set_loop:function(e){return this._loop=e},set_smoothing:function(e){return null},get_smoothing:function(){return null},get_useClipping:function(){return this._useClipping},set_useClipping:function(e){return this._useClipping=e,this._useClipping&&null!=this._config.get_stageConfig()||(this.mask=null),e},get_fps:function(){return this._frameDuration==1/0?0:1/this._frameDuration},set_fps:function(e){this._frameDuration=e<=0?1/0:1/e;for(var t=this._mcVector.length;t-- >0;)this._mcVector[t].set_fps(e);return e},get_reverse:function(){return this._reverse},set_reverse:function(e){this._reverse=e;for(var t=this._mcVector.length;t-- >0;)this._mcVector[t]._reverse=e;return this._reverse},get_skipFrames:function(){return this._skipFrames},set_skipFrames:function(e){this._skipFrames=e;for(var t=this._mcVector.length;t-- >0;)this._mcVector[t]._skipFrames=e;return this._skipFrames},__class__:ne});var oe=function(){};oe.__name__=["com","github","haxePixiGAF","display","IGAFTexture"],oe.prototype={__class__:oe};var se=function(e,t,r,i){this._id=e,this._pivotMatrix=r,this._scale9Grid=i,this.initialize()};se.__name__=["com","github","haxePixiGAF","display","GAFScale9Texture"],se.__interfaces__=[oe],se.prototype={copyFrom:function(e){if(!Ie.__instanceof(e,se))throw new Fe("Incompatiable types GAFScale9Texture and "+a.getClassName(null==e?null:Ie.getClass(e)));this._id=e.get_id(),this._texture=e.get_texture(),ge.copyFrom(this._pivotMatrix,e.get_pivotMatrix())},initialize:function(){},get_id:function(){return this._id},get_pivotMatrix:function(){return this._pivotMatrix},get_texture:function(){return this._texture},get_scale9Grid:function(){return this._scale9Grid},clone:function(){return null},__class__:se};var ae=e.GAF.GAFTextField=function(e,t,r,i){if(null==i&&(i=!1),null==r&&(r=1),null==t&&(t=1),this.__debugOriginalAlpha=null,$.call(this),e.get_textFormat().wordWrap=!0,e.get_textFormat().wordWrapWidth=e.get_width(),this.textField=new PIXI.Text(e.get_text(),e.get_textFormat()),isNaN(t)&&(t=1),isNaN(r)&&(r=1),this._scale=t,this._csf=r,"center"==e.get_textFormat().align?(this.textField.anchor.x=.5,this.textField.x=e.get_width()/2):"right"==e.get_textFormat().align&&(this.textField.anchor.x=1,this.textField.x=e.get_width()),i){var n=new PIXI.Graphics;n.beginFill(65535),n.drawRect(0,0,e.get_width(),e.get_height()),n.endFill(),n.alpha=.5,this.addChild(n)}this.addChild(this.textField),this.invalidateSize(),this._config=e};ae.__name__=["com","github","haxePixiGAF","display","GAFTextField"],ae.__interfaces__=[ee],ae.__super__=$,ae.prototype=i($.prototype,{copy:function(){var e=new ae(this._config,this._scale,this._csf);return e.alpha=this.alpha,e.visible=this.visible,e.set_transformationMatrix(this.get_transformationMatrix()),e.setFilterConfig(this._filterConfig,this._filterScale),e},invalidateSize:function(){},set_debugColors:function(e){return null},setFilterConfig:function(e,t){null==t&&(t=1),this._filterConfig==e&&this._filterScale==t||(null!=e?(this._filterConfig=e,this._filterScale=t):(this._filterConfig=null,this._filterScale=null),this.applyFilter())},applyFilter:function(){},__debugHighlight:function(){isNaN(this.__debugOriginalAlpha)&&(this.__debugOriginalAlpha=this.alpha),this.alpha=1},__debugLowlight:function(){isNaN(this.__debugOriginalAlpha)&&(this.__debugOriginalAlpha=this.alpha),this.alpha=.05},__debugResetLight:function(){isNaN(this.__debugOriginalAlpha)||(this.alpha=this.__debugOriginalAlpha,this.__debugOriginalAlpha=null)},destroy:function(e){$.prototype.destroy.call(this,e),this._config=null},get_textWidth:function(){return ae.HELPER_POINT.x},get_textHeight:function(){return ae.HELPER_POINT.y},get_text:function(){return this.textField.text},set_text:function(e){return this.textField.text=e},get_style:function(){return Ie.__cast(this.textField.style,PIXI.TextStyle)},cloneTextFormat:function(e){if(null==e)throw new Fe('Argument "textFormat" must be not null.');var t=new PIXI.TextStyle;return t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fill=e.fill,t.fontWeight=e.fontWeight,t.fontStyle=e.fontStyle,t.align=e.align,t},__class__:ae});var ue=function(e,t,r){this._id=e,this._texture=t,this._pivotMatrix=r};ue.__name__=["com","github","haxePixiGAF","display","GAFTexture"],ue.__interfaces__=[oe],ue.prototype={copyFrom:function(e){if(!Ie.__instanceof(e,ue))throw new Fe("Incompatiable types GAFexture and "+a.getClassName(null==e?null:Ie.getClass(e)));this._id=e.get_id(),this._texture=e.get_texture(),ge.copyFrom(this._pivotMatrix,e.get_pivotMatrix())},get_texture:function(){return this._texture},get_pivotMatrix:function(){return this._pivotMatrix},get_id:function(){return this._id},clone:function(){return new ue(this._id,this._texture,this._pivotMatrix.clone())},__class__:ue};var le=e.GAF.GAFEvent=function(){};le.__name__=["com","github","haxePixiGAF","events","GAFEvent"];var ce=function(){};ce.__name__=["com","github","haxePixiGAF","sound","GAFSoundData"],ce.prototype={addSound:function(e,t,r){},__class__:ce};var he=function(){};he.__name__=["com","github","haxePixiGAF","text","TextFormatAlign"];var fe=function(){};fe.__name__=["com","github","haxePixiGAF","utils","DebugUtility"],fe.getRenderingDifficultyColor=function(e,t,r,i){null==i&&(i=!1),null==r&&(r=!1),null==t&&(t=!1);var n=[];return(null!=e.get_maskID()||r)&&n.push(-65536),(null!=e.get_filter()||i)&&n.push(-16711681),(e.get_alpha()<h.get_maxAlpha()||t)&&n.push(-256),0==n.length&&n.push(-858993460),n},fe.getColor=function(e){e>255&&(e=255);var t=fe.getRGB(Math.floor(120-120/(255/e)));return 127+(e>>1)<<24|t[0]<<16|t[1]<<8},fe.getRGB=function(e){for(var t;e<0||e>360;)e+=e<0?360:-360;return t=Math.floor(e/60),fe.getH(e,t)},fe.getH=function(e,t){for(var r=[0,0,0],i=t+1,n=0;n<3;){var o=n++;r[o]=fe.getHP(fe.aryRGB[o],e,t,i)}return r},fe.getHP=function(e,t,r,i){var n,o,s;return s=((n=e[r])+e[i])/60*(t-60*r),o=Math.floor(0==e[i]?n-s:n+s),Math.round(Math.min(255,Math.abs(o)))},fe.getObjectMemoryHash=function(e){var t=null;try{we.trace("TODO: FakeClass",{fileName:"DebugUtility.hx",lineNumber:120,className:"com.github.haxePixiGAF.utils.DebugUtility",methodName:"getObjectMemoryHash"})}catch(e){we.trace("TODO: memoryHash",{fileName:"DebugUtility.hx",lineNumber:126,className:"com.github.haxePixiGAF.utils.DebugUtility",methodName:"getObjectMemoryHash"}),t="TODO: memoryHash"}return t};var de=function(){};de.__name__=["com","github","haxePixiGAF","utils","EventEmitterUtility"],de.hasEventListener=function(e,t){return null!=Re(e,e.listeners)&&e.listeners(t).length>0};var pe=function(){};pe.__name__=["haxe","io","Input"],pe.prototype={readByte:function(){throw new Fe("Not implemented")},readBytes:function(e,t,r){var i=r,n=e.b;if(t<0||r<0||t+r>e.length)throw new Fe(Ce.OutsideBounds);try{for(;i>0;)n[t]=this.readByte(),++t,--i}catch(e){if(e instanceof Fe&&(e=e.val),!Ie.__instanceof(e,Pe))throw e}return r-i},close:function(){},set_bigEndian:function(e){return this.bigEndian=e,e},readFullBytes:function(e,t,r){for(;r>0;){var i=this.readBytes(e,t,r);if(0==i)throw new Fe(Ce.Blocked);t+=i,r-=i}},readUInt16:function(){var e=this.readByte(),t=this.readByte();return this.bigEndian?t|e<<8:e|t<<8},readInt32:function(){var e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte();return this.bigEndian?i|r<<8|t<<16|e<<24:e|t<<8|r<<16|i<<24},readString:function(e){var t=new Te(new Je(e));return this.readFullBytes(t,0,e),t.toString()},__class__:pe};var _e=function(e,t,r){if(null==t&&(t=0),null==r&&(r=e.length-t),t<0||r<0||t+r>e.length)throw new Fe(Ce.OutsideBounds);this.b=e.b,this.pos=t,this.len=r,this.totlen=r};_e.__name__=["haxe","io","BytesInput"],_e.__super__=pe,_e.prototype=i(pe.prototype,{set_position:function(e){return e<0?e=0:e>this.totlen&&(e=this.totlen),this.len=this.totlen-e,this.pos=e},readByte:function(){if(0==this.len)throw new Fe(new Pe);return this.len--,this.b[this.pos++]},readBytes:function(e,t,r){if(t<0||r<0||t+r>e.length)throw new Fe(Ce.OutsideBounds);if(0==this.len&&r>0)throw new Fe(new Pe);this.len<r&&(r=this.len);for(var i=this.b,n=e.b,o=0,s=r;o<s;){var a=o++;n[t+a]=i[this.pos+a]}return this.pos+=r,this.len-=r,r},__class__:_e});var me=function(e,t,r){_e.call(this,e,t,r)};me.__name__=["com","github","haxePixiGAF","utils","GAFBytesInput"],me.__super__=_e,me.prototype=i(_e.prototype,{readSByte:function(){var e=this.readByte();return e>128?e-256:e},readUnsignedByte:function(){return this.readByte()},readShort:function(){var e=this.readUInt16();return e>32767?e-65536:e},readUnsignedShort:function(){return this.readUInt16()},readInt:function(){return this.readUInt32()},readUnsignedInt:function(){return this.readUInt32()},readUInt32:function(){var e=this.readUInt16();return(this.readUInt16()<<16)+e},readBoolean:function(){return 0!=this.readSByte()},readUTF:function(){return this.readString(this.readUnsignedShort())},__class__:me});var be=function(){};be.__name__=["com","github","haxePixiGAF","utils","MathUtility"],be.equals=function(e,t){return!isNaN(e)&&!isNaN(t)&&Math.abs(e-t)<1e-5},be.getItemIndex=function(e,t){for(var r=0,i=e.length;r<i;){var n=r++,o=e[n];if(!isNaN(o)&&!isNaN(t)&&Math.abs(o-t)<1e-5)return n}return-1};var ge=function(){};ge.__name__=["com","github","haxePixiGAF","utils","MatrixUtility"],ge.concat=function(e,t){var r=new PIXI.Matrix;r.a=t.a*e.a+t.c*e.b,r.b=t.b*e.a+t.d*e.b,r.c=t.a*e.c+t.c*e.d,r.d=t.b*e.c+t.d*e.d,r.tx=t.a*e.tx+t.c*e.ty+t.tx,r.ty=t.b*e.tx+t.d*e.ty+t.ty,r.copy(e)},ge.copyFrom=function(e,t){t.copy(e)};var ye=function(){};ye.__name__=["com","github","haxePixiGAF","utils","RectangleUtility"],ye.copyFrom=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},ye.union=function(e,t){var r=Math.min(e.x,t.x),i=Math.min(e.y,t.y);return new PIXI.Rectangle(r,i,Math.max(e.x+e.width,t.x+t.width)-r,Math.max(e.y+e.height,t.y+t.height)-i)};var ve=function(){};ve.__name__=["com","github","haxePixiGAF","utils","VectorUtility"],ve.fillMatrix=function(e,t,r,i,n,o,s,a,u,l,c,h,f,d,p,_,m,b,g,y,v){e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=l,e[9]=c,e[10]=h,e[11]=f,e[12]=d,e[13]=p,e[14]=_,e[15]=m,e[16]=b,e[17]=g,e[18]=y,e[19]=v},ve.copyMatrix=function(e,t){for(var r=t.length,i=0;i<r;){var n=i++;e[n]=t[n]}};var xe=function(){};xe.__name__=["haxe","IMap"],xe.prototype={__class__:xe};var we=function(){};we.__name__=["haxe","Log"],we.trace=function(e,t){Ie.__trace(e,t)};var Se=function(){this.h={__keys__:{}}};Se.__name__=["haxe","ds","ObjectMap"],Se.__interfaces__=[xe],Se.prototype={set:function(e,t){var r=e.__id__||(e.__id__=++Se.count);this.h[r]=t,this.h.__keys__[r]=e},get:function(e){return this.h[e.__id__]},remove:function(e){var t=e.__id__;return null!=this.h.__keys__[t]&&(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return n.iter(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},__class__:Se};var Ee=function(e,t){this.map=e,this.keys=t,this.index=0,this.count=t.length};Ee.__name__=["haxe","ds","_StringMap","StringMapIterator"],Ee.prototype={hasNext:function(){return this.index<this.count},next:function(){var e=this.map,t=this.keys[this.index++];return null!=je[t]?e.getReserved(t):e.h[t]},__class__:Ee};var Ae=function(){this.h={}};Ae.__name__=["haxe","ds","StringMap"],Ae.__interfaces__=[xe],Ae.prototype={set:function(e,t){null!=je[e]?this.setReserved(e,t):this.h[e]=t},get:function(e){return null!=je[e]?this.getReserved(e):this.h[e]},setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},existsReserved:function(e){return null!=this.rh&&this.rh.hasOwnProperty("$"+e)},remove:function(e){return null!=je[e]?(e="$"+e,!(null==this.rh||!this.rh.hasOwnProperty(e))&&(delete this.rh[e],!0)):!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){return n.iter(this.arrayKeys())},arrayKeys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t);if(null!=this.rh)for(var t in this.rh)36==t.charCodeAt(0)&&e.push(t.substr(1));return e},iterator:function(){return new Ee(this,this.arrayKeys())},__class__:Ae};var Te=function(e){this.length=e.byteLength,this.b=new Xe(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};Te.__name__=["haxe","io","Bytes"],Te.ofData=function(e){var t=e.hxBytes;return null!=t?t:new Te(e)},Te.prototype={getString:function(e,t){if(e<0||t<0||e+t>this.length)throw new Fe(Ce.OutsideBounds);for(var r="",i=this.b,n=String.fromCharCode,o=e,s=e+t;o<s;){var a=i[o++];if(a<128){if(0==a)break;r+=n(a)}else if(a<224)r+=n((63&a)<<6|127&i[o++]);else if(a<240)r+=n((31&a)<<12|(127&i[o++])<<6|127&i[o++]);else{var u=(15&a)<<18|(127&i[o++])<<12|(127&i[o++])<<6|127&i[o++];r+=n(55232+(u>>10)),r+=n(1023&u|56320)}}return r},toString:function(){return this.getString(0,this.length)},__class__:Te};var Pe=function(){};Pe.__name__=["haxe","io","Eof"],Pe.prototype={toString:function(){return"Eof"},__class__:Pe};var Ce={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:["Blocked",0]};Ce.Blocked.toString=r,Ce.Blocked.__enum__=Ce,Ce.Overflow=["Overflow",1],Ce.Overflow.toString=r,Ce.Overflow.__enum__=Ce,Ce.OutsideBounds=["OutsideBounds",2],Ce.OutsideBounds.toString=r,Ce.OutsideBounds.__enum__=Ce,Ce.Custom=function(e){var t=["Custom",3,e];return t.__enum__=Ce,t.toString=r,t};var Me=function(){};Me.__name__=["haxe","io","FPHelper"],Me.i32ToFloat=function(e){var t=e>>>23&255,r=8388607&e;return 0==r&&0==t?0:(1-(e>>>31<<1))*(1+Math.pow(2,-23)*r)*Math.pow(2,t-127)};var Fe=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,Fe)};Fe.__name__=["js","_Boot","HaxeError"],Fe.wrap=function(e){return e instanceof Error?e:new Fe(e)},Fe.__super__=Error,Fe.prototype=i(Error.prototype,{__class__:Fe});var Ie=function(){};Ie.__name__=["js","Boot"],Ie.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},Ie.__trace=function(e,t){var r,i=null!=t?t.fileName+":"+t.lineNumber+": ":"";if(i+=Ie.__string_rec(e,""),null!=t&&null!=t.customParams)for(var n=0,o=t.customParams;n<o.length;){var s=o[n];++n,i+=","+Ie.__string_rec(s,"")}"undefined"!=typeof document&&null!=(r=document.getElementById("haxe:trace"))?r.innerHTML+=Ie.__unhtml(i)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(i)},Ie.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;var r=Ie.__nativeClassName(e);return null!=r?Ie.__resolveNativeClass(r):null},Ie.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var r=typeof e;switch("function"==r&&(e.__name__||e.__ename__)&&(r="object"),r){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var i=e[0]+"(";t+="\t";for(var n=2,o=e.length;n<o;){var s=n++;i+=2!=s?","+Ie.__string_rec(e[s],t):Ie.__string_rec(e[s],t)}return i+")"}var a=e.length,u="[";t+="\t";for(var l=0,c=a;l<c;){var h=l++;u+=(h>0?",":"")+Ie.__string_rec(e[h],t)}return u+="]"}var f;try{f=e.toString}catch(e){return"???"}if(null!=f&&f!=Object.toString&&"function"==typeof f){var d=e.toString();if("[object Object]"!=d)return d}var p=null,_="{\n";t+="\t";var m=null!=e.hasOwnProperty;for(var p in e)m&&!e.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=_.length&&(_+=", \n"),_+=t+p+" : "+Ie.__string_rec(e[p],t));return _+="\n"+(t=t.substring(1))+"}";case"string":return e;default:return String(e)}},Ie.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var r=e.__interfaces__;if(null!=r)for(var i=0,n=r.length;i<n;){var o=r[i++];if(o==t||Ie.__interfLoop(o,t))return!0}return Ie.__interfLoop(e.__super__,t)},Ie.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array&&null==e.__enum__;case Ge:return"boolean"==typeof e;case Ne:return!0;case Le:return"number"==typeof e;case Be:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(Ie.__interfLoop(Ie.getClass(e),t))return!0}else if("object"==typeof t&&Ie.__isNativeObj(t)&&e instanceof t)return!0;return t==Ue&&null!=e.__name__||(t==ze&&null!=e.__ename__||e.__enum__==t)}},Ie.__cast=function(e,t){if(Ie.__instanceof(e,t))return e;throw new Fe("Cannot cast "+s.string(e)+" to "+s.string(t))},Ie.__nativeClassName=function(e){var t=Ie.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},Ie.__isNativeObj=function(e){return null!=Ie.__nativeClassName(e)},Ie.__resolveNativeClass=function(e){return t[e]};var Oe=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{var t=e;this.a=[];for(var r=0,i=t;r<i;)this.a[r++]=0;this.byteLength=t}};Oe.__name__=["js","html","compat","ArrayBuffer"],Oe.sliceImpl=function(e,t){var r=new Xe(this,e,null==t?null:t-e),i=new Je(r.byteLength);return new Xe(i).set(r),i},Oe.prototype={slice:function(e,t){return new Oe(this.a.slice(e,t))},__class__:Oe};var De=function(){};De.__name__=["js","html","compat","Uint8Array"],De._new=function(e,t,r){var i;if("number"==typeof e){i=[];for(var n=0,o=e;n<o;){i[n++]=0}i.byteLength=i.length,i.byteOffset=0,i.buffer=new Oe(i)}else if(Ie.__instanceof(e,Oe)){var a=e;null==t&&(t=0),null==r&&(r=a.byteLength-t),(i=0==t?a.a:a.a.slice(t,t+r)).byteLength=i.length,i.byteOffset=t,i.buffer=a}else{if(!(e instanceof Array&&null==e.__enum__))throw new Fe("TODO "+s.string(e));(i=e.slice()).byteLength=i.length,i.byteOffset=0,i.buffer=new Oe(i)}return i.subarray=De._subarray,i.set=De._set,i},De._set=function(e,t){if(Ie.__instanceof(e.buffer,Oe)){var r=e;if(e.byteLength+t>this.byteLength)throw new Fe("set() outside of range");for(var i=0,n=e.byteLength;i<n;){var o=i++;this[o+t]=r[o]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new Fe("TODO");var s=e;if(s.length+t>this.byteLength)throw new Fe("set() outside of range");for(var a=0,u=s.length;a<u;){var l=a++;this[l+t]=s[l]}}},De._subarray=function(e,t){var r=De._new(this.slice(e,t));return r.byteOffset=e,r};var ke=0;function Re(e,t){return null==t?null:(null==t.__id__&&(t.__id__=ke++),null==e.hx__closures__?e.hx__closures__={}:r=e.hx__closures__[t.__id__],null==r&&((r=function(){return r.method.apply(r.scope,arguments)}).scope=e,r.method=t,e.hx__closures__[t.__id__]=r),r);var r}String.prototype.__class__=String,String.__name__=["String"],Array.__name__=["Array"];var Be={__name__:["Int"]},Ne={__name__:["Dynamic"]},Le=Number;Le.__name__=["Float"];var Ge=Boolean;Ge.__ename__=["Bool"];var Ue={__name__:["Class"]},ze={};Object.defineProperty(c.prototype,"gafBundle",{get:c.prototype.get_gafBundle}),Object.defineProperty(p.prototype,"name",{get:p.prototype.get_name,set:p.prototype.set_name}),Object.defineProperty(b.prototype,"id",{get:b.prototype.get_id}),Object.defineProperty(b.prototype,"linkage",{get:b.prototype.get_linkage}),Object.defineProperty(b.prototype,"scale",{get:b.prototype.get_scale,set:b.prototype.set_scale}),Object.defineProperty(b.prototype,"contentScaleFactor",{get:b.prototype.get_contentScaleFactor,set:b.prototype.set_contentScaleFactor}),Object.defineProperty(b.prototype,"gafgfxData",{get:b.prototype.get_gafgfxData,set:b.prototype.set_gafgfxData}),Object.defineProperty(re.prototype,"assetTexture",{get:re.prototype.get_assetTexture}),Object.defineProperty(ne.prototype,"currentFrame",{get:ne.prototype.get_currentFrame}),Object.defineProperty(ne.prototype,"totalFrames",{get:ne.prototype.get_totalFrames}),Object.defineProperty(ne.prototype,"inPlay",{get:ne.prototype.get_inPlay}),Object.defineProperty(ne.prototype,"loop",{get:ne.prototype.get_loop,set:ne.prototype.set_loop}),Object.defineProperty(ne.prototype,"smoothing",{get:ne.prototype.get_smoothing,set:ne.prototype.set_smoothing}),Object.defineProperty(ne.prototype,"useClipping",{get:ne.prototype.get_useClipping,set:ne.prototype.set_useClipping}),Object.defineProperty(ne.prototype,"fps",{get:ne.prototype.get_fps,set:ne.prototype.set_fps}),Object.defineProperty(ne.prototype,"reverse",{get:ne.prototype.get_reverse,set:ne.prototype.set_reverse}),Object.defineProperty(ne.prototype,"skipFrames",{get:ne.prototype.get_skipFrames,set:ne.prototype.set_skipFrames});var je={},Je=t.ArrayBuffer||Oe;null==Je.prototype.slice&&(Je.prototype.slice=Oe.sliceImpl);var Xe=t.Uint8Array||De._new;c.ACTION_DONT_LOAD_IN_GPU_MEMORY="actionDontLoadInGPUMemory",c.ACTION_LOAD_ALL_IN_GPU_MEMORY="actionLoadAllInGPUMemory",c.ACTION_LOAD_IN_GPU_MEMORY_ONLY_DEFAULT="actionLoadInGPUMemoryOnlyDefault",c.actionWithAtlases="actionLoadInGPUMemoryOnlyDefault",h.use99alpha=!1,h.autoPlaySounds=!0,h.useMipMaps=!1,h.useDeviceFonts=!1,d.MAX_VERSION=5,_.TYPE_POINT=0,_.TYPE_RECT=1,m.EVENT_TYPE_TEXTURES_READY="texturesReady",b.CONTENT_ALL="contentAll",b.CONTENT_DEFAULT="contentDefault",b.CONTENT_SPECIFY="contentSpecify",w.TYPE_TEXTURE="texture",w.TYPE_TEXTFIELD="textField",w.TYPE_TIMELINE="timeline",F.STOP=0,F.PLAY=1,F.GOTO_AND_STOP=2,F.GOTO_AND_PLAY=3,F.DISPATCH_EVENT=4,I.GAF_PLAY_SOUND="gafPlaySound",I.WAV=0,I.MP3=1,z.SIGNATURE_GAC=4669763,z.TAG_END=0,z.TAG_DEFINE_ATLAS=1,z.TAG_DEFINE_ANIMATION_MASKS=2,z.TAG_DEFINE_ANIMATION_OBJECTS=3,z.TAG_DEFINE_ANIMATION_FRAMES=4,z.TAG_DEFINE_NAMED_PARTS=5,z.TAG_DEFINE_SEQUENCES=6,z.TAG_DEFINE_TEXT_FIELDS=7,z.TAG_DEFINE_ATLAS2=8,z.TAG_DEFINE_STAGE=9,z.TAG_DEFINE_ANIMATION_OBJECTS2=10,z.TAG_DEFINE_ANIMATION_MASKS2=11,z.TAG_DEFINE_ANIMATION_FRAMES2=12,z.TAG_DEFINE_TIMELINE=13,z.TAG_DEFINE_SOUNDS=14,z.TAG_DEFINE_ATLAS3=15,z.FILTER_DROP_SHADOW=0,z.FILTER_BLUR=1,z.FILTER_GLOW=2,z.FILTER_COLOR_MATRIX=6,z.sHelperRectangle=new PIXI.Rectangle(0,0,0,0),z.sHelperMatrix=new PIXI.Matrix,j.SCALE_NOT_FOUND=" scale was not found in GAF config",j.ATLAS_NOT_FOUND="There is no texture atlas file '",j.FILE_NOT_FOUND="File or directory not found:'",j.GAF_NOT_FOUND="No GAF animation files found",j.CSF_NOT_FOUND=" CSF was not found in GAF config",j.TIMELINES_NOT_FOUND="No animations found.",j.EMPTY_ZIP="zero file count in zip",j.ERROR_LOADING="Error occured while loading ",j.ERROR_PARSING="GAF parse error",j.UNSUPPORTED_JSON="JSON format is no longer supported",j.UNKNOWN_FORMAT="Unknown data format.",J.UNSUPPORTED_FILTERS="Unsupported filter in animation",J.UNSUPPORTED_FILE="You are using an old version of GAF library",J.UNSUPPORTED_TAG="Unsupported tag found, check for playback library updates",J.FILTERS_UNDER_MASK="Warning! Animation contains objects with filters under mask! Online preview is not able to display filters applied under masks(flash player technical limitation). All other runtimes will display this correctly.",J.REGION_NOT_FOUND="In the texture atlas element is missing. This is conversion bug. Please report issue<font color='#0000ff'><u><a href='http://gafmedia.com/contact'>here</a></u></font>and we will fix it(use the Request type - Report Issue).",W.EVENT_TYPE_TEXTURE_READY="textureReady",W.SOURCE_TYPE_BITMAP_DATA="sourceTypeBitmapData",W.SOURCE_TYPE_BITMAP="sourceTypeBitmap",W.SOURCE_TYPE_PNG_BA="sourceTypePNGBA",W.SOURCE_TYPE_ATF_BA="sourceTypeATFBA",W.SOURCE_TYPE_PNG_URL="sourceTypePNGURL",W.SOURCE_TYPE_ATF_URL="sourceTypeATFURL",K.sNames=[],$.HELPER_MATRIX=new PIXI.Matrix,re.HELPER_MATRIX=new PIXI.Matrix,ne.EVENT_TYPE_SEQUENCE_START="typeSequenceStart",ne.EVENT_TYPE_SEQUENCE_END="typeSequenceEnd",se.DIMENSIONS_ERROR="The width and height of the scale9Grid must be greater than zero.",se.HELPER_RECTANGLE=new PIXI.Rectangle(0,0,0,0),ae.HELPER_POINT=new PIXI.Point,le.COMPLETE="complete",le.ERROR="error",he.CENTER="center",he.END="end",he.JUSTIFY="justify",he.LEFT="left",he.RIGHT="right",he.START="start",fe.RENDERING_DEBUG=!1,fe.RENDERING_NEUTRAL_COLOR=-858993460,fe.RENDERING_FILTER_COLOR=-16711681,fe.RENDERING_MASK_COLOR=-65536,fe.RENDERING_ALPHA_COLOR=-256,fe.cHR=[255,255,0,0,0,255,255],fe.cHG=[0,255,255,255,0,0,0],fe.cHB=[0,0,0,255,255,255,0],fe.aryRGB=[fe.cHR,fe.cHG,fe.cHB],be.epsilon=1e-5,be.PI_Q=Math.PI/4,Se.count=0,Ie.__toStr={}.toString,De.BYTES_PER_ELEMENT=1}("undefined"!=typeof exports?exports:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.TWEEN=t()}(this,function(){"use strict";var e,t,r="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},i=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){var i=Object.keys(this._tweens);if(0===i.length)return!1;for(e=void 0!==e?e:r();i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var o=this._tweens[i[n]];o&&!1===o.update(e)&&!t&&delete this._tweens[i[n]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),n={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-n.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*n.Bounce.In(2*e):.5*n.Bounce.Out(2*e-1)+.5}}},o={Linear:function(e,t){var r=e.length-1,i=r*t,n=Math.floor(i),s=o.Utils.Linear;return t<0?s(e[0],e[1],i):t>1?s(e[r],e[r-1],r-i):s(e[n],e[n+1>r?r:n+1],i-n)},Bezier:function(e,t){for(var r=0,i=e.length-1,n=Math.pow,s=o.Utils.Bernstein,a=0;a<=i;a++)r+=n(1-t,i-a)*n(t,a)*e[a]*s(i,a);return r},CatmullRom:function(e,t){var r=e.length-1,i=r*t,n=Math.floor(i),s=o.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(n=Math.floor(i=r*(1+t))),s(e[(n-1+r)%r],e[n],e[(n+1)%r],e[(n+2)%r],i-n)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[r]-(s(e[r],e[r],e[r-1],e[r-1],i-r)-e[r]):s(e[n?n-1:0],e[n],e[r<n+1?r:n+1],e[r<n+2?r:n+2],i-n)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=o.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(e=[1],function(t){var r=1;if(e[t])return e[t];for(var i=t;i>1;i--)r*=i;return e[t]=r,r}),CatmullRom:function(e,t,r,i,n){var o=.5*(r-e),s=.5*(i-t),a=n*n;return(2*t-2*r+o+s)*(n*a)+(-3*t+3*r-2*o-s)*a+o*n+t}}},s=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),a=function(){function e(e,t){void 0===t&&(t=c),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=c.Easing.Linear.None,this._interpolationFunction=c.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=c.nextId(),this._isChainStopped=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){for(var r in e)this._valuesEnd[r]=e[r];return void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?c.now()+parseFloat(e):e:c.now(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,r,i){for(var n in r){var o=e[n],s=Array.isArray(o),a=s?"array":typeof o,u=!s&&Array.isArray(r[n]);if("undefined"!==a&&"function"!==a){if(u){var l=r[n];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,o)),r[n]=[o].concat(l)}if("object"!==a&&!s||!o||u)void 0===t[n]&&(t[n]=o),s||(t[n]*=1),i[n]=u?r[n].slice().reverse():t[n]||0;else{for(var c in t[n]=s?[]:{},o)t[n][c]=o[c];i[n]=s?[]:{},this._setupProperties(o,t[n],r[n],i[n])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this.update(1/0),this},e.prototype.pause=function(e){return this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=void 0===e?c.now():e,this._group.remove(this),this)},e.prototype.resume=function(e){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===e?c.now():e)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e){var t,r;if(e>this._startTime+this._duration&&!this._isPlaying)return!1;if(this.isPlaying||this.start(e),e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var i=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[t]||(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var n=0,o=this._chainedTweens.length;n<o;n++)this._chainedTweens[n].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,r,i){for(var n in r)if(void 0!==t[n]){var o=t[n]||0,s=r[n],a=Array.isArray(e[n]),u=Array.isArray(s);!a&&u?e[n]=this._interpolationFunction(s,i):"object"==typeof s&&s?this._updateProperties(e[n],o,s,i):"number"==typeof(s=this._handleRelativeValue(o,s))&&(e[n]=o+(s-o)*i)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e];"string"==typeof this._valuesEnd[e]?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e]):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},e}(),u="18.6.0",l=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,r)},function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),c=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version=u,t.now=r,t.Group=i,t.Easing=n,t.Interpolation=o,t.nextId=s.nextId,t.Tween=a,t}return l(t,e),t}(i));return c.TWEEN=c,c}),function(e){var t=function(e,t){var r=e[0],a=e[1],u=e[2],l=e[3];r=i(r,a,u,l,t[0],7,-680876936),l=i(l,r,a,u,t[1],12,-389564586),u=i(u,l,r,a,t[2],17,606105819),a=i(a,u,l,r,t[3],22,-1044525330),r=i(r,a,u,l,t[4],7,-176418897),l=i(l,r,a,u,t[5],12,1200080426),u=i(u,l,r,a,t[6],17,-1473231341),a=i(a,u,l,r,t[7],22,-45705983),r=i(r,a,u,l,t[8],7,1770035416),l=i(l,r,a,u,t[9],12,-1958414417),u=i(u,l,r,a,t[10],17,-42063),a=i(a,u,l,r,t[11],22,-1990404162),r=i(r,a,u,l,t[12],7,1804603682),l=i(l,r,a,u,t[13],12,-40341101),u=i(u,l,r,a,t[14],17,-1502002290),a=i(a,u,l,r,t[15],22,1236535329),r=n(r,a,u,l,t[1],5,-165796510),l=n(l,r,a,u,t[6],9,-1069501632),u=n(u,l,r,a,t[11],14,643717713),a=n(a,u,l,r,t[0],20,-373897302),r=n(r,a,u,l,t[5],5,-701558691),l=n(l,r,a,u,t[10],9,38016083),u=n(u,l,r,a,t[15],14,-660478335),a=n(a,u,l,r,t[4],20,-405537848),r=n(r,a,u,l,t[9],5,568446438),l=n(l,r,a,u,t[14],9,-1019803690),u=n(u,l,r,a,t[3],14,-187363961),a=n(a,u,l,r,t[8],20,1163531501),r=n(r,a,u,l,t[13],5,-1444681467),l=n(l,r,a,u,t[2],9,-51403784),u=n(u,l,r,a,t[7],14,1735328473),a=n(a,u,l,r,t[12],20,-1926607734),r=o(r,a,u,l,t[5],4,-378558),l=o(l,r,a,u,t[8],11,-2022574463),u=o(u,l,r,a,t[11],16,1839030562),a=o(a,u,l,r,t[14],23,-35309556),r=o(r,a,u,l,t[1],4,-1530992060),l=o(l,r,a,u,t[4],11,1272893353),u=o(u,l,r,a,t[7],16,-155497632),a=o(a,u,l,r,t[10],23,-1094730640),r=o(r,a,u,l,t[13],4,681279174),l=o(l,r,a,u,t[0],11,-358537222),u=o(u,l,r,a,t[3],16,-722521979),a=o(a,u,l,r,t[6],23,76029189),r=o(r,a,u,l,t[9],4,-640364487),l=o(l,r,a,u,t[12],11,-421815835),u=o(u,l,r,a,t[15],16,530742520),a=o(a,u,l,r,t[2],23,-995338651),r=s(r,a,u,l,t[0],6,-198630844),l=s(l,r,a,u,t[7],10,1126891415),u=s(u,l,r,a,t[14],15,-1416354905),a=s(a,u,l,r,t[5],21,-57434055),r=s(r,a,u,l,t[12],6,1700485571),l=s(l,r,a,u,t[3],10,-1894986606),u=s(u,l,r,a,t[10],15,-1051523),a=s(a,u,l,r,t[1],21,-2054922799),r=s(r,a,u,l,t[8],6,1873313359),l=s(l,r,a,u,t[15],10,-30611744),u=s(u,l,r,a,t[6],15,-1560198380),a=s(a,u,l,r,t[13],21,1309151649),r=s(r,a,u,l,t[4],6,-145523070),l=s(l,r,a,u,t[11],10,-1120210379),u=s(u,l,r,a,t[2],15,718787259),a=s(a,u,l,r,t[9],21,-343485551),e[0]=h(r,e[0]),e[1]=h(a,e[1]),e[2]=h(u,e[2]),e[3]=h(l,e[3])},r=function(e,t,r,i,n,o){return t=h(h(t,e),h(i,o)),h(t<<n|t>>>32-n,r)},i=function(e,t,i,n,o,s,a){return r(t&i|~t&n,e,t,o,s,a)},n=function(e,t,i,n,o,s,a){return r(t&n|i&~n,e,t,o,s,a)},o=function(e,t,i,n,o,s,a){return r(t^i^n,e,t,o,s,a)},s=function(e,t,i,n,o,s,a){return r(i^(t|~n),e,t,o,s,a)},a=function(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r},u="0123456789abcdef".split(""),l=function(e){for(var t="",r=0;r<4;r++)t+=u[e>>8*r+4&15]+u[e>>8*r&15];return t},c=function(e){return function(e){for(var t=0;t<e.length;t++)e[t]=l(e[t]);return e.join("")}(function(e){var r,i=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)t(n,a(e.substring(r-64,r)));e=e.substring(r-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)o[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(t(n,o),r=0;r<16;r++)o[r]=0;return o[14]=8*i,t(n,o),n}(e))};e.MD5={hash:c};var h=function(e,t){return e+t&4294967295};"5d41402abc4b2a76b9719d911017c592"!=c("hello")&&(h=function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r})}(window),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var r=window.Cookies,i=window.Cookies=e();i.noConflict=function(){return window.Cookies=r,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(i){function n(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},n.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=i.write?i.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(a[0]);if(u=(i.read||i)(u,l)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(n[l]=u,e===l)break}catch(e){}}return e?n[e]:n}}return n.set=o,n.get=function(e){return s(e,!1)},n.getJSON=function(e){return s(e,!0)},n.remove=function(t,r){o(t,"",e(r,{expires:-1}))},n.defaults={},n.withConverter=r,n}(function(){})}),function(e){var t=Math.PI/180;Object.defineProperties(PIXI.DisplayObject.prototype,{rotationDeg:{enumerable:!0,configurable:!0,get:function(){return this.rotation/t},set:function(e){this.rotation=e*t}},scaleX:{enumerable:!0,configurable:!0,get:function(){return this.scale.x},set:function(e){this.scale.x=e}},scaleY:{enumerable:!0,configurable:!0,get:function(){return this.scale.y},set:function(e){this.scale.y=e}},destroyed:{enumerable:!0,configurable:!0,get:function(){return this._destroyed}},disposed:{enumerable:!0,configurable:!0,get:function(){return this._destroyed}}}),Object.defineProperties(PIXI.sound.htmlaudio.HTMLAudioInstance.prototype,{destroyed:{enumerable:!0,configurable:!0,get:function(){return!this._media}},disposed:{enumerable:!0,configurable:!0,get:function(){return!this._media}}}),Object.defineProperties(PIXI.sound.webaudio.WebAudioInstance.prototype,{destroyed:{enumerable:!0,configurable:!0,get:function(){return!this._media}},disposed:{enumerable:!0,configurable:!0,get:function(){return!this._media}}})}(window),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=e()}}(function(){return function e(t,r,i){function n(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return n(r||e)},c,c.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,r){(function(i){!function(e){"object"==typeof r&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,i,n){function o(a,u){if(!i[a]){if(!r[a]){var l="function"==typeof e&&e;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};r[a][0].call(h.exports,function(e){return o(r[a][1][e]||e)},h,h.exports,t,r,i,n)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){(function(i){!function(e){"object"==typeof r&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,i,n){function o(a,u){if(!i[a]){if(!r[a]){var l="function"==typeof e&&e;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};r[a][0].call(h.exports,function(e){return o(r[a][1][e]||e)},h,h.exports,t,r,i,n)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){(function(i){!function(e){"object"==typeof r&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,i,n){function o(a,u){if(!i[a]){if(!r[a]){var l="function"==typeof e&&e;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};r[a][0].call(h.exports,function(e){return o(r[a][1][e]||e)},h,h.exports,t,r,i,n)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){(function(i){!function(e){"object"==typeof r&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,i,n){function o(a,u){if(!i[a]){if(!r[a]){var l="function"==typeof e&&e;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};r[a][0].call(h.exports,function(e){return o(r[a][1][e]||e)},h,h.exports,t,r,i,n)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){(function(i){!function(e){"object"==typeof r&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(r,i,n){function o(a,u){if(!i[a]){if(!r[a]){var l="function"==typeof e&&e;if(!u&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};r[a][0].call(h.exports,function(e){return o(r[a][1][e]||e)},h,h.exports,t,r,i,n)}return i[a].exports}for(var s="function"==typeof e&&e,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";var i=e("./utils"),n=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,n,s,a,u,l,c=[],h=0,f=e.length,d=f,p="string"!==i.getTypeOf(e);h<e.length;)d=f-h,n=p?(t=e[h++],r=h<f?e[h++]:0,h<f?e[h++]:0):(t=e.charCodeAt(h++),r=h<f?e.charCodeAt(h++):0,h<f?e.charCodeAt(h++):0),s=t>>2,a=(3&t)<<4|r>>4,u=1<d?(15&r)<<2|n>>6:64,l=2<d?63&n:64,c.push(o.charAt(s)+o.charAt(a)+o.charAt(u)+o.charAt(l));return c.join("")},r.decode=function(e){var t,r,i,s,a,u,l=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=n.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=o.indexOf(e.charAt(l++))<<2|(s=o.indexOf(e.charAt(l++)))>>4,r=(15&s)<<4|(a=o.indexOf(e.charAt(l++)))>>2,i=(3&a)<<6|(u=o.indexOf(e.charAt(l++))),h[c++]=t,64!==a&&(h[c++]=r),64!==u&&(h[c++]=i);return h}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var i=e("./external"),n=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,r,i,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=n}a.prototype={getContentWorker:function(){var e=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,r){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var i=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var i=e("./utils"),n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,r){var i=n,o=0+r;e^=-1;for(var s=0;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,r){var i=n,o=0+r;e^=-1;for(var s=0;s<o;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=i?"uint8array":"array";function u(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",o.inherits(u,s),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},u.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new u("Deflate",e)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function i(e,t){var r,i="";for(r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i}function n(e,t,r,n,s,c){var h,f,d=e.file,p=e.compression,_=c!==a.utf8encode,m=o.transformTo("string",c(d.name)),b=o.transformTo("string",a.utf8encode(d.name)),g=d.comment,y=o.transformTo("string",c(g)),v=o.transformTo("string",a.utf8encode(g)),x=b.length!==d.name.length,w=v.length!==g.length,S="",E="",A="",T=d.dir,P=d.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var M=0;t&&(M|=8),_||!x&&!w||(M|=2048);var F,I=0,O=0;T&&(I|=16),"UNIX"===s?(O=798,I|=((F=d.unixPermissions)||(F=T?16893:33204),(65535&F)<<16)):(O=20,I|=63&(d.dosPermissions||0)),h=P.getUTCHours(),h<<=6,h|=P.getUTCMinutes(),h<<=5,h|=P.getUTCSeconds()/2,f=P.getUTCFullYear()-1980,f<<=4,f|=P.getUTCMonth()+1,f<<=5,f|=P.getUTCDate(),x&&(S+="up"+i((E=i(1,1)+i(u(m),4)+b).length,2)+E),w&&(S+="uc"+i((A=i(1,1)+i(u(y),4)+v).length,2)+A);var D="";return D+="\n\0",D+=i(M,2),D+=p.magic,D+=i(h,2),D+=i(f,2),D+=i(C.crc32,4),D+=i(C.compressedSize,4),D+=i(C.uncompressedSize,4),D+=i(m.length,2),D+=i(S.length,2),{fileRecord:l.LOCAL_FILE_HEADER+D+m+S,dirRecord:l.CENTRAL_FILE_HEADER+i(O,2)+D+i(y.length,2)+"\0\0\0\0"+i(I,4)+i(n,4)+m+S+y}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),u=e("../crc32"),l=e("../signature");function c(e,t,r,i){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,s),c.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t,r=this.streamFiles&&!e.file.dir,o=n(e,r,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),r)this.push({data:(t=e,l.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r,n,s,a,u,c,h=this.bytesWritten-e,f=(r=this.dirRecords.length,n=h,s=e,a=this.zipComment,u=this.encodeFileName,c=o.transformTo("string",u(a)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(r,2)+i(r,2)+i(n,4)+i(s,4)+i(c.length,2)+c);this.push({data:f,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},c.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},c.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var i=e("../compressions"),n=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var o=new n(t.streamFiles,r,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,r){s++;var n=function(e,t){var r=e||t,n=i[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,t.compression),a=r.options.compressionOptions||t.compressionOptions||{},u=r.dir,l=r.date;r._compressWorker(n,a).withStreamInfo("file",{name:e,dir:u,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.5.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var i=e("./utils"),n=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function l(e){return new n.Promise(function(t,r){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",function(e){r(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var r=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new s(t);return r.load(e),r}).then(function(e){var r=[n.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)r.push(l(i[o]));return n.Promise.all(r)}).then(function(e){for(var i=e.shift(),n=i.files,o=0;o<n.length;o++){var s=n[o];r.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(r.comment=i.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../stream/GenericWorker");function o(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,n),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var i=e("readable-stream").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on("data",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on("error",function(e){n.emit("error",e)}).on("end",function(){n.push(null)})}e("../utils").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function i(e,t,r){var i,o=s.getTypeOf(t),u=s.extend(r||{},l);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(e=n(e)),u.createFolders&&(i=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&_.call(this,i,!0);var f,m="string"===o&&!1===u.binary&&!1===u.base64;r&&void 0!==r.binary||(u.binary=!m),(t instanceof c&&0===t.uncompressedSize||u.dir||!t||0===t.length)&&(u.base64=!1,u.binary=!0,t="",u.compression="STORE",o="string"),f=t instanceof c||t instanceof a?t:d.isNode&&d.isStream(t)?new p(e,t):s.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var b=new h(e,f,u);this.files[e]=b}function n(e){return"/"!==e.slice(-1)&&(e+="/"),e}var o=e("./utf8"),s=e("./utils"),a=e("./stream/GenericWorker"),u=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),h=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),_=function(e,t){return t=void 0!==t?t:l.createFolders,e=n(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,i))},filter:function(e){var t=[];return this.forEach(function(r,i){e(r,i)&&t.push(i)}),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,r),this;if(m(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,r=_.call(this,t),i=this.clone();return i.root=r.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");s.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var i=r.comment||this.comment||"";t=f.generateWorker(this,r,i)}catch(e){(t=new a("error")).error(e)}return new u(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var i=e("./DataReader");function n(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(n,i),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===i&&this.data[o+3]===n)return o-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&i===o[2]&&n===o[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var i=e("../utils");function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=n},{"../utils":32}],19:[function(e,t,r){"use strict";var i=e("./Uint8ArrayReader");function n(e){i.call(this,e)}e("../utils").inherits(n,i),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var i=e("./DataReader");function n(e){i.call(this,e)}e("../utils").inherits(n,i),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var i=e("./ArrayReader");function n(e){i.call(this,e)}e("../utils").inherits(n,i),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new a(e):n.uint8array?new u(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var i=e("./GenericWorker"),n=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var i=e("./GenericWorker"),n=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./GenericWorker");function o(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,n),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./GenericWorker");function o(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(o,n),o.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),u=e("../external"),l=null;if(a.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t,r){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=r,i.checkSupport(s),this._worker=e.pipe(new n(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return t=this,r=e,new u.Promise(function(e,n){var o=[],a=t._internalType,u=t._outputType,l=t._mimeType;t.on("data",function(e,t){o.push(e),r&&r(t)}).on("error",function(e){o=[],n(e)}).on("end",function(){try{var t=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var r,i=0,n=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(o),r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),l);e(t)}catch(t){n(t)}o=[]}).resume()});var t,r},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,r)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var i=e("./utils"),n=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),u=0;u<256;u++)a[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,r.utf8encode=function(e){return n.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,r,i,o,s,a=e.length,u=0;for(o=0;o<a;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=n.uint8array?new Uint8Array(u):new Array(u),o=s=0;s<u;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},r.utf8decode=function(e){return n.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,n,o,s=e.length,u=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)u[r++]=n;else if(4<(o=a[n]))u[r++]=65533,t+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&t<s;)n=n<<6|63&e[t++],o--;1<o?u[r++]=65533:n<65536?u[r++]=n:(n-=65536,u[r++]=55296|n>>10&1023,u[r++]=56320|1023&n)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),i.applyFromCharCode(u)}(e=i.transformTo(n.uint8array?"uint8array":"array",e))},i.inherits(l,s),l.prototype.processChunk=function(e){var t=i.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+a[e[r]]>t?r:t}(t),u=t;s!==t.length&&(n.uint8array?(u=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(u=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:r.utf8decode(u),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=l,i.inherits(c,s),c.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var i=e("./support"),n=e("./base64"),o=e("./nodejsUtils"),s=e("set-immediate-shim"),a=e("./external");function u(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var i=[],n=0,o=e.length;if(o<=r)return String.fromCharCode.apply(null,e);for(;n<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,o)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,o)))),n+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,i=r.getTypeOf(e),n=!0;if("uint8array"===i?n=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=c.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return c.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=h;var d={};d.string={string:u,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},d.array={string:h,array:u,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:u,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:u,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:u},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var i=r.getTypeOf(t);return d[i][e](t)},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,i="";for(r=0;r<(e||"").length;r++)i+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return i},r.delay=function(e,t,r){s(function(){e.apply(r||null,t||[])})},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,o,s,u){return a.Promise.resolve(t).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise(function(t,r){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){r(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(t){var c,h=r.getTypeOf(t);return h?("arraybuffer"===h?t=r.transformTo("uint8array",t):"string"===h&&(u?t=n.decode(t):o&&!0!==s&&(t=l(c=t,i.uint8array?new Uint8Array(c.length):new Array(c.length)))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,r){"use strict";var i=e("./reader/readerFor"),n=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=(e("./utf8"),e("./support"));function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",r=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=t-r;if(0<i)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var i=e("./reader/readerFor"),n=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),u=e("./compressions"),l=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(u.hasOwnProperty(t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,i,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<n;)t=e.readInt(2),r=e.readInt(2),i=e.readData(r),this.extraFields[t]={id:t,length:r,value:i};e.setIndex(n)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function i(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var n=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),u=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new u("error")).error(e)}return new n(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)i.prototype[l[h]]=c;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var r,i,n=e.MutationObserver||e.WebKitMutationObserver;if(n){var o=0,s=new n(c),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),r=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var u=new e.MessageChannel;u.port1.onmessage=c,r=function(){u.port2.postMessage(0)}}var l=[];function c(){var e,t;i=!0;for(var r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}i=!1}t.exports=function(e){1!==l.push(e)||i||r()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var i=e("immediate");function n(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==n&&d(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){i(function(){var i;try{i=t(r)}catch(i){return o.reject(e,i)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var r=!1;function i(t){r||(r=!0,o.reject(e,t))}function n(t){r||(r=!0,o.resolve(e,t))}var s=p(function(){t(n,i)});"error"===s.status&&i(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var r=new this.constructor(n);return this.state!==u?h(r,this.state===a?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=p(f,t);if("error"===r.status)return o.reject(e,r.value);var i=r.value;if(i)d(e,i);else{e.state=a,e.outcome=t;for(var n=-1,s=e.queue.length;++n<s;)e.queue[n].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(n),e)},l.reject=function(e){var t=new this(n);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var s=new Array(r),a=0,u=-1,l=new this(n);++u<r;)c(e[u],u);return l;function c(e,n){t.resolve(e).then(function(e){s[n]=e,++a!==r||i||(i=!0,o.resolve(l,s))},function(e){i||(i=!0,o.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var i,s=-1,a=new this(n);++s<t;)i=e[s],this.resolve(i).then(function(e){r||(r=!0,o.resolve(a,e))},function(e){r||(r=!0,o.reject(a,e))});return a}},{immediate:36}],38:[function(e,t,r){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var i=e("./zlib/deflate"),n=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),u=Object.prototype.toString,l=0,c=-1,h=0,f=8;function d(e){if(!(this instanceof d))return new d(e);this.options=n.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(s[r]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=i.deflateSetDictionary(this.strm,p))!==l)throw new Error(s[r]);this._dict_set=!0}}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new n.Buf8(c),a.next_out=0,a.avail_out=c),1!==(r=i.deflate(a,s))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(n.shrinkBuf(a.output,a.next_out))):this.onData(n.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==r);return 4===s?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==s||(this.onEnd(l),!(a.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=d,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var i=e("./zlib/inflate"),n=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),u=e("./zlib/zstream"),l=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK)throw new Error(a[r]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function f(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}h.prototype.push=function(e,t){var r,a,u,l,h,f,d=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new n.Buf8(p),d.next_out=0,d.avail_out=p),(r=i.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&_&&(f="string"==typeof _?o.string2buf(_):"[object ArrayBuffer]"===c.call(_)?new Uint8Array(_):_,r=i.inflateSetDictionary(this.strm,f)),r===s.Z_BUF_ERROR&&!0===m&&(r=s.Z_OK,m=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&r!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),l=d.next_out-u,h=o.buf2string(d.output,u),d.next_out=l,d.avail_out=p-l,l&&n.arraySet(d.output,d.output,u,l,0),this.onData(h)):this.onData(n.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=f,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},r.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(var o=0;o<i;o++)e[n+o]=t[r+o]},flattenChunks:function(e){var t,r,i,n,o,s;for(t=i=0,r=e.length;t<r;t++)i+=e[t].length;for(s=new Uint8Array(i),t=n=0,r=e.length;t<r;t++)o=e[t],s.set(o,n),n+=o.length;return s}},o={arraySet:function(e,t,r,i,n){for(var o=0;o<i;o++)e[n+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(i)},{}],42:[function(e,t,r){"use strict";var i=e("./common"),n=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,r.string2buf=function(e){var t,r,n,o,s,a=e.length,u=0;for(o=0;o<a;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new i.Buf8(u),o=s=0;s<u;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return u(e,e.length)},r.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,i,n,o,a=t||e.length,l=new Array(2*a);for(r=i=0;r<a;)if((n=e[r++])<128)l[i++]=n;else if(4<(o=s[n]))l[i++]=65533,r+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&r<a;)n=n<<6|63&e[r++],o--;1<o?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return u(l,i)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+s[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,i){for(var n=65535&e|0,o=e>>>16&65535|0,s=0;0!==r;){for(r-=s=2e3<r?2e3:r;o=o+(n=n+t[i++]|0)|0,--s;);n%=65521,o%=65521}return n|o<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var o=i,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){"use strict";var i,n=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),u=e("./messages"),l=0,c=0,h=-2,f=2,d=8,p=286,_=30,m=19,b=2*p+1,g=15,y=3,v=258,x=v+y+1,w=42,S=113;function E(e,t){return e.msg=u[t],t}function A(e){return(e<<1)-(4<e?9:0)}function T(e){for(var t=e.length;0<=--t;)e[t]=0}function P(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function C(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function I(e,t){var r,i,n=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-x?e.strstart-(e.w_size-x):0,l=e.window,c=e.w_mask,h=e.prev,f=e.strstart+v,d=l[o+s-1],p=l[o+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+s]===p&&l[r+s-1]===d&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<f);if(i=v-(f-o),o=f-v,s<i){if(e.match_start=t,a<=(s=i))break;d=l[o+s-1],p=l[o+s]}}}while((t=h[t&c])>u&&0!=--n);return s<=e.lookahead?s:e.lookahead}function O(e){var t,r,i,o,u,l,c,h,f,d,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-x)){for(n.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;i=e.head[--t],e.head[t]=p<=i?i-p:0,--r;);for(t=r=p;i=e.prev[--t],e.prev[t]=p<=i?i-p:0,--r;);o+=p}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,h=e.strstart+e.lookahead,d=void 0,(f=o)<(d=l.avail_in)&&(d=f),r=0===d?0:(l.avail_in-=d,n.arraySet(c,l.input,l.next_in,d,h),1===l.state.wrap?l.adler=s(l.adler,c,d,h):2===l.state.wrap&&(l.adler=a(l.adler,c,d,h)),l.next_in+=d,l.total_in+=d,d),e.lookahead+=r,e.lookahead+e.insert>=y)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+y-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<y)););}while(e.lookahead<x&&0!==e.strm.avail_in)}function D(e,t){for(var r,i;;){if(e.lookahead<x){if(O(e),e.lookahead<x&&t===l)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-x&&(e.match_length=I(e,r)),e.match_length>=y)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-y),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=y){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(C(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<y-1?e.strstart:y-1,4===t?(C(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(C(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var r,i,n;;){if(e.lookahead<x){if(O(e),e.lookahead<x&&t===l)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=y&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=y-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-x&&(e.match_length=I(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===y&&4096<e.strstart-e.match_start)&&(e.match_length=y-1)),e.prev_length>=y&&e.match_length<=e.prev_length){for(n=e.strstart+e.lookahead-y,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-y),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+y-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=y-1,e.strstart++,i&&(C(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&C(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<y-1?e.strstart:y-1,4===t?(C(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(C(e,!1),0===e.strm.avail_out)?1:2}function R(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*b),this.dyn_dtree=new n.Buf16(2*(2*_+1)),this.bl_tree=new n.Buf16(2*(2*m+1)),T(this.dyn_ltree),T(this.dyn_dtree),T(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(g+1),this.heap=new n.Buf16(2*p+1),T(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*p+1),T(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function N(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?w:S,e.adler=2===t.wrap?0:1,t.last_flush=l,o._tr_init(t),c):E(e,h)}function L(e){var t,r=N(e);return r===c&&((t=e.state).window_size=2*t.w_size,T(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=y-1,t.match_available=0,t.ins_h=0),r}function G(e,t,r,i,o,s){if(!e)return h;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||9<o||r!==d||i<8||15<i||t<0||9<t||s<0||4<s)return E(e,h);8===i&&(i=9);var u=new B;return(e.state=u).strm=e,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+y-1)/y),u.window=new n.Buf8(2*u.w_size),u.head=new n.Buf16(u.hash_size),u.prev=new n.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new n.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=s,u.method=r,L(e)}i=[new R(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(O(e),0===e.lookahead&&t===l)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,C(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-x&&(C(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(C(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(C(e,!1),e.strm.avail_out),1)}),new R(4,4,8,4,D),new R(4,5,16,8,D),new R(4,6,32,32,D),new R(4,4,16,16,k),new R(8,16,32,32,k),new R(8,16,128,128,k),new R(8,32,128,256,k),new R(32,128,258,1024,k),new R(32,258,258,4096,k)],r.deflateInit=function(e,t){return G(e,t,d,15,8,0)},r.deflateInit2=G,r.deflateReset=L,r.deflateResetKeep=N,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,c):h},r.deflate=function(e,t){var r,n,s,u;if(!e||!e.state||5<t||t<0)return e?E(e,h):h;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return E(e,0===e.avail_out?-5:h);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===w)if(2===n.wrap)e.adler=0,M(n,31),M(n,139),M(n,8),n.gzhead?(M(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),M(n,255&n.gzhead.time),M(n,n.gzhead.time>>8&255),M(n,n.gzhead.time>>16&255),M(n,n.gzhead.time>>24&255),M(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),M(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(M(n,255&n.gzhead.extra.length),M(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=a(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(M(n,0),M(n,0),M(n,0),M(n,0),M(n,0),M(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),M(n,3),n.status=S);else{var f=d+(n.w_bits-8<<4)<<8;f|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(f|=32),f+=31-f%31,n.status=S,F(n,f),0!==n.strstart&&(F(n,e.adler>>>16),F(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(s=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>s&&(e.adler=a(e.adler,n.pending_buf,n.pending-s,s)),P(e),s=n.pending,n.pending!==n.pending_buf_size));)M(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(e.adler=a(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(e.adler=a(e.adler,n.pending_buf,n.pending-s,s)),P(e),s=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,M(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>s&&(e.adler=a(e.adler,n.pending_buf,n.pending-s,s)),0===u&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(e.adler=a(e.adler,n.pending_buf,n.pending-s,s)),P(e),s=n.pending,n.pending===n.pending_buf_size)){u=1;break}u=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,M(n,u)}while(0!==u);n.gzhead.hcrc&&n.pending>s&&(e.adler=a(e.adler,n.pending_buf,n.pending-s,s)),0===u&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&P(e),n.pending+2<=n.pending_buf_size&&(M(n,255&e.adler),M(n,e.adler>>8&255),e.adler=0,n.status=S)):n.status=S),0!==n.pending){if(P(e),0===e.avail_out)return n.last_flush=-1,c}else if(0===e.avail_in&&A(t)<=A(r)&&4!==t)return E(e,-5);if(666===n.status&&0!==e.avail_in)return E(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var p=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(O(e),0===e.lookahead)){if(t===l)return 1;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(C(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(C(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(C(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,i,n,s,a=e.window;;){if(e.lookahead<=v){if(O(e),e.lookahead<=v&&t===l)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=y&&0<e.strstart&&(i=a[n=e.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=e.strstart+v;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);e.match_length=v-(s-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=y?(r=o._tr_tally(e,1,e.match_length-y),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(C(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(C(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(C(e,!1),0===e.strm.avail_out)?1:2}(n,t):i[n.level].func(n,t);if(3!==p&&4!==p||(n.status=666),1===p||3===p)return 0===e.avail_out&&(n.last_flush=-1),c;if(2===p&&(1===t?o._tr_align(n):5!==t&&(o._tr_stored_block(n,0,0,!1),3===t&&(T(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),P(e),0===e.avail_out))return n.last_flush=-1,c}return 4!==t?c:n.wrap<=0?1:(2===n.wrap?(M(n,255&e.adler),M(n,e.adler>>8&255),M(n,e.adler>>16&255),M(n,e.adler>>24&255),M(n,255&e.total_in),M(n,e.total_in>>8&255),M(n,e.total_in>>16&255),M(n,e.total_in>>24&255)):(F(n,e.adler>>>16),F(n,65535&e.adler)),P(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?c:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==w&&69!==t&&73!==t&&91!==t&&103!==t&&t!==S&&666!==t?E(e,h):(e.state=null,t===S?E(e,-3):c):h},r.deflateSetDictionary=function(e,t){var r,i,o,a,u,l,f,d,p=t.length;if(!e||!e.state)return h;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==w||r.lookahead)return h;for(1===a&&(e.adler=s(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===a&&(T(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new n.Buf8(r.w_size),n.arraySet(d,t,p-r.w_size,r.w_size,0),t=d,p=r.w_size),u=e.avail_in,l=e.next_in,f=e.input,e.avail_in=p,e.next_in=0,e.input=t,O(r);r.lookahead>=y;){for(i=r.strstart,o=r.lookahead-(y-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+y-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--o;);r.strstart=i,r.lookahead=y-1,O(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=y-1,r.match_available=0,e.next_in=l,e.input=f,e.avail_in=u,r.wrap=a,c},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,i,n,o,s,a,u,l,c,h,f,d,p,_,m,b,g,y,v,x,w,S,E,A,T;r=e.state,i=e.next_in,A=e.input,n=i+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),u=r.dmax,l=r.wsize,c=r.whave,h=r.wnext,f=r.window,d=r.hold,p=r.bits,_=r.lencode,m=r.distcode,b=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;e:do{p<15&&(d+=A[i++]<<p,p+=8,d+=A[i++]<<p,p+=8),y=_[d&b];t:for(;;){if(d>>>=v=y>>>24,p-=v,0==(v=y>>>16&255))T[o++]=65535&y;else{if(!(16&v)){if(0==(64&v)){y=_[(65535&y)+(d&(1<<v)-1)];continue t}if(32&v){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}x=65535&y,(v&=15)&&(p<v&&(d+=A[i++]<<p,p+=8),x+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=A[i++]<<p,p+=8,d+=A[i++]<<p,p+=8),y=m[d&g];r:for(;;){if(d>>>=v=y>>>24,p-=v,!(16&(v=y>>>16&255))){if(0==(64&v)){y=m[(65535&y)+(d&(1<<v)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(w=65535&y,p<(v&=15)&&(d+=A[i++]<<p,(p+=8)<v&&(d+=A[i++]<<p,p+=8)),u<(w+=d&(1<<v)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=v,p-=v,(v=o-s)<w){if(c<(v=w-v)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(E=f,(S=0)===h){if(S+=l-v,v<x){for(x-=v;T[o++]=f[S++],--v;);S=o-w,E=T}}else if(h<v){if(S+=l+h-v,(v-=h)<x){for(x-=v;T[o++]=f[S++],--v;);if(S=0,h<x){for(x-=v=h;T[o++]=f[S++],--v;);S=o-w,E=T}}}else if(S+=h-v,v<x){for(x-=v;T[o++]=f[S++],--v;);S=o-w,E=T}for(;2<x;)T[o++]=E[S++],T[o++]=E[S++],T[o++]=E[S++],x-=3;x&&(T[o++]=E[S++],1<x&&(T[o++]=E[S++]))}else{for(S=o-w;T[o++]=T[S++],T[o++]=T[S++],T[o++]=T[S++],2<(x-=3););x&&(T[o++]=T[S++],1<x&&(T[o++]=T[S++]))}break}}break}}while(i<n&&o<a);i-=x=p>>3,d&=(1<<(p-=x<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=o<a?a-o+257:257-(o-a),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){"use strict";var i=e("../utils/common"),n=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),u=1,l=2,c=0,h=-2,f=1,d=852,p=592;function _(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(d),t.distcode=t.distdyn=new i.Buf32(p),t.sane=1,t.back=-1,c):h}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):h}function g(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,b(e))):h}function y(e,t){var r,n;return e?(n=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},(e.state=n).window=null,(r=g(e,t))!==c&&(e.state=null),r):h}var v,x,w=!0;function S(e){if(w){var t;for(v=new i.Buf32(512),x=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(u,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(l,e.lens,0,32,x,0,e.work,{bits:5}),w=!1}e.lencode=v,e.lenbits=9,e.distcode=x,e.distbits=5}function E(e,t,r,n){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),n>=s.wsize?(i.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(o=s.wsize-s.wnext)&&(o=n),i.arraySet(s.window,t,r-n,o,s.wnext),(n-=o)?(i.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}r.inflateReset=b,r.inflateReset2=g,r.inflateResetKeep=m,r.inflateInit=function(e){return y(e,15)},r.inflateInit2=y,r.inflate=function(e,t){var r,d,p,m,b,g,y,v,x,w,A,T,P,C,M,F,I,O,D,k,R,B,N,L,G=0,U=new i.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(r=e.state).mode&&(r.mode=13),b=e.next_out,p=e.output,y=e.avail_out,m=e.next_in,d=e.input,g=e.avail_in,v=r.hold,x=r.bits,w=g,A=y,B=c;e:for(;;)switch(r.mode){case f:if(0===r.wrap){r.mode=13;break}for(;x<16;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(2&r.wrap&&35615===v){U[r.check=0]=255&v,U[1]=v>>>8&255,r.check=o(r.check,U,2,0),x=v=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",r.mode=30;break}if(x-=4,R=8+(15&(v>>>=4)),0===r.wbits)r.wbits=R;else if(R>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<R,e.adler=r.check=1,r.mode=512&v?10:12,x=v=0;break;case 2:for(;x<16;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(r.flags=v,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(U[0]=255&v,U[1]=v>>>8&255,r.check=o(r.check,U,2,0)),x=v=0,r.mode=3;case 3:for(;x<32;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}r.head&&(r.head.time=v),512&r.flags&&(U[0]=255&v,U[1]=v>>>8&255,U[2]=v>>>16&255,U[3]=v>>>24&255,r.check=o(r.check,U,4,0)),x=v=0,r.mode=4;case 4:for(;x<16;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(U[0]=255&v,U[1]=v>>>8&255,r.check=o(r.check,U,2,0)),x=v=0,r.mode=5;case 5:if(1024&r.flags){for(;x<16;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(U[0]=255&v,U[1]=v>>>8&255,r.check=o(r.check,U,2,0)),x=v=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(g<(T=r.length)&&(T=g),T&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,d,m,T,R)),512&r.flags&&(r.check=o(r.check,d,T,m)),g-=T,m+=T,r.length-=T),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break e;for(T=0;R=d[m+T++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R)),R&&T<g;);if(512&r.flags&&(r.check=o(r.check,d,T,m)),g-=T,m+=T,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break e;for(T=0;R=d[m+T++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R)),R&&T<g;);if(512&r.flags&&(r.check=o(r.check,d,T,m)),g-=T,m+=T,R)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;x<16;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(v!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}x=v=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;x<32;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}e.adler=r.check=_(v),x=v=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=b,e.avail_out=y,e.next_in=m,e.avail_in=g,r.hold=v,r.bits=x,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){v>>>=7&x,x-=7&x,r.mode=27;break}for(;x<3;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}switch(r.last=1&v,x-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(S(r),r.mode=20,6!==t)break;v>>>=2,x-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}v>>>=2,x-=2;break;case 14:for(v>>>=7&x,x-=7&x;x<32;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&v,x=v=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(T=r.length){if(g<T&&(T=g),y<T&&(T=y),0===T)break e;i.arraySet(p,d,m,T,b),g-=T,m+=T,y-=T,b+=T,r.length-=T;break}r.mode=12;break;case 17:for(;x<14;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(r.nlen=257+(31&v),v>>>=5,x-=5,r.ndist=1+(31&v),v>>>=5,x-=5,r.ncode=4+(15&v),v>>>=4,x-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;x<3;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}r.lens[z[r.have++]]=7&v,v>>>=3,x-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},B=a(0,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,B){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;F=(G=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,I=65535&G,!((M=G>>>24)<=x);){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(I<16)v>>>=M,x-=M,r.lens[r.have++]=I;else{if(16===I){for(L=M+2;x<L;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(v>>>=M,x-=M,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}R=r.lens[r.have-1],T=3+(3&v),v>>>=2,x-=2}else if(17===I){for(L=M+3;x<L;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}x-=M,R=0,T=3+(7&(v>>>=M)),v>>>=3,x-=3}else{for(L=M+7;x<L;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}x-=M,R=0,T=11+(127&(v>>>=M)),v>>>=7,x-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;T--;)r.lens[r.have++]=R}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,N={bits:r.lenbits},B=a(u,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,B){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},B=a(l,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,B){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=g&&258<=y){e.next_out=b,e.avail_out=y,e.next_in=m,e.avail_in=g,r.hold=v,r.bits=x,s(e,A),b=e.next_out,p=e.output,y=e.avail_out,m=e.next_in,d=e.input,g=e.avail_in,v=r.hold,x=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;F=(G=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,I=65535&G,!((M=G>>>24)<=x);){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(F&&0==(240&F)){for(O=M,D=F,k=I;F=(G=r.lencode[k+((v&(1<<O+D)-1)>>O)])>>>16&255,I=65535&G,!(O+(M=G>>>24)<=x);){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}v>>>=O,x-=O,r.back+=O}if(v>>>=M,x-=M,r.back+=M,r.length=I,0===F){r.mode=26;break}if(32&F){r.back=-1,r.mode=12;break}if(64&F){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&F,r.mode=22;case 22:if(r.extra){for(L=r.extra;x<L;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;F=(G=r.distcode[v&(1<<r.distbits)-1])>>>16&255,I=65535&G,!((M=G>>>24)<=x);){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(0==(240&F)){for(O=M,D=F,k=I;F=(G=r.distcode[k+((v&(1<<O+D)-1)>>O)])>>>16&255,I=65535&G,!(O+(M=G>>>24)<=x);){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}v>>>=O,x-=O,r.back+=O}if(v>>>=M,x-=M,r.back+=M,64&F){e.msg="invalid distance code",r.mode=30;break}r.offset=I,r.extra=15&F,r.mode=24;case 24:if(r.extra){for(L=r.extra;x<L;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break e;if(T=A-y,r.offset>T){if((T=r.offset-T)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}P=T>r.wnext?(T-=r.wnext,r.wsize-T):r.wnext-T,T>r.length&&(T=r.length),C=r.window}else C=p,P=b-r.offset,T=r.length;for(y<T&&(T=y),y-=T,r.length-=T;p[b++]=C[P++],--T;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break e;p[b++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;x<32;){if(0===g)break e;g--,v|=d[m++]<<x,x+=8}if(A-=y,e.total_out+=A,r.total+=A,A&&(e.adler=r.check=r.flags?o(r.check,p,A,b-A):n(r.check,p,A,b-A)),A=y,(r.flags?v:_(v))!==r.check){e.msg="incorrect data check",r.mode=30;break}x=v=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;x<32;){if(0===g)break e;g--,v+=d[m++]<<x,x+=8}if(v!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}x=v=0}r.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return h}return e.next_out=b,e.avail_out=y,e.next_in=m,e.avail_in=g,r.hold=v,r.bits=x,(r.wsize||A!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&E(e,e.output,e.next_out,A-e.avail_out)?(r.mode=31,-4):(w-=e.avail_in,A-=e.avail_out,e.total_in+=w,e.total_out+=A,r.total+=A,r.wrap&&A&&(e.adler=r.check=r.flags?o(r.check,p,A,e.next_out-A):n(r.check,p,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==w&&0===A||4===t)&&B===c&&(B=-5),B)},r.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,c},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?h:((r.head=t).done=!1,c):h},r.inflateSetDictionary=function(e,t){var r,i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?h:11===r.mode&&n(1,t,i,0)!==r.check?-3:E(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,c):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var i=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,u,l,c,h,f){var d,p,_,m,b,g,y,v,x,w=f.bits,S=0,E=0,A=0,T=0,P=0,C=0,M=0,F=0,I=0,O=0,D=null,k=0,R=new i.Buf16(16),B=new i.Buf16(16),N=null,L=0;for(S=0;S<=15;S++)R[S]=0;for(E=0;E<u;E++)R[t[r+E]]++;for(P=w,T=15;1<=T&&0===R[T];T--);if(T<P&&(P=T),0===T)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(A=1;A<T&&0===R[A];A++);for(P<A&&(P=A),S=F=1;S<=15;S++)if(F<<=1,(F-=R[S])<0)return-1;if(0<F&&(0===e||1!==T))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+R[S];for(E=0;E<u;E++)0!==t[r+E]&&(h[B[t[r+E]]++]=E);if(g=0===e?(D=N=h,19):1===e?(D=n,k-=257,N=o,L-=257,256):(D=s,N=a,-1),S=A,b=c,M=E=O=0,_=-1,m=(I=1<<(C=P))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(y=S-M,x=h[E]<g?(v=0,h[E]):h[E]>g?(v=N[L+h[E]],D[k+h[E]]):(v=96,0),d=1<<S-M,A=p=1<<C;l[b+(O>>M)+(p-=d)]=y<<24|v<<16|x|0,0!==p;);for(d=1<<S-1;O&d;)d>>=1;if(0!==d?(O&=d-1,O+=d):O=0,E++,0==--R[S]){if(S===T)break;S=t[r+h[E]]}if(P<S&&(O&m)!==_){for(0===M&&(M=P),b+=A,F=1<<(C=S-M);C+M<T&&!((F-=R[C+M])<=0);)C++,F<<=1;if(I+=1<<C,1===e&&852<I||2===e&&592<I)return 1;l[_=O&m]=P<<24|C<<16|b-c|0}}return 0!==O&&(l[b+O]=S-M<<24|64<<16|0),f.bits=P,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var i=e("../utils/common");function n(e){for(var t=e.length;0<=--t;)e[t]=0}var o=15,s=16,a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);n(h);var f=new Array(60);n(f);var d=new Array(512);n(d);var p=new Array(256);n(p);var _=new Array(29);n(_);var m,b,g,y=new Array(30);function v(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?d[e]:d[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,r){e.bi_valid>s-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>s-e.bi_valid,e.bi_valid+=r-s):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function A(e,t,r){E(e,r[2*t],r[2*t+1])}function T(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function P(e,t,r){var i,n,s=new Array(o+1),a=0;for(i=1;i<=o;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=t;n++){var u=e[2*n+1];0!==u&&(e[2*n]=T(s[u]++,u))}}function C(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?S(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function F(e,t,r,i){var n=2*t,o=2*r;return e[n]<e[o]||e[n]===e[o]&&i[t]<=i[r]}function I(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&F(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!F(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function O(e,t,r){var i,n,o,s,l=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],n=e.pending_buf[e.l_buf+l],l++,0===i?A(e,n,t):(A(e,(o=p[n])+256+1,t),0!==(s=a[o])&&E(e,n-=_[o],s),A(e,o=w(--i),r),0!==(s=u[o])&&E(e,i-=y[o],s)),l<e.last_lit;);A(e,256,t)}function D(e,t){var r,i,n,s=t.dyn_tree,a=t.stat_desc.static_tree,u=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==s[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[n]=0,e.opt_len--,u&&(e.static_len-=a[2*n+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)I(e,s,r);for(n=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,s[2*n]=s[2*r]+s[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,s[2*r+1]=s[2*i+1]=n,e.heap[1]=n++,I(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,i,n,s,a,u,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,_=t.stat_desc.max_length,m=0;for(s=0;s<=o;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)_<(s=l[2*l[2*(i=e.heap[r])+1]+1]+1)&&(s=_,m++),l[2*i+1]=s,c<i||(e.bl_count[s]++,a=0,p<=i&&(a=d[i-p]),u=l[2*i],e.opt_len+=u*(s+a),f&&(e.static_len+=u*(h[2*i+1]+a)));if(0!==m){do{for(s=_-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[_]--,m-=2}while(0<m);for(s=_;0!==s;s--)for(i=e.bl_count[s];0!==i;)c<(n=e.heap[--r])||(l[2*n+1]!==s&&(e.opt_len+=(s-l[2*n+1])*l[2*n],l[2*n+1]=s),i--)}}(e,t),P(s,c,e.bl_count)}function k(e,t,r){var i,n,o=-1,s=t[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=s,s=t[2*(i+1)+1],++a<u&&n===s||(a<l?e.bl_tree[2*n]+=a:0!==n?(n!==o&&e.bl_tree[2*n]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=n,l=(a=0)===s?(u=138,3):n===s?(u=6,3):(u=7,4))}function R(e,t,r){var i,n,o=-1,s=t[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),i=0;i<=r;i++)if(n=s,s=t[2*(i+1)+1],!(++a<u&&n===s)){if(a<l)for(;A(e,n,e.bl_tree),0!=--a;);else 0!==n?(n!==o&&(A(e,n,e.bl_tree),a--),A(e,16,e.bl_tree),E(e,a-3,2)):a<=10?(A(e,17,e.bl_tree),E(e,a-3,3)):(A(e,18,e.bl_tree),E(e,a-11,7));o=n,l=(a=0)===s?(u=138,3):n===s?(u=6,3):(u=7,4)}}n(y);var B=!1;function N(e,t,r,n){var o,s,a;E(e,0+(n?1:0),3),s=t,a=r,M(o=e),S(o,a),S(o,~a),i.arraySet(o.pending_buf,o.window,s,a,o.pending),o.pending+=a}r._tr_init=function(e){B||(function(){var e,t,r,i,n,s=new Array(o+1);for(i=r=0;i<28;i++)for(_[i]=r,e=0;e<1<<a[i];e++)p[r++]=i;for(p[r-1]=i,i=n=0;i<16;i++)for(y[i]=n,e=0;e<1<<u[i];e++)d[n++]=i;for(n>>=7;i<30;i++)for(y[i]=n<<7,e=0;e<1<<u[i]-7;e++)d[256+n++]=i;for(t=0;t<=o;t++)s[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,s[8]++;for(;e<=255;)h[2*e+1]=9,e++,s[9]++;for(;e<=279;)h[2*e+1]=7,e++,s[7]++;for(;e<=287;)h[2*e+1]=8,e++,s[8]++;for(P(h,287,s),e=0;e<30;e++)f[2*e+1]=5,f[2*e]=T(e,5);m=new v(h,a,257,286,o),b=new v(f,u,0,30,o),g=new v(new Array(0),l,0,19,7)}(),B=!0),e.l_desc=new x(e.dyn_ltree,m),e.d_desc=new x(e.dyn_dtree,b),e.bl_desc=new x(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,C(e)},r._tr_stored_block=N,r._tr_flush_block=function(e,t,r,i){var n,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),s=function(e){var t;for(k(e,e.dyn_ltree,e.l_desc.max_code),k(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=n&&(n=o)):n=o=r+5,r+4<=n&&-1!==t?N(e,t,r,i):4===e.strategy||o===n?(E(e,2+(i?1:0),3),O(e,h,f)):(E(e,4+(i?1:0),3),function(e,t,r,i){var n;for(E(e,t-257,5),E(e,r-1,5),E(e,i-4,4),n=0;n<i;n++)E(e,e.bl_tree[2*c[n]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),O(e,e.dyn_ltree,e.dyn_dtree)),C(e),i&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(p[r]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){var t;E(e,2,3),A(e,256,h),16===(t=e).bi_valid?(S(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});